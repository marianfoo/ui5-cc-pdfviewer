/*!
 * SAPUI5
 * (c) Copyright 2009-2022 SAP SE. All rights reserved.
 */
sap.ui.define(["sap/ui/thirdparty/jquery"],function(jQuery){"use strict";var a={};a.formatData=function(a,e){if(!(a.data&&a.data.val&&a.data.val.length>0)){return a.data}var t=a.data,i=sap.viz.api.env.Format.format,r=jQuery.extend(true,{},t),n=r.val.hasOwnProperty("timeMeasure")?r.val.timeMeasure:-1,f=r.val.hasOwnProperty("timeDimensions")?r.val.timeDimensions:[],l=e.formatString,u=null,o={},v;if(typeof l==="string"){u=l}else if(l instanceof Object){if(l.formatPattern||l.dataUnit){u=l}else{o=l}}if(n!==-1){var s=r.val.filter(function(a){return a.type&&a.type.toLowerCase()==="measure"})[n];s.value=new Date(s.value)}if(a.timeTooltipData&&e.chartType.indexOf("time")>-1){var m=false;if(l){f.forEach(function(a){if(r.val[a]&&r.val[a].id){var e=o[r.val[a].id];if(e&&(typeof e==="string"||e.formatPattern)){m=true}}})}if(m){r.val.forEach(function(a,e){if(f.indexOf(e)>-1){a.type="measure";a.value=new Date(a.value)}})}else{var d=jQuery.extend(true,[],a.timeTooltipData);d.forEach(function(a,e){if(r.val[e].dataName){d[e].dataName=r.val[e].dataName}});r.val=d;r.isTimeSeries=true}}r.val.forEach(function(a,e){if(a.type&&a.type.toLowerCase()==="measure"){v=o[a.id]||u||a.formatString;if(a.bothValue&&a.bothValue.primaryKey==="percentage"){a.value=a.bothValue.percentage;if(!v){v={formatPattern:"0.00%"}}}else if(a.strValue){a.value=a.strValue}if(v){if(v.formatPattern||v.dataUnit){a.value=i(a.value,v.formatPattern);var t=r.val.timeDimensions&&r.val.timeDimensions.indexOf(e)>-1;if(!t){a.unit=v.dataUnit||a.unit}}else{a.value=i(a.value,v)}}else{a.value=i(a.value)}}});return r};return a});
//# sourceMappingURL=FormatDataUtil.js.map