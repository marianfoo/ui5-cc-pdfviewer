//@ui5-bundle sap/ushell/bootstrap/appruntime-min-3.js
window["sap-ui-optimized"] = true;
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/core/util/reflection/JsControlTreeModifier", ["sap/ui/base/BindingParser","./BaseTreeModifier","./XmlTreeModifier","sap/base/util/ObjectPath","sap/ui/util/XMLHelper","sap/base/util/merge","sap/ui/core/Fragment"],function(t,e,n,r,i,o,a){"use strict";var s={targets:"jsControlTree",setVisible:function(t,e){if(t.setVisible){this.unbindProperty(t,"visible");t.setVisible(e)}else{throw new Error("Provided control instance has no setVisible method")}},getVisible:function(t){if(t.getVisible){return Promise.resolve(t.getVisible())}else{return Promise.reject(new Error("Provided control instance has no getVisible method"))}},setStashed:function(t,e){e=!!e;if(t.unstash){if(t.isStashed()===true&&e===false){t=t.unstash()}if(t.setVisible){this.setVisible(t,!e)}return t}else{throw new Error("Provided control instance has no unstash method")}},getStashed:function(t){if(t.isStashed){if(t.isStashed()){return Promise.resolve(true)}return this.getVisible(t).then(function(t){return!t})}return Promise.reject(new Error("Provided control instance has no isStashed method"))},bindProperty:function(t,e,n){t.bindProperty(e,n)},unbindProperty:function(t,e){if(t){t.unbindProperty(e,true)}},setProperty:function(e,n,r){var i=e.getMetadata().getPropertyLikeSetting(n);var o;var a;this.unbindProperty(e,n);try{o=t.complexParser(r,undefined,true)}catch(t){a=true}if(i){if(this._isSerializable(r)){if(o&&typeof o==="object"||a){r=this._escapeCurlyBracketsInString(r)}var s=i._sMutator;e[s](r)}else{throw new TypeError("Value cannot be stringified","sap.ui.core.util.reflection.JsControlTreeModifier")}}},getProperty:function(t,e){var n=t.getMetadata().getPropertyLikeSetting(e);var r;if(n){var i=n._sGetter;r=t[i]()}return Promise.resolve(r)},isPropertyInitial:function(t,e){return t.isPropertyInitial(e)},setPropertyBinding:function(t,e,n){this.unbindProperty(t,e);var r={};r[e]=n;return t.applySettings(r)},getPropertyBinding:function(t,e){return t.getBindingInfo(e)},createAndAddCustomData:function(t,e,n,r){return this.createControl("sap.ui.core.CustomData",r).then(function(r){this.setProperty(r,"key",e);this.setProperty(r,"value",n);return this.insertAggregation(t,"customData",r,0)}.bind(this))},createControl:function(t,e,n,r,i){t=t.replace(/\./g,"/");if(this.bySelector(r,e)){var o="Can't create a control with duplicated ID "+(r.id||r);return Promise.reject(o)}var a;var s=sap.ui.require(t);if(s){a=Promise.resolve(s)}else{a=new Promise(function(e,n){sap.ui.require([t],function(t){e(t)},function(){n(new Error("Required control '"+t+"' couldn't be created asynchronously"))})})}return a.then(function(t){var n=this.getControlIdBySelector(r,e);return new t(n,i)}.bind(this))},applySettings:function(t,e){return Promise.resolve(t.applySettings(e))},_byId:function(t){return sap.ui.getCore().byId(t)},getId:function(t){return t.getId()},getParent:function(t){return t.getParent&&t.getParent()},getControlMetadata:function(t){return Promise.resolve(t&&t.getMetadata())},getControlType:function(t){return t&&t.getMetadata().getName()},setAssociation:function(t,e,n){var r=t.getMetadata().getAssociation(e);r.set(t,n)},getAssociation:function(t,e){var n=t.getMetadata().getAssociation(e);return n.get(t)},getAllAggregations:function(t){return Promise.resolve(t.getMetadata().getAllAggregations())},getAggregation:function(t,e){return this.findAggregation(t,e).then(function(e){if(e){return t[e._sGetter]()}return undefined})},insertAggregation:function(t,e,n,r){if(e==="customData"){return t.insertAggregation(e,n,r,true)}return this.findAggregation(t,e).then(function(e){if(e){if(e.multiple){var i=r||0;t[e._sInsertMutator](n,i)}else{t[e._sMutator](n)}}})},removeAggregation:function(t,e,n){if(e==="customData"){t.removeAggregation(e,n,true);return Promise.resolve()}return this.findAggregation(t,e).then(function(e){if(e){t[e._sRemoveMutator](n)}})},removeAllAggregation:function(t,e){if(e==="customData"){t.removeAllAggregation(e,true);return Promise.resolve()}return this.findAggregation(t,e).then(function(e){if(e){t[e._sRemoveAllMutator]()}})},getBindingTemplate:function(t,e){var n=t.getBindingInfo(e);return Promise.resolve(n&&n.template)},updateAggregation:function(t,e){return this.findAggregation(t,e).then(function(n){if(n&&t.getBinding(e)){t[n._sDestructor]();t.updateAggregation(e)}})},findIndexInParentAggregation:function(t){var e=this.getParent(t);if(!e){return Promise.resolve(-1)}return this.getParentAggregationName(t).then(function(t){return this.getAggregation(e,t)}.bind(this)).then(function(e){if(Array.isArray(e)){return e.indexOf(t)}else{return 0}})},getParentAggregationName:function(t){return Promise.resolve(t.sParentAggregationName)},findAggregation:function(t,e){return new Promise(function(n,r){if(t){if(t.getMetadata){var i=t.getMetadata();var o=i.getAllAggregations();if(o){n(o[e]);return}}}n()})},validateType:function(t,e,n,r){var i=e.type;return this.getAggregation(n,e.name).then(function(n){if(e.multiple===false&&n&&n.length>0){return false}return t.isA(i)})},instantiateFragment:function(t,e,n){var r=i.parse(t);return this._checkAndPrefixIdsInFragment(r,e).then(function(t){return a.load({definition:t,sId:n&&n.getId(),controller:n.getController()})}).then(function(t){if(t&&!Array.isArray(t)){t=[t]}return t||[]})},templateControlFragment:function(t,n,r){return e._templateFragment(t,n).then(function(t){var e=r&&r.getController()||undefined;return a.load({definition:t,controller:e})})},destroy:function(t,e){t.destroy(e)},_getFlexCustomData:function(t,e){var n=typeof t==="object"&&typeof t.data==="function"&&t.data("sap-ui-custom-settings");return r.get(["sap.ui.fl",e],n)},attachEvent:function(t,e,n,i){return new Promise(function(o,a){var s=r.get(n);if(typeof s!=="function"){a(new Error("Can't attach event because the event handler function is not found or not a function."))}o(t.attachEvent(e,i,s))})},detachEvent:function(t,e,n){return new Promise(function(i,o){var a=r.get(n);if(typeof a!=="function"){o(new Error("Can't attach event because the event handler function is not found or not a function."))}i(t.detachEvent(e,a))})},bindAggregation:function(t,e,n){return Promise.resolve(t.bindAggregation(e,n))},unbindAggregation:function(t,e){return Promise.resolve(t.unbindAggregation(e))},getExtensionPointInfo:function(t,e){var r=e._xContent?e._xContent:e;return n.getExtensionPointInfo(t,r).then(function(t){if(t){t.index--;t.parent=t.parent&&this._byId(e.createId(t.parent.getAttribute("id")));t.defaultContent=t.defaultContent.map(function(t){var n=e.createId(t.getAttribute("id"));return this._byId(n)}.bind(this)).filter(function(t){return!!t})}return t}.bind(this))}};return o({},e,s)},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/core/util/reflection/XmlTreeModifier", ["./BaseTreeModifier","sap/ui/base/ManagedObject","sap/ui/base/DataType","sap/base/util/merge","sap/ui/util/XMLHelper","sap/ui/core/mvc/EventHandlerResolver","sap/base/util/includes","sap/base/util/ObjectPath","sap/base/util/isPlainObject","sap/ui/core/Fragment"],function(e,t,n,r,i,o,a,u,g,f){"use strict";var s="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1";var c=r({},e,{targets:"xmlTree",setVisible:function(e,t){if(t){e.removeAttribute("visible")}else{e.setAttribute("visible",t)}},getVisible:function(e){return c.getProperty(e,"visible")},setStashed:function(e,t){if(!t){e.removeAttribute("stashed")}else{e.setAttribute("stashed",t)}c.setVisible(e,!t)},getStashed:function(e){return Promise.all([c.getProperty(e,"stashed"),c.getProperty(e,"visible")]).then(function(e){return!!e[0]||!e[1]})},bindProperty:function(e,t,n){e.setAttribute(t,"{"+n+"}")},unbindProperty:function(e,t){e.removeAttribute(t)},_setProperty:function(e,t,n,r){var i=c._getSerializedValue(n);if(r){i=c._escapeCurlyBracketsInString(i)}e.setAttribute(t,i)},setProperty:function(e,t,n){c._setProperty(e,t,n,true)},getProperty:function(e,r){var i;var o;var a=e.getAttribute(r);return c.getControlMetadata(e).then(function(t){i=t.getProperty(r);if(i){o=i.getType();if(r==="value"&&c.getControlType(e)==="sap.ui.core.CustomData"){return c.getProperty(e,"key").then(function(e){if(e==="sap-ui-custom-settings"){o=n.getType("object")}})}}return undefined}).then(function(){if(i){if(a===null){a=i.getDefaultValue()||o.getDefaultValue()}else{var e=t.bindingParser(a,undefined,true);if(g(e)){if(e.path||e.parts){a=undefined}else{a=e}}else{a=o.parseValue(e||a)}}}return a})},isPropertyInitial:function(e,t){var n=e.getAttribute(t);return n==null},setPropertyBinding:function(e,t,n){if(typeof n!=="string"){throw new Error("For XML, only strings are supported to be set as property binding.")}e.setAttribute(t,n)},getPropertyBinding:function(e,n){var r=e.getAttribute(n);if(r){var i=t.bindingParser(r,undefined,true);if(i&&(i.path||i.parts)){return i}}return undefined},createAndAddCustomData:function(e,t,n){e.setAttributeNS(s,"custom.data.via.modifier:"+t,c._escapeCurlyBracketsInString(n));return Promise.resolve()},createControl:function(e,t,n,r,i,o){var a,u,g;if(!c.bySelector(r,t,n)){var f=e.split(".");var s="";if(f.length>1){u=f.pop();s=f.join(".")}var l=n.ownerDocument.createElementNS(s,u);a=c.getControlIdBySelector(r,t);if(a){l.setAttribute("id",a)}return Promise.resolve().then(function(){if(i){return c.applySettings(l,i)}return undefined}).then(function(){return Promise.resolve(l)})}else{g=new Error("Can't create a control with duplicated ID "+a);return Promise.reject(g)}},applySettings:function(e,t){return c.getControlMetadata(e).then(function(n){var r=n.getJSONKeys();Object.keys(t).forEach(function(n){var i=r[n];var o=t[n];switch(i._iKind){case 0:c._setProperty(e,n,o,false);break;case 3:c.setAssociation(e,n,o);break;default:throw new Error("Unsupported in applySettings on XMLTreeModifier: "+n)}})})},_byId:function(e,t){if(t){if(t.ownerDocument&&t.ownerDocument.getElementById&&t.ownerDocument.getElementById(e)){return t.ownerDocument.getElementById(e)}return t.querySelector("[id='"+e+"']")}return undefined},getId:function(e){return e.getAttribute("id")},getParent:function(e){var t=e.parentNode;if(t&&!c.getId(t)&&!c._isExtensionPoint(t)){t=t.parentNode}return t},_getLocalName:function(e){return e.localName||e.baseName||e.nodeName},getControlType:function(e){return c._getControlTypeInXml(e)},setAssociation:function(e,t,n){if(typeof n!=="string"){n=c.getId(n)}e.setAttribute(t,n)},getAssociation:function(e,t){return e.getAttribute(t)},getAllAggregations:function(e){return c.getControlMetadata(e).then(function(e){return e.getAllAggregations()})},getAggregation:function(e,t){var n=[];var r;return c._isSingleValueAggregation(e,t).then(function(n){r=n;return c._findAggregationNode(e,t)}).then(function(i){if(i){return c._getControlsInAggregation(e,i).then(function(e){n=e})}return c._isAltTypeAggregation(e,t).then(function(i){if(i&&r){return c.getProperty(e,t).then(function(e){n.push(e)})}return undefined})}).then(function(){if(t==="customData"){var i;var o=Array.prototype.slice.call(e.attributes).reduce(function(t,n){var r=c._getLocalName(n);if(n.namespaceURI===s){var o=e.ownerDocument.createElementNS("sap.ui.core","CustomData");o.setAttribute("key",r);o.setAttribute("value",n.value);t.push(o)}else if(n.namespaceURI&&n.name.indexOf("xmlns:")!==0){if(!i){i={}}if(!i.hasOwnProperty(n.namespaceURI)){i[n.namespaceURI]={}}i[n.namespaceURI][r]=n.nodeValue}return t},[]);n=n.concat(o);if(i){var a=e.ownerDocument.createElementNS("sap.ui.core","CustomData");a.setAttribute("key","sap-ui-custom-settings");c.setProperty(a,"value",i);n.push(a)}}return r?n[0]:n})},insertAggregation:function(e,t,n,r,i,o){return c._findAggregationNode(e,t).then(function(n){if(!n){var r=e.namespaceURI;return c.createControl(r+"."+t,undefined,i).then(function(t){e.appendChild(t);return t})}return n}).then(function(t){if(!o){var i=t.children;var a=0;var u=r<i.length?r:i.length;for(var g=0;g<u;g++){if(i[g].namespaceURI==="sap.ui.core"&&i[g].tagName.indexOf("ExtensionPoint")>-1){a=a+1-i[g].children.length}}r=r+a}if(r>=t.childElementCount){t.appendChild(n)}else{return c._getControlsInAggregation(e,t).then(function(e){t.insertBefore(n,e[r])})}return undefined})},removeAggregation:function(e,t,n){return c._findAggregationNode(e,t).then(function(e){e.removeChild(n)})},removeAllAggregation:function(e,t){return c._findAggregationNode(e,t).then(function(t){if(e===t){return c._getControlsInAggregation(e,e).then(function(t){t.forEach(function(t){e.removeChild(t)})})}return e.removeChild(t)})},_findAggregationNode:function(e,t){var n;var r=c._children(e);for(var i=0;i<r.length;i++){var o=r[i];if(o.localName===t){n=o;break}}var a=Promise.resolve(n);if(!n){a=a.then(c._isDefaultAggregation.bind(c,e,t)).then(function(t){if(t){return e}return n})}return a},_isDefaultAggregation:function(e,t){return c.getControlMetadata(e).then(function(e){var n=e.getDefaultAggregation();return n&&t===n.name})},_isNotNamedAggregationNode:function(e,t){return c.getAllAggregations(e).then(function(n){var r=n[t.localName];return e.namespaceURI!==t.namespaceURI||!r})},_isSingleValueAggregation:function(e,t){return c.getAllAggregations(e).then(function(e){var n=e[t];return!n.multiple})},_isAltTypeAggregation:function(e,t){return c.getControlMetadata(e).then(function(e){return e.getAllAggregations()[t]}).then(function(e){return!!e.altTypes})},_isExtensionPoint:function(e){return c._getControlTypeInXml(e)==="sap.ui.core.ExtensionPoint"},getControlMetadata:function(e){return c._getControlMetadataInXml(e)},_getControlsInAggregation:function(e,t){var n=Array.prototype.slice.call(c._children(t));return Promise.all(n.map(function(t){return c._isNotNamedAggregationNode(e,t).then(function(e){return e?t:undefined})})).then(function(e){return e.filter(function(e){return!!e})})},_children:function(e){if(e.children){return e.children}else{var t=[];for(var n=0;n<e.childNodes.length;n++){var r=e.childNodes[n];if(r.nodeType===r.ELEMENT_NODE){t.push(r)}}return t}},getBindingTemplate:function(e,t){return c._findAggregationNode(e,t).then(function(e){if(e){var t=c._children(e);if(t.length===1){return t[0]}}return undefined})},updateAggregation:function(e,t){},findIndexInParentAggregation:function(e){var t=c.getParent(e);if(!t){return Promise.resolve(-1)}return c.getParentAggregationName(e,t).then(function(e){return c.getAggregation(t,e)}).then(function(t){if(Array.isArray(t)){var n=t.map(function(e){return Promise.resolve().then(function(){if(c._isExtensionPoint(e)){return e}return c.getProperty(e,"stashed").then(function(t){return!t?e:undefined})})});return Promise.all(n).then(function(t){return t.filter(function(e){return!!e}).indexOf(e)})}else{return 0}})},getParentAggregationName:function(e,t){return Promise.resolve().then(function(){if(!t.isSameNode(e.parentNode)){return false}else{return c._isNotNamedAggregationNode(t,e)}}).then(function(n){if(n){return c.getControlMetadata(t).then(function(e){return e.getDefaultAggregationName()})}else{return c._getLocalName(e.parentNode)}})},findAggregation:function(e,t){return c.getControlMetadata(e).then(function(e){return e.getAllAggregations()}).then(function(e){if(e){return e[t]}return undefined})},validateType:function(e,t,n,r,i){var o=t.type;return c.getAggregation(n,t.name).then(function(e){if(t.multiple===false&&e&&e.length>0){return false}return f.load({definition:r})}).then(function(e){if(!Array.isArray(e)){e=[e]}var t=e[i].isA(o);e.forEach(function(e){e.destroy()});return t})},instantiateFragment:function(e,t,n){var r=i.parse(e);return c._checkAndPrefixIdsInFragment(r,t).then(function(e){var t;if(e.localName==="FragmentDefinition"){t=c._getElementNodeChildren(e)}else{t=[e]}t.forEach(function(e){if(c._byId(e.getAttribute("id"),n)){throw Error("The following ID is already in the view: "+e.getAttribute("id"))}});return t})},templateControlFragment:function(t,n){return e._templateFragment(t,n).then(function(e){return c._children(e)})},destroy:function(e){var t=e.parentNode;if(t){t.removeChild(e)}},_getFlexCustomData:function(e,t){if(!e){return undefined}return e.getAttributeNS("sap.ui.fl",t)},attachEvent:function(e,t,n,r){if(typeof u.get(n)!=="function"){return Promise.reject(new Error("Can't attach event because the event handler function is not found or not a function."))}return c.getProperty(e,t).then(function(i){i=i||"";var u=o.parse(i);var g=n;var f=["$event"];if(r){f.push(JSON.stringify(r))}g+="("+f.join(",")+")";if(!a(u,g)){u.push(g)}e.setAttribute(t,u.join(";"))})},detachEvent:function(e,t,n){if(typeof u.get(n)!=="function"){return Promise.reject(new Error("Can't attach event because the event handler function is not found or not a function."))}return c.getProperty(e,t).then(function(r){r=r||"";var i=o.parse(r);var a=i.findIndex(function(e){return e.includes(n)});if(a>-1){i.splice(a,1)}if(i.length){e.setAttribute(t,i.join(";"))}else{e.removeAttribute(t)}})},bindAggregation:function(e,t,n,r){return Promise.resolve().then(function(){c.bindProperty(e,t,n.path);return c.insertAggregation(e,t,n.template,0,r)})},unbindAggregation:function(e,t){return Promise.resolve().then(function(){if(e.hasAttribute(t)){e.removeAttribute(t);return c.removeAllAggregation(e,t)}return undefined})},getExtensionPointInfo:function(e,t){return Promise.resolve().then(function(){if(t&&e){var n=Array.prototype.slice.call(t.getElementsByTagNameNS("sap.ui.core","ExtensionPoint"));var r=n.filter(function(t){return t.getAttribute("name")===e});var i=r.length===1?r[0]:undefined;if(i){var o=c.getParent(i);return Promise.all([c.getParentAggregationName(i,o),c.findIndexInParentAggregation(i)]).then(function(e){var t={parent:o,aggregationName:e[0],index:e[1]+1,defaultContent:Array.prototype.slice.call(c._children(i))};return t})}}return undefined})}});return c},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/dom/containsOrEquals", [],function(){"use strict";var n=function(n,t){if(t&&n&&t!=document&&t!=window){return n.contains(t)}return false};return n});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/dom/denormalizeScrollBeginRTL", ["sap/ui/util/_FeatureDetection"],function(i){"use strict";var t;if(i.initialScrollPositionIsZero()){t=function(i,t){return-i}}else{t=function(i,t){return t.scrollWidth-t.clientWidth-i}}var n=function(i,n){if(n){return t(i,n)}};return n});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/dom/denormalizeScrollLeftRTL", ["sap/ui/util/_FeatureDetection"],function(i){"use strict";var t;if(i.initialScrollPositionIsZero()){t=function(i,t){return t.clientWidth+i-t.scrollWidth}}else{t=function(i,t){return i}}var n=function(i,n){if(n){return t(i,n)}};return n});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/dom/getOwnerWindow", [],function(){"use strict";var n=function n(e){if(e.ownerDocument.parentWindow){return e.ownerDocument.parentWindow}return e.ownerDocument.defaultView};return n});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/dom/getScrollbarSize", ["sap/ui/thirdparty/jquery"],function(jQuery){"use strict";var i={};var e=function(e,t){if(typeof e==="boolean"){t=e;e=null}var r=e||"#DEFAULT";if(t){if(e){delete i[e]}else{i={}}}if(i[r]){return i[r]}if(!document.body){return{width:0,height:0}}var s=jQuery("<DIV></DIV>").css("visibility","hidden").css("height","0").css("width","0").css("overflow","hidden");if(e){s.addClass(e)}s.prependTo(document.body);var d=jQuery("<div></div>");d[0].style="visibility:visible;position:absolute;height:100px;width:100px;overflow:scroll;opacity:0;";s.append(d);var o=d.get(0);var h=o.offsetWidth-o.scrollWidth;var l=o.offsetHeight-o.scrollHeight;s.remove();if(h===0||l===0){return{width:h,height:l}}i[r]={width:h,height:l};return i[r]};return e});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/dom/isHidden", ["sap/ui/thirdparty/jquery"],function(jQuery){"use strict";function i(i){return i.offsetWidth<=0&&i.offsetHeight<=0||jQuery.css(i,"visibility")==="hidden"}return i});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/dom/jquery/Aria", ["sap/ui/thirdparty/jquery"],function(jQuery){"use strict";function i(i,t,r){var e=this.attr(i);if(!e){return this.attr(i,t)}var n=e.split(" ");if(n.indexOf(t)==-1){r?n.unshift(t):n.push(t);this.attr(i,n.join(" "))}return this}function t(i,t){var r=this.attr(i)||"",e=r.split(" "),n=e.indexOf(t);if(n==-1){return this}e.splice(n,1);if(e.length){this.attr(i,e.join(" "))}else{this.removeAttr(i)}return this}jQuery.fn.addAriaLabelledBy=function(t,r){return i.call(this,"aria-labelledby",t,r)};jQuery.fn.removeAriaLabelledBy=function(i){return t.call(this,"aria-labelledby",i)};jQuery.fn.addAriaDescribedBy=function(t,r){return i.call(this,"aria-describedby",t,r)};jQuery.fn.removeAriaDescribedBy=function(i){return t.call(this,"aria-describedby",i)};return jQuery});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/dom/jquery/Focusable", ["sap/ui/thirdparty/jquery","sap/ui/dom/isHidden","./hasTabIndex"],function(jQuery,i){"use strict";function n(e,r){var t=r?e.firstChild:e.lastChild,u;while(t){if(t.nodeType==1&&!i(t)){if(jQuery(t).hasTabIndex()){return t}u=n(t,r);if(u){return u}}t=r?t.nextSibling:t.previousSibling}return null}jQuery.fn.firstFocusableDomRef=function(){var e=this.get(0);if(!e||i(e)){return null}return n(e,true)};jQuery.fn.lastFocusableDomRef=function(){var e=this.get(0);if(!e||i(e)){return null}return n(e,false)};return jQuery});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/dom/jquery/control", ["sap/ui/thirdparty/jquery","sap/ui/Global"],function(jQuery){"use strict";jQuery.fn.control=function(t,a){var i=this.map(function(){var t;if(a){var i=jQuery(this).closest("[data-sap-ui],[data-sap-ui-related]");t=i.attr("data-sap-ui-related")||i.attr("id")}else{t=jQuery(this).closest("[data-sap-ui]").attr("id")}return sap.ui.getCore().byId(t)});return i.get(t)};return jQuery});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/dom/jquery/cursorPos", ["sap/ui/thirdparty/jquery"],function(jQuery){"use strict";var t=function t(e){var r=arguments.length,s,i;s=this.prop("tagName");i=this.prop("type");if(this.length===1&&(s=="INPUT"&&(i=="text"||i=="password"||i=="search")||s=="TEXTAREA")){var n=this.get(0);if(r>0){if(typeof n.selectionStart=="number"){n.focus();n.selectionStart=e;n.selectionEnd=e}return this}else{if(typeof n.selectionStart=="number"){return n.selectionStart}return-1}}else{return this}};jQuery.fn.cursorPos=t;return jQuery});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/dom/jquery/getSelectedText", ["sap/ui/thirdparty/jquery"],function(jQuery){"use strict";var t=function(){var t=this.get(0);try{if(typeof t.selectionStart==="number"){return t.value.substring(t.selectionStart,t.selectionEnd)}}catch(t){}return""};jQuery.fn.getSelectedText=t;return jQuery});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/dom/jquery/hasTabIndex", ["sap/ui/thirdparty/jquery"],function(jQuery){"use strict";var t=function(t){var n=jQuery.prop(t,"tabIndex");return n!=null&&n>=0&&(!jQuery.attr(t,"disabled")||jQuery.attr(t,"tabindex"))};jQuery.fn.hasTabIndex=function(){return t(this.get(0))};return jQuery});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/dom/jquery/rect", ["sap/ui/thirdparty/jquery","sap/ui/dom/getOwnerWindow"],function(jQuery,t){"use strict";var e=function e(){var i=this.get(0);if(i){if(i.getBoundingClientRect){var r=i.getBoundingClientRect();var n={top:r.top,left:r.left,width:r.right-r.left,height:r.bottom-r.top};var o=t(i);n.left+=jQuery(o).scrollLeft();n.top+=jQuery(o).scrollTop();return n}else{return{top:10,left:10,width:i.offsetWidth,height:i.offsetHeight}}}return null};jQuery.fn.rect=e;return jQuery});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/dom/jquery/scrollLeftRTL", ["sap/ui/dom/denormalizeScrollLeftRTL","sap/ui/util/_FeatureDetection","sap/ui/thirdparty/jquery"],function(t,e,jQuery){"use strict";var i;if(e.initialScrollPositionIsZero()){i=function(t){return t.scrollWidth+t.scrollLeft-t.clientWidth}}else{i=function(t){return t.scrollLeft}}var r=function(e){var r=this.get(0);if(r){if(e===undefined){return i(r)}else{r.scrollLeft=t(e,r);return this}}};jQuery.fn.scrollLeftRTL=r;return jQuery});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/dom/jquery/scrollRightRTL", ["sap/ui/util/_FeatureDetection","sap/ui/thirdparty/jquery"],function(t,jQuery){"use strict";var i;if(t.initialScrollPositionIsZero()){i=function(t){return-t.scrollLeft}}else{i=function(t){return t.scrollWidth-t.scrollLeft-t.clientWidth}}var r=function(){var t=this.get(0);if(t){return i(t)}};jQuery.fn.scrollRightRTL=r;return jQuery});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/dom/jquery/selectText", ["sap/ui/thirdparty/jquery"],function(jQuery){"use strict";var t=function t(e,r){var i=this.get(0);try{if(typeof i.selectionStart==="number"){i.setSelectionRange(e>0?e:0,r)}}catch(t){}return this};jQuery.fn.selectText=t;return jQuery});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/dom/jquery/zIndex", ["sap/ui/thirdparty/jquery"],function(jQuery){"use strict";function e(e,n){var t=Object.getOwnPropertyDescriptor(e,n);return t&&t.value}if(!e(jQuery.fn,"zIndex")){var n=function(e){if(e!==undefined){return this.css("zIndex",e)}if(this.length){var n=jQuery(this[0]),t,i;while(n.length&&n[0]!==document){t=n.css("position");if(t==="absolute"||t==="relative"||t==="fixed"){i=parseInt(n.css("zIndex"));if(!isNaN(i)&&i!==0){return i}}n=n.parent()}}return 0};
/*!
		 * The following function is taken from
		 * jQuery UI Core 1.11.1
		 * http://jqueryui.com
		 *
		 * Copyright 2014 jQuery Foundation and other contributors
		 * Released under the MIT license.
		 * http://jquery.org/license
		 *
		 * http://api.jqueryui.com/category/ui-core/
		 */jQuery.fn.zIndex=n}return jQuery});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/dom/units/Rem", ["sap/base/assert"],function(e){"use strict";function t(){var e=document.documentElement;if(!e){return 16}return parseFloat(window.getComputedStyle(e).getPropertyValue("font-size"))}var r={fromPx:function(r){e(typeof r==="string"&&r!==""&&!isNaN(parseFloat(r))&&typeof parseFloat(r)==="number"||typeof r==="number"&&!isNaN(r),'Rem.fromPx: either the "vPx" parameter must be an integer, or a string e.g.: "16px"');return parseFloat(r)/t()},toPx:function(r){e(typeof r==="string"&&r!==""&&!isNaN(parseFloat(r))&&typeof parseFloat(r)==="number"||typeof r==="number"&&!isNaN(r),'Rem.toPx: either the "vRem" parameter must be an integer, or a string e.g.: "1rem"');return parseFloat(r)*t()}};return r});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/dt/DOMUtil", ["sap/ui/thirdparty/jquery","sap/ui/Device","sap/ui/core/Configuration","sap/ui/dom/jquery/zIndex","sap/ui/dom/jquery/scrollLeftRTL"],function(jQuery,e,t){"use strict";var r={};r.getSize=function(e){var t=e.getBoundingClientRect();return{width:t.width,height:t.height}};r.getOffsetFromParent=function(o,l){var n=l?jQuery(l):null;var i=n?n.scrollTop():null;var a=l?r.getScrollLeft(l):null;var s=n?n.offset():null;var c={left:o.position.left,top:o.position.top};if(s){c.left-=s.left-(a||0);c.top-=s.top-(i||0)}if(t.getRTL()){var f=n?n.outerWidth():jQuery(window).outerWidth();if(e.browser.safari&&!e.browser.mobile&&r.hasVerticalScrollBar(n)){c.left-=r.getScrollbarWidth()}c.left=c.left-(f-o.size.width)}return c};r.getScrollLeft=function(e){if(!t.getRTL()||!r.hasHorizontalScrollBar(e)){return jQuery(e).scrollLeft()}var o=jQuery(e).scrollLeftRTL();var l=e.scrollWidth-e.clientWidth;return o-l};r.getZIndex=function(e){var t;var r=jQuery(e);if(r.length){t=r.zIndex()||r.css("z-index")}return t};r._getElementDimensions=function(e,t,r){var o=e[0]||e;var l=o["offset"+t];var n=0;for(var i=0;i<2;i++){var a=window.getComputedStyle(o,null)["border"+r[i]+t];n-=a?parseInt(a.slice(0,-2)):0}return l+n};r._getElementWidth=function(e){return r._getElementDimensions(e,"Width",["Right","Left"])};r._getElementHeight=function(e){return r._getElementDimensions(e,"Height",["Top","Bottom"])};r.hasVerticalScrollBar=function(e){var t=jQuery(e);var o=t.css("overflow-y")==="auto"||t.css("overflow-y")==="scroll";return o&&t.get(0).scrollHeight>r._getElementHeight(e)};r.hasHorizontalScrollBar=function(e){var t=jQuery(e);var o=t.css("overflow-x")==="auto"||t.css("overflow-x")==="scroll";return o&&t.get(0).scrollWidth>r._getElementWidth(e)};r.hasScrollBar=function(e){return r.hasVerticalScrollBar(e)||r.hasHorizontalScrollBar(e)};r.getScrollbarWidth=function(){if(typeof r.getScrollbarWidth._cache==="undefined"){var e=jQuery("<div></div>").css({position:"absolute",top:"-9999px",left:"-9999px",width:"100px"}).appendTo("body");var t=e.width();e.css("overflow","scroll");var o=jQuery("<div></div>").css("width","100%").appendTo(e);var l=o.width();e.remove();r.getScrollbarWidth._cache=t-l}return r.getScrollbarWidth._cache};r.getOverflows=function(e){var t=jQuery(e);return{overflowX:t.css("overflow-x"),overflowY:t.css("overflow-y")}};r.getGeometry=function(e,t){if(e){var r=jQuery(e).offset();if(t){r.left=r.left-jQuery(window).scrollLeft();r.top=r.top-jQuery(window).scrollTop()}return{domRef:e,size:this.getSize(e),position:r,visible:this.isVisible(e)}}};r.syncScroll=function(e,t){var r=jQuery(t);var o=r.scrollTop();var l=r.scrollLeft();var n=jQuery(e);var i=n.scrollTop();var a=n.scrollLeft();if(i!==o){r.scrollTop(i)}if(a!==l){r.scrollLeft(a)}};r.getDomRefForCSSSelector=function(e,t){if(t&&e){var r=jQuery(e);if(t===":sap-domref"){return r}if(t.indexOf(":sap-domref")>-1){return r.find(t.replace(/:sap-domref/g,""))}return r.find(t)}return jQuery()};r.isVisible=function(e){if(e){var t=e.getBBox&&e.getBBox();var r=t?t.width:e.offsetWidth;var o=t?t.height:e.offsetHeight;return r>0&&o>0}return false};r.setDraggable=function(e,t){e.setAttribute("draggable",t)};r.getDraggable=function(e){switch(e.getAttribute("draggable")){case"true":return true;case"false":return false;default:return}};r._copyStylesTo=function(e,t){var r="";var o="";var l=e.length;for(var n=0;n<l;n++){o=e[n];r=r+o+":"+e.getPropertyValue(o)+";"}t.style.cssText=r};r._copyPseudoElement=function(e,t,o){var l=window.getComputedStyle(t,e);var n=l.getPropertyValue("content");if(n&&n!=="none"){n=String(n).trim();if(n.indexOf("attr(")===0){n=n.replace("attr(","");if(n.length){n=n.substring(0,n.length-1)}n=t.getAttribute(n)||""}var i=jQuery("<span></span>");if(e===":after"){i.appendTo(o)}else{i.prependTo(o)}i.text(n.replace(/(^['"])|(['"]$)/g,""));r._copyStylesTo(l,i.get(0));i.css("display","inline")}};r.copyComputedStyle=function(e,t){e=jQuery(e).get(0);t=jQuery(t).get(0);var o=window.getComputedStyle(e);if(o.getPropertyValue("display")==="none"){t.style.display="none";return}r._copyStylesTo(o,t);this._copyPseudoElement(":after",e,t);this._copyPseudoElement(":before",e,t)};r.copyComputedStyles=function(e,t){e=jQuery(e).get(0);t=jQuery(t).get(0);for(var r=0;r<e.children.length;r++){this.copyComputedStyles(e.children[r],t.children[r])}jQuery(t).removeClass();jQuery(t).attr("id","");jQuery(t).attr("role","");jQuery(t).attr("data-sap-ui","");jQuery(t).attr("for","");jQuery(t).attr("tabindex",-1);this.copyComputedStyle(e,t)};r.cloneDOMAndStyles=function(e,t){e=jQuery(e).get(0);var r=e.cloneNode(true);this.copyComputedStyles(e,r);jQuery(t).append(r)};r.contains=function(e,t){var r=document.getElementById(e);return!!r&&r.contains(t)};r.appendChild=function(e,t){var r=t.scrollTop;var o=jQuery(t).scrollLeft();e.appendChild(t);t.scrollTop=r;jQuery(t).scrollLeft(o)};r.focusWithoutScrolling=function(t){if(e.browser.name!=="ie"){t.focus({preventScroll:true});return}var r=[];var o=t.parentNode;while(o){r.push([o,jQuery(o).scrollLeft(),o.scrollTop]);o=o.parentNode}t.focus();r.forEach(function(e){var t=e[0];if(jQuery(t).scrollLeft()!==e[1]){jQuery(t).scrollLeft(e[1])}if(t.scrollTop!==e[2]){t.scrollTop=e[2]}})};return r},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/dt/DesignTimeStatus", [],function(){"use strict";return{SYNCING:"syncing",SYNCED:"synced"}});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/dt/ElementUtil", ["sap/ui/thirdparty/jquery","sap/ui/base/Object","sap/ui/dt/Util","sap/ui/dt/DOMUtil","sap/ui/core/Element","sap/ui/core/Component","sap/base/util/isPlainObject","sap/ui/core/UIArea"],function(jQuery,e,t,n,r,i,a,g){"use strict";var o={};o.iterateOverAllPublicAggregations=function(e,t){var n=e.getMetadata().getAllAggregations();var r=Object.keys(n);r.forEach(function(r){var i=n[r];var a=this.getAggregation(e,r);t(i,a)},this)};o.getElementInstance=function(e){if(typeof e==="string"){var t=sap.ui.getCore().byId(e);return t||i.get(e)}return e};o.hasAncestor=function(e,t){t=this.fixComponentContainerElement(t);var n;while(e&&e!==t){n=this.fixComponentParent(e);if(e===n){e=e.getParent()}else{e=n}}return!!e};o.getClosestElementForNode=function(e){var t=jQuery(e).closest("[data-sap-ui]");return t.length?sap.ui.getCore().byId(t.attr("data-sap-ui")):undefined};o.fixComponentParent=function(t){if(e.isA(t,"sap.ui.core.UIComponent")){var n=t.oContainer;if(n){return n.getParent()}}else{return t}};o.fixComponentContainerElement=function(t){if(e.isA(t,"sap.ui.core.ComponentContainer")){if(!t.getComponentInstance()){return undefined}return t.getComponentInstance().getRootControl()}return t};o.getDomRef=function(e){if(e){var t;if(e.getDomRef){t=e.getDomRef()}if(!t&&e.getRenderedDomRef){t=e.getRenderedDomRef()}return t}};o.findAllSiblingsInContainer=function(e,t){var n=e&&e.getParent();if(!n){return[]}if(n!==t){var r=o.findAllSiblingsInContainer(n,t);return r.map(function(t){return o.getAggregation(t,e.sParentAggregationName)}).reduce(function(e,t){return e.concat(t)},[])}return o.getAggregation(n,e.sParentAggregationName)};o.getAggregationAccessors=function(e,t){var n=e.getMetadata();n.getJSONKeys();var r=n.getAggregation(t);if(r){var i=r._sGetter;if(r.altTypes&&r.altTypes.length&&e[r._sGetter+"Control"]){i=r._sGetter+"Control"}return{get:i,add:r._sMutator,remove:r._sRemoveMutator,insert:r._sInsertMutator,removeAll:r._sRemoveAllMutator}}return{}};o.getAggregation=function(e,t){var n;var r=this.getAggregationAccessors(e,t).get;if(r){n=e[r]()}else{n=e.getAggregation(t)}n=n&&n.splice?n:n?[n]:[];return n};o.getIndexInAggregation=function(e,t,n){return this.getAggregation(t,n).indexOf(e)};o.addAggregation=function(e,t,n){if(this.hasAncestor(e,n)){throw new Error("Trying to add an element to itself or its successors")}var r=this.getAggregationAccessors(e,t).add;if(r){e[r](n)}else{e.addAggregation(t,n)}};o.removeAggregation=function(e,t,n,r){var i=this.getAggregationAccessors(e,t).remove;if(i){e[i](n,r)}else{e.removeAggregation(t,n,r)}};o.insertAggregation=function(e,t,n,r){if(this.hasAncestor(e,n)){throw new Error("Trying to add an element to itself or its successors")}if(this.getIndexInAggregation(n,e,t)!==-1){n.__bSapUiDtSupressParentChangeEvent=true;try{this.removeAggregation(e,t,n,true)}finally{delete n.__bSapUiDtSupressParentChangeEvent}}var i=this.getAggregationAccessors(e,t).insert;if(i){e[i](n,r)}else{e.insertAggregation(t,n,r)}};o.isValidForAggregation=function(t,n,r){var i=t.getMetadata().getAggregation(n);if(this.hasAncestor(t,r)){return false}if(i){var a=i.type;if(i.multiple===false&&this.getAggregation(t,n)&&this.getAggregation(t,n).length>0){return false}return e.isA(r,a)||this.hasInterface(r,a)}};o.getAssociationAccessors=function(e,t){var n=e.getMetadata();n.getJSONKeys();var r=n.getAssociation(t);if(r){return{get:r._sGetter,add:r._sMutator,remove:r._sRemoveMutator,insert:r._sInsertMutator,removeAll:r._sRemoveAllMutator}}return{}};o.getAssociation=function(e,t){var n;var r=this.getAssociationAccessors(e,t).get;if(r){n=e[r]()}return n};o.getIndexInAssociation=function(e,t,n){return this.getAssociationInstances(t,n).indexOf(e)};o.getAssociationInstances=function(e,n){var r=t.castArray(this.getAssociation(e,n));return r.map(function(e){return this.getElementInstance(e)},this)};o.hasInterface=function(e,t){var n=e.getMetadata().getInterfaces();return n.indexOf(t)!==-1};o.isElementInTemplate=function(e){var t=o.getAggregationInformation(e);if(t.templateId){var n=o.extractTemplateId(t);if(!n){return false}}return true};o.isElementDirectTemplateChild=function(e){var t=o.getAggregationInformation(e);if(t.templateId){var n=o.extractTemplateId(t);if(n&&t.stack.length===1){return true}}return false};o.isElementValid=function(e){var t=(e instanceof r||e instanceof i)&&!e.bIsDestroyed&&o.isElementInTemplate(e);return t};o.getParent=function(t){return e.isA(t,"sap.ui.core.Component")?t.oContainer:t.getParent()};o.getLabelForElement=function(e,n){if(!o.isElementValid(e)){throw t.createError("ElementUtil#getLabelForElement","A valid managed object instance should be passed as parameter","sap.ui.dt")}if(typeof n==="function"){return n(e)}function r(e){var t=typeof e.getText==="function"&&e.getText()||typeof e.getLabelText==="function"&&e.getLabelText()||typeof e.getLabel==="function"&&e.getLabel()||typeof e.getTitle==="function"&&e.getTitle()||typeof e.getHeading==="function"&&e.getHeading()||typeof e.getDataSourceLabel==="function"&&e.getDataSourceLabel();if(o.isElementValid(t)){return r(t)}return t}var i=r(e);return typeof i!=="string"?e.getId():i};o.extractTemplateId=function(e){if(a(e)&&e.templateId){if(e.stack.length>1){var t;var n=sap.ui.getCore().byId(e.templateId);var r;var i;for(var g=e.stack.length-2;g>=0;g--){r=e.stack[g].aggregation;i=e.stack[g].index;t=o.getAggregation(n,r)[i];if(!t){return undefined}n=t}return n.getId()}else if(e.stack.length===1){return e.templateId}}else{return undefined}};o.getAggregationInformation=function(e){var t=[];return this._evaluateBinding(e,t)};o._evaluateBinding=function(e,t){var n;var r;var i;var a;var s=e.aAPIParentInfos;if(s&&s.length>0){a=s.some(function(t){i=t.parent;n=t.aggregationName;r=o.getAggregation(i,n).indexOf(e);return i.getBinding(n)})}if(!a){i=e.getParent();if(i){n=e.sParentAggregationName;r=o.getAggregation(i,n).indexOf(e)}else{r=-1}}t.push({element:e.getId(),type:e.getMetadata().getName(),aggregation:n,index:r});if(n&&i.getBinding(n)){var u=i.getBindingInfo(n);var f=u&&u.template;return{elementId:i.getId(),aggregation:n,templateId:f?f.getId():undefined,stack:t}}return!i||i instanceof g?{elementId:undefined,aggregation:undefined,templateId:undefined,stack:t}:this._evaluateBinding(i,t)};o.getAggregationBindingTemplate=function(e,t){var n=e&&e.getBindingInfo(t);return n&&n.template};o.adjustIndexForMove=function(e,t,n,r){if(e===t&&n<r&&n>-1){return r-1}return r};o.checkTargetZone=function(e,t,r){var i=e.getGeometry();var a=i&&i.size.height>0&&i.size.width>0;var g=e.getElement();var s=t.getElement();var u=e.getAggregationName();if(!s||!o.isValidForAggregation(g,u,s)){return Promise.resolve(false)}function f(e,t){var r=e.getDomRef();var i=n.isVisible(r);if(!r){return i}var a=t&&t.getDomRef&&t.getDomRef();var g=a?n.isVisible(a):true;return i||g}if(r&&!a||!r&&!f(e,g)||!(g&&g.getVisible&&g.getVisible())||!g.getParent()){return Promise.resolve(false)}return Promise.resolve(true)};return o},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/dt/Util", ["sap/ui/thirdparty/jquery","sap/ui/Device","sap/ui/base/ManagedObject","sap/ui/dt/DesignTimeStatus"],function(jQuery,r,e,n){"use strict";var t={};var i="sap.ui.dt";function a(r){return!isNaN(parseFloat(r))&&isFinite(r)}t.wrapError=function(r){var e=r instanceof Error&&r||new Error;if(typeof r==="string"){e.message=r}return e};t.isForeignError=function(r,e){if(r instanceof Error){return r.name.indexOf(e||i)===-1}throw t.createError("Util#isForeignError","Wrong parameter specified")};t.createError=function(r,e,n){var t=new Error;var a=(n||i)+(r?"."+r:"");t.name="Error in "+a;t.message=e;return t};t.errorToString=function(r){if(typeof r==="string"){return r}else if(r instanceof Error){var e=r.toString();if(r.stack){e+="\n"+r.stack.replace(e,"").trim()}return e}throw t.createError("Util#errorToString","Wrong parameter specified")};t.propagateError=function(r,e,n,a){var o=t.wrapError(r);if(t.isForeignError(o,a)){var u=(a||i)+"."+e;var s=[o.name,o.message].join(" - ");o.name="Error in "+u;o.message=t.printf("{0}. Original error: {1}",n,s||"¯\\_(ツ)_/¯")}return o};t.getObjectType=function(r){return r instanceof e&&t.printf('{0} (id = "{1}")',r.getMetadata().getName(),r.getId())||typeof r};t.printf=function(r){var e=Array.prototype.slice.call(arguments,1);return r.replace(/{(\d+)}/g,function(r,n){return typeof e[n]!=="undefined"?e[n]:r})};t.objectValues=function(r){return jQuery.map(r,function(r){return r})};t.isInteger=function(r){return a(r)&&Math.ceil(r)===r};t.castArray=function(r){var e=[];if(r){if(!Array.isArray(r)){e.push(r)}else{e=r}}return e};t.wrapIntoPromise=function(r){if(typeof r!=="function"){throw t.createError("Util#wrapIntoPromise",t.printf("Invalid argument specified. Function is expected, but '{0}' is given",typeof r),"sap.ui.dt")}return function(){var e=Array.prototype.slice.call(arguments);return Promise.resolve().then(function(){return r.apply(null,e)})}};t.isWebkit=function(){return r.browser.webkit&&(r.browser.safari||r.browser.chrome&&r.browser.mobile)};t.waitForSynced=function(r,e){return function(){e=e||function(){};var t=arguments;return new Promise(function(i,a){if(r.getStatus()===n.SYNCING){r.attachEventOnce("synced",function(){i(e.apply(null,t))});r.attachEventOnce("syncFailed",a)}else{i(e.apply(null,t))}})}};return t},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/events/isMouseEventDelayed", ["sap/ui/Device"],function(r){"use strict";var e=function(e){e=e||navigator;return!!(r.browser.mobile&&!(r.os.ios&&r.os.version>=8&&r.browser.safari&&!r.browser.webview||r.browser.chrome&&!/SAMSUNG/.test(e.userAgent)&&r.browser.version>=32))};return e});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/events/jquery/EventTriggerHook", ["sap/base/Log","sap/ui/dom/containsOrEquals","sap/ui/thirdparty/jquery","sap/base/util/uid"],function(e,r,jQuery,i){"use strict";var t={};function o(i){var o=e.isLoggable(e.Level.DEBUG),n=t[i.type],s=n.originalTriggerHook,a=window.performance.now(),d,f,u;if(!i.isPropagationStopped()&&!i.isSimulated){for(f in n.domRefs){u=n.domRefs[f];if(u.excludedDomRefs.indexOf(i.target)===-1&&r(u.domRef,i.target)){i.preventDefault();i.stopImmediatePropagation();if(o){d=window.performance.now();e.debug("Perf: jQuery trigger suppression event handler "+i.type+" took "+(d-a)+" milliseconds.")}return false}}}if(s){return s.call(this,i)}}function n(e){if(!jQuery.event.special[e]){jQuery.event.special[e]={}}var r=jQuery.event.special[e],i=r.trigger;r.trigger=o;return i}function s(e,r,o){var s=t[e];var a=i();if(!s){s=t[e]={domRefs:{},originalTriggerHook:n(e)}}s.domRefs[a]={domRef:r,excludedDomRefs:[].concat(o)};return{id:a,type:e}}function a(r){if(!r){e.error("Release trigger events must not be called without passing a valid handler!");return}var i=t[r.type];if(!i){return}else if(!i.domRefs[r.id]||!i.domRefs[r.id].domRef){e.warning("Release trigger event for event type "+r.type+"on Control "+r.id+": DomRef does not exists");return}delete i.domRefs[r.id]}return{suppress:s,release:a}});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/Cache", ["sap/ui/fl/apply/_internal/flexState/FlexState","sap/ui/fl/Utils","sap/base/Log"],function(e,n,t){"use strict";var r=function(){};function a(n,t){var r=e.getFlexObjectsFromStorageResponse(n);if(t.fileType==="variant"){return r.comp.variants}if(t.selector&&t.selector.persistencyKey){return r.comp.changes}return r.changes}function i(e,n){if(!n){return e}return e===r.NOTAG?e.replace(/>$/,"".concat("-",n,">")):e.concat("-",n)}function c(e){return e.replace(/(^W\/|")/g,"")}r.NOTAG="<NoTag>";r.clearEntries=function(){e.clearState()};r.getChangesFillingCache=function(n,t,r){var a=Promise.resolve();if(r){a=e.clearAndInitialize(t)}return a.then(function(){return e.getStorageResponse(n.name)}).catch(function(){return{}})};r.getCacheKey=function(e,a){if(!e||!e.name||!a){t.warning("Not all parameters were passed to determine a flexibility cache key.");return Promise.resolve(r.NOTAG)}return this.getChangesFillingCache(e).then(function(e){if(e&&e.cacheKey){return c(e.cacheKey)}return r.NOTAG}).then(function(e){var t=a.getModel(n.VARIANT_MODEL_NAME);var r=t?t.getCurrentControlVariantIds():[];return i(e,r.join("-"))})};r.addChange=function(e,n){var t=a(e.name,n);if(!t){return}t.push(n)};r.updateChange=function(e,n){var t=a(e.name,n);if(!t){return}for(var r=0;r<t.length;r++){if(t[r].fileName===n.fileName){t.splice(r,1,n);break}}};r.deleteChange=function(e,n){var t=a(e.name,n);if(!t){return}for(var r=0;r<t.length;r++){if(t[r].fileName===n.fileName){t.splice(r,1);break}}};r.removeChanges=function(n,t){var r=e.getFlexObjectsFromStorageResponse(n.name);if(!r){return}r.changes=r.changes.filter(function(e){return t.indexOf(e.fileName)===-1});var a=e.getVariantsState(n.name);Object.keys(a).forEach(function(e){a[e].variants.forEach(function(e){e.controlChanges=e.controlChanges.filter(function(e){return t.indexOf(e.getId())===-1})})})};return r},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/Change", ["sap/base/util/isPlainObject","sap/ui/base/ManagedObject","sap/ui/core/Core","sap/ui/fl/Layer","sap/ui/fl/Utils","sap/ui/fl/LayerUtils","sap/ui/fl/registry/Settings","sap/base/Log","sap/ui/fl/apply/_internal/appVariant/DescriptorChangeTypes","sap/ui/fl/apply/_internal/flexObjects/States","sap/base/util/includes","sap/base/util/restricted/_isEqual"],function(e,t,i,n,o,r,s,a,p,u,c,f){"use strict";var h=t.extend("sap.ui.fl.Change",{constructor:function(i){t.apply(this);if(!e(i)){a.error("Constructor : sap.ui.fl.Change : oFile is not defined")}this._oDefinition=i;this._sRequest="";this._bUserDependent=i.layer===n.USER;this._vRevertData=null;this._aUndoOperations=null;this._oExtensionPointInfo=null;this.setState(h.states.NEW);this._sPreviousState=null;this._oChangeProcessedPromise=null;this.setInitialApplyState();this._oChangeProcessingPromises={}},metadata:{properties:{state:{type:"string"},applyState:{type:"int"}}}});h.states={NEW:u.NEW,PERSISTED:u.PERSISTED,DELETED:u.DELETED,DIRTY:u.DIRTY};h.applyState={INITIAL:0,APPLYING:1,APPLY_FINISHED:2,REVERTING:3,REVERT_FINISHED:4,APPLY_SUCCESSFUL:5,APPLY_FAILED:6};h.operations={APPLY:0,REVERT:1};h.prototype.setState=function(e){var t=this.getState();if(t!==e&&this._isValidState(e)){this._sPreviousState=t;this.setProperty("state",e)}return this};h.prototype.setQueuedForRevert=function(){if(this._aQueuedProcesses[this._aQueuedProcesses.length-1]!==h.operations.REVERT){this._aQueuedProcesses.unshift(h.operations.REVERT)}};h.prototype.isQueuedForRevert=function(){return this._aQueuedProcesses.indexOf(h.operations.REVERT)>-1};h.prototype.setQueuedForApply=function(){if(this._aQueuedProcesses[this._aQueuedProcesses.length-1]!==h.operations.APPLY){this._aQueuedProcesses.unshift(h.operations.APPLY)}};h.prototype.isQueuedForApply=function(){return this._aQueuedProcesses.indexOf(h.operations.APPLY)>-1};h.prototype.setInitialApplyState=function(){this._aQueuedProcesses=[];delete this._ignoreOnce;this.setApplyState(h.applyState.INITIAL);this._oChangeProcessedPromise={};this._oChangeProcessedPromise.promise=new Promise(function(e){this._oChangeProcessedPromise.resolveFunction={resolve:e}}.bind(this))};h.prototype.isInInitialState=function(){return this._aQueuedProcesses.length===0&&this.getApplyState()===h.applyState.INITIAL};h.prototype.isValidForDependencyMap=function(){return this.getSelector()&&this.getSelector().id};h.prototype.startApplying=function(){this.setApplyState(h.applyState.APPLYING)};h.prototype.markFinished=function(e,t){this._aQueuedProcesses.pop();this._resolveChangeProcessingPromiseWithError(h.operations.APPLY,e);var i=t!==false?h.applyState.APPLY_SUCCESSFUL:h.applyState.APPLY_FAILED;this.setApplyState(i)};h.prototype.markSuccessful=function(e){this.markFinished(e,true)};h.prototype.markFailed=function(e){this.markFinished(e,false)};h.prototype.startReverting=function(){this.setApplyState(h.applyState.REVERTING)};h.prototype.markRevertFinished=function(e){this._aQueuedProcesses.pop();this._resolveChangeProcessingPromiseWithError(h.operations.REVERT,e);this.setApplyState(h.applyState.REVERT_FINISHED)};h.prototype.hasApplyProcessStarted=function(){return this.getApplyState()===h.applyState.APPLYING};h.prototype.isSuccessfullyApplied=function(){return this.getApplyState()===h.applyState.APPLY_SUCCESSFUL};h.prototype.hasApplyProcessFailed=function(){return this.getApplyState()===h.applyState.APPLY_FAILED};h.prototype.isApplyProcessFinished=function(){return this.isSuccessfullyApplied()||this.hasApplyProcessFailed()};h.prototype.hasRevertProcessStarted=function(){return this.getApplyState()===h.applyState.REVERTING};h.prototype.isRevertProcessFinished=function(){return this.getApplyState()===h.applyState.REVERT_FINISHED};h.prototype.isCurrentProcessFinished=function(){return this._aQueuedProcesses.length===0&&this.getApplyState()!==h.applyState.INITIAL};h.prototype.addChangeProcessingPromise=function(e){if(!this._oChangeProcessingPromises[e]){this._oChangeProcessingPromises[e]={};this._oChangeProcessingPromises[e].promise=new Promise(function(t){this._oChangeProcessingPromises[e].resolveFunction={resolve:t}}.bind(this))}return this._oChangeProcessingPromises[e].promise};h.prototype.addChangeProcessingPromises=function(){var e=[];if(this.getApplyState()===h.applyState.INITIAL&&this._oChangeProcessedPromise){e.push(this._oChangeProcessedPromise.promise)}this._aQueuedProcesses.forEach(function(t){e.push(this.addChangeProcessingPromise(t))},this);return e};h.prototype.addPromiseForApplyProcessing=function(){return this.addChangeProcessingPromise(h.operations.APPLY)};h.prototype._resolveChangeProcessingPromiseWithError=function(e,t){if(this._oChangeProcessingPromises[e]){this._oChangeProcessingPromises[e].resolveFunction.resolve(t);delete this._oChangeProcessingPromises[e]}if(this._oChangeProcessedPromise){this._oChangeProcessedPromise.resolveFunction.resolve(t);this._oChangeProcessedPromise=null}};h.prototype._isValidState=function(e){var t=false;Object.keys(h.states).some(function(i){if(h.states[i]===e){t=true}return t});if(!t){return false}if(this.getState()===h.states.NEW&&e===h.states.DIRTY){return false}return true};h.prototype.isVariant=function(){return this.getFileType()==="variant"};h.prototype.getChangeType=function(){return this.getDefinition().changeType};h.prototype.getFileName=function(){return this.getDefinition().fileName};h.prototype.getFileType=function(){return this.getDefinition().fileType};h.prototype.getPackage=function(){return this.getDefinition().packageName};h.prototype.setPackage=function(e){if(typeof e!=="string"){a.error("sap.ui.fl.Change.setPackage : sPackage is not defined")}this._oDefinition.packageName=e};h.prototype.getNamespace=function(){return this.getDefinition().namespace};h.prototype.setNamespace=function(e){this._oDefinition.namespace=e};h.prototype.getModuleName=function(){return this.getDefinition().moduleName};h.prototype.setModuleName=function(e){this._oDefinition.moduleName=e};h.prototype.getProjectId=function(){return this.getDefinition().projectId};h.prototype.getId=function(){return this.getDefinition().fileName};h.prototype.getContent=function(){return this.getDefinition().content};h.prototype.setContent=function(e){if(!f(this._oDefinition.content,e)){this._oDefinition.content=e;this.setState(h.states.DIRTY)}};h.prototype.getVariantReference=function(){return this.getDefinition().variantReference||""};h.prototype.setVariantReference=function(e){this._oDefinition.variantReference=e;this.setState(h.states.DIRTY)};h.prototype.getSelector=function(){return this.getDefinition().selector};h.prototype.setSelector=function(e){this._oDefinition.selector=e};h.prototype.getText=function(e){if(typeof e!=="string"){a.error("sap.ui.fl.Change.getTexts : sTextId is not defined")}if(this.getDefinition().texts){if(this.getDefinition().texts[e]){return this.getDefinition().texts[e].value}}return""};h.prototype.getTexts=function(){if(e(this.getDefinition().texts)){return Object.assign({},this.getDefinition().texts)}return this.getDefinition().texts};h.prototype.setText=function(e,t,i){if(typeof e!=="string"){a.error("sap.ui.fl.Change.setTexts : sTextId is not defined");return}this._oDefinition.texts=this.getDefinition().texts||{};if(this._oDefinition.texts){if(this._oDefinition.texts[e]){this._oDefinition.texts[e].value=t}else{this._oDefinition.texts[e]={value:t,type:i}}this.setState(h.states.DIRTY)}};h.prototype.getODataInformation=function(){return this.getDefinition().oDataInformation};h.prototype.isChangeFromOtherSystem=function(){var e=this._oDefinition.sourceSystem;var t=this._oDefinition.sourceClient;if(!e||!t){return false}var i=s.getInstanceOrUndef();if(!i){return true}var n=i.getSystem();var o=i.getClient();if(!n||!o){return false}return e!==n||t!==o};h.prototype.markForDeletion=function(){this.setState(h.states.DELETED)};h.prototype.restorePreviousState=function(){if(this._sPreviousState){this.setState(this._sPreviousState);delete this._sPreviousState}};h.prototype.setRequest=function(e){if(typeof e!=="string"){a.error("sap.ui.fl.Change.setRequest : sRequest is not defined")}this._sRequest=e};h.prototype.getRequest=function(){return this._sRequest};h.prototype.getLayer=function(){return this.getDefinition().layer};h.prototype.getComponent=function(){return this.getDefinition().reference};h.prototype.setComponent=function(e){this._oDefinition.reference=e};h.prototype.getCreation=function(){return this.getDefinition().creation};h.prototype.setCreation=function(e){this._oDefinition.creation=e};h.prototype.isUserDependent=function(){return this._bUserDependent};h.prototype.getDefinition=function(){return this._oDefinition};h.prototype.convertToFileContent=function(){return this.getDefinition()};h.prototype.setResponse=function(e){var t=JSON.stringify(e);if(t){this._oDefinition=JSON.parse(t);this.setState(h.states.PERSISTED)}};h.prototype.addDependentControl=function(e,t,i,n){if(!e){throw new Error("Parameter vControl is mandatory")}if(!t){throw new Error("Parameter sAlias is mandatory")}if(!i){throw new Error("Parameter mPropertyBag is mandatory")}if(!this._oDefinition.dependentSelector){this._oDefinition.dependentSelector={}}if(this._oDefinition.dependentSelector[t]){throw new Error("Alias '"+t+"' already exists in the change.")}var o=i.modifier;var r=i.appComponent;if(Array.isArray(e)){var s=[];e.forEach(function(e){s.push(o.getSelector(e,r,n))});this._oDefinition.dependentSelector[t]=s}else{this._oDefinition.dependentSelector[t]=o.getSelector(e,r,n)}delete this._aDependentSelectorList};h.prototype.getDependentControl=function(e,t){var i=[];var n;if(!e){throw new Error("Parameter sAlias is mandatory")}if(!t){throw new Error("Parameter mPropertyBag is mandatory")}var o=t.modifier;var r=t.appComponent;if(!this._oDefinition.dependentSelector){return undefined}n=this._oDefinition.dependentSelector[e];if(Array.isArray(n)){n.forEach(function(e){i.push(o.bySelector(e,r,t.view))});return i}return o.bySelector(n,r,t.view)};h.prototype.getOriginalSelector=function(){return this.getDefinition().dependentSelector&&this.getDefinition().dependentSelector.originalSelector};h.prototype.getDependentSelector=function(){return this.getDefinition().dependentSelector};h.prototype.setDependentSelector=function(e){this._oDefinition.dependentSelector=e};h.prototype.getDependentSelectorList=function(){var e=this;var t=[this.getSelector()];if(!this._aDependentSelectorList){if(this.getDefinition().dependentSelector){Object.keys(this.getDefinition().dependentSelector).some(function(i){if(i==="originalSelector"){t=[this.getSelector()];return true}var n=e.getDefinition().dependentSelector[i];if(!Array.isArray(n)){n=[n]}n.forEach(function(e){if(e&&o.indexOfObject(t,e)===-1){t.push(e)}})}.bind(this))}this._aDependentSelectorList=t}return this._aDependentSelectorList};h.prototype.getDependentControlSelectorList=function(){var e=this.getDependentSelectorList().concat();if(e.length>0){var t=this.getSelector();var i=o.indexOfObject(e,t);if(i>-1){e.splice(i,1)}}return e};h.prototype.getRevertData=function(){if(e(this._vRevertData)){return Object.assign({},this._vRevertData)}return this._vRevertData};h.prototype.hasRevertData=function(){return this._vRevertData!==null};h.prototype.setRevertData=function(e){if(e===undefined){throw new Error("Change cannot be applied in XML as revert data is not available yet. Retrying in JS.")}this._vRevertData=e};h.prototype.resetRevertData=function(){this.setRevertData(null)};h.prototype.getExtensionPointInfo=function(){if(e(this._oExtensionPointInfo)){return Object.assign({},this._oExtensionPointInfo)}return this._oExtensionPointInfo};h.prototype.setExtensionPointInfo=function(e){this._oExtensionPointInfo=e};h.prototype.getSupportInformation=function(){return Object.assign({},this._oDefinition.support)};h.prototype.setSupportInformation=function(e){this._oDefinition.support=e};h.prototype.getJsOnly=function(){return this.getDefinition().jsOnly};h.prototype.setJsOnly=function(e){this._oDefinition.jsOnly=e};h.prototype.isAppDescriptorChange=function(){return this.getDefinition().appDescriptorChange};h.createInitialFileContent=function(e){if(!e){e={}}var t;if(e.fileType){t=e.fileType}else{t=e.isVariant?"variant":"change"}var s={fileName:e.id||o.createDefaultFileName(e.changeType),fileType:t,changeType:e.changeType||"",moduleName:e.moduleName||"",reference:e.reference||"",packageName:e.packageName||"",content:e.content||{},selector:e.selector||{id:""},layer:e.layer||(e.isUserDependent?n.USER:r.getCurrentLayer()),texts:e.texts||{},namespace:e.namespace||o.createNamespace(e,t),projectId:e.projectId||e.reference&&e.reference.replace(".Component","")||"",creation:"",originalLanguage:o.getCurrentLanguage()||"",support:{generator:e.generator||"Change.createInitialFileContent",service:e.service||"",user:"",sapui5Version:i.getConfiguration().getVersion().toString(),sourceChangeFileName:e.support&&e.support.sourceChangeFileName||"",compositeCommand:e.support&&e.support.compositeCommand||"",command:e.command||e.support&&e.support.command||""},oDataInformation:e.oDataInformation||{},dependentSelector:e.dependentSelector||{},jsOnly:e.jsOnly||false,variantReference:e.variantReference||"",appDescriptorChange:c(p.getChangeTypes(),e.changeType)};return s};return h},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/ChangePersistence", ["sap/base/util/restricted/_union","sap/base/util/includes","sap/base/util/merge","sap/base/util/UriParameters","sap/base/Log","sap/ui/core/util/reflection/JsControlTreeModifier","sap/ui/core/Component","sap/ui/fl/apply/_internal/changes/Applier","sap/ui/fl/apply/_internal/changes/Utils","sap/ui/fl/apply/_internal/flexObjects/FlexObject","sap/ui/fl/apply/_internal/flexObjects/FlexObjectFactory","sap/ui/fl/apply/_internal/flexState/changes/DependencyHandler","sap/ui/fl/apply/_internal/flexState/controlVariants/VariantManagementState","sap/ui/fl/apply/_internal/flexState/FlexState","sap/ui/fl/initial/_internal/StorageUtils","sap/ui/fl/registry/Settings","sap/ui/fl/write/_internal/condenser/Condenser","sap/ui/fl/write/_internal/Storage","sap/ui/fl/write/api/Version","sap/ui/fl/Cache","sap/ui/fl/Change","sap/ui/fl/LayerUtils","sap/ui/fl/Layer","sap/ui/fl/Utils","sap/ui/model/json/JSONModel","sap/ui/performance/Measurement"],function(e,t,n,a,r,i,s,o,h,l,g,c,p,u,f,d,C,m,y,_,v,D,S,b,E,I){"use strict";var M=function(e){this._mComponent=e;this._mChanges=c.createEmptyDependencyMap();this._bChangesMapCreated=false;this._mChangesInitial=n({},this._mChanges);if(!this._mComponent||!this._mComponent.name){r.error("The Control does not belong to an SAPUI5 component. Personalization and changes for this control might not work as expected.");throw new Error("Missing component name.")}this._aDirtyChanges=[];this._oMessagebundle=undefined;this._mChangesEntries={};this._bHasChangesOverMaxLayer=false;this.HIGHER_LAYER_CHANGES_EXIST="higher_layer_changes_exist"};function F(e,t){var n;if(t instanceof v||t instanceof l){n=t;this._mChangesEntries[n.getId()]=n}else{if(!this._mChangesEntries[t.fileName]){if(t.changeType==="codeExt"){this._mChangesEntries[t.fileName]=g.createFromFileContent(t)}else{this._mChangesEntries[t.fileName]=new v(t)}}n=this._mChangesEntries[t.fileName];n.setState(v.states.PERSISTED)}return n}M.prototype.getComponentName=function(){return this._mComponent.name};M.prototype.getCacheKey=function(e){return _.getCacheKey(this._mComponent,e)};function O(e){var t;var n;var a;var r;if(e instanceof v){var i=e;t=i.getFileType();a=i.getVariantReference();r=i.getSelector()&&i.getSelector().id}else{var s=e;t=s.fileType;n=s.variantManagementReference;a=s.variantReference;r=s.selector&&s.selector.id}var o=false;if(t==="ctrl_variant"||t==="ctrl_variant_change"||t==="ctrl_variant_management_change"){o=n||a||r}return t==="change"||o}M.prototype.getChangesForComponent=function(e,t){return b.getUShellService("URLParsing").then(function(n){this._oUShellURLParsingService=n;return _.getChangesFillingCache(this._mComponent,e,t)}.bind(this)).then(function(e,t){var a=n({},t);var r=e&&e.component&&b.getAppComponentForControl(e.component);var i=f.isStorageResponseFilled(a.changes);if(!i){return[]}var s=a.changes.changes;if(!this._oMessagebundle&&a.messagebundle&&r){if(!r.getModel("i18nFlexVendor")){if(s.some(function(e){return e.layer===S.VENDOR})){this._oMessagebundle=a.messagebundle;var o=new E(this._oMessagebundle);r.setModel(o,"i18nFlexVendor")}}}var h=e&&e.currentLayer;var l=!(e&&e.ignoreMaxLayerParameter);var g=function(){return true};if(h){s=D.filterChangeOrChangeDefinitionsByCurrentLayer(s,h)}else if(D.isLayerFilteringRequired(this._oUShellURLParsingService)&&l){g=L.bind(this);s=s.filter(g)}else if(this._bHasChangesOverMaxLayer&&!l){this._bHasChangesOverMaxLayer=false;return this.HIGHER_LAYER_CHANGES_EXIST}var c=a.changes&&e&&e.includeCtrlVariants;var p=this._getAllCtrlVariantChanges(a,c,g);s=s.concat(p);return this._checkAndGetChangeInstances(s,a)}.bind(this,e))};M.prototype._checkAndGetChangeInstances=function(e,t){return e.filter(O).map(F.bind(this,t))};function L(e){if(D.isOverMaxLayer(x(e),this._oUShellURLParsingService)){if(!this._bHasChangesOverMaxLayer){this._bHasChangesOverMaxLayer=true}return false}return true}function x(e){var t;if(typeof e.isA==="function"&&(e.isA("sap.ui.fl.apply._internal.flexObjects.FlVariant")||e.isA("sap.ui.fl.Change"))){t=e.getLayer()}else{t=e.layer}return t}M.prototype._getAllCtrlVariantChanges=function(e,t,n){if(!t){return p.getInitialChanges({reference:this._mComponent.name})}return["variants","variantChanges","variantDependentControlChanges","variantManagementChanges"].reduce(function(t,n){if(e.changes[n]){return t.concat(e.changes[n])}return t},[]).filter(n)};M.prototype.loadChangesMapForComponent=function(e){return this.getChangesForComponent({component:e}).then(t.bind(this));function t(t){I.start("fl.createDependencyMap","Measurement of creating initial dependency map");this._mChanges=c.createEmptyDependencyMap();t.forEach(this.addChangeAndUpdateDependencies.bind(this,e));this._mChangesInitial=n({},this._mChanges);I.end("fl.createDependencyMap","Measurement of creating initial dependency map");this._bChangesMapCreated=true;return this.getChangesMapForComponent.bind(this)}};M.prototype.getOpenDependentChangesForControl=function(e,t){return c.getOpenDependentChangesForControl(this._mChanges,i.getControlIdBySelector(e,t),t)};function A(e){var t=n({},this._mChangesInitial.mDependencies);return t[e.getId()]}function R(e,n,a,r){var s;var o=[];e.controlsDependencies.forEach(function(e){if(!i.bySelector(e,a)){s=i.getControlIdBySelector(e,a);o.push(e);this._mChanges.mControlsWithDependencies[s]=this._mChanges.mControlsWithDependencies[s]||[];if(!t(this._mChanges.mControlsWithDependencies[s],r.getId())){this._mChanges.mControlsWithDependencies[s].push(r.getId())}}}.bind(this));e.dependencies=n;e.controlsDependencies=o;if(n.length||o.length){this._mChanges.mDependencies[r.getId()]=e}}M.prototype.copyDependenciesFromInitialChangesMapSync=function(e,t,n){var a=A.call(this,e);if(a){var r=[];a.dependencies.forEach(function(n){if(t(n)){this._mChanges.mDependentChangesOnMe[n]=this._mChanges.mDependentChangesOnMe[n]||[];this._mChanges.mDependentChangesOnMe[n].push(e.getId());r.push(n)}}.bind(this));R.call(this,a,r,n,e)}return this._mChanges};M.prototype.copyDependenciesFromInitialChangesMap=function(e,t,n){var a=A.call(this,e);if(a){var r=[];return a.dependencies.reduce(function(n,a){return n.then(function(){return t(a)}).then(function(t){if(t){this._mChanges.mDependentChangesOnMe[a]=this._mChanges.mDependentChangesOnMe[a]||[];this._mChanges.mDependentChangesOnMe[a].push(e.getId());r.push(a)}}.bind(this))}.bind(this),Promise.resolve()).then(function(){R.call(this,a,r,n,e);return this._mChanges}.bind(this))}return Promise.resolve(this._mChanges)};M.prototype.addChangeAndUpdateDependencies=function(e,t,n){t.setInitialApplyState();if(n){c.insertChange(t,this._mChanges,n)}c.addChangeAndUpdateDependencies(t,e,this._mChanges)};M.prototype._addRunTimeCreatedChangeAndUpdateDependencies=function(e,t){c.addRuntimeChangeAndUpdateDependencies(t,e,this._mChanges,this._mChangesInitial)};M.prototype.getChangesMapForComponent=function(){return this._mChanges};M.prototype.getAllUIChanges=function(t){var n=e(this.getChangesMapForComponent().aChanges,t.includeDirtyChanges&&this.getDirtyChanges()).filter(function(e){return Boolean(e)&&e.getFileType()==="change"&&D.compareAgainstCurrentLayer(e.getLayer(),t.layer)===0});return n};M.prototype.isChangeMapCreated=function(){return this._bChangesMapCreated};M.prototype.getChangesForView=function(e){return this.getChangesForComponent(e).then(function(t){return t.filter(h.filterChangeByView.bind(undefined,e))})};M.prototype.addChange=function(e,t){var n=this.addDirtyChange(e);this._addRunTimeCreatedChangeAndUpdateDependencies(t,n);this._mChangesEntries[n.getId()]=n;this._addPropagationListener(t);return n};M.prototype.addDirtyChange=function(e){var t;if(typeof e.isA==="function"&&(e.isA("sap.ui.fl.Change")||e.isA("sap.ui.fl.apply._internal.flexObjects.FlexObject"))){t=e}else{t=new v(e)}if(this._aDirtyChanges.indexOf(t)===-1){this._aDirtyChanges.push(t)}return t};M.prototype._addPropagationListener=function(e){var t=b.getAppComponentForControl(e);if(t instanceof s){var n=function(e){return!e._bIsSapUiFlFlexControllerApplyChangesOnControl};var a=t.getPropagationListeners().every(n);if(a){var r=sap.ui.require("sap/ui/fl/FlexControllerFactory");var i=r.create(this.getComponentName());var h=o.applyAllChangesForControl.bind(o,this.getChangesMapForComponent.bind(this),t,i);h._bIsSapUiFlFlexControllerApplyChangesOnControl=true;t.addPropagationListener(h)}}};M.prototype._deleteNotSavedChanges=function(e,t,n){e.filter(function(e){return!t.some(function(t){return e.getId()===t.getId()})}).forEach(function(e){if(n){this.removeChange(e);_.deleteChange(this._mComponent,e.convertToFileContent())}else{this.deleteChange(e)}}.bind(this))};function T(e,t){var n=e.map(function(e){return e[t]()});var a=n.filter(function(e,t,n){return n.indexOf(e)===t});return a.length===1}function U(e,t,n){var r=false;if(!e||t.length<2||!T(t,"getLayer")){return false}if(n){r=true}else{var i=t[0].getLayer();if([S.CUSTOMER,S.USER].includes(i)){r=true}}var s=a.fromURL(window.location.href);if(s.has("sap-ui-xx-condense-changes")){r=s.get("sap-ui-xx-condense-changes")==="true"}return r}function N(e){var t=d.getInstanceOrUndef()&&d.getInstanceOrUndef().isCondensingEnabled();if(t&&!T(e,"getNamespace")){t=false}return t}function P(e,t,n,a){this._massUpdateCacheAndDirtyState(t,n);this._deleteNotSavedChanges(e,t,a)}function V(e,t,n,a){if(!e.length&&!n){return[]}var r=this._mChanges.aChanges.filter(function(e){if(a===S.CUSTOMER&&t){return e.getState()===v.states.PERSISTED&&t.includes(e.getId())}return e.getState()===v.states.PERSISTED&&D.compareAgainstCurrentLayer(e.getLayer(),a)===0});return r.concat(e)}function w(e){if(e.length){var t=j(e);var n=q(e);return n.length===1&&t.length===1&&n[0]===v.states.NEW}return true}M.prototype.saveDirtyChanges=function(e,t,n,a,r,i,s){var o=n||this._aDirtyChanges;var h=o.length&&o[0].getLayer()||s;var l=V.call(this,o,r,i,h);var g=N(l)&&U(e,l,i);var c=g?l:o;var p=c.slice(0);var u=j(o);if(w(o)){var f=Promise.resolve(p);if(U(e,p,i)){f=C.condense(e,p)}return f.then(function(e){var n=u[0];if(g){return m.condense({allChanges:c,condensedChanges:e,layer:h,transport:n,isLegacyVariant:false,parentVersion:a}).then(function(n){P.call(this,c,e,t,true);return n}.bind(this))}if(e.length){return m.write({layer:h,flexObjects:B(e),transport:n,isLegacyVariant:false,parentVersion:a}).then(function(n){P.call(this,c,e,t);return n}.bind(this))}this._deleteNotSavedChanges(c,e)}.bind(this))}return this.saveSequenceOfDirtyChanges(o,t,a)};M.prototype.saveSequenceOfDirtyChanges=function(e,t,n){var a;if(n){var r=e.filter(function(e){return e.getState()===v.states.NEW});a=[].concat(r).shift()}return e.reduce(function(e,r){return e.then(H.bind(undefined,r,a,n)).then(this._updateCacheAndDirtyState.bind(this,r,t))}.bind(this),Promise.resolve())};function H(e,t,n){switch(e.getState()){case v.states.NEW:if(n!==undefined){n=e===t?n:y.Number.Draft}return m.write({layer:e.getLayer(),flexObjects:[e.convertToFileContent()],transport:e.getRequest(),parentVersion:n});case v.states.DELETED:return m.remove({flexObject:e.convertToFileContent(),layer:e.getLayer(),transport:e.getRequest(),parentVersion:n});default:}}M.prototype._updateCacheAndDirtyState=function(e,t){this._aDirtyChanges=this._aDirtyChanges.filter(function(t){return e.getId()!==t.getId()});if(!t){if(b.isChangeRelatedToVariants(e)){p.updateVariantsState({reference:this._mComponent.name,changeToBeAddedOrDeleted:e})}else{switch(e.getState()){case v.states.NEW:e.setState(v.states.PERSISTED);_.addChange(this._mComponent,e.convertToFileContent());break;case v.states.DELETED:_.deleteChange(this._mComponent,e.convertToFileContent());break;case v.states.DIRTY:e.setState(v.states.PERSISTED);_.updateChange(this._mComponent,e.convertToFileContent());break}}}};M.prototype._massUpdateCacheAndDirtyState=function(e,t){e.forEach(function(e){this._updateCacheAndDirtyState(e,t)},this)};function j(e){var t=[];e.forEach(function(e){var n=e.getRequest();if(t.indexOf(n)===-1){t.push(n)}});return t}function q(e){var t=[];e.forEach(function(e){var n=e.getState();if(t.indexOf(n)===-1){t.push(n)}});return t}function B(e){var t=[];e.forEach(function(e){t.push(e.convertToFileContent())});return t}M.prototype.getDirtyChanges=function(){return this._aDirtyChanges};M.prototype.deleteChange=function(e,t){var n=this._aDirtyChanges.indexOf(e);if(n>-1){if(e.getState()===v.states.DELETED){return}this._aDirtyChanges.splice(n,1);this._deleteChangeInMap(e,t);return}e.markForDeletion();this.addDirtyChange(e);this._deleteChangeInMap(e,t)};M.prototype.removeChange=function(e){var t=this._aDirtyChanges.indexOf(e);if(t>-1){this._aDirtyChanges.splice(t,1)}this._deleteChangeInMap(e)};M.prototype._deleteChangeInMap=function(e,t){var n=e.getId();c.removeChangeFromMap(this._mChanges,n);c.removeChangeFromDependencies(t?this._mChangesInitial:this._mChanges,n)};function W(e,t){return(t.getRequest()==="$TMP"||t.getRequest()==="")&&t.getLayer()===e}function k(e,t){return t.getState()===v.states.PERSISTED&&t.getLayer()===e}function G(){var e=[];var t=u.getCompVariantsMap(this.getComponentName());for(var n in t){for(var a in t[n].byId){e.push(t[n].byId[a])}}return e}M.prototype.transportAllUIChanges=function(e,t,n,a){return this.getChangesForComponent({currentLayer:n,includeCtrlVariants:true}).then(function(r){var i=G.call(this);r=r.concat(i.filter(W.bind(this,n)));return m.publish({transportDialogSettings:{rootControl:e,styleClass:t},layer:n,reference:this.getComponentName(),localChanges:r,appVariantDescriptors:a})}.bind(this))};M.prototype._getChangesFromMapByNames=function(e){return this._mChanges.aChanges.filter(function(t){return e.indexOf(t.getId())!==-1})};M.prototype.removeDirtyChanges=function(e,t,n,a,r){var s=[].concat(e||[]);var o=this._aDirtyChanges;var h=o.filter(function(e){var o=true;if(s.length&&!s.includes(e.getLayer())){return false}if(a&&e.getSupportInformation().generator!==a){return false}if(n){var h=e.getSelector();o=n.getId()===i.getControlIdBySelector(h,t)}if(r){o=o&&r.indexOf(e.getChangeType())!==-1}return o});h.forEach(function(e){var t=o.indexOf(e);o.splice(t,1)});return Promise.resolve(h)};M.prototype.resetChanges=function(e,t,n,a){var r=n&&n.length>0;var i=a&&a.length>0;var s=d.getInstanceOrUndef()&&d.getInstanceOrUndef().isPublicLayerAvailable();var o=t===undefined&&n===undefined&&a===undefined;var h=[];if(s&&o){h=G.call(this).filter(k.bind(this,e))}return this.getChangesForComponent({currentLayer:e,includeCtrlVariants:true}).then(function(s){s=s.concat(h);var o={reference:this.getComponentName(),layer:e,changes:s};if(t){o.generator=t}if(r){o.selectorIds=n}if(i){o.changeTypes=a}return m.reset(o)}.bind(this)).then(function(e){var t=[];if(n||a){var r=[];if(e&&e.response&&e.response.length>0){e.response.forEach(function(e){r.push(e.fileName)})}_.removeChanges(this._mComponent,r);t=this._getChangesFromMapByNames(r)}return t}.bind(this))};return M});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/ChangePersistenceFactory", ["sap/ui/core/Component","sap/ui/fl/apply/_internal/flexState/FlexState","sap/ui/fl/apply/_internal/flexState/ManifestUtils","sap/ui/fl/ChangePersistence","sap/ui/fl/Utils","sap/ui/fl/apply/_internal/changes/descriptor/ApplyStrategyFactory","sap/ui/fl/apply/_internal/changes/descriptor/Applier"],function(e,n,t,a,i,o,r){"use strict";var s={};s._instanceCache={};s.getChangePersistenceForComponent=function(e){var n=s._instanceCache[e];if(!n){var t={name:e};n=new a(t);s._instanceCache[e]=n}return n};s.getChangePersistenceForControl=function(e){var n;n=t.getFlexReferenceForControl(e);return s.getChangePersistenceForComponent(n)};s.registerLoadComponentEventHandler=function(){e._fnLoadComponentCallback=this._onLoadComponent.bind(this)};s._onLoadComponent=function(e,t){if(!i.isApplication(t)||!e.id){return Promise.resolve()}n.initialize({componentData:e.componentData||e.settings&&e.settings.componentData,asyncHints:e.asyncHints,manifest:t,componentId:e.id});return r.applyChangesIncludedInManifest(t,o.getRuntimeStrategy())};return s},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/FlexController", ["sap/ui/fl/initial/_internal/changeHandlers/ChangeHandlerStorage","sap/ui/fl/Utils","sap/ui/fl/Layer","sap/ui/fl/Change","sap/ui/fl/ChangePersistenceFactory","sap/ui/fl/write/_internal/Versions","sap/ui/fl/apply/_internal/changes/Applier","sap/ui/fl/apply/_internal/changes/Reverter","sap/ui/fl/apply/_internal/controlVariants/URLHandler","sap/ui/core/util/reflection/JsControlTreeModifier","sap/ui/core/util/reflection/XmlTreeModifier","sap/ui/core/Component","sap/base/Log"],function(e,n,t,r,o,i,a,s,h,p,c,u,g){"use strict";function l(e,t,r){return Promise.resolve().then(function(){if(r.length!==0){r.reverse();return s.revertMultipleChanges(r,{appComponent:e,modifier:p,flexController:this})}}.bind(this)).then(function(){if(e){var o=e.getModel(n.VARIANT_MODEL_NAME);if(o){r.forEach(function(e){var n=e.getVariantReference();if(n){o.removeChange(e)}});if(!t){h.update({parameters:[],updateURL:true,updateHashEntry:true,model:o})}}}return r})}var f=function(e){this._oChangePersistence=undefined;this._sComponentName=e||"";if(this._sComponentName){this._oChangePersistence=o.getChangePersistenceForComponent(this.getComponentName())}};f.prototype.getComponentName=function(){return this._sComponentName};f.prototype.setVariantSwitchPromise=function(e){this._oVariantSwitchPromise=e};f.prototype.waitForVariantSwitch=function(){if(!this._oVariantSwitchPromise){this._oVariantSwitchPromise=Promise.resolve()}return this._oVariantSwitchPromise};f.prototype.createBaseChange=function(e,n){var t;var o;if(!n){throw new Error("No application component found. To offer flexibility a valid relation to its owning component must be present.")}e.reference=this.getComponentName();e.packageName="$TMP";t=r.createInitialFileContent(e);o=new r(t);if(e.variantReference){o.setVariantReference(e.variantReference)}return o};f.prototype._createChange=function(t,o,i){var a=i&&(i.controlType||n.getControlType(i));var s=this.createBaseChange(t,o);return e.getChangeHandler(s.getChangeType(),a,i,p,s.getLayer()).then(function(e){if(e){return e.completeChangeContent(s,t,{modifier:p,appComponent:o,view:n.getViewForControl(i)})}throw new Error("Change handler could not be retrieved for change "+JSON.stringify(t)+".")}).then(function(){s.setState(r.states.NEW);return s}).catch(function(e){return Promise.reject(e)})};f.prototype.createChangeWithExtensionPointSelector=function(e,t){return Promise.resolve().then(function(){if(!t){throw new Error("A flexibility change on extension point cannot be created without a valid extension point reference.")}var r=t.view;var o=n.getAppComponentForControl(r);e.selector={name:t.name,viewSelector:p.getSelector(r.getId(),o)};return o}).then(function(n){return this._createChange(e,n)}.bind(this))};f.prototype.createChangeWithControlSelector=function(e,t){var r;return(new n.FakePromise).then(function(){if(!t){throw new Error("A flexibility change cannot be created without a targeted control.")}var o=t.id||t.getId();if(!e.selector){e.selector={}}r=t.appComponent||n.getAppComponentForControl(t);if(!r){throw new Error("No application component found. To offer flexibility, the control with the ID '"+o+"' has to have a valid relation to its owning application component.")}Object.assign(e.selector,p.getSelector(o,r));return r}).then(function(n){return this._createChange(e,n,t)}.bind(this))};f.prototype.addChange=function(e,t){return this.createChangeWithControlSelector(e,t).then(function(e){var r=n.getAppComponentForControl(t);e._ignoreOnce=true;this.addPreparedChange(e,r);e.setQueuedForApply();return e}.bind(this))};f.prototype.addPreparedChange=function(e,t){if(e.getVariantReference()){var r=t.getModel(n.VARIANT_MODEL_NAME);r.addChange(e)}this._oChangePersistence.addChange(e,t);return e};f.prototype.deleteChange=function(e,t){this._oChangePersistence.deleteChange(e);if(e.getVariantReference()){t.getModel(n.VARIANT_MODEL_NAME).removeChange(e)}};f.prototype.applyChange=function(e,t){var r={modifier:p,appComponent:n.getAppComponentForControl(t),view:n.getViewForControl(t)};return a.applyChangeOnControl(e,t,r).then(function(n){if(!n.success){var t=n.error||new Error("The change could not be applied.");this._oChangePersistence.deleteChange(e,true);throw t}return e}.bind(this))};function C(e,t,r,o,i){var a=d(e,o);if(!a){return[]}i.push(e);var s=e.getId();var h=t[s]&&t[s].dependencies||[];for(var p=0,c=h.length;p<c;p++){var u=n.getChangeFromChangesMap(r,h[p]);a=C(u,t,r,o,i);if(a.length===0){i=[];break}delete t[s]}return i}function d(e,n){var t=e.getDependentControlSelectorList();t.push(e.getSelector());return!t.some(function(e){return!p.bySelector(e,n)})}f.prototype.waitForChangesToBeApplied=function(e){var n=e.map(function(e){return this._waitForChangesToBeApplied(e)}.bind(this));return Promise.all(n).then(function(){return undefined})};f.prototype._waitForChangesToBeApplied=function(e){function t(n){return!n.isCurrentProcessFinished()&&(e.changeTypes.length===0||e.changeTypes.includes(n.getChangeType()))}e.changeTypes=e.changeTypes||[];var r=e.selector.id&&sap.ui.getCore().byId(e.selector.id)||e.selector;var o=this._oChangePersistence.getChangesMapForComponent();var i=[];var a=Object.assign({},o.mDependencies);var s=o.mChanges;var h=s[r.getId()]||[];var p=h.filter(t);var c=e.selector.appComponent||n.getAppComponentForControl(r);var u=[];p.forEach(function(e){var n=C(e,a,o.mChanges,c,[]);n.forEach(function(e){if(u.indexOf(e)===-1){u.push(e)}})});u.forEach(function(e){i=i.concat(e.addChangeProcessingPromises())},this);i.push(this.waitForVariantSwitch());return Promise.all(i)};f.prototype._removeOtherLayerChanges=function(e,n,r){if(r&&n){var o=Object.values(t).filter(function(e){return e!==n});return this.removeDirtyChanges(o,e,undefined,undefined,undefined,true)}return Promise.resolve()};f.prototype.saveAll=function(e,r,o,a,s,h){var p;var c;if(o){var u=i.getVersionsModel({reference:n.normalizeReference(this._sComponentName),layer:t.CUSTOMER});p=u.getProperty("/persistedVersion");c=u.getProperty("/draftFilenames")}return this._removeOtherLayerChanges(e,a,s).then(this._oChangePersistence.saveDirtyChanges.bind(this._oChangePersistence,e,r,undefined,p,c,h,a)).then(function(e){if(o&&e&&e.response){var n=e.response;if(Array.isArray(n)){n=n[0]}i.onAllChangesSaved({reference:n.reference,layer:n.layer})}return e})};f.prototype.processXmlView=function(e,t){var r=u.get(t.componentId);var o=n.getAppComponentForControl(r);t.appComponent=o;t.modifier=c;t.view=e;return this._oChangePersistence.getChangesForView(t).then(a.applyAllChangesForXMLView.bind(a,t)).catch(m.bind(this,t.view))};function m(e,n){g.error("Error processing view "+n+".");return e}f.prototype.getComponentChanges=function(e,n){return this._oChangePersistence.getChangesForComponent(e,n)};f.prototype.getOpenDependentChangesForControl=function(e,n){return this._oChangePersistence.getOpenDependentChangesForControl(e,n)};f.prototype.resetChanges=function(e,n,t,r,o){return this._oChangePersistence.resetChanges(e,n,r,o).then(l.bind(this,t,undefined))};f.prototype.removeDirtyChanges=function(e,n,t,r,o,i){return this._oChangePersistence.removeDirtyChanges(e,n,t,r,o).then(l.bind(this,n,i))};f.prototype.applyVariantChanges=function(e,t){var r;return e.reduce(function(e,n){return e.then(function(){var e={modifier:p,appComponent:t};this._oChangePersistence._addRunTimeCreatedChangeAndUpdateDependencies(t,n);r=e.modifier.bySelector(n.getSelector(),t);if(r){return a.applyChangeOnControl(n,r,e)}g.error("A flexibility change tries to change a nonexistent control.")}.bind(this))}.bind(this),new n.FakePromise)};f.prototype.saveSequenceOfDirtyChanges=function(e,n){return this._oChangePersistence.saveDirtyChanges(n,false,e)};return f});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/FlexControllerFactory", ["sap/ui/fl/FlexController","sap/ui/fl/Utils","sap/ui/fl/Layer","sap/ui/fl/apply/_internal/changes/Applier","sap/ui/fl/apply/_internal/flexState/FlexState","sap/ui/fl/apply/_internal/flexState/ManifestUtils","sap/ui/fl/variants/VariantModel","sap/base/Log","sap/ui/performance/Measurement"],function(e,n,t,r,o,a,i,s,l){"use strict";var p={};p._instanceCache={};p._componentInstantiationPromises=new WeakMap;p.create=function(n){var t=p._instanceCache[n];if(!t){t=new e(n);p._instanceCache[n]=t}return t};p.createForControl=function(e){try{var t=n.getAppComponentForControl(e);var r=a.getFlexReferenceForControl(t||e);return p.create(r)}catch(e){s.error(e.message,undefined,"sap.ui.fl.FlexControllerFactory")}};function c(e,r){if(n.getUshellContainer()){return Promise.resolve(e)}var o=window.sessionStorage.getItem("sap.ui.rta.restart."+t.CUSTOMER);if(o){var i=a.getFlexReferenceForControl(r);if(o!==i&&o!=="true"){s.error("an application component was started "+"which does not match the component for which the restart was triggered:\n"+"Triggering component: "+o+"\n"+"Started component: "+i);return Promise.resolve(e)}window.sessionStorage.removeItem("sap.ui.rta.restart."+t.CUSTOMER);return new Promise(function(n,t){Promise.all([sap.ui.getCore().loadLibrary("sap.ui.rta",{async:true}),r.rootControlLoaded()]).then(function(){sap.ui.require(["sap/ui/rta/api/startKeyUserAdaptation"],function(t){t({rootControl:r});n(e)})}).catch(function(e){t(e)})})}return Promise.resolve(e)}p.getChangesAndPropagate=function(e,t){if(n.isApplicationComponent(e)){var r=e.getId();o.clearFilteredResponse(a.getFlexReferenceForControl(e));var i=o.initialize({componentId:r,asyncHints:t.asyncHints}).then(u.bind(this,e));p._componentInstantiationPromises.set(e,i);return i}else if(n.isEmbeddedComponent(e)){var s=n.getAppComponentForControl(e);if(s&&n.isApplicationComponent(s)){var l=Promise.resolve();if(p._componentInstantiationPromises.has(s)){l=p._componentInstantiationPromises.get(s)}return l.then(function(){var e=s.getModel(n.VARIANT_MODEL_NAME);if(!e){return u(s)}return e}).then(function(t){e.setModel(t,n.VARIANT_MODEL_NAME)})}return Promise.resolve()}};function u(e){var t=e.getManifestObject();var o=p.createForControl(e,t);var a;return o._oChangePersistence.loadChangesMapForComponent(e).then(function(n){var t=r.applyAllChangesForControl.bind(r,n,e,o);t._bIsSapUiFlFlexControllerApplyChangesOnControl=true;e.addPropagationListener(t);a=new i({},{flexController:o,appComponent:e});return a.initialize()}).then(function(){e.setModel(a,n.VARIANT_MODEL_NAME);l.end("flexProcessing");return a}).then(function(n){return c(n,e)})}return p},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/Layer", [],function(){"use strict";return{USER:"USER",PUBLIC:"PUBLIC",CUSTOMER:"CUSTOMER",CUSTOMER_BASE:"CUSTOMER_BASE",PARTNER:"PARTNER",VENDOR:"VENDOR",BASE:"BASE"}});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/LayerUtils", ["sap/base/util/UriParameters","sap/ui/thirdparty/hasher","sap/ui/fl/Layer"],function(e,r,t){"use strict";var n=[t.BASE,t.VENDOR,t.PARTNER,t.CUSTOMER_BASE,t.CUSTOMER,t.PUBLIC,t.USER];var a={};n.forEach(function(e,r){a[e]=r});function i(r){return e.fromQuery(window.location.search).get(r)}var u={_mLayersIndex:a,_sTopLayer:n[n.length-1],FL_MAX_LAYER_PARAM:"sap-ui-fl-max-layer",isValidLayer:function(e){return Object.keys(t).some(function(r){return r===e})},isVendorLayer:function(){return this.getCurrentLayer()===t.VENDOR},isCustomerDependentLayer:function(e){return[t.PUBLIC,t.CUSTOMER,t.CUSTOMER_BASE].indexOf(e)>-1},isDeveloperLayer:function(e){return u.compareAgainstCurrentLayer(e,t.CUSTOMER)===-1},doesCurrentLayerRequirePackage:function(){var e=this.getCurrentLayer();return e===t.VENDOR||e===t.PARTNER||e===t.CUSTOMER_BASE},getMaxLayer:function(e){var t=u.getMaxLayerTechnicalParameter(r.getHash(),e);return t||i(this.FL_MAX_LAYER_PARAM)||u._sTopLayer},getLayerIndex:function(e){return this._mLayersIndex[e]},isOverMaxLayer:function(e,r){return this.isOverLayer(e,this.getMaxLayer(r))},isOverLayer:function(e,r){return this.getLayerIndex(e)>this.getLayerIndex(r)},compareAgainstCurrentLayer:function(e,r){var t=r||u.getCurrentLayer();if(this.getLayerIndex(t)>this.getLayerIndex(e)||!e){return-1}else if(this.getLayerIndex(t)===this.getLayerIndex(e)){return 0}return 1},isLayerFilteringRequired:function(e){return this._sTopLayer!==this.getMaxLayer(e)},isSapUiLayerParameterProvided:function(){return!!i("sap-ui-layer")},getCurrentLayer:function(){var e=i("sap-ui-layer")||"";return e.toUpperCase()||t.CUSTOMER},filterChangeDefinitionsByMaxLayer:function(e,r){return e.filter(function(e){return!e.layer||!u.isOverMaxLayer(e.layer,r)})},filterChangeOrChangeDefinitionsByCurrentLayer:function(e,r){if(!r){return e}return e.filter(function(e){var t=e.getLayer&&e.getLayer()||e.layer;return r===t})},getMaxLayerTechnicalParameter:function(e,r){if(r){var t=r.parseShellHash(e)||{};if(t.params&&t.params.hasOwnProperty(this.FL_MAX_LAYER_PARAM)){return t.params[this.FL_MAX_LAYER_PARAM][0]}}return undefined}};return u});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/Scenario", [],function(){"use strict";return{AppVariant:"APP_VARIANT",VersionedAppVariant:"VERSIONED_APP_VARIANT",AdaptationProject:"ADAPTATION_PROJECT",FioriElementsFromScratch:"FE_FROM_SCRATCH",UiAdaptation:"UI_ADAPTATION"}});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/Utils", ["sap/base/strings/formatMessage","sap/base/util/ObjectPath","sap/base/util/isPlainObject","sap/base/util/uid","sap/base/util/UriParameters","sap/base/Log","sap/ui/base/SyncPromise","sap/ui/base/ManagedObject","sap/ui/core/util/reflection/BaseTreeModifier","sap/ui/core/Component","sap/ui/fl/Scenario","sap/ui/thirdparty/hasher","sap/ui/core/mvc/View","sap/ui/core/Configuration"],function(e,t,r,n,o,a,i,s,u,p,f,c,g,l){"use strict";var m={APP_ID_AT_DESIGN_TIME:"${pro"+"ject.art"+"ifactId}",VARIANT_MODEL_NAME:"$FlexVariants",formatAndLogMessage:function(t,r,n,o){var i=r.join(" ");i=e(i,n);a[t](i,o||"")},isVariantByStartupParameter:function(e){if(e){var t=this.getAppComponentForControl(e);if(t){return!!this._getComponentStartUpParameter(t,"sap-app-id")}}return false},getAppDescriptor:function(e){var t=null;var r=null;var n=null;if(e){r=this.getAppComponentForControl(e);if(r&&r.getMetadata){n=r.getMetadata();if(n&&n.getManifest){t=n.getManifest()}}}return t},getSiteIdByComponentData:function(e){return this._getStartUpParameter(e,"hcpApplicationId")},isBinding:function(e){return typeof e==="string"&&!!s.bindingParser(e)||r(e)&&((e.hasOwnProperty("path")||e.hasOwnProperty("parts"))&&!e.hasOwnProperty("ui5object"))},isChangeRelatedToVariants:function(e){return e.getFileType()==="ctrl_variant_change"||e.getFileType()==="ctrl_variant_management_change"||e.getFileType()==="ctrl_variant"||e.getVariantReference()},_getComponentStartUpParameter:function(e,t){var r=null;if(t){if(e&&e.getComponentData){r=this._getStartUpParameter(e.getComponentData(),t)}}return r},_getStartUpParameter:function(e,t){if(e&&e.startupParameters&&t){if(Array.isArray(e.startupParameters[t])){return e.startupParameters[t][0]}}},_getComponent:function(e){var t;if(e){t=p.get(e)}return t},_getComponentIdForControl:function(e){var t=m._getOwnerIdForControl(e);if(!t){if(e&&typeof e.getParent==="function"){var r=e.getParent();if(r){return m._getComponentIdForControl(r)}}}return t||""},getComponentForControl:function(e){return m._getComponentForControl(e)},getAppComponentForControl:function(e){var t=e instanceof p?e:this._getComponentForControl(e);return this._getAppComponentForComponent(t)},getAppDescriptorComponentObjectForControl:function(e){var t=this.getAppComponentForControl(e);var r=t.getManifest();return{name:this.getAppIdFromManifest(r)}},_getComponentForControl:function(e){var t=null;var r=null;if(e){r=m._getComponentIdForControl(e);if(r){t=m._getComponent(r)}}return t},_getAppComponentForComponent:function(e){var t=null;if(e&&e.getAppComponent&&e.getAppComponent()instanceof p){return e.getAppComponent()}if(e&&e.oComponentData&&e.oComponentData.appComponent){return e.oComponentData.appComponent}if(e&&e.getManifestEntry){t=e.getManifestEntry("sap.app")}else{return e}if(t&&t.type&&t.type!=="application"){if(e instanceof p){e=this._getComponentForControl(e)}return this.getAppComponentForControl(e)}return e},getViewForControl:function(e){return m.getFirstAncestorOfControlWithControlType(e,g)},getFirstAncestorOfControlWithControlType:function(e,t){if(e instanceof t){return e}if(e&&typeof e.getParent==="function"){e=e.getParent();return m.getFirstAncestorOfControlWithControlType(e,t)}},_getOwnerIdForControl:function(e){return p.getOwnerIdFor(e)},getClient:function(){var e;var t;e=this._getUriParameters();t=e.get("sap-client");return t||undefined},_getUriParameters:function(){return o.fromQuery(window.location.search)},isHotfixMode:function(){var e;var t;e=this._getUriParameters();t=e.get("hotfix");return t==="true"},getLrepUrl:function(){var e=l.getFlexibilityServices();var t=e.find(function(e){return e.connector==="LrepConnector"});return t?t.url:""},getCurrentLanguage:function(){var e=l.getLanguage();return m.convertBrowserLanguageToISO639_1(e)},convertBrowserLanguageToISO639_1:function(e){if(!e||typeof e!=="string"){return""}var t=e.indexOf("-");if(t<0&&e.length<=2){return e.toUpperCase()}if(t>0&&t<=2){return e.substring(0,t).toUpperCase()}return""},getControlType:function(e){var t;if(e&&typeof e.getMetadata==="function"){t=e.getMetadata();if(t&&typeof t.getElementName==="function"){return t.getElementName()}}},asciiToString:function(e){var t=e.split(",");var r="";for(var n=0;n<t.length;n++){r+=String.fromCharCode(t[n])}return r},stringToAscii:function(e){var t="";for(var r=0;r<e.length;r++){t+=e.charCodeAt(r)+","}t=t.substring(0,t.length-1);return t},checkControlId:function(e,t){if(!t){e=e instanceof s?e:sap.ui.getCore().byId(e);t=m.getAppComponentForControl(e)}return u.checkControlId(e,t)},hasLocalIdSuffix:u.hasLocalIdSuffix,_getAllUrlParameters:function(){return window.location.search.substring(1)},getParsedURLHash:function(e){if(e){return e.parseShellHash(c.getHash())||{}}return{}},getUrlParameter:function(e){return o.fromQuery(window.location.search).get(e)},getUshellContainer:function(){return t.get("sap.ushell.Container")},createDefaultFileName:function(e){var t=n().replace(/-/g,"_");if(e){t+="_"+e}return t},createNamespace:function(e,t){var r="changes";if(t==="ctrl_variant"){r="variants"}var n=e.reference.replace(".Component","");var o="apps/"+n+"/"+r+"/";return o},buildLrepRootNamespace:function(e,t,r){var n="apps/";var o=new Error("Error in sap.ui.fl.Utils#buildLrepRootNamespace: ");if(!e){o.message+="for every scenario you need a base ID";throw o}switch(t){case f.VersionedAppVariant:if(!r){o.message+="in a versioned app variant scenario you additionally need a project ID";throw o}n+=e+"/appVariants/"+r+"/";break;case f.AppVariant:if(!r){o.message+="in an app variant scenario you additionally need a project ID";throw o}n+=e+"/appVariants/"+r+"/";break;case f.AdaptationProject:if(!r){o.message+="in a adaptation project scenario you additionally need a project ID";throw o}n+=e+"/adapt/"+r+"/";break;case f.FioriElementsFromScratch:case f.UiAdaptation:default:n+=e+"/"}return n},_getComponentTypeFromManifest:function(e){return e&&e.getEntry&&e.getEntry("sap.app")&&e.getEntry("sap.app").type},_getComponentTypeFromRawManifest:function(e){return e&&e["sap.app"]&&e["sap.app"].type},isApplication:function(e,t){var r=t?m._getComponentTypeFromRawManifest(e):m._getComponentTypeFromManifest(e);return r==="application"},isApplicationComponent:function(e){return e instanceof p&&m.isApplication(e.getManifestObject())},isEmbeddedComponent:function(e){return e instanceof p&&m._getComponentTypeFromManifest(e.getManifestObject())==="component"},getAppIdFromManifest:function(e){if(e){var t=e.getEntry?e.getEntry("sap.app"):e["sap.app"];var r=t&&t.id;if(r===m.APP_ID_AT_DESIGN_TIME){if(e.getComponentName){return e.getComponentName()}if(e.name){return e.name}}return r}throw new Error("No Manifest received, descriptor changes are not possible")},indexOfObject:function(e,t){var r=-1;e.some(function(e,n){var o;var a;if(!e){o=[]}else{o=Object.keys(e)}if(!t){a=[]}else{a=Object.keys(t)}var i=o.length===a.length;var s=i&&!o.some(function(r){return e[r]!==t[r]});if(s){r=n}return s});return r},execPromiseQueueSequentially:function(e,t,r){if(e.length===0){if(r){return Promise.resolve()}return new m.FakePromise}var n=e.shift();if(typeof n==="function"){var o;try{o=n()}catch(e){o=Promise.reject(e)}return o.then(function(){if(!r&&o instanceof Promise){r=true}}).catch(function(e){var r="Error during execPromiseQueueSequentially processing occurred";r+=e?": "+e.message:"";a.error(r,e);if(t){throw new Error(r)}}).then(function(){return this.execPromiseQueueSequentially(e,t,r)}.bind(this))}a.error("Changes could not be applied, promise not wrapped inside function.");return this.execPromiseQueueSequentially(e,t,r)},FakePromise:function(e,t,r){m.FakePromise.fakePromiseIdentifier="sap.ui.fl.Utils.FakePromise";this.vValue=e;this.vError=t;this.bContinueWithFakePromise=arguments.length<3||r===m.FakePromise.fakePromiseIdentifier;var n=function(e,t){try{var r=t(e,m.FakePromise.fakePromiseIdentifier);if(i.isThenable(r)){return r}return new m.FakePromise(r)}catch(e){var n=e;return new m.FakePromise(undefined,n)}};m.FakePromise.prototype.then=function(e,t){if(!this.bContinueWithFakePromise){return Promise.resolve(e(this.vValue))}if(!this.vError){return n(this.vValue,e)}else if(t){return n(this.vError,t)}return this};m.FakePromise.prototype.catch=function(e){if(!this.bContinueWithFakePromise){return Promise.reject(e(this.vError))}if(this.vError){return n(this.vError,e)}return this};if(this.vValue instanceof Promise||this.vValue instanceof m.FakePromise){return this.vValue}},getChangeFromChangesMap:function(e,t){var r;Object.keys(e).forEach(function(n){e[n].some(function(e){if(e.getId()===t){r=e;return true}})});return r},requireAsync:function(e){var t=sap.ui.require(e);if(t){return Promise.resolve(t)}return new Promise(function(t,r){sap.ui.require([e],function(e){t(e)},function(e){r(e)})})},normalizeReference:function(e){return e.replace(/(.Component)$/g,"")},handleUrlParameters:function(e,t,r,n){if(this.hasParameterAndValue(t,r,n)){if(e.startsWith("?")){e=e.substr(1,e.length)}var o=e.split("&").filter(function(e){return e!==t+"="+r});e="";if(o.length>0){e="?"+o.toString()}}else{e+=(e.length>0?"&":"?")+t+"="+r}return e},hasParameterAndValue:function(e,t,r){return this.getParameter(e,r)===t},getParameter:function(e,t){if(t){var r=m.getParsedURLHash(t);return r.params&&r.params[e]&&r.params[e][0]}return m.getUrlParameter(e)},findAggregation:function(e,t){if(e){if(e.getMetadata){var r=e.getMetadata();var n=r.getAllAggregations();if(n){return n[t]}}}return undefined},getAggregation:function(e,t){var r=m.findAggregation(e,t);if(r){return e[r._sGetter]()}return undefined},getProperty:function(e,t){var r=e.getMetadata().getPropertyLikeSetting(t);if(r){var n=r._sGetter;return e[n]()}return undefined},getUShellService:function(e){if(e){var t=this.getUshellContainer();if(t){return t.getServiceAsync(e)}}return Promise.resolve()},getUShellServices:function(e){var t=e.map(function(e){return this.getUShellService(e)}.bind(this));return Promise.all(t).then(function(t){return e.reduce(function(e,r,n){e[r]=t&&t[n];return e},{})})}};return m},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/apply/_internal/ChangesController", ["sap/ui/fl/FlexControllerFactory","sap/ui/fl/Utils"],function(t,e){"use strict";var r={getFlexControllerInstance:function(e){if(typeof e==="string"){return t.create(e)}var r=e.appComponent||e;return t.createForControl(r)},getDescriptorFlexControllerInstance:function(r){if(typeof r.appId==="string"){return t.create(r.appId)}var n=r.appComponent||r;var o=e.getAppDescriptorComponentObjectForControl(n);return t.create(o.name)},getAppComponentForSelector:function(t){if(typeof t.appId==="string"){return t}return t.appComponent||e.getAppComponentForControl(t)}};return r});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/apply/_internal/DelegateMediator", ["sap/base/Log","sap/base/util/merge","sap/base/util/restricted/_pick","sap/ui/fl/Utils","sap/ui/core/util/reflection/JsControlTreeModifier"],function(e,t,r,n,a){"use strict";var i={};i._mDefaultDelegateItems={};i.types={READONLY:"readonly",WRITEONLY:"writeonly",COMPLETE:"complete"};function o(e,t){if(t){return t}if(e.getModel){var r=e.getModel();if(!r){return undefined}return r.getMetadata().getName()}}function u(e,t){t=o(e,t);var r=i._mDefaultDelegateItems[t];return(r||[]).map(function(e){e.payload={};return e})}function l(t,r,a){if(!a.length){return Promise.resolve([])}var i=[];a.forEach(function(a){i.push(function(i){return n.requireAsync(a.name).then(function(e){a.instance=e||{};i.push(a);return i}).catch(function(n){e.error("Failed to load the delegate for the control "+t.getId(r)+"\n"+n.message);return i})})});return i.reduce(function(e,t){return e.then(t)},Promise.resolve([]))}function s(e){return e&&typeof e==="function"}function f(e){return e.delegateType===i.types.COMPLETE||s(e.instance.getPropertyInfo)&&(s(e.instance.createLabel)||s(e.instance.createLayout))}function c(e){return e.delegateType===i.types.READONLY||s(e.instance.getPropertyInfo)}function d(e){return e.delegateType===i.types.WRITEONLY||s(e.instance.createLabel)||s(e.instance.createLayout)}function p(e,t){e.names.push(t.name);if(t.requiredLibraries){e.requiredLibraries=Object.assign(e.requiredLibraries||{},t.requiredLibraries)}if(t.payload&&!e.payload){e.payload=t.payload}return e}function g(e,n){e=p(e,n);return t(e,{instance:r(n.instance,["getPropertyInfo","getRepresentedProperties"])})}function m(e,n){e=p(e,n);return t(e,{instance:r(n.instance,["createLabel","createControlForProperty","createLayout"])})}function y(e,n){e=p(e,n);return t(e,r(n,"instance"))}function T(e){var t={names:[],instance:{},modelType:e.length&&e[0].modelType};var r=true;var n=true;for(var a=e.length-1;a>=0;a--){var i=e[a];if(f(i)){if(r&&n){t=y(t,i)}else if(r){t=g(t,i)}else if(n){t=m(t,i)}break}else if(c(i)&&r){t=g(t,i);r=false}else if(d(i)&&n){t=m(t,i);n=false}}return e.length?t:undefined}function h(e,t){return new Promise(function(r,n){if(!e){n(new Error("The control parameter is missing"))}if(!t){n(new Error("The modifier parameter is missing"))}if(!e){n(new Error("The input control should be available"))}if(t===a&&(!e.isA||!e.isA("sap.ui.base.ManagedObject"))){n(new Error("The input control should be a managed object"))}r()})}function D(e){return Object.values(i.types).some(function(t){return t===e.delegateType})}function b(e){var t=i._mDefaultDelegateItems[e.modelType]||[];var r=t.map(function(e){return e.delegateType});return r.indexOf(i.types.COMPLETE)>-1||r.indexOf(e.delegateType)>-1||e.delegateType===i.types.COMPLETE&&r.length}i.getKnownDefaultDelegateLibraries=function(){return["sap.ui.comp"]};i.getRequiredLibrariesForDefaultDelegate=function(e,t,r){r=o(t,r);var n=i._mDefaultDelegateItems[r]||[];return n.reduce(function(t,r){var n=e.indexOf(r.name)>-1;return t.concat(Object.keys(n&&r.requiredLibraries||{}))},[])};i.isDelegateRegistered=function(e){return!!i._mDefaultDelegateItems[e]};i.registerDefaultDelegate=function(e){if(!(e.modelType&&e.delegate)){throw new Error("'modelType' and 'delegate' properties are required for registration!")}e.delegateType=e.delegateType||i.types.COMPLETE;if(e.delegateType&&!D(e)){throw new Error("default 'delegateType': "+e.delegateType+" is invalid!")}if(b(e)){throw new Error("modelType "+e.modelType+"is already defined!")}if(!i._mDefaultDelegateItems[e.modelType]){i._mDefaultDelegateItems[e.modelType]=[]}i._mDefaultDelegateItems[e.modelType].push({name:e.delegate,requiredLibraries:e.requiredLibraries,delegateType:e.delegateType,modelType:e.modelType})};i.getDelegateForControl=function(e,t,r,n){return h(e,t).then(function(){return t.getFlexDelegate(e)}).then(function(a){var i=n&&u(e,r)||[];if(a){i.push(a)}return l(t,e,i)}).then(T.bind(this))};i.clear=function(){i._mDefaultDelegateItems={}};return i});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/apply/_internal/appVariant/DescriptorChangeTypes", [],function(){"use strict";return{getChangeTypes:function(){return["appdescr_ovp_addNewCard","appdescr_ovp_removeCard","appdescr_ovp_changeCard","appdescr_app_addNewInbound","appdescr_app_changeInbound","appdescr_app_removeInbound","appdescr_app_removeAllInboundsExceptOne","appdescr_app_addNewOutbound","appdescr_app_changeOutbound","appdescr_app_removeOutbound","appdescr_app_addNewDataSource","appdescr_app_changeDataSource","appdescr_app_removeDataSource","appdescr_app_addAnnotationsToOData","appdescr_app_addTechnicalAttributes","appdescr_app_removeTechnicalAttributes","appdescr_app_setTitle","appdescr_app_setSubTitle","appdescr_app_setShortTitle","appdescr_app_setDescription","appdescr_app_setInfo","appdescr_app_setDestination","appdescr_app_setKeywords","appdescr_app_setAch","appdescr_app_addCdsViews","appdescr_app_removeCdsViews","appdescr_flp_setConfig","appdescr_ui5_addNewModelEnhanceWith","appdescr_ui5_removeModel","appdescr_ui5_replaceComponentUsage","appdescr_ui5_setMinUI5Version","appdescr_smb_addNamespace","appdescr_smb_changeNamespace","appdescr_ui_generic_app_setMainPage","appdescr_ui_setIcon","appdescr_ui_setDeviceTypes","appdescr_ui5_addLibraries","appdescr_ui5_addNewModel","appdescr_app_addAnnotationsToOData","appdescr_ui5_addComponentUsages","appdescr_ui5_setFlexExtensionPointEnabled","appdescr_url_setUri","appdescr_fiori_setRegistrationIds","appdescr_card","appdescr_card_designtime","appdescr_fiori_setAbstract"]},getCondensableChangeTypes:function(){return["appdescr_app_setTitle","appdescr_app_setInfo","appdescr_app_setShortTitle","appdescr_app_setSubTitle","appdescr_app_setDescription","appdescr_app_setDestination","appdescr_app_setKeywords","appdescr_app_setAch","appdescr_ui_setIcon","appdescr_ui_setDeviceTypes","appdescr_ui_setIcon","appdescr_ui_setDeviceTypes","appdescr_fiori_setRegistrationIds","appdescr_smb_changeNamespace"]}}});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/apply/_internal/changes/Applier", ["sap/base/Log","sap/ui/core/Element","sap/ui/core/util/reflection/JsControlTreeModifier","sap/ui/fl/apply/_internal/changes/FlexCustomData","sap/ui/fl/apply/_internal/changes/Utils","sap/ui/fl/apply/_internal/flexState/changes/DependencyHandler","sap/ui/fl/Utils"],function(e,n,r,t,a,o,i){"use strict";var s=new i.FakePromise;function l(e,n){var r=e.getSelector&&e.getSelector();if(!r||!r.id&&!r.name){return Promise.reject(Error("No selector in change found or no selector ID."))}function t(e){if(i.indexOfObject(n.failedSelectors,e)>-1){throw Error("A change depending on that control already failed, so the current change is skipped")}}return n.modifier.bySelectorTypeIndependent(r,n.appComponent,n.view).then(function(a){if(!a){throw Error("A flexibility change tries to change a nonexistent control.")}t(r);var o=e.getDependentControlSelectorList();o.forEach(function(e){var r=n.modifier.bySelector(e,n.appComponent,n.view);if(!r){throw new Error("A dependent selector control of the flexibility change is not available.")}t(e)});return a})}function c(e,n,r,o,i){var s=a.getControlIfTemplateAffected(n,e,i);var l=i.modifier;var c=!!t.sync.getAppliedCustomDataValue(s.control,n);var u=c||t.sync.hasChangeApplyFinishedCustomData(s.control,n);var f=n.isApplyProcessFinished();if(f&&!u){var d=a.checkIfDependencyIsStillValidSync.bind(null,i.appComponent,l,r);o._oChangePersistence.copyDependenciesFromInitialChangesMapSync(n,d,i.appComponent);n.setInitialApplyState()}else if(!f&&u){if(c){n.setRevertData(t.sync.getParsedRevertDataFromCustomData(s.control,n));n.markSuccessful()}else{n.markFailed()}}}function u(e){return e.modifier.targets==="xmlTree"}function f(e,n,r,o,s){var l=u(s);var c=a.getControlIfTemplateAffected(n,e,s);var f=s.modifier;return t.getAppliedCustomDataValue(c.control,n,f).then(function(e){var r=!!e;return Promise.all([r,r||t.hasChangeApplyFinishedCustomData(c.control,n,f)])}).then(function(c){var u=c[0];var f=c[1];var d=n.isApplyProcessFinished();var p=s.modifier;var g=s.appComponent;if(d&&!f){var h=new i.FakePromise;if(!l){var m=a.checkIfDependencyIsStillValid.bind(null,g,p,r);h=h.then(function(){return o._oChangePersistence.copyDependenciesFromInitialChangesMap(n,m,g)})}return h.then(n.setInitialApplyState.bind(n))}else if(!d&&f){if(u){return t.getParsedRevertDataFromCustomData(e,n,p).then(function(e){n.setRevertData(e);n.markSuccessful()})}n.markFailed();return undefined}else if(d&&f){n.markSuccessful()}return undefined})}function d(e,n){var r;if(u(n)&&e.getJsOnly()){r="Change cannot be applied in XML. Retrying in JS."}if(r){e.setInitialApplyState();throw Error(r)}}function p(e,r,a,o){return Promise.resolve().then(function(){if(a instanceof n){r.control=a}if(r.control){return o.modifier.updateAggregation(r.originalControl,e.getContent().boundAggregation)}return undefined}).then(function(){return t.addAppliedCustomData(r.control,e,o,u(o))}).then(function(){var n={success:true};e.markSuccessful(n);return n})}function g(e,n,r,a){var o=u(a);var s={success:false,error:e};var l=n.getId();var c="Change ''{0}'' could not be applied.";var f=e instanceof Error;var d=t.getCustomDataIdentifier(false,f,o);switch(d){case t.notApplicableChangesCustomDataKey:i.formatAndLogMessage("info",[c,e.message],[l]);break;case t.failedChangesCustomDataKeyXml:i.formatAndLogMessage("warning",[c,"Merge error detected while processing the XML tree."],[l],e.stack);break;case t.failedChangesCustomDataKeyJs:i.formatAndLogMessage("error",[c,"Merge error detected while processing the JS control tree."],[l],e.stack);break}return t.addFailedCustomData(r.control,n,a,d).then(function(){if(o){n.setInitialApplyState()}else{n.markFailed(s)}return s})}function h(n,r){var t=r.getChangeType();var a=r.getSelector().id;var o=r.getNamespace()+r.getId()+"."+r.getFileType();var i="A flexibility change could not be applied.";i+="\nThe displayed UI might not be displayed as intedend.";if(n.message){i+="\n   occurred error message: '"+n.message+"'"}i+="\n   type of change: '"+t+"'";i+="\n   LRep location of the change: "+o;i+="\n   id of targeted control: '"+a+"'.";e.warning(i,undefined,"sap.ui.fl.apply._internal.changes.Applier")}function m(e,n,t){var a={appComponent:t,modifier:r};var o=r.bySelector(e.originalSelectorToBeAdjusted,t);var i=n.getBindingInfo(e.getContent().boundAggregation).template;if(o.getParent()){var s=[];var l=o;do{s.push({aggregation:l.sParentAggregationName,index:l.getParent().getAggregation(l.sParentAggregationName).indexOf(l)});l=l.getParent()}while(l.getParent());s.reverse();s.forEach(function(e){i=i.getAggregation(e.aggregation)[e.index]})}e.addDependentControl(i,"originalSelector",a)}function v(e,n,r){var t=e.findIndex(function(e){return e.handler===n});if(t<0){t=e.length;e.push({handler:n,controls:[]})}if(!e[t].controls.includes(r)){e[t].controls.push(r)}}var C={addPreConditionForInitialChangeApplying:function(e){s=s.then(function(){return e})},applyChangeOnControl:function(e,n,r){var t=a.getControlIfTemplateAffected(e,n,r);var o=r.changeHandler?Promise.resolve(r.changeHandler):a.getChangeHandler(e,t,r);return o.then(function(n){d(e,r);return n}).then(function(n){if(e.hasApplyProcessStarted()){return e.addPromiseForApplyProcessing().then(function(n){e.markSuccessful();return n})}else if(!e.isApplyProcessFinished()){return(new i.FakePromise).then(function(){e.startApplying();return n.applyChange(e,t.control,r)}).then(function(n){return p(e,t,n,r)}).catch(function(n){return g(n,e,t,r)})}var a={success:true};e.markSuccessful(a);return a}).catch(function(e){return{success:false,error:e}})},applyAllChangesForControl:function(e,n,t,a){var l=e();var u=a.getId();var f=l.mChanges[u]||[];var d={modifier:r,appComponent:n,view:i.getViewForControl(a)};f.forEach(function(e){c(a,e,l,t,d);if(!e.isApplyProcessFinished()&&!e._ignoreOnce){e.setQueuedForApply()}});s=s.then(function(e,r){var t=[];var a=e.getId();var s=l.mChanges[a]||[];var c;if(l.mControlsWithDependencies[a]){o.removeControlsDependencies(l,a);c=true}s.forEach(function(i){if(i.originalSelectorToBeAdjusted){m(i,e,n);delete i.originalSelectorToBeAdjusted}if(i._ignoreOnce){delete i._ignoreOnce}else if(i.isApplyProcessFinished()){o.resolveDependenciesForChange(l,i.getId(),a)}else if(!l.mDependencies[i.getId()]){t.push(function(){return C.applyChangeOnControl(i,e,r).then(function(){o.resolveDependenciesForChange(l,i.getId(),a)})})}else{var s=C.applyChangeOnControl.bind(C,i,e,r);o.addChangeApplyCallbackToDependency(l,i.getId(),s)}});if(s.length||c){return i.execPromiseQueueSequentially(t).then(function(){return o.processDependentQueue(l,n,a)})}return undefined}.bind(null,a,d));return s},applyAllChangesForXMLView:function(n,r){if(!Array.isArray(r)){var t="No list of changes was passed for processing the flexibility on view: "+n.view+".";e.error(t,undefined,"sap.ui.fl.apply._internal.changes.Applier");r=[]}var o=[];n.failedSelectors=[];return r.reduce(function(e,r){var t;return e.then(l.bind(null,r,n)).then(function(e){t=e;var o=a.getControlIfTemplateAffected(r,t,n);return a.getChangeHandler(r,o,n)}).then(function(e){n.changeHandler=e;r.setQueuedForApply();return f(t,r,undefined,undefined,n)}).then(function(){if(!r.isApplyProcessFinished()){if(typeof n.changeHandler.onAfterXMLChangeProcessing==="function"){v(o,n.changeHandler,t)}return C.applyChangeOnControl(r,t,n)}return{success:true}}).then(function(e){if(!e.success){throw Error(e.error)}}).catch(function(e){r.getDependentSelectorList().forEach(function(e){if(i.indexOfObject(n.failedSelectors,e)===-1){n.failedSelectors.push(e)}});h(e,r)})},new i.FakePromise).then(function(){delete n.failedSelectors;o.forEach(function(r){r.controls.forEach(function(t){try{r.handler.onAfterXMLChangeProcessing(t,n)}catch(n){e.error("Error during onAfterXMLChangeProcessing",n)}})});return n.view})}};return C});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/apply/_internal/changes/FlexCustomData", ["sap/ui/fl/Utils","sap/base/Log","sap/ui/core/CustomData"],function(t,e){"use strict";var a={};a.sync={};a.appliedChangesCustomDataKey="sap.ui.fl.appliedChanges";a.failedChangesCustomDataKeyJs="sap.ui.fl.failedChanges.js";a.failedChangesCustomDataKeyXml="sap.ui.fl.failedChanges.xml";a.notApplicableChangesCustomDataKey="sap.ui.fl.notApplicableChanges";a.sync.getAppliedCustomDataValue=function(t,e){var n=r(t,a._getCustomDataKey(e,a.appliedChangesCustomDataKey));return n.customDataValue};a.getAppliedCustomDataValue=function(t,e,n){return o(t,n,a._getCustomDataKey(e,a.appliedChangesCustomDataKey)).then(function(t){return t.customDataValue})};a.sync.getParsedRevertDataFromCustomData=function(t,n){var u=a.sync.getAppliedCustomDataValue(t,n);try{return u&&JSON.parse(u)}catch(t){e.error("Could not parse revert data from custom data",u);return undefined}};a.getParsedRevertDataFromCustomData=function(t,e,n){return a.getAppliedCustomDataValue(t,e,n).then(function(t){return t&&JSON.parse(t)})};a.sync.hasChangeApplyFinishedCustomData=function(e,n){var u=t.getAggregation(e,"customData")||[];var r=[a._getCustomDataKey(n,a.appliedChangesCustomDataKey),a._getCustomDataKey(n,a.failedChangesCustomDataKeyJs),a._getCustomDataKey(n,a.notApplicableChangesCustomDataKey)];return u.some(function(e){var a=t.getProperty(e,"key");if(r.indexOf(a)>-1){return!!t.getProperty(e,"value")}return false})};a.hasChangeApplyFinishedCustomData=function(t,e,n){return Promise.resolve().then(n.getAggregation.bind(n,t,"customData")).then(function(t){t=t||[];var u=[a._getCustomDataKey(e,a.appliedChangesCustomDataKey),a._getCustomDataKey(e,a.failedChangesCustomDataKeyJs),a._getCustomDataKey(e,a.notApplicableChangesCustomDataKey)];return Promise.all(t.map(function(t){return Promise.resolve().then(n.getProperty.bind(n,t,"key")).then(function(e){if(u.indexOf(e)>-1){return n.getProperty(t,"value")}return undefined}).then(function(t){return!!t})})).then(function(t){return t.includes(true)})})};function n(t,e){var a=e.getRevertData();if(t&&a!==undefined){return JSON.stringify(a)}return"true"}a.addAppliedCustomData=function(t,e,r,o){var s=n(o,e);var i=a._getCustomDataKey(e,a.appliedChangesCustomDataKey);return u(t,i,s,r)};a.addFailedCustomData=function(t,e,n,r){var o=a._getCustomDataKey(e,r);return u(t,o,"true",n)};a.sync.destroyAppliedCustomData=function(t,e,n){var u=a._getCustomDataKey(e,a.appliedChangesCustomDataKey);var o=r(t,u);if(o.customData){n.destroy(o.customData)}};a.destroyAppliedCustomData=function(t,e,n){var u=a._getCustomDataKey(e,a.appliedChangesCustomDataKey);return o(t,n,u).then(function(t){if(t.customData){n.destroy(t.customData)}})};a.getCustomDataIdentifier=function(t,e,n){if(t){return a.appliedChangesCustomDataKey}if(!e){return a.notApplicableChangesCustomDataKey}if(n){return a.failedChangesCustomDataKeyXml}return a.failedChangesCustomDataKeyJs};a._getCustomDataKey=function(t,e){return e+"."+t.getId()};function u(t,e,a,n){return o(t,n.modifier,e).then(function(u){if(!u.customData){return n.modifier.createAndAddCustomData(t,e,a,n.appComponent)}return n.modifier.setProperty(u.customData,"value",a)})}function r(e,a){var n=t.getAggregation(e,"customData")||[];var u={};n.some(function(e){var n=t.getProperty(e,"key");if(n===a){u.customData=e;u.customDataValue=t.getProperty(e,"value");return true}return false});return u}function o(t,e,a){return Promise.resolve().then(e.getAggregation.bind(e,t,"customData")).then(function(t){t=t||[];var n={};return t.reduce(function(t,u){return t.then(e.getProperty.bind(e,u,"key")).then(function(t){if(t===a){n.customData=u;return e.getProperty(u,"value")}return undefined}).then(function(t){if(t){n.customDataValue=t}})},Promise.resolve()).then(function(){return n})})}return a},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/apply/_internal/changes/Reverter", ["sap/base/Log","sap/ui/fl/apply/_internal/changes/FlexCustomData","sap/ui/fl/apply/_internal/changes/Utils","sap/ui/fl/Utils"],function(e,r,n,t){"use strict";var o={};function i(e){if(!e.isApplyProcessFinished()&&e.hasApplyProcessStarted()){return e.addPromiseForApplyProcessing().then(function(r){if(r&&r.error){e.markRevertFinished(r.error);throw Error(r.error)}})}return Promise.resolve()}function a(e,n,t,i){return o.revertChangeOnControl(e,n,t).then(function(t){return r.destroyAppliedCustomData(t||n,e,i.modifier).then(function(){return!!t})}).then(function(r){if(r){i.flexController._oChangePersistence._deleteChangeInMap(e)}})}o.revertChangeOnControl=function(r,t,o){var a=n.getControlIfTemplateAffected(r,t,o);var u;return n.getChangeHandler(r,a,o).then(function(e){u=e}).then(i.bind(null,r)).then(function(){if(r.isSuccessfullyApplied()){r.startReverting();return u.revertChange(r,a.control,o)}throw Error("Change was never applied")}).then(function(){a.control=o.modifier.bySelector(r.getSelector(),o.appComponent,o.view);if(a.bTemplateAffected){return o.modifier.updateAggregation(a.control,r.getContent().boundAggregation)}return undefined}).then(function(){r.markRevertFinished();return a.control}).catch(function(n){var t="Change could not be reverted: "+n.message;e.error(t);r.markRevertFinished(t);return false})};o.revertMultipleChanges=function(r,n){var o=[];r.forEach(function(r){r.setQueuedForRevert();o.push(function(){var o=r.getSelector&&r.getSelector();var i=n.modifier.bySelector(o,n.appComponent);if(!i){e.warning("A flexibility change tries to revert changes on a nonexistent control with id "+o.id);return new t.FakePromise}var u={modifier:n.modifier,appComponent:n.appComponent,view:t.getViewForControl(i)};return a(r,i,u,n)})});return t.execPromiseQueueSequentially(o)};return o});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/apply/_internal/changes/Utils", ["sap/ui/fl/apply/_internal/changes/FlexCustomData","sap/ui/fl/initial/_internal/changeHandlers/ChangeHandlerStorage","sap/ui/fl/Utils"],function(e,n,t){"use strict";function r(e,n){if(n||e.hasApplyProcessStarted()){return false}return true}var a={getControlIfTemplateAffected:function(e,n,t){var r=t.modifier;var a={originalControl:n};var i=e.getOriginalSelector();if(e.getContent().boundAggregation&&i){a.control=r.bySelector(i,t.appComponent,t.view);a.controlType=r.getControlType(a.control);a.bTemplateAffected=true}else{a.control=n;a.controlType=r.getControlType(n);a.bTemplateAffected=false}return a},getChangeHandler:function(e,r,a){var i=a.modifier.getLibraryName(r.control);return t.requireAsync("sap/ui/fl/initial/_internal/changeHandlers/ChangeHandlerRegistration").then(function(e){return e.waitForChangeHandlerRegistration(i)}).then(function(){var t=e.getChangeType();var i=e.getLayer();return n.getChangeHandler(t,r.controlType,r.control,a.modifier,i)})},checkIfDependencyIsStillValidSync:function(n,a,i,o){var l=t.getChangeFromChangesMap(i.mChanges,o);var c=a.bySelector(l.getSelector(),n);var g=e.sync.hasChangeApplyFinishedCustomData(c,l);return r(l,g)},checkIfDependencyIsStillValid:function(n,a,i,o){var l=t.getChangeFromChangesMap(i.mChanges,o);var c=a.bySelector(l.getSelector(),n);return e.hasChangeApplyFinishedCustomData(c,l,a).then(r.bind(null,l))},filterChangeByView:function(e,n){var t=e.modifier;var r=e.appComponent;var a=n.getSelector();if(!a){return false}if(a.viewSelector){var i=t.getControlIdBySelector(a.viewSelector,r);return i===e.viewId}var o=a.id;if(o){var l;if(n.getSelector().idIsLocal){if(r){l=r.getLocalId(e.viewId)}}else{l=e.viewId}var c=0;var g;do{c=o.indexOf("--",c);g=o.slice(0,c);c++}while(g!==l&&c>0);return g===l}return false}};return a});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/apply/_internal/changes/descriptor/Applier", ["sap/ui/fl/Change"],function(e){"use strict";var n="$sap.ui.fl.changes";function t(t){var r=t&&t.getEntry&&t.getEntry(n)&&t.getEntry(n).descriptor||[];return r.map(function(n){return new e(n)})}var r={applyChanges:function(e,n,t){return t.registry().then(function(e){var t=n.map(function(n){return e[n.getChangeType()]&&e[n.getChangeType()]()});return Promise.all(t)}).then(function(r){r.forEach(function(r,a){try{var s=n[a];e=r.applyChange(e,s);if(!r.skipPostprocessing&&s.getTexts()){e=t.processTexts(e,s.getTexts())}}catch(e){t.handleError(e)}});return e})},applyChangesIncludedInManifest:function(e,r){var a=t(e);var s=e.getJson();delete s[n];if(a.length>0){return this.applyChanges(s,a,r).then(function(){return})}return Promise.resolve()}};return r});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/apply/_internal/changes/descriptor/ApplyStrategyFactory", ["sap/ui/fl/requireAsync","sap/base/Log"],function(e,r){"use strict";var n={registry:function(){return e("sap/ui/fl/apply/_internal/changes/descriptor/Registration")},handleError:function(e){r.error(e)},processTexts:function(e,n){var t=JSON.stringify(e);Object.keys(n).forEach(function(e){if(n[e].value[""]){t=t.replace("{{"+e+"}}",n[e].value[""])}else{r.error("Text change has to contain default language")}});return JSON.parse(t)}};var t={getRuntimeStrategy:function(){return n}};return t});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/apply/_internal/changes/descriptor/Preprocessor", ["sap/ui/fl/apply/_internal/changes/descriptor/Applier","sap/ui/fl/apply/_internal/changes/descriptor/ApplyStrategyFactory","sap/ui/fl/apply/_internal/flexState/FlexState","sap/ui/fl/apply/_internal/flexState/ManifestUtils","sap/ui/performance/Measurement","sap/ui/fl/Utils"],function(e,t,n,a,i,r){"use strict";var s={preprocessManifest:function(s,p){if(!r.isApplication(s,true)||!p.id){return Promise.resolve(s)}i.start("flexStateInitialize","Initialization of flex state",["sap.ui.fl"]);var l=p.componentData||{};var f=a.getFlexReference({manifest:s,componentData:l});if(!a.getChangeManifestFromAsyncHints(p.asyncHints)){n.initialize({componentData:l,asyncHints:p.asyncHints,rawManifest:s,componentId:p.id,reference:f,partialFlexState:true}).then(i.end.bind(undefined,"flexStateInitialize"));return Promise.resolve(s)}return n.initialize({componentData:l,asyncHints:p.asyncHints,rawManifest:s,componentId:p.id,reference:f,partialFlexState:true}).then(function(){i.end("flexStateInitialize");i.start("flexAppDescriptorMerger","Client side app descriptor merger",["sap.ui.fl"]);var a=Object.assign({},s);var r=n.getAppDescriptorChanges(f);return e.applyChanges(a,r,t.getRuntimeStrategy())}).then(function(e){i.end("flexAppDescriptorMerger");return e})}};return s});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/apply/_internal/controlVariants/URLHandler", ["sap/ui/core/Component","sap/ui/fl/Utils","sap/base/Log","sap/base/util/merge","sap/base/util/ObjectPath","sap/base/util/isEmptyObject","sap/ui/base/ManagedObjectObserver","sap/ui/thirdparty/hasher","sap/base/util/includes","sap/ui/fl/apply/_internal/controlVariants/Utils","sap/ui/fl/apply/_internal/flexState/controlVariants/VariantManagementState"],function(e,a,r,t,n,o,i,s,l,m,p){"use strict";var c={};var d={};function u(e,a){var r=[];return e.reduce(function(e,t){var n=a.getVariantManagementReference(t).variantManagementReference;if(n){if(l(r,n)){e.updateRequired=true;return e}r.push(n)}if(n&&a.oData[n].currentVariant!==t){e.updateRequired=true;if(a.oData[n].currentVariant!==a.oData[n].defaultVariant){e.parameters.push(a.oData[n].currentVariant)}}else{e.parameters.push(t)}return e},{updateRequired:false,parameters:[]})}function f(e,a){var r=n.get(["params",m.VARIANT_TECHNICAL_PARAMETER],e);if(r){var t=u(r,a);if(t.updateRequired){d.update({updateURL:!a._bDesignTimeMode,parameters:t.parameters,updateHashEntry:true,model:a})}}}function v(e,a){try{var t=e.getUShellService("URLParsing");if(t){var n=t.parseShellHash(a);f(n,e)}}catch(e){r.error(e.message)}var o=e.getUShellService("ShellNavigation");return o&&o.NavigationFilterStatus.Continue}function A(e){var a=e.getUShellService("ShellNavigation");if(!c[e.sFlexReference]){c[e.sFlexReference]=v.bind(null,e);if(a){a.registerNavigationFilter(c[e.sFlexReference])}}}function h(e){var a=e.getUShellService("ShellNavigation");if(a){a.unregisterNavigationFilter(c[e.sFlexReference]);delete c[e.sFlexReference]}}function R(e){var a=e.model;var t=a.getUShellService("URLParsing");var n=a.getUShellService("CrossApplicationNavigation");var o=t&&t.parseShellHash(s.getHash());if(o&&o.params){var i=a.oAppComponent&&a.oAppComponent.getComponentData&&a.oAppComponent.getComponentData()&&a.oAppComponent.getComponentData().technicalParameters;if(!i){r.warning("Component instance not provided, so technical parameters in component data and browser history remain unchanged")}if(e.parameters.length===0){delete o.params[m.VARIANT_TECHNICAL_PARAMETER];i&&delete i[m.VARIANT_TECHNICAL_PARAMETER]}else{o.params[m.VARIANT_TECHNICAL_PARAMETER]=e.parameters;i&&(i[m.VARIANT_TECHNICAL_PARAMETER]=e.parameters)}if(e.silent){s.changed.active=false;s.replaceHash(t.constructShellHash(o));s.changed.active=true}else{n.toExternal({target:{semanticObject:o.semanticObject,action:o.action,context:o.contextRaw},params:o.params,appSpecificRoute:o.appSpecificRoute,writeHistory:false})}}}function g(e){var a={index:-1};var r=e.model;var n=r.getUShellService("URLParsing");var o=n&&n.parseShellHash(s.getHash()).params;if(o){a.parameters=[];if(r._bDesignTimeMode){o[m.VARIANT_TECHNICAL_PARAMETER]=d.getStoredHashParams(e)}if(Array.isArray(o[m.VARIANT_TECHNICAL_PARAMETER])){o[m.VARIANT_TECHNICAL_PARAMETER]=o[m.VARIANT_TECHNICAL_PARAMETER].map(decodeURIComponent);o[m.VARIANT_TECHNICAL_PARAMETER].some(function(t,n){var o=p.getVariant({vmReference:e.vmReference,vReference:t,reference:r.oChangePersistence.getComponentName()});if(o){a.index=n;return true}})}}return t(a,o&&o[m.VARIANT_TECHNICAL_PARAMETER]&&{parameters:o[m.VARIANT_TECHNICAL_PARAMETER]})}function C(e){var a=e.getUShellService("URLParsing");var r=a&&a.parseShellHash(s.getHash());return r&&r.params&&r.params[m.VARIANT_TECHNICAL_PARAMETER]}d.variantTechnicalParameterName="sap-ui-fl-control-variant-id";d.initialize=function(e){var a=e.model;var r=a.getUShellService("URLParsing");var t=r&&r.parseShellHash(s.getHash());var n=t&&t.params&&t.params[m.VARIANT_TECHNICAL_PARAMETER];d.attachHandlers(e);d.update({model:a,parameters:n,updateHashEntry:Array.isArray(n)&&n.length>0});f(t,a)};d.updateVariantInURL=function(e){var a=d.removeURLParameterForVariantManagement(e);if(!a.parameters){return}var r=a.parameters||[];var t=a.index;var n=e.newVReference===e.model.oData[e.vmReference].defaultVariant;if(!n){if(t===-1){r=r.concat([e.newVReference])}else{r=r.slice(0,t).concat([e.newVReference],r.slice(t))}}if(!n||t>-1){d.update({parameters:r,updateURL:!e.model._bDesignTimeMode,updateHashEntry:true,model:e.model})}};d.removeURLParameterForVariantManagement=function(e){var a=g(e);if(a.index>-1){a.parameters.splice(a.index,1)}return a};d.attachHandlers=function(a){function r(){return a.model._oVariantSwitchPromise.then(function(){a.model._oHashData.controlPropertyObservers.forEach(function(e){e.destroy()});h(a.model);a.model.destroy();a.model.oComponentDestroyObserver.unobserve(a.model.oAppComponent,{destroy:true});a.model.oComponentDestroyObserver.destroy()})}A(a.model);if(!a.model.oComponentDestroyObserver&&a.model.oAppComponent instanceof e){a.model.oComponentDestroyObserver=new i(r.bind(null));a.model.oComponentDestroyObserver.observe(a.model.oAppComponent,{destroy:true})}};d.registerControl=function(e){if(e.updateURL){e.model._oHashData.variantControlIds.push(e.vmReference)}};d.update=function(e){if(!e.model._oHashData){e.model._oHashData={hashParams:[],controlPropertyObservers:[],variantControlIds:[]}}if(!e||!Array.isArray(e.parameters)){r.info("Variant URL parameters could not be updated since invalid parameters were received");return}if(e.updateURL){R(e)}if(e.updateHashEntry&&!o(e.model)){e.model._oHashData.hashParams=e.parameters}};d.getStoredHashParams=function(e){return Array.prototype.slice.call(e.model._oHashData.hashParams)};d.handleModelContextChange=function(e){var a="modelContextChange";function r(a,r){var t=r.model.getVariantManagementReferenceForControl(a.getSource());var n=r.model._oHashData.variantControlIds;var o=n.indexOf(t);if(o>-1){n.slice(o).forEach(function(a){if(g({vmReference:a,model:e.model}).index===-1){r.model.switchToDefaultForVariantManagement(a)}})}}var t=new i(function(t){if(t.current===true&&t.old===false){t.object.attachEvent(a,{model:e.model},r)}else if(t.current===false&&t.old===true){t.object.detachEvent(a,r)}});t.observe(e.vmControl,{properties:["resetOnContextChange"]});e.model._oHashData.controlPropertyObservers.push(t);if(e.vmControl.getResetOnContextChange()!==false){e.vmControl.attachEvent(a,{model:e.model},r)}};d.clearAllVariantURLParameters=function(e){if(C(e.model)){d.update({updateURL:true,parameters:[],updateHashEntry:false,model:e.model})}};return d});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/apply/_internal/controlVariants/Utils", ["sap/ui/core/Core","sap/ui/fl/Utils"],function(e,t){"use strict";function r(e,t){if(!t){return undefined}if(e.indexOf(t.getId())>-1){return t.getId()}return r(e,t.getParent())}function n(r,n){var a=t.getAppComponentForControl(r);var o=a.getRootControl();var i=[];if(!n&&o.getDomRef()){i=Array.from(o.getDomRef().querySelectorAll(".sapUiFlVarMngmt"))}if(n||i.length===0){i=Array.from(e.getStaticAreaRef().querySelectorAll(".sapUiFlVarMngmt"))}return i.map(function(e){return e.id})}var a={DEFAULT_AUTHOR:"SAP",VARIANT_TECHNICAL_PARAMETER:"sap-ui-fl-control-variant-id",compareVariants:function(e,t){if(e.getName().toLowerCase()<t.getName().toLowerCase()){return-1}else if(e.getName().toLowerCase()>t.getName().toLowerCase()){return 1}return 0},getIndexToSortVariant:function(e,t){var r=e.length;e.some(function(e,n){if(a.compareVariants(t.instance,e.instance)<0){r=n;return true}});return r},getRelevantVariantManagementControlId:function(t,a,o){var i={};if(!a||!a.length){a=n(t,o)}var u=a.reduce(function(t,r){var n=e.byId(r);if(n){var a=n.getFor();a.forEach(function(e){i[e]=r});t=t.concat(a)}return t},[]);var f=r(u,t);return i[f]},belongsToVariantManagement:function(e){var t=n(e);return!!a.getRelevantVariantManagementControlId(e,t)},getAllVariantManagementControlIds:function(e){return n(e)}};return a});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/apply/_internal/flexObjects/AppDescriptorChange", ["sap/ui/fl/apply/_internal/flexObjects/FlexObject"],function(e){"use strict";var t=e.extend("sap.ui.fl.apply._internal.flexObjects.AppDescriptorChange",{metadata:{properties:{appDescriptorChange:{type:"boolean",defaultValue:true}}}});t.getMappingInfo=function(){return Object.assign(e.getMappingInfo(),{appDescriptorChange:"appDescriptorChange"})};t.prototype.getMappingInfo=function(){return t.getMappingInfo()};t.prototype.getSelector=function(){return{}};t.prototype.isValidForDependencyMap=function(){return false};t.prototype.getVariantReference=function(){return undefined};return t});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/apply/_internal/flexObjects/CompVariant", ["sap/base/util/restricted/_pick","sap/ui/fl/apply/_internal/flexObjects/States","sap/ui/fl/apply/_internal/flexObjects/Variant","sap/ui/fl/LayerUtils","sap/ui/fl/Layer","sap/ui/fl/registry/Settings","sap/ui/fl/Utils"],function(t,e,r,n,a,i,s){"use strict";var o=r.extend("sap.ui.fl.apply._internal.flexObjects.CompVariant",{metadata:{properties:{persisted:{type:"boolean",defaultValue:true},persistencyKey:{type:"string"}},aggregations:{revertData:{type:"sap.ui.fl.apply._internal.flexObjects.CompVariantRevertData",multiple:true,singularName:"revertData",defaultValue:[]},changes:{type:"sap.ui.fl.Change",multiple:true,defaultValue:[]}}},constructor:function(t){r.apply(this,arguments);this.setFileType("variant");if(t.favorite!==undefined){this.setFavorite(!!t.favorite)}else if(t.layer===a.VENDOR||t.layer===a.CUSTOMER_BASE){this.setFavorite(true)}}});o.STANDARD_VARIANT_ID="*standard*";o.getMappingInfo=function(){return Object.assign(r.getMappingInfo(),{persistencyKey:"selector.persistencyKey",variantId:"variantId"})};o.prototype.getMappingInfo=function(){return o.getMappingInfo()};function p(t){var e=i.getInstanceOrUndef();var r=e&&e.getUserId();return!r||!t||r.toUpperCase()===t.toUpperCase()}function u(t,e,r){if(e){return t===e}else if(t===a.USER){return true}var s=i.getInstanceOrUndef();if(n.isSapUiLayerParameterProvided()){e=n.getCurrentLayer()}else if(!e){e=s.isPublicLayerAvailable()?a.PUBLIC:a.CUSTOMER}var o=t===e;var u=s.isKeyUser()||p(r);return o&&u}function f(t){return!t||s.getCurrentLanguage()===t}function l(t,e){var r=i.getInstanceOrUndef();if(!r){return true}if(!t||!e){return true}var n=r.getSystem();var a=r.getClient();return n===t&&e===a}o.prototype.getPackage=function(){return this.getFlexObjectMetadata().packageName};o.prototype.isVariant=function(){return true};o.prototype.isRenameEnabled=function(t){return!this.getStandardVariant()&&this.isEditEnabled(t)&&f(this.getSupportInformation().originalLanguage)};o.prototype.isEditEnabled=function(t){var e=t&&n.isDeveloperLayer(t);var r=l(this.getSupportInformation().sourceSystem,this.getSupportInformation().sourceClient);var a=u(this.getLayer(),t,this.getOwnerId());return e||r&&a};o.prototype.isDeleteEnabled=function(t){var e=l(this.getSupportInformation().sourceSystem,this.getSupportInformation().sourceClient);return e&&u(this.getLayer(),t,this.getOwnerId())&&!this.getStandardVariant()};o.prototype.storeFavorite=function(t){if(t!==this.getFavorite()){this.setState(e.DIRTY);this.setFavorite(t)}};o.prototype.getOwnerId=function(){return this.getSupportInformation().user||""};o.prototype.storeContent=function(t){this.setContent(t)};o.prototype.storeExecuteOnSelection=function(t){if(t!==this.getExecuteOnSelection()){this.setState(e.DIRTY);this.setExecuteOnSelection(t)}};o.prototype.storeName=function(t){this.setName(t)};o.prototype.storeContexts=function(t){this.setContexts(t);this.setState(e.DIRTY)};return o});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/apply/_internal/flexObjects/ControllerExtensionChange", ["sap/ui/fl/apply/_internal/flexObjects/FlexObject"],function(e){"use strict";var t=e.extend("sap.ui.fl.apply._internal.flexObjects.ControllerExtensionChange",{metadata:{properties:{controllerName:{type:"string"}}}});t.getMappingInfo=function(){return Object.assign(e.getMappingInfo(),{controllerName:"selector.controllerName"})};t.prototype.getMappingInfo=function(){return t.getMappingInfo()};t.prototype.getSelector=function(){return{controllerName:this.getControllerName()}};t.prototype.getVariantReference=function(){return undefined};t.prototype.isValidForDependencyMap=function(){return false};t.prototype.setInitialApplyState=function(){};t.prototype.getModuleName=function(){return this.getFlexObjectMetadata().moduleName};return t});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/apply/_internal/flexObjects/FlVariant", ["sap/ui/core/Core","sap/ui/fl/apply/_internal/controlVariants/Utils","sap/ui/fl/apply/_internal/flexObjects/Variant"],function(e,t,n){"use strict";var a=n.extend("sap.ui.fl.apply._internal.flexObjects.FlVariant",{metadata:{properties:{variantReference:{type:"string"},variantManagementReference:{type:"string"},visible:{type:"boolean",defaultValue:true}}},constructor:function(a,i){if(typeof a!=="string"&&a!==undefined){i=a;a=i&&i.id}i.fileType="ctrl_variant";if(i.favorite===undefined){i.favorite=true}n.apply(this,arguments);if(!this.getName()&&i.content&&i.content.title){this.setName(i.content.title)}var r=this.getName().match(/.i18n>(\w+)./);if(r){this.setName(e.getLibraryResourceBundle("sap.ui.fl").getText(r[1]))}var f=this.getSupportInformation();if(this.getId()===this.getVariantManagementReference()){this.setStandardVariant(true);if(!f.user){f.user=t.DEFAULT_AUTHOR;this.setSupportInformation(f)}}}});a.getMappingInfo=function(){return Object.assign(n.getMappingInfo(),{variantReference:"variantReference",variantManagementReference:"variantManagementReference"})};a.prototype.getMappingInfo=function(){return a.getMappingInfo()};return a});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/apply/_internal/flexObjects/FlexObject", ["sap/base/util/deepClone","sap/base/util/isEmptyObject","sap/base/util/isPlainObject","sap/base/util/ObjectPath","sap/base/util/restricted/_omit","sap/ui/base/ManagedObject","sap/ui/fl/apply/_internal/flexObjects/States","sap/ui/fl/Layer","sap/ui/fl/registry/Settings","sap/ui/fl/Utils"],function(t,e,a,n,r,o,i,s,p,u){"use strict";var c=o.extend("sap.ui.fl.apply._internal.flexObjects.FlexObject",{metadata:{properties:{state:{type:"string",defaultValue:i.NEW},fileType:{type:"string",defaultValue:"change"},layer:{type:"string"},flexObjectMetadata:{type:"object",defaultValue:{}},supportInformation:{type:"object",defaultValue:{}},content:{type:"any",defaultValue:{}},texts:{type:"object",defaultValue:{}}}},constructor:function(){o.apply(this,arguments);var t=this.getFlexObjectMetadata();var e=t.reference;if(e){if(!t.namespace){t.namespace=u.createNamespace({reference:e},this.getFileType())}if(!t.projectId){t.projectId=e.replace(".Component","")}}this.setFlexObjectMetadata(t);var a=this.getSupportInformation();if(!a.originalLanguage){a.originalLanguage=u.getCurrentLanguage()}this.setSupportInformation(a)}});c.getMappingInfo=function(){return Object.assign({},{"flexObjectMetadata.changeType":"changeType","flexObjectMetadata.reference":"reference","flexObjectMetadata.namespace":"namespace","flexObjectMetadata.creation":"creation","flexObjectMetadata.projectId":"projectId","flexObjectMetadata.packageName":"packageName","flexObjectMetadata.moduleName":"moduleName","supportInformation.generator":"support.generator","supportInformation.service":"support.service","supportInformation.sourceSystem":"sourceSystem","supportInformation.sourceClient":"sourceClient","supportInformation.user":"support.user","supportInformation.sapui5Version":"support.sapui5Version","supportInformation.sourceChangeFileName":"support.sourceChangeFileName","supportInformation.compositeCommand":"support.compositeCommand","supportInformation.command":"support.command","supportInformation.oDataInformation":"oDataInformation","supportInformation.originalLanguage":"originalLanguage",layer:"layer",fileType:"fileType",id:"fileName",content:"content",texts:"texts"})};c.prototype.getMappingInfo=function(){return c.getMappingInfo()};c.prototype.setContent=function(t,e){this.setProperty("content",t);if(!e){this.setState(i.DIRTY)}return this};c.prototype.getFlexObjectMetadata=function(){return Object.assign({},this.getProperty("flexObjectMetadata"))};c.prototype.getSupportInformation=function(){return Object.assign({},this.getProperty("supportInformation"))};function f(t,e){if(!Object.values(i).includes(t)){return false}if(e===i.NEW&&t===i.DIRTY){return false}return true}c.prototype.setState=function(t){var e=this.getState();if(e!==t&&f(t,e)){this._sPreviousState=e;this.setProperty("state",t)}return this};c.prototype.markForDeletion=function(){this.setState(i.DELETED)};c.prototype.restorePreviousState=function(){if(this._sPreviousState){this.setState(this._sPreviousState);delete this._sPreviousState}};c.prototype.isChangeFromOtherSystem=function(){var t=this.getSupportInformation().sourceSystem;var e=this.getSupportInformation().sourceClient;if(!t||!e){return false}var a=p.getInstanceOrUndef();if(!a){return true}var n=a.getSystem();var r=a.getClient();if(!n||!r){return false}return t!==n||e!==r};c.prototype.getNamespace=function(){return this.getFlexObjectMetadata().namespace};c.prototype.getChangeType=function(){return this.getFlexObjectMetadata().changeType};c.prototype.isUserDependent=function(){return this.getLayer()===s.USER};c.prototype.getText=function(t){var e=this.getTexts()[t]||{};return e.value||""};c.prototype.setText=function(t,e,a,n){var r=Object.assign({},this.getTexts());var o={value:e};if(a){o.type=a}r[t]=Object.assign({},r[t],o);this.setTexts(r);if(!n){this.setState(i.DIRTY)}return this};c.prototype.setRequest=function(t){this._sRequest=t};c.prototype.getRequest=function(){return this._sRequest||""};c.prototype.getDefinition=function(){return this.convertToFileContent()};c.prototype.getCreation=function(){return this.getFlexObjectMetadata().creation};c.prototype.setCreation=function(t){var e=this.getFlexObjectMetadata();e.creation=t;this.setFlexObjectMetadata(e)};function l(t){return t.length?t.charAt(0).toUpperCase()+t.slice(1):t}function g(t){return typeof this[t]==="function"?this[t].bind(this):function(){throw new Error(t+" is not a valid mutator")}}function h(e){var a=e.split(".");a[0]=l(a[0]);var r=a.shift();var o=g.call(this,"get"+r);var i=g.call(this,"set"+r);return{getValue:function(){var e=t(o());if(a.length>0){return n.get(a,e)}return e},setValue:function(e){var r=t(o());if(a.length>0){n.set(a,e,r)}else{r=e}i(r);return this}.bind(this)}}c.prototype.convertToFileContent=function(){var t={};Object.entries(this.getMappingInfo()).forEach(function(e){var a=h.call(this,e[0]).getValue();if(a!==undefined){n.set(e[1],a,t)}}.bind(this));return t};function m(t,e){var a=h.call(this,t);var n=a.getValue();if(n!==e){a.setValue(e)}}c.mapFileContent=function(e,n){var r=Object.values(n);var o={};var i=function(t,e,s){var p=s?s+"."+t:t;var u=r.indexOf(p);if(u>=0){var c=Object.keys(n)[u];o[c]=e}else if(a(e)){Object.entries(e).forEach(function(t){i(t[0],t[1],p)})}};Object.entries(t(e)).forEach(function(t){i(t[0],t[1])});return o};c.prototype.update=function(t){var e=r(t,["fileName"]);var a=c.mapFileContent(e,this.getMappingInfo());Object.entries(a).forEach(function(t){m.call(this,t[0],t[1])}.bind(this))};c.prototype.setResponse=function(t){if(!t||e(t)){return}this.update(t);this.setState(i.PERSISTED)};return c});
/* !
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/apply/_internal/flexObjects/FlexObjectFactory", ["sap/base/util/restricted/_pick","sap/base/util/ObjectPath","sap/ui/core/Core","sap/ui/fl/apply/_internal/flexObjects/AppDescriptorChange","sap/ui/fl/apply/_internal/flexObjects/CompVariant","sap/ui/fl/apply/_internal/flexObjects/ControllerExtensionChange","sap/ui/fl/apply/_internal/flexObjects/FlexObject","sap/ui/fl/apply/_internal/flexObjects/FlVariant","sap/ui/fl/Layer","sap/ui/fl/Utils"],function(e,t,n,r,a,o,i,c,s,l){"use strict";var p={BASE_FLEX_OBJECT:i,COMP_VARIANT_OBJECT:a,FL_VARIANT_OBJECT:c,CONTROLLER_EXTENSION:o,APP_DESCRIPTOR_CHANGE:r};function u(e){if(e.fileType==="variant"){return p.COMP_VARIANT_OBJECT}else if(e.fileType==="ctrl_variant"){return p.FL_VARIANT_OBJECT}else if(e.changeType==="codeExt"){return p.CONTROLLER_EXTENSION}else if(e.appDescriptorChange){return p.APP_DESCRIPTOR_CHANGE}return p.BASE_FLEX_OBJECT}function f(e){var t=e.type||e.changeType;var r=e.fileName||e.id||l.createDefaultFileName(t);return{id:r,layer:e.layer,content:e.content,texts:e.texts,supportInformation:{service:e.ODataService,command:e.command,compositeCommand:e.compositeCommand,generator:e.generator,sapui5Version:n.getConfiguration().getVersion().toString(),sourceSystem:e.sourceSystem,sourceClient:e.sourceClient,originalLanguage:e.originalLanguage,user:e.user},flexObjectMetadata:{changeType:t,reference:e.reference,packageName:e.packageName}}}var g={};g.createFromFileContent=function(e,r){var a=Object.assign({},e);var o=r||u(a);if(!o){throw new Error("Unknown file type")}a.support=Object.assign({generator:"FlexObjectFactory.createFromFileContent",sapui5Version:n.getConfiguration().getVersion().toString()},a.support||{});var c=o.getMappingInfo();var s=i.mapFileContent(a,c);var l=Object.entries(s).reduce(function(e,n){t.set(n[0].split("."),n[1],e);return e},{});var p=new o(l);return p};g.createAppDescriptorChange=function(e){e.compositeCommand=e.compositeCommand||e.support&&e.support.compositeCommand;var t=f(e);return new r(t)};g.createControllerExtensionChange=function(e){e.generator=e.generator||"FlexObjectFactory.createControllerExtensionChange";e.changeType="codeExt";e.content={codeRef:e.codeRef};var t=f(e);t.flexObjectMetadata.moduleName=e.moduleName;t.controllerName=e.controllerName;return new o(t)};g.createFlVariant=function(e){e.generator=e.generator||"FlexObjectFactory.createFlVariant";var t=f(e);t.variantManagementReference=e.variantManagementReference;t.variantReference=e.variantReference;t.contexts=e.contexts;t.texts={variantName:{value:e.variantName,type:"XFLD"}};return new c(t)};g.createCompVariant=function(e){e.generator=e.generator||"FlexObjectFactory.createCompVariant";e.user=t.get("support.user",e);var n=f(e);n.variantId=e.variantId||n.id;n.contexts=e.contexts;n.favorite=e.favorite;n.persisted=e.persisted;n.persistencyKey=e.persistencyKey||t.get("selector.persistencyKey",e);if(e.layer===s.VENDOR||e.layer===s.CUSTOMER_BASE){n.favorite=true}if(e.executeOnSelection!==undefined){n.executeOnSelection=e.executeOnSelection}else{n.executeOnSelection=n.content&&(n.content.executeOnSelect||n.content.executeOnSelection)}return new a(n)};return g});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/apply/_internal/flexObjects/States", [],function(){"use strict";return{NEW:"NEW",PERSISTED:"NONE",DELETED:"DELETE",DIRTY:"UPDATE"}});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/apply/_internal/flexObjects/UpdatableChange", ["sap/ui/fl/Change"],function(e){"use strict";var t=e.extend("sap.ui.fl.apply._internal.flexObjects.UpdatableChange",{metadata:{aggregations:{revertInfo:{type:"sap.ui.fl.apply._internal.flexObjects.RevertData",multiple:true,singularName:"revertInfo",defaultValue:[]}}}});t.prototype.popLatestRevertInfo=function(){var e=this.getRevertInfo().pop();this.removeRevertInfo(e);return e};return t});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/apply/_internal/flexObjects/Variant", ["sap/ui/fl/apply/_internal/flexObjects/FlexObject"],function(t){"use strict";var e=t.extend("sap.ui.fl.apply._internal.flexObjects.Variant",{metadata:{properties:{favorite:{type:"boolean",defaultValue:false},executeOnSelection:{type:"boolean",defaultValue:false},standardVariant:{type:"boolean",defaultValue:false},contexts:{type:"object",defaultValue:{}},variantId:{type:"string"}}},constructor:function(){t.apply(this,arguments);if(!this.getVariantId()){this.setVariantId(this.getId())}}});e.getMappingInfo=function(){return Object.assign(t.getMappingInfo(),{favorite:"favorite",executeOnSelection:"executeOnSelection",standardVariant:"standardVariant",contexts:"contexts"})};e.prototype.getMappingInfo=function(){return e.getMappingInfo()};e.prototype.getName=function(){return this.getText("variantName")};e.prototype.setName=function(t,e){this.setText("variantName",t,"XFLD",e)};return e});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/apply/_internal/flexState/FlexState", ["sap/base/util/restricted/_omit","sap/base/util/each","sap/base/util/merge","sap/base/util/ObjectPath","sap/base/Log","sap/ui/core/Component","sap/ui/fl/apply/_internal/flexState/appDescriptorChanges/prepareAppDescriptorMap","sap/ui/fl/apply/_internal/flexState/changes/prepareChangesMap","sap/ui/fl/apply/_internal/flexState/compVariants/prepareCompVariantsMap","sap/ui/fl/apply/_internal/flexState/controlVariants/prepareVariantsMap","sap/ui/fl/apply/_internal/flexState/Loader","sap/ui/fl/apply/_internal/flexState/ManifestUtils","sap/ui/fl/initial/_internal/StorageUtils","sap/ui/fl/LayerUtils","sap/ui/fl/Utils","sap/ui/fl/write/_internal/FlexInfoSession"],function(e,n,t,a,r,i,o,s,p,c,l,f,u,g,d,h){"use strict";var m={};var v={};var S={};var R={};var F;var C;var I;var x={appDescriptorChanges:{prepareFunction:o,pathInResponse:[]},changes:{prepareFunction:s,pathInResponse:["changes"]},variants:{prepareFunction:c,pathInResponse:["variants","variantChanges","variantDependentControlChanges","variantManagementChanges"]},compVariants:{prepareFunction:p,pathInResponse:["comp.variants","comp.standardVariants","comp.defaultVariants","comp.changes"]}};var D={compVariants:{},variants:{}};function y(e){var n=i.get(e.componentId);e.componentData=e.componentData||n.getComponentData()||{};e.manifest=e.manifest||e.rawManifest||n.getManifestObject();e.reference=e.reference||f.getFlexReference(e)}function V(e,n){if(!v[e]){throw new Error("State is not yet initialized")}if(!v[e].preparedMaps[n]){if(!v[e].storageResponse){v[e].storageResponse=L(v[e].unfilteredStorageResponse)}var t={unfilteredStorageResponse:v[e].unfilteredStorageResponse,storageResponse:v[e].storageResponse,componentId:v[e].componentId,componentData:v[e].componentData,reference:e};v[e].preparedMaps[n]=m.callPrepareFunction(n,t)}return v[e].preparedMaps[n]}function P(e){return V(e,"appDescriptorChanges")}function M(e){return V(e,"changes")}function U(e){return V(e,"variants")}function b(e){return V(e,"compVariants")}function z(e){if(e.reference.endsWith(".Component")){var n=e.reference.split(".");n.pop();var a=n.join(".");v[a]=t({},{storageResponse:{changes:u.getEmptyFlexDataResponse()},unfilteredStorageResponse:{changes:u.getEmptyFlexDataResponse()},preparedMaps:{},componentId:e.componentId,partialFlexState:e.partialFlexState});R[a]=R[e.reference]}}function L(e){var r=t({},e);var i=r.changes;var o=B("URLParsing");if(g.isLayerFilteringRequired(o)){n(x,function(e,n){n.pathInResponse.forEach(function(e){a.set(e,g.filterChangeDefinitionsByMaxLayer(a.get(e,i),o),i)})})}return r}function _(e){R[e.reference]=l.loadFlexData(e).then(function(n){v[e.reference]=t({},{unfilteredStorageResponse:n,preparedMaps:{},componentId:e.componentId,componentData:e.componentData,partialFlexState:e.partialFlexState});z(e);E(e.reference);N(e.reference,n);return n});return R[e.reference]}function N(e,n){var t=n&&n.changes||{};if(t.info!==undefined){var a=h.getByReference(e);if(a===null){a={}}a.allContextsProvided=t.info.allContextsProvided;h.setByReference(a,e)}}function E(e){var n=B("ShellNavigation");if(n&&!S[e]){S[e]=O.bind(null,e);n.registerNavigationFilter(S[e])}}function j(e){var n=B("ShellNavigation");if(n){if(S[e]){n.unregisterNavigationFilter(S[e]);delete S[e]}}}function O(e,n,t){var a=B("ShellNavigation");if(a){try{var i=g.getMaxLayerTechnicalParameter(n,B("URLParsing"));var o=g.getMaxLayerTechnicalParameter(t,B("URLParsing"));if(i!==o){m.clearFilteredResponse(e)}}catch(e){r.error(e.message)}return a.NavigationFilterStatus.Continue}return undefined}function w(e){var n=v[e.reference];if(n.partialFlexState===true&&e.partialFlexState!==true){n.partialFlexState=false;e.partialFlexData=t({},n.unfilteredStorageResponse.changes);e.reInitialize=true}return e}function k(e){var n=v[e.reference].componentId;if(!e.reInitialize&&n!==e.componentId){e.reInitialize=true}return e}function A(){return Promise.all([d.getUShellService("ShellNavigation"),d.getUShellService("URLParsing")]).then(function(e){F=e[0];C=e[1]}).catch(function(e){r.error("Error getting service from Unified Shell: "+e.message)})}function B(e){if(d.getUshellContainer()){if(e==="ShellNavigation"){return F}else if(e==="URLParsing"){return C}}return undefined}function q(){return Promise.all([d.requireAsync("sap/ui/fl/ChangePersistenceFactory")]).then(function(e){I=e[0]}).catch(function(e){r.error("Error loading modules: "+e.message)})}m.initialize=function(e){return Promise.all([A(),q()]).then(function(){y(e);var n=e.reference;if(R[n]){return R[n].then(w.bind(null,e)).then(k).then(function(e){return e.reInitialize?_(e):v[n].unfilteredStorageResponse})}return _(e)}).then(function(e){if(!v[e.reference].componentData){var n=i.get(e.componentId);v[e.reference].componentData=n?n.getComponentData():e.componentData}}.bind(null,e))};m.isInitialized=function(e){var n=e.reference?e.reference:f.getFlexReferenceForControl(e.control);return!!v[n]};m.clearAndInitialize=function(e){y(e);m.clearState(e.reference);m.clearState(d.normalizeReference(e.reference));return m.initialize(e)};m.clearState=function(e){if(e){j(e);delete v[e];delete R[e];if(I&&(I._instanceCache||{}).hasOwnProperty(e)){I._instanceCache[e].removeDirtyChanges()}}else{Object.keys(v).forEach(function(e){j(e)});v={};R={}}};m.setInitialNonFlCompVariantData=function(e,n,t,a){D.compVariants[e]=D.compVariants[e]||{};D.compVariants[e][n]={};D.compVariants[e][n].standardVariant=t;D.compVariants[e][n].variants=a};m.getInitialNonFlCompVariantData=function(e){return D.compVariants[e]};m.setFakeStandardVariant=function(e,n,a){var r=m.getVariantsState(e);if(!r[Object.keys(a)[0]]){t(r,a);D.variants[e]=D.variants[e]||{};D.variants[e][n]=D.variants[e][n]||{};t(D.variants[e][n],a)}};m.resetFakedStandardVariants=function(e,n){if(D.variants[e]){delete D.variants[e][n]}};m.clearFilteredResponse=function(e){if(v[e]){v[e].preparedMaps={};delete v[e].storageResponse}};m.getUIChanges=function(e){return M(e).changes};m.getAppDescriptorChanges=function(e){return P(e).appDescriptorChanges};m.getVariantsState=function(e){var t=U(e);if(D.variants[e]){n(D.variants[e],function(a,r){if(v[e].componentId===a){n(r,function(e,n){if(!t[e]){t[e]=n}})}})}return t};m.getUI2Personalization=function(e){return v[e].unfilteredStorageResponse.changes.ui2personalization};m.getCompVariantsMap=function(e){return b(e)};m.callPrepareFunction=function(e,n){return x[e].prepareFunction(n)};m.getStorageResponse=function(e){if(R[e]){return R[e].then(function(){return v[e].unfilteredStorageResponse})}return Promise.resolve()};m.getFlexObjectsFromStorageResponse=function(e){return v[e]&&v[e].unfilteredStorageResponse.changes};return m});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/apply/_internal/flexState/Loader", ["sap/ui/fl/apply/_internal/flexState/ManifestUtils","sap/ui/fl/initial/_internal/Storage","sap/ui/fl/Utils"],function(e,n,t){"use strict";function a(e){if(typeof e==="string"){e={id:e}}e.idIsLocal=true;return e}function r(e,n){if(e){[n.changes,n.variantChanges,n.variantDependentControlChanges,n.variantManagementChanges].forEach(function(e){e.forEach(function(e){if(!e.selector.idIsLocal){e.selector=a(e.selector);if(e.dependentSelector){Object.keys(e.dependentSelector).forEach(function(n){if(Array.isArray(e.dependentSelector[n])){e.dependentSelector[n]=e.dependentSelector[n].map(a)}else{e.dependentSelector[n]=a(e.dependentSelector[n])}})}}})})}return n}function i(n){return n&&!!e.getOvpEntry(n)}function o(e){return{changes:e,cacheKey:e.cacheKey}}return{loadFlexData:function(a){var c=e.getBaseComponentNameFromManifest(a.manifest);if(a.partialFlexData){return n.completeFlexData({reference:a.reference,componentName:c,partialFlexData:a.partialFlexData}).then(o)}var s=a.reInitialize?undefined:e.getCacheKeyFromAsyncHints(a.reference,a.asyncHints);return n.loadFlexData({preview:e.getPreviewSectionFromAsyncHints(a.asyncHints),reference:a.reference,componentName:c,cacheKey:s,siteId:t.getSiteIdByComponentData(a.componentData),appDescriptor:a.manifest.getRawJson?a.manifest.getRawJson():a.manifest,version:a.version,allContexts:a.allContexts}).then(r.bind(undefined,i(a.manifest))).then(o)}}});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/apply/_internal/flexState/ManifestUtils", ["sap/ui/fl/Utils"],function(e){"use strict";function n(e){if(e&&e.indexOf(".Component")<0){e+=".Component"}return e}function t(e){if(e&&e.requests&&Array.isArray(e.requests)){return e.requests.find(function(e){return e.name==="sap.ui.fl.changes"})}}var r={getFlexReferenceForControl:function(n){var t=e.getAppComponentForControl(n);return t&&r.getFlexReference({manifest:t.getManifestObject(),componentData:t.getComponentData()})},getFlexReference:function(t){var r=t.manifest;var a=t.componentData||{};if(a.startupParameters){if(Array.isArray(a.startupParameters["sap-app-id"])){return a.startupParameters["sap-app-id"][0]}}var i=r.getEntry?r.getEntry("sap.ui5"):r["sap.ui5"];if(i){if(i.appVariantId){return i.appVariantId}if(i.componentName){return n(i.componentName)}}return n(e.getAppIdFromManifest(r))},getOvpEntry:function(e){return e.getEntry?e.getEntry("sap.ovp"):e["sap.ovp"]},getCacheKeyFromAsyncHints:function(e,n){var r=t(n);if(r&&r.reference===e){return r.cachebusterToken||"<NO CHANGES>"}},getPreviewSectionFromAsyncHints:function(e){var n=t(e);if(n){return n.preview}},getChangeManifestFromAsyncHints:function(e){var n=t(e);if(n){return false}return true},getBaseComponentNameFromManifest:function(n){var t=n.getEntry?n.getEntry("sap.ui5"):n["sap.ui5"];return t&&t.componentName||e.getAppIdFromManifest(n)},isFlexExtensionPointHandlingEnabled:function(n){var t=e.getAppComponentForControl(n);return!!(t&&t.getManifestEntry("sap.ui5")&&t.getManifestEntry("sap.ui5").flexExtensionPointEnabled)}};return r});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/apply/_internal/flexState/appDescriptorChanges/prepareAppDescriptorMap", ["sap/ui/fl/Change"],function(e){"use strict";return function(n){var r=n.storageResponse.changes.appDescriptorChanges||[];var a=r.map(function(n){return new e(n)});return{appDescriptorChanges:a}}});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/apply/_internal/flexState/changes/DependencyHandler", ["sap/base/util/includes","sap/ui/core/util/reflection/JsControlTreeModifier","sap/ui/fl/Utils"],function(e,n,t){"use strict";var d="sap.ui.fl:PendingChange";var i={};function c(e,t){return n.getControlIdBySelector(e,t)}function s(e){return{changeObject:e,dependencies:[],controlsDependencies:[],dependentIds:[]}}function a(e,n,t){r(t,n,e);o(t,n)}function o(n,t){if(!e(n.aChanges,t)){n.aChanges.push(t)}}function r(n,t,d){if(!n.mChanges[d]){n.mChanges[d]=[]}if(!e(n.mChanges[d],t)){n.mChanges[d].push(t)}}function p(e,n,t){var d=e.getSelector();if(d){if(d.id){a(c(d,n),e,t)}else{o(t,e)}}return t.aChanges}function f(e,n){return e.some(function(e){return e.id===n.id&&e.idIsLocal===n.idIsLocal})}function u(e,n,t,d,i,s,a){var o=t.getDependentSelectorList();n.some(function(n){if(f(o,n)){var r=c(n,i);var p=d&&s.indexOf(e)<s.indexOf(t);if(p){l(t,e,r,a,true)}else{l(e,t,r,a)}return true}})}function h(e,n,t,d){if(e.isValidForDependencyMap()){var i=e.getDependentSelectorList();g(e,i,n,d);var c=t.indexOf(e);var s=c<t.length-1;var a=t.slice();a.splice(c,1);a.reverse().forEach(function(c){if(c.isValidForDependencyMap()){u(e,i,c,s,n,t,d)}})}}function g(e,n,t,d){if(n.length){var i=n.map(function(e){return c(e,t)});if(!d.mDependencies[e.getId()]){d.mDependencies[e.getId()]=s(e)}d.mDependencies[e.getId()].controlsDependencies=i;i.forEach(function(n){d.mControlsWithDependencies[n]=d.mControlsWithDependencies[n]||[];d.mControlsWithDependencies[n].push(e.getId())})}}function l(n,t,d,i,c){if(m(n,t,d,i,c)){i.mDependencies[n.getId()].dependencies.push(t.getId());if(!e(i.mDependencies[n.getId()].dependentIds,d)){i.mDependencies[n.getId()].dependentIds.push(d)}if(!i.mDependentChangesOnMe[t.getId()]){i.mDependentChangesOnMe[t.getId()]=[]}i.mDependentChangesOnMe[t.getId()].push(n.getId())}}function m(n,t,d,i,c){var s=!c&&e(i.mDependencies[n.getId()].dependentIds,d);var a=false;if(i.mDependentChangesOnMe[t.getId()]){i.mDependentChangesOnMe[t.getId()].some(function(t){a=e(i.mDependencies[n.getId()].dependencies,t);return a})}return!s&&!a}function D(e,n){var c=[];var s=[];var a=[];if(e.dependencyRemovedInLastBatch[n]){e.dependencyRemovedInLastBatch[n].forEach(function(n){var t=e.mDependencies[n];if(t&&t.dependencies.length===0&&!(t.controlsDependencies&&t.controlsDependencies.length)){s.push(n);c.push(t.changeObject.getId());if(t[d]){a.push(function(){return t[d]()})}}})}return t.execPromiseQueueSequentially(a).then(function(n,t,d){delete e.dependencyRemovedInLastBatch[d];t.forEach(function(n){delete e.mDependencies[n]});n.forEach(function(n){i.resolveDependenciesForChange(e,n,d)});return!!n.length}.bind(undefined,c,s,n))}i.createEmptyDependencyMap=function(){return{aChanges:[],mChanges:{},mDependencies:{},mDependentChangesOnMe:{},mControlsWithDependencies:{},dependencyRemovedInLastBatch:{}}};i.addChangeAndUpdateDependencies=function(e,n,t){var d=p(e,n,t);h(e,n,d,t)};i.insertChange=function(e,n,t){var d=n&&n.aChanges&&n.aChanges.indexOf(t);if(d>-1){n.aChanges.splice(d+1,0,e)}};i.addRuntimeChangeAndUpdateDependencies=function(e,n,t,d){var i=p(e,n,t);h(e,n,i,d)};i.processDependentQueue=function(e,n,t){return D(e,t).then(function(t,d){if(d){return i.processDependentQueue(e,n,t)}}.bind(undefined,t))};i.addChangeApplyCallbackToDependency=function(e,n,t){e.mDependencies[n][d]=t};i.removeControlsDependencies=function(n,t){var d=n.mControlsWithDependencies[t];if(d){d.forEach(function(d){var i=n.mDependencies[d];if(i&&i.controlsDependencies&&i.controlsDependencies.length){var c=i.controlsDependencies.indexOf(t);if(c>-1){i.controlsDependencies.splice(c,1);delete n.mControlsWithDependencies[t];n.dependencyRemovedInLastBatch[t]=n.dependencyRemovedInLastBatch[t]||[];if(!e(n.dependencyRemovedInLastBatch[t],d)){n.dependencyRemovedInLastBatch[t].push(d)}}}});delete n.mControlsWithDependencies[t]}};i.resolveDependenciesForChange=function(n,t,d){var i=n.mDependentChangesOnMe[t];if(i){i.forEach(function(i){var c=n.mDependencies[i];var s=c?c.dependencies.indexOf(t):-1;if(s>-1){c.dependencies.splice(s,1);n.dependencyRemovedInLastBatch[d]=n.dependencyRemovedInLastBatch[d]||[];if(!e(n.dependencyRemovedInLastBatch[d],i)){n.dependencyRemovedInLastBatch[d].push(i)}}});delete n.mDependentChangesOnMe[t]}};i.removeChangeFromMap=function(e,n){Object.keys(e.mChanges).some(function(t){var d=e.mChanges[t];var i=d.map(function(e){return e.getId()}).indexOf(n);if(i!==-1){d.splice(i,1);return true}});var t=e.aChanges.map(function(e){return e.getId()}).indexOf(n);if(t!==-1){e.aChanges.splice(t,1)}};i.removeChangeFromDependencies=function(e,n,t){i.resolveDependenciesForChange(e,n,t);delete e.mDependencies[n]};i.getOpenDependentChangesForControl=function(e,t,d){var i=[];Object.keys(e.mDependencies).forEach(function(c){e.mDependencies[c].changeObject.getDependentSelectorList().forEach(function(s){if(n.getControlIdBySelector(s,d)===t){i.push(e.mDependencies[c].changeObject)}})});return i};return i});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/apply/_internal/flexState/changes/prepareChangesMap", ["sap/ui/fl/Change"],function(n){"use strict";return function(e){var a=e.storageResponse.changes.changes;var r=a.map(function(e){return new n(e)});return{changes:r}}});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/apply/_internal/flexState/compVariants/CompVariantMerger", ["sap/ui/fl/apply/_internal/flexObjects/CompVariant","sap/ui/fl/apply/_internal/flexObjects/FlexObjectFactory","sap/base/Log"],function(e,t,n){"use strict";var a={addFavorite:function(e){e.setFavorite(true)},removeFavorite:function(e){e.setFavorite(false)},updateVariant:function(e,t){var n=t.getContent();if(n.executeOnSelection!==undefined){e.setExecuteOnSelection(n.executeOnSelection)}if(n.favorite!==undefined){e.setFavorite(n.favorite)}if(n.contexts){e.setContexts(n.contexts)}if(n.variantContent){e.setContent(n.variantContent,true)}var a=t.getText("variantName");if(a){e.setName(a,true)}},standardVariant:function(e,t){e.setExecuteOnSelection(t.getContent().executeOnSelect)}};function r(e){var t={};e.changes.forEach(function(e){var n=e.getSelector().variantId||e.getContent().key;if(!t[n]){t[n]=[]}t[n].push(e)});return t}function i(e,t){n.error("No change handler for change with the ID '"+t.getId()+"' and type '"+t.getChangeType()+"' defined.\n"+"The variant '"+e.getId()+"'was not modified'")}function o(n,a){var r={fileName:a.fileName,variantId:a.id||e.STANDARD_VARIANT_ID,persisted:a.persisted,content:a.content||{},texts:{variantName:{value:a.name||""}},selector:{persistencyKey:n}};if(a.favorite!==undefined){r.favorite=a.favorite}if(a.executeOnSelection!==undefined){r.executeOnSelection=a.executeOnSelection}return t.createCompVariant(r)}function f(e,t){var n=a[t.getChangeType()]||i;n(e,t);e.addChange(t)}function c(e,t){var n=t.getVariantId();if(e[n]){e[n].forEach(function(e){f(t,e)})}}return{merge:function(e,t,n){var a=t.nonPersistedVariants.concat(t.variants);var i=r(t);var f;a.forEach(function(e){if(e.getContent()&&e.getContent().standardvariant){f=e}});if(!f){f=o(e,n)}else{a=a.filter(function(e){return!e.getContent()||!e.getContent().standardvariant})}a.forEach(c.bind(undefined,i));f.setFavorite(true);f.setStandardVariant(true);t.byId[f.getVariantId()]=f;var d=t.standardVariantChange;if(d){i[f.getVariantId()]=i[f.getVariantId()]||[];i[f.getVariantId()].push(d);i[f.getVariantId()].sort(function(e,t){if(e.getCreation()<t.getCreation()){return-1}if(e.getCreation()>t.getCreation()){return 1}return 0})}c(i,f);t.standardVariant=f;return{standardVariant:f,variants:a}},createVariant:function(e,t){return o(e,t)},applyChangeOnVariant:f}});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/apply/_internal/flexState/compVariants/prepareCompVariantsMap", ["sap/ui/fl/apply/_internal/flexObjects/FlexObjectFactory","sap/ui/fl/apply/_internal/flexObjects/States","sap/ui/fl/apply/_internal/flexObjects/UpdatableChange","sap/ui/fl/apply/_internal/flexState/compVariants/CompVariantMerger"],function(e,a,n,t){"use strict";function r(e,a){e[a]=e[a]||{byId:{},variants:[],nonPersistedVariants:[],changes:[],defaultVariants:[],standardVariantChange:undefined,standardVariant:undefined};return e[a]}function i(e,a,n){n=n||[];var i=r(e,a);i.nonPersistedVariants.forEach(function(e){delete i.byId[e.getId()]});i.nonPersistedVariants=n.map(function(e){var n=Object.assign({id:e.id,persisted:false},e);n=t.createVariant(a,n);i.byId[e.id]=n;return n});return i}function s(t,i,s){var d=t[i].map(function(t){var r;if(i==="variants"){r=e.createCompVariant(t)}else{r=new n(t)}r.setState(a.PERSISTED);return r});d.forEach(function(e){var a=e.getPersistencyKey?e.getPersistencyKey():e.getSelector().persistencyKey;r(s,a).byId[e.getId()]=e;switch(i){case"standardVariants":r(s,a).standardVariantChange=e;break;default:r(s,a)[i].push(e)}})}return function(e){var a={};a._getOrCreate=r.bind(undefined,a);a._initialize=i.bind(undefined,a);if(e.storageResponse.changes.comp){["variants","changes","defaultVariants","standardVariants"].forEach(function(n){s(e.storageResponse.changes.comp,n,a)})}return a}});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/apply/_internal/flexState/controlVariants/Switcher", ["sap/base/util/restricted/_pick","sap/ui/fl/apply/_internal/flexState/controlVariants/VariantManagementState","sap/ui/fl/apply/_internal/changes/Reverter"],function(e,n,r){"use strict";function t(r){var t=n.getControlChangesForVariant(Object.assign(e(r,["vmReference","variantsMap","reference"]),{vReference:r.currentVReference}));var a=n.getControlChangesForVariant(Object.assign(e(r,["vmReference","variantsMap","reference"]),{vReference:r.newVReference}));var i=Object.keys(r.changesMap).reduce(function(e,n){return e.concat(r.changesMap[n])},[]);var s=i.map(function(e){return e.getId()});var c=t.reduce(function(e,n){var r=s.indexOf(n.getId());if(r>-1){e=e.concat(i[r])}return e},[]);var o=[];if(a.length>0){o=c.slice();c.some(function(e){if(a[0]&&e.getId()===a[0].getId()){a.shift();o.shift()}else{return true}})}else{o=c}var l={changesToBeReverted:o.reverse(),changesToBeApplied:a};return l}var a={switchVariant:function(e){return Promise.resolve().then(function(){e.changesMap=e.flexController._oChangePersistence.getChangesMapForComponent().mChanges;e.variantsMap=n.getContent(e.reference);var a=t(e);return r.revertMultipleChanges(a.changesToBeReverted,e).then(e.flexController.applyVariantChanges.bind(e.flexController,a.changesToBeApplied,e.appComponent)).then(n.setCurrentVariant.bind(null,e))})}};return a});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/apply/_internal/flexState/controlVariants/VariantManagementState", ["sap/base/util/restricted/_omit","sap/base/util/restricted/_pick","sap/base/util/includes","sap/base/util/isEmptyObject","sap/base/util/ObjectPath","sap/base/Log","sap/ui/core/util/reflection/JsControlTreeModifier","sap/ui/fl/apply/_internal/controlVariants/Utils","sap/ui/fl/apply/_internal/flexObjects/States","sap/ui/fl/apply/_internal/flexState/FlexState","sap/ui/fl/Change","sap/ui/fl/LayerUtils","sap/ui/fl/Utils"],function(e,t,n,a,r,i,c,o,f,s,u,g,v){"use strict";var l={};var d={};function C(e){var t=[];if(e.variantData.instance.getVariantReference()){t=l.getControlChangesForVariant(Object.assign(e,{vReference:e.variantData.instance.getVariantReference()}));return t.filter(function(t){return g.compareAgainstCurrentLayer(t.getLayer(),e.variantData.instance.getLayer())===-1})}return t}function p(e){var t=l.getContent(e.reference);var n=r.get([e.vmReference,"variants"],t);return n||[]}function h(e,t,n){var a=t.changeType;if(!e){e={}}if(!e[a]){e[a]=[]}if(n){e[a].push(t);return true}return e[a].some(function(n,r){if(n.fileName===t.fileName){e[a].splice(r,1);return true}})}function m(e,t){var n=R(e);t[n].push(e)}function V(e,t){var n=R(e);var a=-1;t[n].some(function(t,n){if(t.fileName===e.fileName){a=n;return true}});if(a>-1){t[n].splice(a,1)}}function R(e){switch(e.fileType){case"change":return"variantDependentControlChanges";case"ctrl_variant":return"variants";case"ctrl_variant_change":return"variantChanges";case"ctrl_variant_management_change":return"variantManagementChanges";default:}}l.addUpdateStateListener=function(e,t){d[e]=t};l.removeUpdateStateListener=function(e){delete d[e]};l.getContent=function(e){return s.getVariantsState(e)};l.addFakeStandardVariant=function(e,t,n){s.setFakeStandardVariant(e,t,n)};l.clearFakedStandardVariants=function(e,t){s.resetFakedStandardVariants(e,t)};l.getControlChangesForVariant=function(e){var t=[];var n=l.getVariant(e);if(n){t=n.controlChanges.filter(function(t){return e.includeDirtyChanges!==false||t.getState()===u.states.PERSISTED})}return t};l.getVariantChangesForVariant=function(e){var t=l.getVariant(e);return t&&t.variantChanges||{}};l.getVariant=function(e){var t;var n=l.getContent(e.reference);e.vReference=e.vReference||n[e.vmReference].defaultVariant;var a=p(e);a.some(function(n){if(n.instance.getId()===e.vReference){t=n;return true}});return t};l.getCurrentVariantReference=function(e){var t=l.getContent(e.reference);var n=t[e.vmReference];return n.currentVariant||n.defaultVariant};l.getVariantManagementReferences=function(e){var t=l.getContent(e);return Object.keys(t)};l.addVariantToVariantManagement=function(e){var t=l.getContent(e.reference);var n=t[e.vmReference].variants.slice().splice(1);var a=o.getIndexToSortVariant(n,e.variantData);if(e.variantData.instance.getVariantReference()){var r=C(e);e.variantData.controlChanges=r.concat(e.variantData.controlChanges)}t[e.vmReference].variants.splice(a+1,0,e.variantData);return a+1};l.removeVariantFromVariantManagement=function(e){var t;var n=l.getContent(e.reference);var a=n[e.vmReference].variants.some(function(n,a){if(n.instance.getId()===e.variant.getId()){t=a;return true}});if(a){n[e.vmReference].variants.splice(t,1)}return t};l.setVariantData=function(e){var t=l.getContent(e.reference);var n=t[e.vmReference].variants;var a=n[e.previousIndex];if(a.instance.getId()!==e.vmReference){n.splice(e.previousIndex,1);var r=o.getIndexToSortVariant(n.slice(1),a);n.splice(r+1,0,a);return r+1}n.splice(e.previousIndex,1,a);return e.previousIndex};l.addChangeToVariant=function(e){var t=l.getControlChangesForVariant(e);var a=t.map(function(e){return e.getId()});if(!n(a,e.change.getId())){var r=l.getVariant(e);r.controlChanges=t.concat([e.change]);return true}return false};l.removeChangeFromVariant=function(e){var t=l.getControlChangesForVariant(e);var n=l.getVariant(e);var a=false;if(n){n.controlChanges=t.filter(function(t){if(!a&&t.getId()===e.change.getId()){a=true;return false}return true})}return a};l.getInitialChanges=function(e){var t=l.getContent(e.reference);return Object.keys(t).reduce(function(n,a){if(e.vmReference&&e.vmReference===a||!e.vmReference){var r=t[a].currentVariant?"currentVariant":"defaultVariant";var i=Object.assign({},e,{vmReference:a,vReference:t[a][r],includeDirtyChanges:false});return n.concat(l.getControlChangesForVariant(i))}return n},[])};l.fillVariantModel=function(e){var t=l.getContent(e.reference);return Object.keys(t).reduce(function(n,a){n[a]={defaultVariant:t[a].defaultVariant,variants:[]};if(t[a].currentVariant){n[a].currentVariant=t[a].currentVariant}p(Object.assign(e,{vmReference:a})).forEach(function(e,t){var r=e.instance;n[a].variants[t]=JSON.parse(JSON.stringify({key:r.getId(),title:r.getName(),layer:r.getLayer(),favorite:r.getFavorite(),executeOnSelect:r.getExecuteOnSelection(),visible:r.getVisible(),author:r.getSupportInformation().user,contexts:r.getContexts()}))});return n},{})};l.updateChangesForVariantManagementInMap=function(e){var t=l.getContent(e.reference);var n=t[e.vmReference];if(e.changeContent.fileType==="ctrl_variant_change"){n.variants.some(function(t){if(t.instance.getId()===e.changeContent.selector.id){h(t.variantChanges,e.changeContent,e.add)}})}else if(e.changeContent.fileType==="ctrl_variant_management_change"){h(n.variantManagementChanges,e.changeContent,e.add)}};l.setCurrentVariant=function(e){var t=l.getContent(e.reference);if(r.get([e.vmReference],t)){t[e.vmReference].currentVariant=e.newVReference}};l.updateVariantsState=function(e){var t=l.getContent(e.reference);if(a(t)){i.error("Variant state is not initialized yet");return}var n=s.getFlexObjectsFromStorageResponse(e.reference);if(e.changeToBeAddedOrDeleted){switch(e.changeToBeAddedOrDeleted.getState()){case f.NEW:m(e.changeToBeAddedOrDeleted.convertToFileContent(),n);break;case f.DELETE:V(e.changeToBeAddedOrDeleted.convertToFileContent(),n);break;default:}if(d[e.reference]){d[e.reference]()}}};l.waitForInitialVariantChanges=function(e){var t=l.getInitialChanges({vmReference:e.vmReference,reference:e.reference});var n=t.reduce(function(t,n){var a=n.getSelector();var r=c.bySelector(a,e.appComponent);if(r&&v.indexOfObject(t,{selector:r})===-1){t.push({selector:r})}return t},[]);return n.length?e.flexController.waitForChangesToBeApplied(n):Promise.resolve()};return l});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/apply/_internal/flexState/controlVariants/prepareVariantsMap", ["sap/base/util/each","sap/base/util/includes","sap/base/util/isEmptyObject","sap/base/util/merge","sap/base/util/ObjectPath","sap/base/util/values","sap/base/Log","sap/ui/fl/apply/_internal/controlVariants/Utils","sap/ui/fl/apply/_internal/flexObjects/FlexObjectFactory","sap/ui/fl/Change","sap/ui/fl/LayerUtils"],function(e,n,t,a,r,i,s,c,o,u,f){"use strict";function g(e,n){var t=a({},e);n.forEach(function(e){t[e.fileName]={instance:o.createFromFileContent(e),controlChanges:[],variantChanges:{}}});return t}function v(e,n,t){var r=a({},e);n.forEach(function(e){var n=new u(e);n.setState(u.states.PERSISTED);var a=r[e.variantReference];a=a||y(e.variantReference,t);a.controlChanges.push(n);r[e.variantReference]=a});return r}function l(e,n,t){var r=a({},e);n.forEach(function(e){var n=r[e.selector.id];n=n||y(e.selector.id,t);var a=n.variantChanges[e.changeType]||[];a.push(e);n.variantChanges[e.changeType]=a;r[e.selector.id]=n});return r}function h(e){var n=a({},e);i(e).forEach(function(e){var t=r.get("variantChanges.setVisible",e);if(t&&t.length>0){var a=I(t);if(!a.getContent().visible&&a.getContent().createdByReset){delete n[e.instance.getId()]}}});return n}function C(e,n){var t=a({},e);i(t).forEach(function(e){var a=e.instance.getVariantReference();var r;if(a){r=b(t,a,e.instance.getVariantManagementReference(),n)}e.controlChanges=p(r,e.instance.getLayer()).concat(e.controlChanges)});return t}function p(e,n){if(!e){return[]}return i(a({},e.controlChanges)).filter(function(e){return f.compareAgainstCurrentLayer(e.getLayer(),n)===-1})}function b(e,n,t,a){var r=e[n];if(!r&&n===t){r=y(n,a);e[n]=r}return r}function d(e,n){var t={};t=g(t,e.variants);t=v(t,e.variantDependentControlChanges,n);t=l(t,e.variantChanges,n);t=h(t);t=C(t,n);return t}function R(){return{variantManagementChanges:{},variants:[]}}function m(e,t,r){var s=a({},e);i(t).forEach(function(e){var t=e.instance.getVariantManagementReference();if(!s[t]){s[t]=R()}e=A(e);if(!s[t].currentVariant&&e.instance.getVisible()&&n(r,e.instance.getId())){s[t].currentVariant=e.instance.getId()}s[t].defaultVariant=t;var a=c.getIndexToSortVariant(s[t].variants,e);s[t].variants.splice(a,0,e)});return s}function E(e,n){var t=a({},e);n.forEach(function(e){var n=e.selector.id;if(!t[n]){t[n]=R()}var a=e.changeType;if(!t[n].variantManagementChanges[a]){t[n].variantManagementChanges[a]=[]}t[n].variantManagementChanges[a].push(e);t[n]=x(t[n])});return t}function T(n,t){var r=a({},n);e(r,function(e,n){var a=n.variants.findIndex(function(n){return n.instance.getId()===e});var r;if(a===-1){r=y(e,t)}else{r=n.variants[a];n.variants.splice(a,1)}n.variants.unshift(r)});return r}function V(e,n,t,a){var r={};r=m(r,e,t);r=E(r,n);r=T(r,a);return r}function y(e,n){var t=sap.ui.getCore().getLibraryResourceBundle("sap.ui.fl");return{instance:o.createFlVariant({id:e,variantManagementReference:e,variantName:t.getText("STANDARD_VARIANT_TITLE"),user:c.DEFAULT_AUTHOR,reference:n}),variantChanges:{},controlChanges:[]}}function x(e){var n=a({},e);var r=n.variantManagementChanges;var i;if(!t(r)){i=I(r["setDefault"]);if(i){n.defaultVariant=i.getContent().defaultVariant}}return n}function A(n){var t=a({},n);var r=t.variantChanges;var i;e(r,function(e,n){switch(e){case"setTitle":i=I(n);if(i){t.instance.setName(i.getText("title"),true)}break;case"setFavorite":i=I(n);if(i){t.instance.setFavorite(i.getContent().favorite)}break;case"setExecuteOnSelect":i=I(n);if(i){t.instance.setExecuteOnSelection(i.getContent().executeOnSelect)}break;case"setVisible":i=I(n);if(i){t.instance.setVisible(i.getContent().visible)}break;case"setContexts":i=I(n);if(i){t.instance.setContexts(i.getContent().contexts)}break;default:s.error("No valid changes on variant "+t.content.content.title+" available")}});return t}function I(e){if(e.length>0){return new u(e[e.length-1])}return false}return function(e){if(t(e)||!r.get("storageResponse.changes.variants",e)){return{}}var n=r.get(["technicalParameters",c.VARIANT_TECHNICAL_PARAMETER],e.componentData)||[];var a=d(e.storageResponse.changes,e.reference);a=V(a,e.storageResponse.changes.variantManagementChanges,n,e.reference);return a}});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/apply/_internal/preprocessors/ControllerExtension", ["sap/ui/core/Component","sap/ui/fl/apply/_internal/flexState/ManifestUtils","sap/ui/fl/ChangePersistenceFactory","sap/ui/fl/Utils","sap/base/Log"],function(e,n,t,r,o){"use strict";var i=function(){};function s(e){return e.getChangeType()==="codeExt"}function a(e,n){var t=n.getSelector().controllerName;return e===t}function u(e){if(e.length===0){return Promise.resolve([])}return new Promise(function(n){sap.ui.require(e,function(){n(Array.prototype.slice.call(arguments))},function(e){o.error("Code Extension not found",e.message);n([])})})}i.prototype.getControllerExtensions=function(i,c,f){if(f){if(!c){o.warning("No component ID for determining the anchor of the code extensions was passed.");return Promise.resolve([])}var l=e.get(c);var p=r.getAppComponentForControl(l);if(!p){o.warning("No application component for determining the anchor of the code extensions was identified.");return Promise.resolve([])}if(!r.isApplication(p.getManifestObject())){return Promise.resolve([])}var g=n.getFlexReferenceForControl(p);var m=t.getChangePersistenceForComponent(g);return m.getChangesForComponent().then(function(e){var n=e.filter(function(e){return s(e)&&a(i,e)}).map(function(e){return e.getModuleName()});return u(n)})}o.warning("Synchronous extensions are not supported via UI5 Flexibility");return[]};return i});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/apply/_internal/preprocessors/EventHistory", ["sap/ui/core/Core"],function(e){"use strict";var n=function(){};n._aEventIds=["ControlForPersonalizationRendered"];n._aUnsubscribedEventIds=[];n._oHistory={};n.start=function(){n._aEventIds.forEach(function(s){if(n._aUnsubscribedEventIds.indexOf(s)===-1){e.getEventBus().subscribe("sap.ui",s,n.saveEvent);n._oHistory[s]=[]}})};n.saveEvent=function(e,s,t){var r={channelId:e,eventId:s,parameters:t.getId()};if(n._oHistory[s]){var i=n._oHistory[s].some(function(e){return e.channelId===r.channelId&&e.eventId===r.eventId&&e.parameters===r.parameters});if(!i){n._oHistory[s].push(r)}}};n.getHistoryAndStop=function(s){e.getEventBus().unsubscribe("sap.ui",s,n.saveEvent);n._addUnsubscribedEvent(s);return n._oHistory[s]||[]};n._addUnsubscribedEvent=function(e){if(n._aUnsubscribedEventIds.indexOf(e)===-1){n._aUnsubscribedEventIds.push(e)}};return n});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/apply/_internal/preprocessors/RegistrationDelegator", ["sap/ui/core/mvc/Controller","sap/ui/core/mvc/XMLView","sap/ui/core/Component","sap/ui/core/ExtensionPoint","sap/ui/fl/apply/_internal/changes/descriptor/Preprocessor","sap/ui/fl/apply/_internal/flexState/ManifestUtils","sap/ui/fl/apply/_internal/preprocessors/EventHistory","sap/ui/fl/apply/_internal/DelegateMediator","sap/ui/fl/apply/api/DelegateMediatorAPI","sap/ui/fl/initial/_internal/changeHandlers/ChangeHandlerRegistration","sap/ui/fl/ChangePersistenceFactory","sap/ui/fl/FlexControllerFactory","sap/ui/core/Configuration","sap/ui/fl/apply/_internal/preprocessors/ControllerExtension","sap/ui/fl/apply/_internal/preprocessors/XmlPreprocessor"],function(e,n,r,i,t,a,s,o,l,p,f,u,c){"use strict";var d={};function g(){r._fnOnInstanceCreated=u.getChangesAndPropagate}function P(){p.registerPredefinedChangeHandlers();p.getChangeHandlersOfLoadedLibsAndRegisterOnNewLoadedLibs()}function y(){r._fnLoadComponentCallback=f._onLoadComponent.bind(f)}function _(){e.registerExtensionProvider("sap/ui/fl/apply/_internal/preprocessors/ControllerExtension")}function C(){if(n.registerPreprocessor){n.registerPreprocessor("viewxml","sap.ui.fl.apply._internal.preprocessors.XmlPreprocessor",true)}}function x(){s.start()}function m(){r._fnPreprocessManifest=t.preprocessManifest}function D(e){if(a.isFlexExtensionPointHandlingEnabled(e)){return"sap/ui/fl/apply/_internal/extensionPoint/Processor"}if(c.getDesignMode()){return"sap/ui/fl/write/_internal/extensionPoint/Processor"}return undefined}function E(){i.registerExtensionProvider(D)}function v(){l.registerDefaultDelegate({modelType:"sap.ui.model.odata.v4.ODataModel",delegate:"sap/ui/fl/write/_internal/delegates/ODataV4ReadDelegate",delegateType:o.types.READONLY})}d.registerAll=function(){x();P();y();_();g();C();m();E();v()};return d});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/apply/_internal/preprocessors/XmlPreprocessor", ["sap/ui/core/Component","sap/ui/fl/apply/_internal/flexState/ManifestUtils","sap/ui/fl/FlexControllerFactory","sap/ui/fl/Utils","sap/ui/fl/ChangePersistenceFactory","sap/base/Log"],function(e,r,n,t,i,o){"use strict";var a=function(){};a.process=function(i,a){try{if(!a||a.sync){o.warning("Flexibility feature for applying changes on an XML view is only available for "+"asynchronous views; merge is be done later on the JS controls.");return i}a.viewId=a.id;var s=e.get(a.componentId);if(!s){o.warning("View is generated without a component. Flexibility features are not possible.");return Promise.resolve(i)}var l=t.getAppComponentForControl(s);if(!t.isApplication(l.getManifestObject())){return Promise.resolve(i)}var c=r.getFlexReferenceForControl(l);var p=n.create(c);return p.processXmlView(i,a).then(function(){o.debug("flex processing view "+a.id+" finished");return i}).catch(function(){o.warning("Error happens when getting flex cache key! flexibility XML view preprocessing is skipped. "+"The processing will be done later on the JS controls.");return Promise.resolve(i)})}catch(e){var u="view "+a.id+": "+e;o.info(u);return Promise.resolve(i)}};a.getCacheKey=function(n){var o=e.get(n.componentId);var a=t.getAppComponentForControl(o);if(t.isVariantByStartupParameter(a)){return Promise.resolve()}var s=r.getFlexReferenceForControl(a);var l=i.getChangePersistenceForComponent(s);return l.getCacheKey(a)};return a},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/apply/api/DelegateMediatorAPI", ["sap/ui/fl/apply/_internal/DelegateMediator"],function(e){"use strict";var t={registerDefaultDelegate:function(t){e.registerDefaultDelegate(t)},getDelegateForControl:function(t){return e.getDelegateForControl(t.control,t.modifier,t.modelType,t.supportsDefault)},getKnownDefaultDelegateLibraries:function(){return e.getKnownDefaultDelegateLibraries()},getRequiredLibrariesForDefaultDelegate:function(t){return e.getRequiredLibrariesForDefaultDelegate(t.delegateName,t.control,t.modelType)}};return t});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/apply/api/FlexRuntimeInfoAPI", ["sap/base/util/includes","sap/base/Log","sap/ui/core/util/reflection/JsControlTreeModifier","sap/ui/fl/apply/_internal/controlVariants/Utils","sap/ui/fl/apply/_internal/flexState/ManifestUtils","sap/ui/fl/apply/_internal/ChangesController","sap/ui/fl/FlexControllerFactory","sap/ui/fl/Layer","sap/ui/fl/Utils"],function(e,t,r,n,o,l,a,i,s){"use strict";var c={isPersonalized:function(n){function o(e){t.error(e);return Promise.reject(e)}function l(e){return e.getFileType()==="change"}function c(t,n,o){var l=n.map(function(e){return e.id||e.getId()});var a=o.getSelector();var i=r.getControlIdBySelector(a,t);return e(l,i)}function u(t,r){return Array.isArray(t)&&t.length>0?e(t,r.getChangeType()):true}if(!n.selectors||n.selectors.length===0){return o("At least one control ID has to be provided as a parameter")}var p=n.selectors[0].appComponent||s.getAppComponentForControl(n.selectors[0]);if(!p){return o("App Component could not be determined")}var f=a.createForControl(p);return f.getComponentChanges({currentLayer:i.USER,includeCtrlVariants:true}).then(function(e){return e.filter(c.bind(this,p,n.selectors)).filter(u.bind(this,n.changeTypes)).some(l)}.bind(this))},waitForChanges:function(e){var t;var r;if(e.element){t=[{selector:e.element}];r=e.element}else if(e.selectors){t=e.selectors.map(function(e){return{selector:e}});r=e.selectors[0]}else if(e.complexSelectors){t=e.complexSelectors;r=e.complexSelectors[0].selector}return l.getFlexControllerInstance(r).waitForChangesToBeApplied(t)},isFlexSupported:function(e){return!!s.getAppComponentForControl(e.element)},hasVariantManagement:function(e){return n.belongsToVariantManagement(e.element)},getFlexReference:function(e){return o.getFlexReferenceForControl(e.element)}};return c});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/changeHandler/AddXML", ["sap/ui/fl/changeHandler/BaseAddXml"],function(e){"use strict";var t={};t.applyChange=function(t,n,r){var g=t.getContent();var a={aggregationName:g.targetAggregation,index:g.index};return e.applyChange(t,n,r,a)};t.revertChange=e.revertChange;t.completeChangeContent=function(t,n){var r={};if(n.targetAggregation){r.targetAggregation=n.targetAggregation}else{e._throwMissingAttributeError("targetAggregation")}if(n.index!==undefined){r.index=n.index}else{e._throwMissingAttributeError("index")}e.completeChangeContent(t,n,r)};return t},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/changeHandler/AddXMLAtExtensionPoint", ["sap/ui/fl/changeHandler/BaseAddXml"],function(e){"use strict";var n={};function t(e){var n=e.index;if(e.referencedExtensionPoint){n+=t(e.referencedExtensionPoint)}return n}n.applyChange=function(n,i,r){var o=r.view;var a=r.modifier;var u=n.getSelector();var f;return Promise.resolve().then(function(){var e=n.getExtensionPointInfo&&n.getExtensionPointInfo();if(!e){return a.getExtensionPointInfo(u.name,o)}return e}).then(function(s){f=s;if(!f){throw new Error("AddXMLAtExtensionPoint-Error: Either no Extension-Point found by name '"+(u&&u.name)+"' or multiple Extension-Points available with the given name in the view (view.id='"+(o&&a.getId(o))+"'). Multiple Extension-points with the same name in one view are not supported!")}(f.defaultContent||[]).forEach(function(e){if(e){a.destroy(e)}});f.defaultContent=[];f.index=t(f);if(a.targets==="xmlTree"){f.skipAdjustIndex=true}return e.applyChange(n,i,r,f)}).then(function(e){if(f.ready){f.ready(e)}return true})};n.revertChange=e.revertChange;n.completeChangeContent=function(n,t){e.completeChangeContent(n,t)};return n},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/changeHandler/Base", ["sap/base/util/LoaderExtensions"],function(e){"use strict";var t={setTextInChange:function(e,t,n,r){if(!e.texts){e.texts={}}if(!e.texts[t]){e.texts[t]={}}e.texts[t].value=n;e.texts[t].type=r},instantiateFragment:function(t,n){var r=t.getModuleName();if(!r){return Promise.reject(new Error("The module name of the fragment is not set. This should happen in the backend"))}var a=n.viewId?n.viewId+"--":"";var i=t.getProjectId()||"";var o=t.getExtensionPointInfo&&t.getExtensionPointInfo()&&t.getExtensionPointInfo().fragmentId||"";var s=i&&o?".":"";var u=a+i+s+o;var f=n.modifier;var c=n.view;return Promise.resolve().then(function(){var t=e.loadResource(r,{dataType:"text"});return f.instantiateFragment(t,u,c).catch(function(e){throw new Error("The following XML Fragment could not be instantiated: "+t+" Reason: "+e.message)})})},markAsNotApplicable:function(e,t){var n={message:e};if(!t){throw n}return Promise.reject(n)}};return t},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/changeHandler/BaseAddViaDelegate", ["sap/ui/fl/changeHandler/condenser/Classification","sap/ui/fl/changeHandler/Base","sap/ui/fl/apply/api/DelegateMediatorAPI","sap/base/util/merge","sap/base/util/ObjectPath"],function(e,t,n,r,o){"use strict";function a(e){return typeof e==="function"}function i(e){if(e.modelType){return e.modelType}else if(e.oDataServiceVersion){return"sap.ui.model.odata.v2.ODataModel"}}var l={createAddViaDelegateChangeHandler:function(l){function d(e){return e+l.fieldSuffix}function u(e,t){if(a(l[t])){return!!l[t](e)}return!!l[t]}function f(e){return u(e,"skipCreateLabel")}function c(e){return u(e,"skipCreateLayout")}function g(e,t){var r=t.modifier.bySelector(e.getSelector(),t.appComponent);var o=i(e.getContent());return n.getDelegateForControl({control:r,modifier:t.modifier,modelType:o,supportsDefault:l.supportsDefault}).then(function(t){var n=!a(t.instance.createLayout);return n||c(e.getODataInformation())})}function p(e,t,n){var o=r({},t);o.fieldSelector.id=d(o.fieldSelector.id);return n.createControlForProperty(o).then(function(r){if(f(e)){return r}var o=t.modifier.getId(r.control);t.labelFor=o;return n.createLabel(t).then(function(e){return{label:e,control:r.control,valueHelp:r.valueHelp}})})}function s(e,t,n,i){var d=r({aggregationName:l.aggregationName,payload:t.payload||{},parentSelector:e.parentId},n);var u=t.instance;return Promise.resolve().then(function(){if(a(u.createLayout)&&!c(i)){return u.createLayout(d)}}).then(function(e){if(o.get("control",e)){e.layoutControl=true;return e}return p(i,d,u)})}return{applyChange:function(e,o,a){var d=a.appComponent;var u=e.getContent();var f=e.getODataInformation();var c=u.newFieldSelector;var g={appComponent:a.appComponent,view:a.view,fieldSelector:c,bindingPath:u.bindingPath,modifier:a.modifier,element:o};if(a.modifier.bySelector(c,d,a.view)){return t.markAsNotApplicable("Control to be created already exists:"+(c.id||c),true)}var p={newFieldSelector:c};e.setRevertData(p);var v=i(u);return n.getDelegateForControl({control:o,modifier:a.modifier,modelType:v,supportsDefault:l.supportsDefault}).then(function(e){return s(u,e,g,f)}).then(function(t){var n=r({},{control:o,innerControls:t,change:e},a);return Promise.resolve().then(function(){return l.addProperty(n)}).then(function(){if(t.valueHelp){var n=a.modifier.getSelector(a.modifier.getId(t.valueHelp),d);var r=e.getRevertData();r.valueHelpSelector=n;e.setRevertData(r)}})})},revertChange:function(e,t,n){var o=n.appComponent;var i=n.modifier;var d=e.getRevertData().newFieldSelector;var u=e.getRevertData().valueHelpSelector;var f=i.bySelector(d,o);var c=e.getDependentControl(l.parentAlias,n)||t;return Promise.resolve().then(i.removeAggregation.bind(i,c,l.aggregationName,f)).then(i.destroy.bind(i,f)).then(function(){if(u){var e=i.bySelector(u,o);return Promise.resolve().then(i.removeAggregation.bind(i,c,"dependents",e)).then(i.destroy.bind(i,e))}}).then(function(){var o=r({},{control:t,change:e},n);if(a(l.revertAdditionalControls)){return Promise.resolve().then(function(){return l.revertAdditionalControls(o)}).then(function(){e.resetRevertData()})}})},completeChangeContent:function(e,t,n){var r=n.appComponent;var o={};if(t.parentId){if(a(l.mapParentIdIntoChange)){l.mapParentIdIntoChange(e,t,n)}else{e.addDependentControl(t.parentId,l.parentAlias,n)}try{o.parentId=n.modifier.getSelector(t.parentId,r)}catch(e){}}else{throw new Error("mSpecificChangeInfo.parentId attribute required")}if(t.bindingPath){o.bindingPath=t.bindingPath}else{throw new Error("mSpecificChangeInfo.bindingPath attribute required")}if(t.newControlId){o.newFieldSelector=n.modifier.getSelector(t.newControlId,r)}else{throw new Error("mSpecificChangeInfo.newControlId attribute required")}if(t.index===undefined){throw new Error("mSpecificChangeInfo.targetIndex attribute required")}else{o.newFieldIndex=t.index}if(t.oDataServiceVersion){o.oDataServiceVersion=t.oDataServiceVersion}if(t.modelType&&l.supportsDefault){o.modelType=t.modelType}e.setContent(o)},getChangeVisualizationInfo:function(e){var t=e.getRevertData();if(t&&t.labelSelector){return{affectedControls:[t.labelSelector]}}return{affectedControls:[e.getContent().newFieldSelector]}},getCondenserInfo:function(t,n){return g(t,n).then(function(n){if(!n){return undefined}if(!t.getContent().newFieldSelector||!t.getContent().parentId||!l.aggregationName){return undefined}return{affectedControl:t.getContent().newFieldSelector,classification:e.Create,targetContainer:t.getContent().parentId,targetAggregation:l.aggregationName,setTargetIndex:function(e,t){var n=e.getContent();n.newFieldIndex=t;e.setContent(n)},getTargetIndex:function(e){return e.getContent().newFieldIndex}}})}}}};return l});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/changeHandler/BaseAddXml", ["sap/ui/fl/changeHandler/Base","sap/base/util/LoaderExtensions","sap/ui/fl/changeHandler/common/revertAddedControls","sap/ui/fl/Utils"],function(e,t,r,n){"use strict";var a={};a.applyChange=function(r,o,i,u){var s=i.modifier;var g=i.view;var f=u.aggregationName;var c;var h=u.index;var l=[];var d=r.getModuleName();var m;var v;var p=function(){var e=[];v.forEach(function(t,r){var n=function(){return Promise.resolve().then(s.insertAggregation.bind(s,o,f,t,h+r,g,u.skipAdjustIndex)).then(function(){l.push({id:s.getId(t),aggregationName:f})})};e.push(n)});return n.execPromiseQueueSequentially(e,true,true).then(function(){r.setRevertData(l);return v})};return Promise.resolve().then(s.findAggregation.bind(s,o,f)).then(function(e){c=e;if(!c){return Promise.reject(new Error("The given Aggregation is not available in the given control: "+s.getId(o)))}return t.loadResource(d,{dataType:"text"})}).then(function(t){m=t;return e.instantiateFragment(r,i)}).then(function(e){v=e;var t=[];v.forEach(function(e,r){var n=function(){return Promise.resolve().then(s.validateType.bind(s,e,c,o,m,r)).then(function(e){if(!e){a._destroyArrayOfControls(v);return Promise.reject(new Error("The content of the xml fragment does not match the type of the targetAggregation: "+c.type))}})};t.push(n)});return n.execPromiseQueueSequentially(t,true,true).then(p)})};a.revertChange=r;a._throwMissingAttributeError=function(e){throw new Error("Attribute missing from the change specific content '"+e+"'")};a._destroyArrayOfControls=function(e){e.forEach(function(e){if(e.destroy){e.destroy()}})};a.completeChangeContent=function(e,t,r){r=r||{};if(t.fragmentPath){r.fragmentPath=t.fragmentPath}else{a._throwMissingAttributeError("fragmentPath")}e.setContent(r);var n=e.getComponent().replace(/\.Component/g,"").replace(/\./g,"/");n+="/changes/";n+=r.fragmentPath;e.setModuleName(n)};return a},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/changeHandler/BaseRename", ["sap/base/Log","sap/ui/fl/changeHandler/condenser/Classification"],function(e,r){"use strict";var t={createRenameChangeHandler:function(t){t.changePropertyName=t.changePropertyName||"newText";return{applyChange:function(e,r,n){var a=n.modifier;var o=t.propertyName;var i=e.getText(t.changePropertyName);return Promise.resolve().then(function(){if(i){return a.getPropertyBindingOrProperty(r,o).then(function(t){e.setRevertData(t);return a.setPropertyBindingOrProperty(r,o,i)})}return undefined})},revertChange:function(r,n,a){var o=a.modifier;var i=t.propertyName;var u=r.getRevertData();if(u||u===""){o.setPropertyBindingOrProperty(n,i,u);r.resetRevertData();return}e.error("Change doesn't contain sufficient information to be reverted. Most Likely the Change didn't go through applyChange.")},completeChangeContent:function(e,r,n){var a=t.changePropertyName;var o=t.translationTextType;return Promise.resolve().then(function(){return n.modifier.bySelector(e.getSelector(),n.appComponent)}).then(function(t){e.setContent({originalControlType:n.modifier.getControlType(t)});if(typeof r.value==="string"){e.setText(a,r.value,o)}else{return Promise.reject(new Error("oSpecificChangeInfo.value attribute required"))}})},getCondenserInfo:function(e){return{affectedControl:e.getSelector(),classification:r.LastOneWins,uniqueKey:t.propertyName||t.changePropertyName}},getChangeVisualizationInfo:function(e){var r=e.getTexts()&&e.getTexts()[t.changePropertyName];return{descriptionPayload:{originalLabel:e.getRevertData(),newLabel:r&&r.value}}}}}};return t},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/changeHandler/HideControl", ["sap/base/Log","sap/ui/fl/changeHandler/condenser/Classification","sap/ui/fl/changeHandler/JsControlTreeModifier"],function(e,t,n){"use strict";var r="visible";var i={};i.applyChange=function(e,t,n){var r=n.modifier;return Promise.resolve().then(r.getVisible.bind(r,t)).then(function(n){e.setRevertData({originalValue:n});r.setVisible(t,false)})};i.revertChange=function(t,n,r){var i=t.getRevertData();return Promise.resolve().then(function(){if(i){r.modifier.setVisible(n,i.originalValue);t.resetRevertData()}else{e.error("Attempt to revert an unapplied change.")}})};i.completeChangeContent=function(){};i.getCondenserInfo=function(e){return{affectedControl:e.getSelector(),classification:t.Reverse,uniqueKey:r}};i.getChangeVisualizationInfo=function(e,t){var r=e.getSelector();var i=n.bySelector(r,t);return{affectedControls:[r],displayControls:[i.getParent().getId()]}};return i},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/changeHandler/JsControlTreeModifier", ["sap/ui/core/util/reflection/JsControlTreeModifier"],function(e){"use strict";return e},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/changeHandler/MoveControls", ["sap/base/Log","sap/ui/fl/changeHandler/condenser/Classification","sap/ui/fl/Utils"],function(e,r,t){"use strict";var n={};n.SOURCE_ALIAS="source";n.TARGET_ALIAS="target";n.MOVED_ELEMENTS_ALIAS="movedElements";function o(e,r,t,n){if(!e){return Promise.reject(new Error("No change instance"))}var o=e.getContent();if(!o||!o.movedElements||o.movedElements.length===0){return Promise.reject(new Error("Change format invalid"))}if(!o.source||!o.source.selector){return Promise.reject(new Error("No source supplied for move"))}if(!o.target||!o.target.selector){return Promise.reject(new Error("No target supplied for move"))}if(!r.bySelector(o.source.selector,n,t)){return Promise.reject(new Error("Move source parent not found"))}if(!r.bySelector(o.target.selector,n,t)){return Promise.reject(new Error("Move target parent not found"))}if(!o.source.selector.aggregation){return Promise.reject(new Error("No source aggregation supplied for move"))}if(!o.target.selector.aggregation){return Promise.reject(new Error("No target aggregation supplied for move"))}return Promise.resolve()}function a(e,r,t,n){if(!e.selector&&!e.id){return Promise.reject(new Error("Change format invalid - moveElements element has no id attribute"))}if(typeof e.targetIndex!=="number"){return Promise.reject(new Error("Missing targetIndex for element with id '"+e.selector.id+"' in movedElements supplied"))}return Promise.resolve().then(r.bySelector.bind(r,e.selector||e.id,t,n)).then(function(r){if(!r){return Promise.reject(new Error("Control to move was not found. Id: '"+e.selector.id+"'"))}return r})}function i(e){if(!e.movedElements){return Promise.reject(new Error("mSpecificChangeInfo.movedElements attribute required"))}if(e.movedElements.length===0){return Promise.reject(new Error("MovedElements array is empty"))}e.movedElements.forEach(function(e){if(!e.id){throw new Error("MovedControls element has no id attribute")}if(typeof e.sourceIndex!=="number"){throw new Error("SourceIndex attribute at MovedElements element is no number")}if(typeof e.targetIndex!=="number"){throw new Error("TargetIndex attribute at MovedElements element is no number")}});return Promise.resolve()}function s(e,r,t){delete r.source.publicAggregation;delete r.target.publicAggregation;var n;var o;return Promise.resolve().then(function(){return r.source.parent||e.bySelector(r.source.id,t)}).then(function(o){n=o;return r.target.parent||e.bySelector(r.target.id,t)}).then(function(a){o=a;var i=r.source.aggregation;var s=r.target.aggregation;var g={aggregation:r.source.aggregation,type:e.getControlType(n)};var u={aggregation:r.target.aggregation,type:e.getControlType(o)};var c={source:{id:n.getId(),aggregation:i,type:g.type,selector:e.getSelector(r.source.id,t,g)},target:{id:o.getId(),aggregation:s,type:u.type,selector:e.getSelector(r.target.id,t,u)},movedElements:r.movedElements};return c})}n.applyChange=function(e,r,n){var i=n.modifier;var s=n.view;var g=n.appComponent;var u;var c;var l;var d;var m;var v;var f;var h=false;var E=e.getContent();var p=[];var C=[];return o(e,i,s,g).then(function(){E.movedElements.forEach(function(e){var r=function(){return Promise.resolve().then(a.bind(null,e,i,g,s)).then(function(e){u=e;c=i.getParent(u);return n.sourceAggregation||i.getParentAggregationName(u,c)}).then(function(e){d=e;return i.bySelector(E.target.selector,g,s)}).then(function(e){l=e;m=n.targetAggregation||E.target.selector.aggregation;return i.findIndexInParentAggregation(u)}).then(function(r){v=r;f=e.targetIndex;if(v>-1){if(v===f&&d===m&&i.getParent(u)===l){v=e.sourceIndex;d=n.sourceAggregation||E.source.selector.aggregation;h=true;return i.bySelector(E.source.selector,g,s)}}return Promise.resolve()}).then(function(e){if(e){c=e}if(v>-1){p.unshift({index:v,aggregation:d,sourceParent:i.getSelector(c,g)})}if(!h){return Promise.resolve().then(i.removeAggregation.bind(i,c,d,u)).then(i.insertAggregation.bind(i,l,m,u,f,s))}return Promise.resolve()})};C.push(r)},this);return t.execPromiseQueueSequentially(C,true,true)}.bind(this)).then(function(){e.setRevertData(p)})};n.revertChange=function(r,n,i){var s=i.modifier;var g=i.view;var u=i.appComponent;var c=r.getContent();var l;var d;var m;var v;var f;var h;return o(r,s,g,u).then(s.bySelector.bind(s,c.source.selector,u,g)).then(function(e){l=e;m=c.source.selector.aggregation;v=c.target.selector.aggregation;return s.bySelector(c.target.selector,u,g)}).then(function(n){d=n;var o=r.getRevertData();c.movedElements.reverse();var i=[];c.movedElements.forEach(function(r,t){var n=function(){return Promise.resolve().then(a.bind(this,r,s,u,g)).then(function(n){f=n;if(!f){e.warning("Element to move not found");return Promise.reject()}h=r.sourceIndex;if(o){var a=o[t];m=a.aggregation;h=a.index;return s.bySelector(a.sourceParent,u,g)}return Promise.resolve()}).then(function(e){if(e){l=e}return s.removeAggregation(d,v,f)}).then(function(){return s.insertAggregation(l,m,f,h,g)})}.bind(this);i.push(n)},this);return t.execPromiseQueueSequentially(i,true,true)}.bind(this)).then(function(){r.resetRevertData()})};n.completeChangeContent=function(e,r,t){var o=t.modifier;var a=t.appComponent;return i(r).then(s.bind(this,o,r,a)).then(function(r){var i={movedElements:[],source:{selector:r.source.selector},target:{selector:r.target.selector}};var s=[];r.movedElements.forEach(function(g){var u=Promise.resolve().then(function(){return g.element||o.bySelector(g.id,a)}).then(function(s){i.movedElements.push({selector:o.getSelector(s,a),sourceIndex:g.sourceIndex,targetIndex:g.targetIndex});e.addDependentControl(r.source.id,n.SOURCE_ALIAS,t);e.addDependentControl(r.target.id,n.TARGET_ALIAS,t);e.addDependentControl(r.movedElements.map(function(e){return e.id}),n.MOVED_ELEMENTS_ALIAS,t)});s.push(u)});return Promise.all(s).then(function(){e.setContent(i)})})};n.getCondenserInfo=function(e){var t=e.getContent();var n=e.getRevertData()[0];return{affectedControl:t.movedElements[0].selector,classification:r.Move,sourceContainer:n.sourceParent,targetContainer:t.target.selector,sourceIndex:n.index,sourceAggregation:n.aggregation,targetAggregation:t.target.selector.aggregation,setTargetIndex:function(e,r){var t=e.getContent();t.movedElements[0].targetIndex=r;e.setContent(t)},getTargetIndex:function(e){return e.getContent().movedElements[0].targetIndex}}};n.getChangeVisualizationInfo=function(e){var r=e.getContent();var t=e.getRevertData()[0];return{affectedControls:[r.movedElements[0].selector],dependentControls:[r.source.selector],descriptionPayload:{sourceContainer:t.sourceParent,targetContainer:r.target.selector}}};return n},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/changeHandler/MoveElements", ["sap/base/Log","sap/ui/fl/Utils"],function(e,r){"use strict";var t={};t.CHANGE_TYPE="moveElements";function n(e,r,t,n){if(!e){return Promise.reject(new Error("No change instance"))}var o=e.getContent();if(!o||!o.movedElements||o.movedElements.length===0){return Promise.reject(new Error("Change format invalid"))}if(!e.getSelector().aggregation){return Promise.reject(new Error("No source aggregation supplied via selector for move"))}if(!o.target||!o.target.selector){return Promise.reject(new Error("No target supplied for move"))}if(!r.bySelector(o.target.selector,n,t)){return Promise.reject(new Error("Move target parent not found"))}if(!o.target.selector.aggregation){return Promise.reject(new Error("No target aggregation supplied for move"))}return Promise.resolve()}function o(e,r,t,n){if(!e.selector&&!e.id){return Promise.reject(new Error("Change format invalid - moveElements element has no id attribute"))}if(typeof e.targetIndex!=="number"){return Promise.reject(new Error("Missing targetIndex for element with id '"+e.selector.id+"' in movedElements supplied"))}return Promise.resolve().then(function(){return r.bySelector(e.selector||e.id,t,n)})}function i(r,t,n,i,a,g,s,u){var c;return o(r,t,n,i).then(function(n){c=n;if(!c){e.warning("Element to move not found");return Promise.reject()}return Promise.resolve().then(t.removeAggregation.bind(t,a,s,c)).then(t.insertAggregation.bind(t,g,u,c,r.targetIndex,i))})}t.applyChange=function(e,t,o){var a=o.modifier;var g=o.view;var s=o.appComponent;var u=e.getContent();var c;var l;var m;return n(e,a,g,s).then(function(){c=e.getSelector().aggregation;l=u.target.selector.aggregation;return a.bySelector(u.target.selector,s,g)}).then(function(e){m=e;var n=[];u.movedElements.forEach(function(e){n.push(i.bind(null,e,a,s,g,t,m,c,l))});return r.execPromiseQueueSequentially(n,true,true)})};t.completeChangeContent=function(){throw new Error("Using deprecated change handler. Please consider using 'MoveControls' instead")};t.getSpecificChangeInfo=function(e,r){var t=r.source.parent||e.bySelector(r.source.id);var n=r.target.parent||e.bySelector(r.target.id);var o=r.source.aggregation;var i=r.target.aggregation;var a={source:{id:t.getId(),aggregation:o,type:e.getControlType(t)},target:{id:n.getId(),aggregation:i,type:e.getControlType(n)},movedElements:r.movedElements};return a};return t},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/changeHandler/PropertyBindingChange", ["sap/base/Log","sap/ui/fl/changeHandler/condenser/Classification"],function(e,t){"use strict";var n={};n.applyChange=function(e,t,n){var r=e.getContent();var i=r.property;var o=r.newBinding;var a=n.modifier;return Promise.resolve().then(a.getPropertyBindingOrProperty.bind(a,t,i)).then(function(n){e.setRevertData({originalValue:n});a.setPropertyBinding(t,i,o)})};n.revertChange=function(t,n,r){var i=t.getRevertData();if(i){var o=t.getContent();var a=o.property;var s=i.originalValue;var p=r.modifier;p.setPropertyBindingOrProperty(n,a,s);t.resetRevertData()}else{e.error("Attempt to revert an unapplied change.")}};n.completeChangeContent=function(e,t){if(!t.content){throw new Error("oSpecificChangeInfo attribute required")}e.setContent(t.content)};n.getCondenserInfo=function(e){return{affectedControl:e.getSelector(),classification:t.LastOneWins,uniqueKey:e.getContent().property}};return n},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/changeHandler/PropertyChange", ["sap/ui/fl/Utils","sap/ui/fl/changeHandler/condenser/Classification","sap/base/Log","sap/base/util/isPlainObject"],function(e,t,n,r){"use strict";var i={};function a(t){return e.isBinding(t)||r(t)}function o(e,t,n,r){try{if(a(n)){r.setPropertyBinding(e,t,n)}else{r.setProperty(e,t,n)}}catch(e){throw new Error("Applying property changes failed: "+e)}}i.applyChange=function(e,t,n){var r=e.getContent();var i=r.property;var a=r.newValue;var s=n.modifier;return Promise.resolve().then(s.getPropertyBindingOrProperty.bind(s,t,i)).then(function(n){e.setRevertData({originalValue:n});o(t,i,a,s)})};i.revertChange=function(e,t,r){var i=e.getRevertData();if(i){var a=e.getContent();var s=a.property;var c=i.originalValue;var p=r.modifier;o(t,s,c,p);e.resetRevertData()}else{n.error("Attempt to revert an unapplied change.")}};i.completeChangeContent=function(e,t){if(!t.content){throw new Error("oSpecificChangeInfo attribute required")}e.setContent(t.content)};i.getCondenserInfo=function(e){return{affectedControl:e.getSelector(),classification:t.LastOneWins,uniqueKey:e.getContent().property}};return i},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/changeHandler/StashControl", ["sap/ui/fl/LayerUtils","sap/ui/fl/changeHandler/condenser/Classification","sap/ui/fl/changeHandler/JsControlTreeModifier"],function(e,n,t){"use strict";var r={};r.applyChange=function(n,t,r){var i;var a=r.modifier;return Promise.resolve().then(a.getStashed.bind(a,t)).then(function(e){i=e;return a.findIndexInParentAggregation(t)}).then(function(r){this.setChangeRevertData(n,i,r);if(e.isDeveloperLayer(n.getLayer())){return a.setStashed(t,true)}return a.setVisible(t,false)}.bind(this))};function i(e,n,t,r){var i;if(e!==n.originalIndex){var a=r.getParent(t);return Promise.return().then(r.getParentAggregationName.bind(r,t)).then(function(e){i=e;return r.removeAggregation(a,i,t)}).then(r.insertAggregation.bind(r,a,i,t,n.originalIndex))}return Promise.resolve()}r.revertChange=function(n,t,r){var a=n.getRevertData();var o=r.modifier;return Promise.resolve().then(function(){if(e.isDeveloperLayer(n.getLayer())){var s=o.setStashed(t,a.originalValue,r.appComponent);if(s){return Promise.resolve().then(o.findIndexInParentAggregation.bind(o,s)).then(function(e){return i(e,a,s,o)})}return Promise.resolve()}return o.setVisible(t,!a.originalValue)}).then(function(){n.resetRevertData()})};r.completeChangeContent=function(){};r.setChangeRevertData=function(e,n,t){e.setRevertData({originalValue:n,originalIndex:t})};r.getCondenserInfo=function(e){return{affectedControl:e.getSelector(),classification:n.Reverse,uniqueKey:"stashed"}};r.getChangeVisualizationInfo=function(e,n){var r=e.getSelector();var i=t.bySelector(r,n);return{affectedControls:[r],displayControls:[i.getParent().getId()]}};return r});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/changeHandler/UnhideControl", ["sap/base/Log","sap/ui/fl/changeHandler/condenser/Classification"],function(e,t){"use strict";var n="visible";var r={};r.applyChange=function(e,t,r){var i=r.modifier;return Promise.resolve().then(i.getProperty.bind(i,t,n)).then(function(n){e.setRevertData({originalValue:n});r.modifier.setVisible(t,true)})};r.revertChange=function(t,n,r){var i=t.getRevertData();if(i){r.modifier.setVisible(n,i.originalValue);t.resetRevertData()}else{e.error("Attempt to revert an unapplied change.")}};r.completeChangeContent=function(){};r.getCondenserInfo=function(e){return{affectedControl:e.getSelector(),classification:t.Reverse,uniqueKey:n}};return r},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/changeHandler/UnstashControl", ["sap/ui/fl/changeHandler/condenser/Classification"],function(e){"use strict";var n={};n.applyChange=function(e,n,t){var r=e.getContent();var a=t.modifier;var i=false;var o;return Promise.resolve().then(a.getStashed.bind(a,n)).then(function(s){e.setRevertData({originalValue:s});o=a.setStashed(n,i,t.appComponent)||n;if(r.parentAggregationName){var g=r.parentAggregationName;var u=a.getParent(o);return Promise.resolve().then(a.removeAggregation.bind(a,u,g,o)).then(a.insertAggregation.bind(a,u,g,o,r.index,t.view))}return undefined}).then(function(){return o})};n.revertChange=function(e,n,t){var r=e.getRevertData();t.modifier.setStashed(n,r.originalValue);e.resetRevertData()};n.completeChangeContent=function(e,n){if(n.content){e.setContent(n.content)}};n.getCondenserInfo=function(n){return{affectedControl:n.getSelector(),classification:e.Reverse,uniqueKey:"stashed"}};return n});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/changeHandler/common/revertAddedControls", ["sap/ui/fl/Utils"],function(e){"use strict";return function(t,r,n){var a=n.modifier;var i=t.getContent();var o=i.targetAggregation;var u=n.view||e.getViewForControl(r);var v=n.appComponent;var c=t.getRevertData()||[];var f=c.map(function(e){var t;if(typeof e==="string"){t=e}else{t=e.id;o=o||e.aggregationName}return a.bySelector(t,v,u)||u&&u.createId&&a.bySelector(u.createId(t))});var g=[];f.forEach(function(e){var t=function(){return Promise.resolve().then(a.removeAggregation.bind(a,r,o,e)).then(function(){if(e.destroy){e.destroy()}})};g.push(t)});return e.execPromiseQueueSequentially(g,true,true).then(function(){t.resetRevertData();return true})}});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/changeHandler/condenser/Classification", [],function(){"use strict";return{LastOneWins:"lastOneWins",Reverse:"reverse",Move:"move",Create:"create",Destroy:"destroy",Update:"update"}});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/initial/_internal/Storage", ["sap/ui/fl/initial/_internal/StorageUtils","sap/ui/fl/initial/_internal/StorageResultMerger","sap/ui/fl/initial/_internal/storageResultDisassemble","sap/ui/fl/write/api/Version","sap/ui/fl/Utils","sap/ui/fl/write/_internal/FlexInfoSession"],function(e,n,r,t,i,a){"use strict";function l(e,n,r){if(!n.layers||n.layers[0]!=="ALL"&&n.layers.indexOf("CUSTOMER")===-1){delete e.version;return e}if(o(r.reference)){e.allContexts=true}if(r.version!==undefined){e.version=r.version;return e}var a=i.getUrlParameter(t.UrlParameter);if(a===null){delete e.version}else{e.version=parseInt(a)}return e}function o(e){var n=a.getByReference(e);return n&&n.initialAllContexts}function s(n,r){var t=r.map(function(r){var t=Object.assign({},n,{url:r.url,path:r.path});t=l(t,r,n);return r.loadConnectorModule.loadFlexData(t).then(function(n){return n||e.getEmptyFlexDataResponse()}).catch(e.logAndResolveDefault.bind(undefined,e.getEmptyFlexDataResponse(),r,"loadFlexData"))});return Promise.all(t)}function u(e){var n=[];e.forEach(function(e){if(Array.isArray(e)){n=n.concat(e)}else{n.push(e)}});return n}function f(e){return e.map(function(e){return r(e)})}function c(e){return Promise.resolve(e).then(u).then(f).then(u).then(n.merge)}function d(n){return e.getStaticFileConnector().then(s.bind(this,n))}var p={};p.completeFlexData=function(e){if(!e||!e.reference){return Promise.reject("No reference was provided")}return Promise.all([d(e),e.partialFlexData]).then(c)};p.loadFlexData=function(n){if(!n||!n.reference){return Promise.reject("No reference was provided")}return e.getLoadConnectors().then(s.bind(this,n)).then(c)};return p});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/initial/_internal/StorageResultMerger", ["sap/base/util/merge","sap/base/util/ObjectPath"],function(n,a){"use strict";var e={};function r(n,e){var r=n.reduce(function(n,r){if(a.get(e,r)){return n.concat(a.get(e,r))}return n},[]);var t=[];return r.filter(function(n){var a=n.fileName;var e=t.indexOf(a)!==-1;if(e){return false}t.push(a);return true})}function t(a){return a.reduce(function(a,e){return n({},a,e.ui2personalization)},{})}function i(n){return n.reduce(function(n,a){return a.cacheKey?n+=a.cacheKey:n},"")||null}function s(n){for(var a=0;a<n.length;a++){if(n[a].info){return n[a].info.allContextsProvided}}}e.merge=function(n){var a={appDescriptorChanges:r(n,"appDescriptorChanges"),changes:r(n,"changes"),ui2personalization:t(n),comp:{variants:r(n,"comp.variants"),changes:r(n,"comp.changes"),defaultVariants:r(n,"comp.defaultVariants"),standardVariants:r(n,"comp.standardVariants")},variants:r(n,"variants"),variantChanges:r(n,"variantChanges"),variantDependentControlChanges:r(n,"variantDependentControlChanges"),variantManagementChanges:r(n,"variantManagementChanges"),cacheKey:i(n)};var e=s(n);if(e!==undefined){a.info={allContextsProvided:e}}return a};return e});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/initial/_internal/StorageUtils", ["sap/base/security/encodeURLParameters","sap/base/Log","sap/ui/fl/Layer","sap/ui/fl/LayerUtils","sap/base/util/isEmptyObject","sap/ui/core/Configuration"],function(n,e,t,r,a,o){"use strict";var i={load:{LrepConnector:"sap/ui/fl/initial/_internal/connectors/LrepConnector",NeoLrepConnector:"sap/ui/fl/initial/_internal/connectors/NeoLrepConnector",PersonalizationConnector:"sap/ui/fl/initial/_internal/connectors/PersonalizationConnector",KeyUserConnector:"sap/ui/fl/initial/_internal/connectors/KeyUserConnector",StaticFileConnector:"sap/ui/fl/initial/_internal/connectors/StaticFileConnector",ObjectStorageConnector:"sap/ui/fl/apply/_internal/connectors/ObjectStorageConnector",JsObjectConnector:"sap/ui/fl/write/_internal/connectors/JsObjectConnector",ObjectPathConnector:"sap/ui/fl/write/_internal/connectors/ObjectPathConnector",LocalStorageConnector:"sap/ui/fl/write/_internal/connectors/LocalStorageConnector",SessionStorageConnector:"sap/ui/fl/write/_internal/connectors/SessionStorageConnector"},write:{LrepConnector:"sap/ui/fl/write/_internal/connectors/LrepConnector",NeoLrepConnector:"sap/ui/fl/write/_internal/connectors/NeoLrepConnector",PersonalizationConnector:"sap/ui/fl/write/_internal/connectors/PersonalizationConnector",KeyUserConnector:"sap/ui/fl/write/_internal/connectors/KeyUserConnector",StaticFileConnector:"sap/ui/fl/write/_internal/connectors/StaticFileConnector",JsObjectConnector:"sap/ui/fl/write/_internal/connectors/JsObjectConnector",ObjectPathConnector:"sap/ui/fl/write/_internal/connectors/ObjectPathConnector",LocalStorageConnector:"sap/ui/fl/write/_internal/connectors/LocalStorageConnector",SessionStorageConnector:"sap/ui/fl/write/_internal/connectors/SessionStorageConnector"}};var c="sap/ui/fl/initial/_internal/connectors/";var s={connector:"StaticFileConnector"};function l(n,e){var t=[];if(!n){t=e}else{t=n.filter(function(n){return e.indexOf(n)!==-1||e[0]==="ALL"})}return t}function u(n,e,t){return t.map(function(n){var t=n.connector;var r;if(!n.loadConnector&&!n.applyConnector&&!n.loadConnector){r=e?i.load[t]:i.write[t]}else if(e){r=n.loadConnector||n.applyConnector}else{r=n.writeConnector||"sap/ui/fl/write/connectors/BaseConnector"}return r})}function f(n,e,t){var r=u(n,e,t);return new Promise(function(n){sap.ui.require(r,function(){Array.from(arguments).forEach(function(n,r){if(!t[r].layers){t[r].layers=n.layers}else{t[r].layers=l(t[r].layers,n.layers)}if(e){t[r].loadConnectorModule=n}else{t[r].writeConnectorModule=n}});n(t)})})}return{getConnectors:function(n,e){var t=o.getFlexibilityServices();var r=[];if(e){r=[s]}r=r.concat(t);return f(n,e,r)},getLoadConnectors:function(){return this.getConnectors(c,true)},getStaticFileConnector:function(){return f(c,true,[s])},logAndResolveDefault:function(n,t,r,a){e.error("Connector ("+t.connector+") failed call '"+r+"': "+a+"\nApplication startup continues without data from this storage.");return n},filterAndSortResponses:function(n){var e=[];Object.keys(n).forEach(function(t){e.push(n[t])});e=e.filter(function(n){return n.changes.length>0||n.variants.length>0||n.variantChanges.length>0||n.variantManagementChanges.length>0||n.variantDependentControlChanges.length>0||n.comp.variants.length>0||n.comp.changes.length>0||n.comp.defaultVariants.length>0||n.comp.standardVariants.length>0});e.sort(function(n,e){return n.index-e.index});return e},sortFlexObjects:function(n){n.sort(function(n,e){return new Date(n.creation)-new Date(e.creation)})},getGroupedFlexObjects:function(n){this.sortFlexObjects(n);var e={};Object.keys(t).forEach(function(n){e[n]=this.getEmptyFlexDataResponse();e[n].index=r.getLayerIndex(n)}.bind(this));n.forEach(function(n){var t=n.layer;if(n.fileType==="ctrl_variant"&&n.variantManagementReference){e[t].variants.push(n)}else if(n.fileType==="ctrl_variant_change"){e[t].variantChanges.push(n)}else if(n.fileType==="ctrl_variant_management_change"){e[t].variantManagementChanges.push(n)}else if(n.fileType==="variant"){e[t].comp.variants.push(n)}else if(n.fileType==="change"){if(n.variantReference){e[t].variantDependentControlChanges.push(n)}else{switch(n.changeType){case"addFavorite":case"removeFavorite":case"updateVariant":e[t].comp.changes.push(n);break;case"defaultVariant":e[t].comp.defaultVariants.push(n);break;case"standardVariant":e[t].comp.standardVariants.push(n);break;default:e[t].changes.push(n)}}}});return e},getEmptyFlexDataResponse:function(){return Object.assign({},{appDescriptorChanges:[],changes:[],comp:{variants:[],changes:[],defaultVariants:[],standardVariants:[]},variants:[],variantChanges:[],variantDependentControlChanges:[],variantManagementChanges:[],ui2personalization:{}})},isStorageResponseFilled:function(n){return Object.keys(n||{}).some(function(e){if(Array.isArray(n[e])){return n[e].length!==0}return!a(n[e])})},addLanguageInfo:function(n){if(!n){n={}}n["sap-language"]=o.getLanguage()}}});
/*!
* OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
*/
sap.ui.predefine("sap/ui/fl/initial/_internal/changeHandlers/ChangeHandlerRegistration", ["sap/ui/core/Core","sap/ui/fl/initial/_internal/changeHandlers/ChangeHandlerStorage","sap/ui/fl/changeHandler/AddXML","sap/ui/fl/changeHandler/AddXMLAtExtensionPoint","sap/ui/fl/changeHandler/HideControl","sap/ui/fl/changeHandler/MoveControls","sap/ui/fl/changeHandler/MoveElements","sap/ui/fl/changeHandler/PropertyBindingChange","sap/ui/fl/changeHandler/PropertyChange","sap/ui/fl/changeHandler/StashControl","sap/ui/fl/changeHandler/UnhideControl","sap/ui/fl/changeHandler/UnstashControl"],function(e,n,a,r,t,i,o,s,l,d,h,g){"use strict";var f={hideControl:t,moveElements:o,moveControls:i,stashControl:d,unhideControl:h,unstashControl:g};var u={addXML:a,addXMLAtExtensionPoint:r,propertyBindingChange:s,propertyChange:l};var c={};function C(e,n){c[e]=n;n.catch(function(){}).then(function(){delete c[e]})}function p(e){return n.registerChangeHandlersForLibrary(e)}function H(e){if(e.getParameter("operation")==="add"){var n=e.getParameter("metadata");var a=n.sName;var r=n&&n.extensions&&n.extensions.flChangeHandlers;if(r){var t=p(r);C(a,t)}}}var v={getChangeHandlersOfLoadedLibsAndRegisterOnNewLoadedLibs:function(){var n=e.getLoadedLibraries();var a=[];Object.values(n).forEach(function(e){if(e.extensions&&e.extensions.flChangeHandlers){a.push(p(e.extensions.flChangeHandlers))}});e.attachLibraryChanged(H);return Promise.all(a)},waitForChangeHandlerRegistration:function(e){if(c[e]){return c[e].catch(function(){})}return Promise.resolve()},registerPredefinedChangeHandlers:function(){n.registerPredefinedChangeHandlers(f,u)}};return v});
/*!
* OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
*/
sap.ui.predefine("sap/ui/fl/initial/_internal/changeHandlers/ChangeHandlerStorage", ["sap/base/util/each","sap/base/Log","sap/ui/fl/Layer","sap/ui/fl/initial/_internal/changeHandlers/ChangeRegistryItem","sap/ui/fl/registry/Settings","sap/ui/fl/requireAsync"],function(e,r,n,a,t,i){"use strict";var o={};var l={};var s={};var u={};function f(e,r){var n={};if(!r||!r.changeHandler){n.changeHandler=r}else{n=r}if(n.changeHandler==="default"){n.changeHandler=u.defaultChangeHandlers[e]}else if(Object.keys(u.developerChangeHandlers||{}).includes(e)){throw Error("You can't use a custom change handler for the following Developer Mode change type: "+e+". Please use 'default' instead.")}return n}function c(r){s={};e(r,function(e,r){var n=new a({controlType:"defaultActiveForAll",changeHandler:r,layers:t.getDeveloperModeLayerPermissions(),changeType:e});s[e]=n})}function g(r,n,i){i=f(n,i);var o=Object.assign({},t.getDefaultLayerPermissions());if(i.layers){e(i.layers,function(e,r){if(o[e]===undefined){throw Error("The Layer '"+e+"' is not supported. Please only use supported layers")}o[e]=r})}var l={controlType:r,changeHandler:i.changeHandler,layers:o,changeType:n};return new a(l)}function d(e,r,n){var a=g(e,r,n);l[e]=l[e]||{};l[e][r]=a}function h(n,a){var t=Promise.resolve(a);var o="ChangeHandlerStorage.registerChangeHandlersForControl.skip_next_then";if(typeof a==="string"){t=i(a+".flexibility").catch(function(e){r.error("Flexibility change handler registration failed.\nControlType: "+n+"\n"+e.message);return Promise.resolve(o)})}return t.then(function(r){if(r!==o){e(r,function(e,r){d(n,e,r)})}}).catch(function(e){r.error(e.message)})}function y(e,r,a){var t=l[e]&&l[e][r]||s[r];if(!t){throw Error("No Change handler registered for the Control and Change type")}a=a===n.PUBLIC?n.USER:a;if(!t.getLayers()[a]){throw Error("Change type "+r+" not enabled for layer "+a)}return t}function p(e,n,a,t){var o=t.getChangeHandlerModulePath(a);if(typeof o!=="string"){return Promise.resolve(undefined)}return i(o).then(function(r){var a=r[e];if(a){return g(n,e,a)}}).catch(function(e){r.error("Flexibility registration for control "+t.getId(a)+" failed to load module "+o+"\n"+e.message)})}o.getChangeHandler=function(e,r,n,a,t){return p(e,r,n,a).then(function(n){var a=n||y(r,e,t);return a.getChangeHandler()})};o.registerPredefinedChangeHandlers=function(e,r){u.defaultChangeHandlers=e;u.developerChangeHandlers=r;c(r)};o.registerChangeHandlersForLibrary=function(r){var n=[];e(r,function(e,r){n.push(h(e,r))});return Promise.all(n)};o.clearAll=function(){l={};s={};u={}};o.registerChangeHandlersForControl=function(e,r){return h(e,r)};return o});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/initial/_internal/changeHandlers/ChangeRegistryItem", ["sap/base/Log","sap/ui/fl/requireAsync","sap/ui/fl/Utils"],function(e,r,n){"use strict";var t=function(r){if(!r.changeHandler){e.error("sap.ui.fl.registry.ChangeRegistryItem: changeHandler required")}if(!r.changeType){e.error("sap.ui.fl.registry.ChangeRegistryItem: changeType required")}if(!r.layers){e.error("sap.ui.fl.registry.ChangeRegistryItem: layers required")}if(!r.controlType){e.error("sap.ui.fl.registry.ChangeRegistryItem: ControlType required")}this._controlType=r.controlType;this._changeType=r.changeType;this._changeHandler=r.changeHandler;this._layers=r.layers};t.prototype.getChangeTypeName=function(){return this._changeType};t.prototype.getControlType=function(){return this._controlType};t.prototype.getLayers=function(){return this._layers};t.prototype.getChangeHandler=function(){var e=new n.FakePromise;if(typeof this._changeHandler==="string"){e=r(this._changeHandler.replace(/\./g,"/")).then(function(e){this._changeHandler=e}.bind(this))}return e.then(function(){if(!this._changeHandler||typeof this._changeHandler.completeChangeContent!=="function"||typeof this._changeHandler.applyChange!=="function"||typeof this._changeHandler.revertChange!=="function"){return Promise.reject(new Error("The ChangeHandler is either not available or does not have all required functions"))}return this._changeHandler}.bind(this))};return t});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/initial/_internal/storageResultDisassemble", ["sap/ui/fl/initial/_internal/StorageUtils","sap/base/util/merge","sap/base/util/isEmptyObject"],function(a,e,n){"use strict";function t(a,e){if(e.content.fileName!==e.content.variantManagementReference){a.push(e.content)}e.controlChanges.forEach(function(e){a.push(e)});for(var n in e.variantChanges){a=a.concat(e.variantChanges[n])}return a}function r(a){var e=true;if(a){Object.keys(a).some(function(n){if(a[n].length){e=false;return true}})}return e}return function(i){var s;if(!n(i.variantSection)){s=i.changes||[];for(var c in i.variantSection){var o=i.variantSection[c];for(var u in o.variantManagementChanges){s=s.concat(o.variantManagementChanges[u])}s=o.variants.reduce(t,s)}var f=a.getGroupedFlexObjects(s);var v=a.filterAndSortResponses(f);delete i.changes;delete i.variantSection;e(v[0]||{},i);return v}if(r(i.comp)){s=i.changes||[];i.comp={variants:[],changes:[],defaultVariants:[],standardVariants:[]};s.slice().reverse().forEach(function(a,e,n){var t=false;if(a.fileType==="variant"){i.comp.variants.unshift(a);t=true}else{switch(a.changeType){case"addFavorite":case"removeFavorite":case"updateVariant":i.comp.changes.unshift(a);t=true;break;case"defaultVariant":i.comp.defaultVariants.unshift(a);t=true;break;case"standardVariant":i.comp.standardVariants.unshift(a);t=true;break;default:break}}if(t){var r=n.length-1-e;i.changes.splice(r,1)}})}return[i]}});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/library", ["sap/ui/fl/apply/_internal/preprocessors/RegistrationDelegator","sap/ui/fl/Utils","sap/ui/fl/Layer","sap/ui/fl/Scenario","sap/ui/fl/changeHandler/condenser/Classification","sap/ui/core/Configuration","sap/ui/core/library","sap/m/library"],function(e,i,a,r,s,n){"use strict";var l=sap.ui.getCore().initLibrary({name:"sap.ui.fl",version:"1.108.8",controls:["sap.ui.fl.variants.VariantManagement","sap.ui.fl.util.IFrame"],dependencies:["sap.ui.core","sap.m"],designtime:"sap/ui/fl/designtime/library.designtime",extensions:{flChangeHandlers:{"sap.ui.fl.util.IFrame":"sap/ui/fl/util/IFrame"},"sap.ui.support":{publicRules:true}}});l.condenser={Classification:s};l.Scenario=r;e.registerAll();function t(){var e=i.getUshellContainer();if(e){return e.getLogonSystem().isTrial()}return false}if(t()){n.setFlexibilityServices([{connector:"LrepConnector",url:"/sap/bc/lrep",layers:[]},{connector:"LocalStorageConnector",layers:[a.CUSTOMER,a.PUBLIC,a.USER]}])}return l});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/registry/Settings", ["sap/ui/fl/write/_internal/Storage","sap/ui/fl/Utils","sap/base/Log","sap/base/util/UriParameters"],function(t,e,n,r){"use strict";function o(t){if(t&&t.logonUser){return Promise.resolve(t.logonUser)}var r=e.getUshellContainer();if(r){return e.getUShellService("UserInfo").then(function(t){var e=t.getUser();return e&&e.getId()}).catch(function(t){n.error("Error getting service from Unified Shell: "+t.message)})}return Promise.resolve()}var i=function(t){if(!t){throw new Error("no flex settings provided")}this._oSettings=t};i.attachEvent=function(t,e){i._oEventProvider.attachEvent(t,e)};i.detachEvent=function(t,e){i._oEventProvider.detachEvent(t,e)};i.getInstance=function(){if(i._instance){return Promise.resolve(i._instance)}if(i._oLoadSettingsPromise){return i._oLoadSettingsPromise}return i._loadSettings()};i._loadSettings=function(){var e;var r=t.loadFeatures().then(function(t){e=t;return o(e)}).then(function(t){if(!e){n.error("The request for flexibility settings failed; A default response is generated and returned to consuming APIs");e={isKeyUser:false,isKeyUserTranslationEnabled:false,isVariantSharingEnabled:false,isVariantPersonalizationEnabled:true,isAtoAvailable:false,isAtoEnabled:false,isAppVariantSaveAsEnabled:false,isContextSharingEnabled:true,isContextSharingEnabledForComp:true,isContextBasedAdaptationEnabled:false,isCondensingEnabled:false,isProductiveSystem:true,isPublicLayerAvailable:false,isLocalResetEnabled:false,isVariantAdaptationEnabled:false,versioning:{},_bFlexChangeMode:false,_bFlexibilityAdaptationButtonAllowed:false}}e.userId=t;return i._storeInstance(e)});i._oLoadSettingsPromise=r;return r};i._storeInstance=function(t){if(!i._instance){i._instance=new i(t)}return i._instance};i.getInstanceOrUndef=function(){return i._instance};i.getDefaultLayerPermissions=function(){return{VENDOR:true,CUSTOMER_BASE:true,CUSTOMER:true,PUBLIC:false,USER:false}};i.getDeveloperModeLayerPermissions=function(){return{VENDOR:true,CUSTOMER_BASE:true,CUSTOMER:false,PUBLIC:false,USER:false}};i.prototype._getBooleanProperty=function(t){return this._oSettings[t]||false};i.prototype.isKeyUser=function(){return this._getBooleanProperty("isKeyUser")};i.prototype.isKeyUserTranslationEnabled=function(){return this._getBooleanProperty("isKeyUserTranslationEnabled")};i.prototype.isPublicLayerAvailable=function(){return this._getBooleanProperty("isPublicLayerAvailable")};i.prototype.isVariantAdaptationEnabled=function(){return this._getBooleanProperty("isVariantAdaptationEnabled")};i.prototype.isAppVariantSaveAsEnabled=function(){return!this.isContextBasedAdaptationEnabled()&&this._getBooleanProperty("isAppVariantSaveAsEnabled")};i.prototype.isContextBasedAdaptationEnabled=function(){var t=r.fromQuery(window.location.search);var e=t.get("sap-ui-xx-rta-adaptations");return e==="true"||this._getBooleanProperty("isContextBasedAdaptationEnabled")};i.prototype.isVersioningEnabled=function(t){return!!(this._oSettings.versioning[t]||this._oSettings.versioning["ALL"])};i.prototype.isModelS=function(){return this._getBooleanProperty("isAtoAvailable")};i.prototype.isAtoEnabled=function(){return this._getBooleanProperty("isAtoEnabled")};i.prototype.isAtoAvailable=function(){return this._getBooleanProperty("isAtoAvailable")};i.prototype.isProductiveSystem=function(){return this._getBooleanProperty("isProductiveSystem")};i.prototype.isVariantSharingEnabled=function(){return this._getBooleanProperty("isVariantSharingEnabled")};i.prototype.isPublicFlVariantEnabled=function(){return this._getBooleanProperty("isPublicFlVariantEnabled")};i.prototype.isContextSharingEnabled=function(){return this._getBooleanProperty("isContextSharingEnabled")};i.prototype.isContextSharingEnabledForComp=function(){return this._getBooleanProperty("isContextSharingEnabledForComp")};i.prototype.isVariantPersonalizationEnabled=function(){return this._getBooleanProperty("isVariantPersonalizationEnabled")};i.prototype.isCondensingEnabled=function(){return this._getBooleanProperty("isCondensingEnabled")};i.prototype.isSystemWithTransports=function(){return!!(this._oSettings.system&&this._oSettings.client)};i.prototype.isProductiveSystemWithTransports=function(){return this.isProductiveSystem()&&this.isSystemWithTransports()};i.prototype.isLocalResetEnabled=function(){return this._getBooleanProperty("isLocalResetEnabled")};i.prototype.getSystem=function(){return this._oSettings.system};i.prototype.getClient=function(){return this._oSettings.client};i.prototype._getHostname=function(){return document.location.hostname};i.prototype.isCustomerSystem=function(){var t=this._oSettings.systemType;var e={CUSTOMER:true,SAP:false}[t];var n=this._getHostname();return e!==undefined?e:!(n.endsWith(".sap"+".corp")||n==="localhost"||n==="127.0.0.1")};i.prototype.getUserId=function(){return this._oSettings.userId};return i},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/requireAsync", [],function(){"use strict";return function(n){return new Promise(function(i,u){sap.ui.require([n],function(n){i(n)},function(n){u(n)})})}});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/util/ManagedObjectModel", ["sap/ui/core/Element","sap/ui/model/base/ManagedObjectModel"],function(e,t){"use strict";function a(e){return e.charAt(0).toUpperCase()+e.slice(1)}var i=e.extend("sap.ui.fl.util.ManagedObjectModel",{metadata:{library:"sap.ui.fl",properties:{data:{type:"object"},name:{type:"string",defaultValue:"$sap.ui.fl.ManagedObjectModel"}},associations:{object:{type:"sap.ui.core.Element"}}},constructor:function(){e.apply(this,arguments);this._oManagedObjectModel=new t(sap.ui.getCore().byId(this.getObject()),this.getData());["data","name","object"].forEach(function(e){this["set"+a(e)]=function(){throw new Error("sap.ui.fl.util.ManagedObjectModel: Can't change the value of `"+e+"` after the object is initialized. Please recreate the object with correct values in the constructor.")}},this)}});i.prototype.setParent=function(t){var a=this.getParent();if(a){a.setModel(null,this.getName())}if(t){t.setModel(this._oManagedObjectModel,this.getName())}e.prototype.setParent.apply(this,arguments)};i.prototype.exit=function(){this._oManagedObjectModel.destroy()};return i});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/variants/VariantManagement", ["sap/ui/model/Context","sap/ui/model/Filter","sap/ui/model/FilterOperator","sap/m/VariantItem","sap/m/VariantManagement","sap/ui/fl/Utils","sap/ui/fl/registry/Settings","sap/ui/core/Control","sap/ui/core/library","sap/base/Log"],function(t,e,a,n,i,o,r,s,l,h){"use strict";var p=l.TitleLevel;var c=s.extend("sap.ui.fl.variants.VariantManagement",{metadata:{interfaces:["sap.m.IOverflowToolbarContent","sap.m.IToolbarInteractiveControl"],library:"sap.ui.fl",designtime:"sap/ui/fl/designtime/variants/VariantManagement.designtime",properties:{updateVariantInURL:{type:"boolean",group:"Misc",defaultValue:false},resetOnContextChange:{type:"boolean",group:"Misc",defaultValue:true},modelName:{type:"string",group:"Misc",defaultValue:""},editable:{type:"boolean",group:"Misc",defaultValue:true},showSetAsDefault:{type:"boolean",group:"Misc",defaultValue:true},manualVariantKey:{type:"boolean",group:"Misc",defaultValue:false},inErrorState:{type:"boolean",group:"Misc",defaultValue:false},executeOnSelectionForStandardDefault:{type:"boolean",group:"Misc",defaultValue:false},displayTextForExecuteOnSelectionForStandardVariant:{type:"string",group:"Misc",defaultValue:""},headerLevel:{type:"sap.ui.core.TitleLevel",group:"Appearance",defaultValue:p.Auto}},events:{initialized:{},save:{parameters:{name:{type:"string"},overwrite:{type:"boolean"},key:{type:"string"},execute:{type:"boolean"},public:{type:"boolean"},def:{type:"boolean"},tile:{type:"boolean"}}},cancel:{},manage:{parameters:{renamed:{type:"object[]"},deleted:{type:"string[]"},exe:{type:"object[]"},def:{type:"string"}}},select:{parameters:{key:{type:"string"}}}},associations:{for:{type:"sap.ui.core.Control",multiple:true}},aggregations:{_embeddedVM:{type:"sap.m.VariantManagement",multiple:false,visibility:"hidden"}}},renderer:{apiVersion:2,render:function(t,e){t.openStart("div",e);t.openEnd();t.renderControl(e._oVM);t.close("div")}}});c.prototype.init=function(){s.prototype.init.apply(this);this.addStyleClass("sapUiFlVarMngmt");this._oRb=sap.ui.getCore().getLibraryResourceBundle("sap.ui.fl");this.setModelName(o.VARIANT_MODEL_NAME);this.attachModelContextChange(this._setModel,this);this._oVM=new i(this.getId()+"-vm");this.setAggregation("_embeddedVM",this._oVM,true);this._aCancelEventHandlers=[];this._aSaveEventHandlers=[];this._aManageEventHandlers=[];this._aSelectEventHandlers=[];this._oVM.attachManage(this._fireManage,this);this._oVM.attachCancel(this._fireCancel,this);this._oVM.attachSave(this._fireSave,this);this._oVM.attachSelect(this._fireSelect,this);this._updateWithSettingsInfo()};c.prototype.getOverflowToolbarConfig=function(){return{canOverflow:false,invalidationEvents:["save","manage","select"]}};c.prototype.attachCancel=function(t,e,a){this.attachEvent("cancel",t,e,a);return this};c.prototype._findCallback=function(t,e,a){var n=-1;t.some(function(t,i){if(t.fCallback===e&&t.oObj===a){n=i}return n>=0});return n};c.prototype.detachCancel=function(t,e){var a=this._findCallback(this._aCancelEventHandlers,t,e);if(a>=0){this.detachEvent("cancel",t,e);this._aCancelEventHandlers.splice(a,1)}return this};c.prototype.fireManage=function(t){this._oVM.fireManage(t)};c.prototype.fireSave=function(t){this._oVM.fireSave(t)};c.prototype._fireCancel=function(t){for(var e=0;e<this._aCancelEventHandlers.length;e++){t.oSource=this;this._aCancelEventHandlers[e].fCallbackBound(t,this._aCancelEventHandlers[e].mProps)}};c.prototype.attachSave=function(t,e,a){this.attachEvent("save",t,e,a);return this};c.prototype.detachSave=function(t,e){var a=this._findCallback(this._aSaveEventHandlers,t,e);if(a>-1){this.detachEvent("save",t,e);this._aSaveEventHandlers.splice(a,1)}return this};c.prototype._fireSave=function(t){this._handleAllListeners(t,this._aSaveEventHandlers)};c.prototype.hasListeners=function(t){var e=["save","select","cancel","manage"];if(e.indexOf(t)>-1){var a=null;if(t==="select"){a=this._aSelectEventHandlers}else if(t==="save"){a=this._aSaveEventHandlers}else if(t==="manage"){a=this._aManageEventHandlers}else if(t==="cancel"){a=this._aCancelEventHandlers}return a.length>0}return s.prototype.hasListeners.apply(this,arguments)};c.prototype.attachEvent=function(t,e,a,n){var i=["save","select","cancel","manage"];if(i.indexOf(t)>-1){var o=null;var r=a;if(typeof e==="function"){r=e;n=a;e=undefined}n=n===this?undefined:n;if(t==="select"){o=this._aSelectEventHandlers}else if(t==="save"){o=this._aSaveEventHandlers}else if(t==="manage"){o=this._aManageEventHandlers}else if(t==="cancel"){o=this._aCancelEventHandlers}o.push({fCallback:r,fCallbackBound:n?r.bind(n):r,oObj:n,mProps:e})}else{s.prototype.attachEvent.apply(this,arguments)}};c.prototype.attachEventOnce=function(t,e,a,n){var i;if(t==="manage"){i=this._findCallback(this._aManageEventHandlers,a,n);if(i>-1&&this._aManageEventHandlers[i].bOnce){this._aManageEventHandlers.splice(i,1)}this.attachManage(e,a,n);i=this._findCallback(this._aManageEventHandlers,a,n);if(i>-1){this._aManageEventHandlers[i].bOnce=true}}else if(t==="save"){i=this._findCallback(this._aSaveEventHandlers,a,n);if(i>-1&&this._aSaveEventHandlers[i].bOnce){this._aSaveEventHandlers.splice(i,1)}this.attachSave(e,a,n);i=this._findCallback(this._aSaveEventHandlers,a,n);if(i>-1){this._aSaveEventHandlers[i].bOnce=true}}else if(t==="select"){i=this._findCallback(this._aSelectEventHandlers,a,n);if(i>-1&&this._aSelectEventHandlers[i].bOnce){this._aSelectEventHandlers.splice(i,1)}this.attachSelect(e,a,n);i=this._findCallback(this._aSelectEventHandlers,a,n);if(i>-1){this._aSelectEventHandlers[i].bOnce=true}}else{s.prototype.attachEventOnce.apply(this,arguments)}};c.prototype.attachManage=function(t,e,a){this.attachEvent("manage",t,e,a);return this};c.prototype._handleAllListeners=function(t,e){var a=0;var n=[];while(a<e.length){t.oSource=this;e[a].fCallbackBound(t,e[a].mProps);if(e[a]){if(e[a].hasOwnProperty("bOnce")&&e[a].bOnce){n.push(a)}a+=1}}for(a=n.length-1;a>-1;a--){e.splice(n[a],1)}};c.prototype._fireManage=function(t){this._handleAllListeners(t,this._aManageEventHandlers)};c.prototype.detachManage=function(t,e){var a=this._findCallback(this._aManageEventHandlers,t,e);if(a>-1){this.detachEvent("manage",t,e);this._aManageEventHandlers.splice(a,1)}return this};c.prototype.attachSelect=function(t,e,a){this.attachEvent("select",t,e,a);return this};c.prototype._fireSelect=function(t){this._handleAllListeners(t,this._aSelectEventHandlers)};c.prototype.detachSelect=function(t,e){var a=this._findCallback(this._aSelectEventHandlers,t,e);if(a>-1){this.detachEvent("select",t,e);this._aSelectEventHandlers.splice(a,1)}return this};c.prototype._createSaveAsDialog=function(){this._oVM._createSaveAsDialog()};c.prototype._handleVariantSaveAs=function(t){this._oVM._handleVariantSaveAs(t)};c.prototype.getFocusDomRef=function(){if(this._oVM){return this._oVM.oVariantPopoverTrigger.getFocusDomRef()}return null};c.prototype.getManageDialog=function(){if(this._oVM){return this._oVM.oManagementDialog}return null};c.prototype.getVariants=function(){var t=[];if(this.oContext&&this.oContext.getObject()){t=this.oContext.getObject().variants.filter(function(t){if(!t.hasOwnProperty("visible")){return true}return t.visible})}return t};c.prototype.getTitle=function(){return this._oVM.getTitle()};c.prototype.refreshTitle=function(){this._oVM.refreshTitle()};c.prototype.setPopoverTitle=function(t){this._oVM.setPopoverTitle(t);return this};c.prototype.setHeaderLevel=function(t){this.setProperty("headerLevel",t);this._oVM.setLevel(t);return this};c.prototype.setEditable=function(t){this.setProperty("editable",t);this._oVM.setShowFooter(t);return this};c.prototype.setShowExecuteOnSelection=function(t){this._oVM.setSupportApplyAutomatically(t);return this};c.prototype.setShowSetAsDefault=function(t){this.setProperty("showSetAsDefault",t);this._oVM.setSupportDefault(t);return this};c.prototype.setExecuteOnSelectionForStandardDefault=function(t){this.setProperty("executeOnSelectionForStandardDefault",t);this._oVM.setExecuteOnSelectionForStandardDefault(t);return this};c.prototype.setDisplayTextForExecuteOnSelectionForStandardVariant=function(t){this.setProperty("displayTextForExecuteOnSelectionForStandardVariant",t);this._oVM.setDisplayTextForExecuteOnSelectionForStandardVariant(t);return this};c.prototype.setManualVariantKey=function(t){this.setProperty("manualVariantKey",t);this._oVM._setShowManualVariantKey(t);return this};c.prototype.setInErrorState=function(t){this.setProperty("inErrorState",t);this._oVM.setInErrorState(t);return this};c.prototype.openManagementDialog=function(t,e,a){this._oVM.openManagementDialog(t,e,a)};c.prototype.openSaveAsDialogForKeyUser=function(t,e){this._oVM.openSaveAsDialog(t,e)};c.prototype.setEditable=function(t){this._oVM.setProperty("showFooter",t);return this};c.prototype.setCurrentVariantKey=function(t){this._oVM.setSelectedKey(t)};c.prototype.getCurrentVariantKey=function(){return this._oVM.getSelectedKey()};c.prototype.setDefaultVariantKey=function(t){this._oVM.setDefaultKey(t)};c.prototype.getDefaultVariantKey=function(){return this._oVM.getDefaultKey()};c.prototype.getModified=function(){return this._oVM.getModified()};c.prototype.setModified=function(t){this._oVM.setModified(t)};c.prototype.getStandardVariantKey=function(){return this._oVM.getStandardVariantKey()};c.prototype._getEmbeddedVM=function(){return this._oVM};c.prototype._updateWithSettingsInfo=function(){r.getInstance().then(function(t){if(this._oVM){this._oVM.setShowSaveAs(t.isVariantPersonalizationEnabled());this._oVM.setSupportPublic(t.isPublicFlVariantEnabled())}}.bind(this)).catch(function(t){h.error(t)})};c.prototype.getModelName=function(){return this.getProperty("modelName")};c.prototype.setModelName=function(t){if(this.getModelName()){this.oContext=null;this._aCancelEventHandlers=[];this._aSaveEventHandlers=[];this._aManageEventHandlers=[];this._aSelectEventHandlers=[]}this.setProperty("modelName",t);return this};c.prototype._setModel=function(){this._setBindingContext()};c.prototype._setBindingContext=function(){var e;var a;var n=this.getModelName();if(!this.oContext){e=this.getModel(n);if(e){a=this._getLocalId(e);if(a){this.oContext=new t(e,"/"+a);this.setBindingContext(this.oContext,n);if(e.registerToModel){e.registerToModel(this)}this.fireInitialized();this._oVM.setModel(e,n);this._oVM.setSupportDefault(true);this._createItemsModel(n);this._oVM.bindProperty("selectedKey",{path:this.oContext+"/currentVariant",model:n});this._oVM.bindProperty("defaultKey",{path:this.oContext+"/defaultVariant",model:n});this._oVM.bindProperty("modified",{path:this.oContext+"/modified",model:n});this._oVM.bindProperty("supportFavorites",{path:this.oContext+"/showFavorites",model:n});this._oVM.bindProperty("supportApplyAutomatically",{path:this.oContext+"/showExecuteOnSelection",model:n});this._oVM.bindProperty("showFooter",{path:this.oContext+"/variantsEditable",model:n});this._oVM.setPopoverTitle(this._oRb.getText("VARIANT_MANAGEMENT_VARIANTS"))}}}};c.prototype._createItemsModel=function(t){var i=new n({key:"{"+t+">key}",title:"{"+t+">title}",sharing:"{"+t+">sharing}",remove:"{"+t+">remove}",favorite:"{"+t+">favorite}",originalFavorite:"{"+t+">originalFavorite}",executeOnSelect:"{"+t+">executeOnSelect}",originalExecuteOnSelect:"{"+t+">originalExecuteOnSelect}",rename:"{"+t+">rename}",originalTitle:"{"+t+">originalTitle}",visible:"{"+t+">visible}",changeable:"{"+t+">change}",author:"{"+t+">author}",contexts:"{"+t+">contexts}",originalContexts:"{"+t+">originalContexts}"});this._oVM.bindAggregation("items",{path:this.oContext+"/variants",model:t,template:i,filters:new e({path:"visible",operator:a.EQ,value1:true})})};c.prototype._getLocalId=function(t){var e=this.getModelName();if(!e){return null}if(e!==o.VARIANT_MODEL_NAME){return this.getId()}return t.getVariantManagementReferenceForControl(this)};c.prototype._getInnerItems=function(){var t=[];if(this.oContext&&this.oContext.getObject()){t=this.oContext.getObject().variants.filter(function(t){if(!t.hasOwnProperty("visible")){return true}return t.visible})}return t};c.prototype._getInnerItemByKey=function(t){var e=null;var a=this._getInnerItems();a.some(function(a){if(a.key===t){e=a}return e!==null});return e};c.prototype.registerApplyAutomaticallyOnStandardVariant=function(t){this._fRegisteredApplyAutomaticallyOnStandardVariant=t;return this};c.prototype.getApplyAutomaticallyOnVariant=function(t){var e=false;if(t){e=t.executeOnSelect;if(this._fRegisteredApplyAutomaticallyOnStandardVariant&&this.getDisplayTextForExecuteOnSelectionForStandardVariant()&&t.key===this._oVM.getStandardVariantKey()){try{e=this._fRegisteredApplyAutomaticallyOnStandardVariant(t)}catch(t){h.error("callback for determination of apply automatically on standard variant failed")}}}return e};c.prototype.exit=function(){this._oVM.detachManage(this._fireManage,this);this._oVM.detachCancel(this._fireCancel,this);this._oVM.detachSelect(this._fireSelect,this);this._oVM.detachSave(this._fireSave,this);s.prototype.exit.apply(this,arguments);this._oVM=undefined;this._fRegisteredApplyAutomaticallyOnStandardVariant=null;this.oContext=undefined;this._oRb=undefined;this._aCancelEventHandlers=undefined;this._aSaveEventHandlers=undefined;this._aManageEventHandlers=undefined;this._aSelectEventHandlers=undefined};c.prototype.addFor=function(t){this.addAssociation("for",t);return this};c.prototype._getToolbarInteractive=function(){return true};return c});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/variants/VariantModel", ["sap/base/util/restricted/_omit","sap/base/util/restricted/_isEqual","sap/base/util/each","sap/base/util/includes","sap/base/util/isEmptyObject","sap/base/util/merge","sap/base/util/ObjectPath","sap/base/Log","sap/ui/core/util/reflection/JsControlTreeModifier","sap/ui/core/BusyIndicator","sap/ui/fl/apply/_internal/changes/Reverter","sap/ui/fl/apply/_internal/controlVariants/URLHandler","sap/ui/fl/apply/_internal/flexObjects/FlexObjectFactory","sap/ui/fl/apply/_internal/flexState/controlVariants/Switcher","sap/ui/fl/apply/_internal/flexState/controlVariants/VariantManagementState","sap/ui/fl/apply/_internal/controlVariants/Utils","sap/ui/fl/Change","sap/ui/fl/Layer","sap/ui/fl/LayerUtils","sap/ui/fl/Utils","sap/ui/fl/registry/Settings","sap/ui/model/json/JSONModel"],function(e,t,a,n,r,i,o,s,c,l,f,h,u,g,p,v,d,m,V,C,R,y){"use strict";var x={};function D(e,t){return b(function(e,t){var a=t.model;var n=t.vmReference;var r=false;var i=e.key;var s=e.key;return Promise.resolve().then(function(){if(o.get([n,"currentVariant"],a.oData)&&a.oData[n].currentVariant!==a.oData[n].originalCurrentVariant){s=a.oData[n].originalCurrentVariant;r=true;return a.updateCurrentVariant({variantManagementReference:n,newVariantReference:i,appComponent:a.oAppComponent,internallyCalled:true})}}).then(function(){if(o.get([n,"modified"],a.oData)===true){var e=p.getControlChangesForVariant({reference:a.sFlexReference,vmReference:n,vReference:s});return S({changes:e,vmReference:n,vReference:s,revert:!r,model:a}).then(function(){a.oData[n].originalCurrentVariant=i;a.oData[n].modified=false;a.checkUpdate(true)})}}).then(function(){if(!r){a._callVariantSwitchListeners(n,a.oData[n].currentVariant)}})}.bind(null,e.getParameters(),t),t.model,t.vmReference)}function S(e){var t=e.model._getDirtyChangesFromVariantChanges(e.changes);t=t.reverse();return Promise.resolve().then(function(){if(e.revert){return f.revertMultipleChanges(t,{appComponent:e.model.oAppComponent,modifier:c,flexController:e.model.oFlexController})}}).then(function(){t.forEach(function(t){p.removeChangeFromVariant({reference:e.model.sFlexReference,change:t,vmReference:e.vmReference,vReference:e.vReference});e.model.oFlexController.deleteChange(t,e.model.oAppComponent)})})}function F(e,t,a){if(a||e.oData[t]){e.oData[t].variantBusy=a}e.checkUpdate()}function b(e,t,a){t._oVariantSwitchPromise=t._oVariantSwitchPromise.catch(function(){}).then(F.bind(null,t,a,true)).then(e).then(F.bind(null,t,a,false)).catch(function(e){F(t,a,false);throw e});t.oFlexController.setVariantSwitchPromise(t._oVariantSwitchPromise);return t._oVariantSwitchPromise}function M(e,t){x[e]=t}function _(e,t){return g.switchVariant(e).then(function(){this.oData[e.vmReference].originalCurrentVariant=e.newVReference;this.oData[e.vmReference].currentVariant=e.newVReference;if(this.oData[e.vmReference].updateVariantInURL){h.updateVariantInURL({vmReference:e.vmReference,newVReference:e.newVReference,model:this})}this.checkUpdate();this._callVariantSwitchListeners(e.vmReference,e.newVReference,undefined,t)}.bind(this))}function E(e){R.getInstance().then(function(t){if(!t.isVariantPersonalizationEnabled()){e.remove=false;e.rename=false;e.change=false}})}function I(e,t,a){var n=a?V.getCurrentLayer():m.USER;if(e.layer===n&&e.key!==t){return true}return false}function T(e){return new Promise(function(t){if(e.getDomRef()){t()}else{e.addEventDelegate({onAfterRendering:function(){t()}})}})}var P=y.extend("sap.ui.fl.variants.VariantModel",{constructor:function(e,t){this.pSequentialImportCompleted=Promise.resolve();y.apply(this,[e]);this.sharing={PRIVATE:"private",PUBLIC:"public"};this.oFlexController=t.flexController;this.oChangePersistence=this.oFlexController._oChangePersistence;this.sFlexReference=this.oChangePersistence.getComponentName();this.oAppComponent=t.appComponent;this._oResourceBundle=sap.ui.getCore().getLibraryResourceBundle("sap.ui.fl");this._oVariantSwitchPromise=Promise.resolve();this._oVariantAppliedListeners={};if(r(e)){try{e=p.fillVariantModel({reference:this.sFlexReference})}catch(e){s.error("Variants Map was not found: "+e.message)}}if(e&&typeof e==="object"){Object.keys(e).forEach(function(t){e[t].variants.forEach(function(a){if(!e[t].currentVariant&&a.key===e[t].defaultVariant){e[t].currentVariant=a.key}a.originalTitle=a.title;a.originalFavorite=a.favorite;a.originalExecuteOnSelect=a.executeOnSelect;a.originalVisible=a.visible;a.originalContexts=a.contexts});e[t].originalCurrentVariant=e[t].currentVariant;e[t].originalDefaultVariant=e[t].defaultVariant});this.setData(e)}p.addUpdateStateListener(this.sFlexReference,U.bind(this))}});function U(){this.checkDirtyStateForControlModels(Object.keys(this.oData||{}))}P.prototype.initialize=function(){return Promise.resolve().then(function(){var e=C.getUshellContainer();if(e){var t=[C.getUShellService("UserInfo"),C.getUShellService("URLParsing"),C.getUShellService("CrossApplicationNavigation"),C.getUShellService("ShellNavigation")];return Promise.all(t).then(function(e){M("UserInfo",e[0]);M("URLParsing",e[1]);M("CrossApplicationNavigation",e[2]);M("ShellNavigation",e[3])}).catch(function(e){throw new Error("Error getting service from Unified Shell: "+e)})}return undefined}).then(function(){h.initialize({model:this})}.bind(this))};P.prototype.updateCurrentVariant=function(e){var t={vmReference:e.variantManagementReference,currentVReference:this.oData[e.variantManagementReference].originalCurrentVariant,newVReference:e.newVariantReference,flexController:this.oFlexController,appComponent:e.appComponent||this.oAppComponent,modifier:c,reference:this.sFlexReference};if(e.internallyCalled){return _.call(this,t,e.scenario)}return b(_.bind(this,t,e.scenario),this,e.variantManagementReference)};P.prototype.getCurrentVariantReference=function(e){return this.oData[e].currentVariant};P.prototype.getVariantManagementReference=function(e){var t="";var a=-1;Object.keys(this.oData).some(function(n){return this.oData[n].variants.some(function(r,i){if(r.key===e){t=n;a=i;return true}})}.bind(this));return{variantManagementReference:t,variantIndex:a}};P.prototype.getVariant=function(e,t){return p.getVariant({reference:this.sFlexReference,vmReference:t||this.getVariantManagementReference(e).variantManagementReference,vReference:e})};P.prototype.getVariantTitle=function(e,t){var a="";this.oData[t].variants.some(function(t){if(t.key===e){a=t.title;return true}});return a};function k(e,t){var a=p.getVariantChangesForVariant({vmReference:e,reference:this.sFlexReference});var n=this.oData[e].currentVariant;var r=this.oData[e].defaultVariant;if(t.getExecuteOnSelectionForStandardDefault()&&n===r&&n===e&&!a.setExecuteOnSelect){var i=p.getVariant({reference:this.sFlexReference,vmReference:e,vReference:e});i.instance.setExecuteOnSelection(true);this.oData[e].variants[0].originalExecuteOnSelect=true;this.oData[e].variants[0].executeOnSelect=true;return true}return false}P.prototype.attachVariantApplied=function(e){var t=sap.ui.getCore().byId(e.vmControlId);var a=this.getVariantManagementReferenceForControl(t);return this.waitForVMControlInit(a).then(function(e,a){if(!this._oVariantAppliedListeners[e]){this._oVariantAppliedListeners[e]={}}var n=k.call(this,e,t);if(a.callAfterInitialVariant||n){var r={appComponent:this.oAppComponent,reference:this.sFlexReference,vmReference:e,flexController:this.oFlexController};p.waitForInitialVariantChanges(r).then(function(){var t=p.getCurrentVariantReference({vmReference:e,reference:this.sFlexReference});this._callVariantSwitchListeners(e,t,a.callback)}.bind(this))}return T(a.control).then(function(){if(v.getRelevantVariantManagementControlId(a.control,this.getVariantManagementControlIds())===a.vmControlId){this.oData[e].showExecuteOnSelection=true;this.checkUpdate(true);this._oVariantAppliedListeners[e][a.control.getId()]=a.callback}else{s.error("Error in attachVariantApplied: The passed VariantManagement ID does not match the responsible VariantManagement control")}}.bind(this))}.bind(this,a,e))};P.prototype._callVariantSwitchListeners=function(e,t,n,r){if(this._oVariantAppliedListeners[e]){var o;this.oData[e].variants.some(function(e){if(e.key===t){o=i({},e);return true}});if(r){o.createScenario=r}if(n){n(o)}else{a(this._oVariantAppliedListeners[e],function(e,t){t(o)})}}};P.prototype.detachVariantApplied=function(e,t){var a=this.getVariantManagementReferenceForControl(sap.ui.getCore().byId(e));if(this._oVariantAppliedListeners[a]){delete this._oVariantAppliedListeners[a][t]}};P.prototype.addChange=function(e){var t=e.getVariantReference();var a=this.getVariantManagementReference(t).variantManagementReference;if(e.getState()===d.states.NEW){this.oData[a].modified=true}this.checkUpdate(true);return p.addChangeToVariant({reference:this.sFlexReference,change:e,vmReference:a,vReference:t})};P.prototype.removeChange=function(e){var t=e.getVariantReference();var a=this.getVariantManagementReference(t).variantManagementReference;var n=p.removeChangeFromVariant({reference:this.sFlexReference,change:e,vmReference:a,vReference:t});this.checkDirtyStateForControlModels([a]);return n};P.prototype._getVariantTitleCount=function(e,t){var a=this.getData();return a[t].variants.reduce(function(t,a){if(e.toLowerCase()===a.title.toLowerCase()&&a.visible){t++}return t},0)};function w(e,t){var a={id:t.newVariantReference,variantName:t.title,contexts:t.contexts,layer:t.layer,reference:e.getFlexObjectMetadata().reference,generator:t.generator,variantManagementReference:t.variantManagementReference};if(t.currentVariantComparison===1){if(t.sourceVariantSource.instance.getLayer()===t.layer){a.variantReference=t.sourceVariantSource.instance.getVariantReference()}else{a.variantReference=e.getVariantReference()}}else if(t.currentVariantComparison===0){a.variantReference=e.getVariantReference()}else if(t.currentVariantComparison===-1){a.variantReference=t.sourceVariantReference}return u.createFlVariant(a)}P.prototype._duplicateVariant=function(e){var t=e.sourceVariantReference;var a=e.variantManagementReference;var n=this.getVariant(t);var r=p.getControlChangesForVariant({vmReference:a,vReference:t,reference:this.sFlexReference}).map(function(e){return e.convertToFileContent()});e.currentVariantComparison=V.compareAgainstCurrentLayer(n.instance.getLayer(),e.layer);if(e.currentVariantComparison===1){e.sourceVariantSource=this.getVariant(n.instance.getVariantReference())}var o={instance:w(n.instance,e),controlChanges:r,variantChanges:{}};r=o.controlChanges.slice();var s={};var c;o.controlChanges=r.reduce(function(t,a){if(V.compareAgainstCurrentLayer(a.layer,e.layer)>=0){s=i({},a);s.layer=e.layer;s.variantReference=o.instance.getId();if(!s.support){s.support={}}s.support.sourceChangeFileName=a.fileName;s.packageName="$TMP";c=d.createInitialFileContent(s);t.push(new d(c))}return t},[]);return o};P.prototype.copyVariant=function(e){var t=this._duplicateVariant(e);t.generator=e.generator;var a={key:t.instance.getId(),layer:e.layer,title:t.instance.getName(),originalTitle:t.instance.getName(),originalExecuteOnSelect:t.instance.getExecuteOnSelection(),executeOnSelect:false,favorite:true,originalFavorite:true,rename:true,change:true,remove:true,visible:true,originalVisible:true,sharing:e.layer===m.USER?this.sharing.PRIVATE:this.sharing.PUBLIC,originalContexts:t.instance.getContexts(),contexts:t.instance.getContexts()};var n=[];[t.instance].concat(t.controlChanges).forEach(function(e){n.push(this.oChangePersistence.addDirtyChange(e))}.bind(this));var r=p.addVariantToVariantManagement({variantData:t,reference:this.sFlexReference,vmReference:e.variantManagementReference});this.oData[e.variantManagementReference].variants.splice(r,0,a);return this.updateCurrentVariant({variantManagementReference:e.variantManagementReference,newVariantReference:t.instance.getId(),appComponent:e.appComponent,internallyCalled:true,scenario:"saveAs"}).then(function(){return n})};P.prototype.removeVariant=function(e){var t=this.oChangePersistence.getDirtyChanges().filter(function(t){return t.getVariantReference&&t.getVariantReference()===e.variant.getId()||t.getId()===e.variant.getId()});return this.updateCurrentVariant({variantManagementReference:e.variantManagementReference,newVariantReference:e.sourceVariantReference,appComponent:e.component}).then(function(){var a=p.removeVariantFromVariantManagement({reference:this.sFlexReference,variant:e.variant,vmReference:e.variantManagementReference});this.oData[e.variantManagementReference].variants.splice(a,1);this.checkUpdate();t.forEach(function(e){this.oChangePersistence.deleteChange(e)}.bind(this))}.bind(this))};P.prototype.collectModelChanges=function(e,a){var n=this.getData()[e];var r=n.variants;var i=[];var o={};r.forEach(function(e){if(e.originalTitle!==e.title){o={variantReference:e.key,changeType:"setTitle",title:e.title,originalTitle:e.originalTitle,layer:a};i.push(o)}if(e.originalFavorite!==e.favorite){o={variantReference:e.key,changeType:"setFavorite",favorite:e.favorite,originalFavorite:e.originalFavorite,layer:a};i.push(o)}if(e.originalExecuteOnSelect!==e.executeOnSelect){o={variantReference:e.key,changeType:"setExecuteOnSelect",executeOnSelect:e.executeOnSelect,originalExecuteOnSelect:e.originalExecuteOnSelect,layer:a};i.push(o)}if(!e.visible&&e.originalVisible){o={variantReference:e.key,changeType:"setVisible",visible:false,layer:a};i.push(o)}if(!t(e.originalContexts,e.contexts)){o={variantReference:e.key,changeType:"setContexts",layer:a,contexts:e.contexts,originalContexts:e.originalContexts};i.push(o)}});if(n.originalDefaultVariant!==n.defaultVariant){o={variantManagementReference:e,changeType:"setDefault",defaultVariant:n.defaultVariant,originalDefaultVariant:n.originalDefaultVariant,layer:a};i.push(o)}return i};P.prototype.manageVariants=function(e,t,a,n,r){return new Promise(function(i){e.attachEventOnce("manage",{resolve:i,variantManagementReference:t,layer:a},this.fnManageClickRta,this);e.openManagementDialog(true,n,r)}.bind(this))};P.prototype.addVariantChange=function(e,t){var a=this.setVariantProperties(e,t);var n={};var r={vmReference:e,add:true,reference:this.sFlexReference};n.changeType=t.changeType;n.layer=t.layer;n.generator=t.generator;if(t.changeType==="setDefault"){n.fileType="ctrl_variant_management_change";n.selector=c.getSelector(e,t.appComponent)}else{n.fileType="ctrl_variant_change";n.selector=c.getSelector(t.variantReference,t.appComponent)}var i=this.oFlexController.createBaseChange(n,t.appComponent);i.setContent(a);if(t.changeType==="setTitle"){i.setText("title",t.title,"XFLD")}r.changeContent=i.convertToFileContent();p.updateChangesForVariantManagementInMap(r);this.oChangePersistence.addDirtyChange(i);return i};P.prototype.deleteVariantChange=function(e,t,a){var n={vmReference:e,add:false,reference:this.sFlexReference,changeContent:undefined};this.setVariantProperties(e,t,true);n.changeContent=a.convertToFileContent();p.updateChangesForVariantManagementInMap(n);this.oChangePersistence.deleteChange(a)};P.prototype.setVariantProperties=function(e,t,a){var n=-1;var r;var i=this.getData();var o=this.getVariant(t.variantReference,e).instance;if(t.variantReference){n=this.getVariantManagementReference(t.variantReference).variantIndex;r=i[e].variants[n]}var s={};switch(t.changeType){case"setTitle":s.title=t.title;r.title=t.title;r.originalTitle=r.title;o.setName(t.title,true);break;case"setFavorite":s.favorite=t.favorite;r.favorite=t.favorite;r.originalFavorite=r.favorite;o.setFavorite(t.favorite);break;case"setExecuteOnSelect":s.executeOnSelect=t.executeOnSelect;r.executeOnSelect=t.executeOnSelect;r.originalExecuteOnSelect=r.executeOnSelect;o.setExecuteOnSelection(t.executeOnSelect);break;case"setVisible":s.visible=t.visible;s.createdByReset=false;r.visible=t.visible;r.originalVisible=r.visible;o.setVisible(t.visible);break;case"setContexts":s.contexts=t.contexts;r.contexts=t.contexts;r.originalContexts=t.contexts;o.setContexts(t.contexts);break;case"setDefault":s.defaultVariant=t.defaultVariant;i[e].defaultVariant=t.defaultVariant;i[e].originalDefaultVariant=i[e].defaultVariant;var c=h.getStoredHashParams({model:this});if(c){if(i[e].defaultVariant!==i[e].currentVariant&&c.indexOf(i[e].currentVariant)===-1){h.update({parameters:c.concat(i[e].currentVariant),updateURL:!this._bDesignTimeMode,updateHashEntry:true,model:this})}else if(i[e].defaultVariant===i[e].currentVariant&&c.indexOf(i[e].currentVariant)>-1){c.splice(c.indexOf(i[e].currentVariant),1);h.update({parameters:c,updateURL:!this._bDesignTimeMode,updateHashEntry:true,model:this})}}if(a&&i[e].currentVariant!==t.defaultVariant){this.updateCurrentVariant({variantManagementReference:e,newVariantReference:t.defaultVariant,appComponent:t.appComponent})}break;default:break}var l=p.getContent(this.sFlexReference);if(n>-1){var f=p.setVariantData({variantData:s,vmReference:e,previousIndex:n,reference:this.sFlexReference});i[e].variants.splice(n,1);i[e].variants.splice(f,0,r)}else if(l[e]){l[e].defaultVariant=t.defaultVariant}this.setData(i);this.checkUpdate(true);return s};P.prototype._ensureStandardVariantExists=function(t){var a=this.getData();var n=a[t]||{};var o=e(n,["initPromise"]);if(!a[t]||r(o)){a[t]=i(n,{currentVariant:t,originalCurrentVariant:t,defaultVariant:t,originalDefaultVariant:t,variants:[{key:t,title:this._oResourceBundle.getText("STANDARD_VARIANT_TITLE"),originalTitle:this._oResourceBundle.getText("STANDARD_VARIANT_ORIGINAL_TITLE"),favorite:true,originalFavorite:true,executeOnSelect:false,originalExecuteOnSelect:false,visible:true,originalVisible:true,contexts:{},originalContexts:{},author:v.DEFAULT_AUTHOR}]});this.setData(a);var c={};c[t]={defaultVariant:t,variantManagementChanges:{},variants:[{instance:u.createFlVariant({id:t,variantManagementReference:t,variantName:this._oResourceBundle.getText("STANDARD_VARIANT_TITLE"),user:v.DEFAULT_AUTHOR,reference:this.sFlexReference}),controlChanges:[],variantChanges:{}}]};try{p.addFakeStandardVariant(this.sFlexReference,this.oAppComponent.getId(),c)}catch(e){s.error("Variants Map was not found: "+e.message)}}};P.prototype.setModelPropertiesForControl=function(e,t,a){this.oData[e].modified=false;this.oData[e].showFavorites=true;var n=this._bDesignTimeMode;if(n!==t){this._bDesignTimeMode=t;if(t){h.clearAllVariantURLParameters({model:this})}else if(n){h.update({parameters:h.getStoredHashParams({model:this}),updateURL:true,updateHashEntry:false,model:this})}}if(!(typeof this.fnManageClick==="function"&&typeof this.fnManageClickRta==="function")){this._initializeManageVariantsEvents()}a.detachManage(this.fnManageClick,this);if(t&&this.oData[e]._isEditable){this.oData[e].variantsEditable=false;this.oData[e].variants.forEach(function(a){a.rename=true;a.change=true;a.sharing=this.sharing.PUBLIC;a.remove=I(a,e,t)}.bind(this))}else if(this.oData[e]._isEditable){a.attachManage({variantManagementReference:e},this.fnManageClick,this);this.oData[e].variantsEditable=true;this.oData[e].variants.forEach(function(a){a.remove=I(a,e,t);switch(a.layer){case m.USER:a.rename=true;a.change=true;a.sharing=this.sharing.PRIVATE;E(a);break;case m.PUBLIC:var n=this._oUserInfoService&&this._oUserInfoService.getUser();var r=!n||n.getId().toUpperCase()===a.author.toUpperCase()||R.getInstanceOrUndef().isKeyUser();a.remove=r;a.rename=r;a.change=r;a.sharing=this.sharing.PUBLIC;break;default:a.rename=false;a.change=false;a.sharing=this.sharing.PUBLIC}}.bind(this))}else{this.oData[e].variantsEditable=false;this.oData[e].variants.forEach(function(e){e.remove=false;e.rename=false;e.change=false})}};P.prototype._initializeManageVariantsEvents=function(){this.fnManageClickRta=function(e,t){var a=this.collectModelChanges(t.variantManagementReference,t.layer);t.resolve(a)};this.fnManageClick=function(e,t){if(!this.oFlexController||!p.getContent(this.sFlexReference)){return}var a=this.collectModelChanges(t.variantManagementReference,m.USER);var n=[];a.forEach(function(e){e.appComponent=this.oAppComponent;n.push(this.addVariantChange(t.variantManagementReference,e))}.bind(this));this.oChangePersistence.saveDirtyChanges(this.oAppComponent,false,n)}};function A(e,t,a,n){if(!this._bDesignTimeMode){return e.saveSequenceOfDirtyChanges(t,n).then(function(e){if(e){var t=e.response[0];this.oData[a].variants.forEach(function(e){if(e.key===t.fileName){e.author=t.support.user}})}}.bind(this))}return Promise.resolve()}P.prototype._handleSaveEvent=function(e){if(!this._bDesignTimeMode){var t=e.getSource();var a=e.getParameters();return this._handleSave(t,a)}return Promise.resolve()};P.prototype._handleSave=function(e,t){var a=C.getAppComponentForControl(e);var n=this.getLocalId(e.getId(),a);var r;return b(function(e,t,a){var n=a.def;var i=a.execute;var o=this.getCurrentVariantReference(e);var s=p.getControlChangesForVariant({reference:this.sFlexReference,vmReference:e,vReference:o});if(a.overwrite){return this.oFlexController.saveSequenceOfDirtyChanges(this._getDirtyChangesFromVariantChanges(s),t)}var c=a.layer||(a.public?m.PUBLIC:m.USER);var l=a.layer||m.USER;var f=a.newVariantReference||C.createDefaultFileName("flVariant");var h={variantManagementReference:e,appComponent:t,layer:c,title:a.name,contexts:a.contexts,sourceVariantReference:o,newVariantReference:f,generator:a.generator};return this.copyVariant(h).then(function(a){if(n){var c={changeType:"setDefault",defaultVariant:f,originalDefaultVariant:this.oData[e].defaultVariant,appComponent:t,layer:l,variantManagementReference:e};var h=this.addVariantChange(e,c);a.push(h)}if(i){var u={changeType:"setExecuteOnSelect",executeOnSelect:true,variantReference:f,appComponent:t,layer:l,variantManagementReference:e};var g=this.addVariantChange(e,u);a.push(g)}r=a;return S({changes:s,vmReference:e,vReference:o,model:this}).then(A.bind(this,this.oFlexController,a,e,t))}.bind(this))}.bind(this,n,a,t),this,n).then(function(){this.oData[n].modified=false;this.checkUpdate(true);return r}.bind(this))};P.prototype.getLocalId=function(e,t){return c.getSelector(e,t).id};P.prototype.getVariantManagementReferenceForControl=function(e){var t=e.getId();var a=C.getAppComponentForControl(e);return a&&a.getLocalId(t)||t};P.prototype.switchToDefaultForVariantManagement=function(e){if(this.oData[e].currentVariant!==this.oData[e].defaultVariant){l.show(200);this.updateCurrentVariant({variantManagementReference:e,newVariantReference:this.oData[e].defaultVariant}).then(function(){l.hide()})}};P.prototype.switchToDefaultForVariant=function(e){Object.keys(this.oData).forEach(function(t){if(!e||this.oData[t].currentVariant===e){this.switchToDefaultForVariantManagement(t)}}.bind(this))};P.prototype.registerToModel=function(e){var t=this.getVariantManagementReferenceForControl(e);this._ensureStandardVariantExists(t);this.oData[t]._isEditable=e.getEditable();this.oData[t].showExecuteOnSelection=false;e.attachEvent("select",{vmReference:t,model:this},D);e.attachSave(this._handleSaveEvent,this);this.setModelPropertiesForControl(t,false,e);var a=e.getUpdateVariantInURL();this.oData[t].updateVariantInURL=a;h.registerControl({vmReference:t,updateURL:!!a,model:this});h.handleModelContextChange({model:this,vmControl:e});if(this.oData[t].initPromise){this.oData[t].initPromise.resolveFunction();delete this.oData[t].initPromise}this.oData[t].init=true;var n={appComponent:this.oAppComponent,reference:this.sFlexReference,vmReference:t,flexController:this.oFlexController};this._oVariantSwitchPromise=this._oVariantSwitchPromise.then(p.waitForInitialVariantChanges.bind(undefined,n))};P.prototype.waitForVMControlInit=function(e){if(!this.oData[e]){this.oData[e]={}}else if(this.oData[e].init){return Promise.resolve()}this.oData[e].initPromise={};this.oData[e].initPromise.promise=new Promise(function(t){this.oData[e].initPromise.resolveFunction=t}.bind(this));return this.oData[e].initPromise.promise};P.prototype._getDirtyChangesFromVariantChanges=function(e){var t=e.map(function(e){return e.getId()});return this.oChangePersistence.getDirtyChanges().filter(function(e){return n(t,e.getId())&&!e.assignedToVariant})};P.prototype.checkDirtyStateForControlModels=function(e){e.forEach(function(e){var t=this.oData[e];var a=this.getCurrentVariantReference(e);var n=p.getControlChangesForVariant({reference:this.sFlexReference,vmReference:e,vReference:a});var r=this._getDirtyChangesFromVariantChanges(n);t.modified=r.length>0}.bind(this));this.checkUpdate(true)};P.prototype.getCurrentControlVariantIds=function(){return Object.keys(this.oData||{}).reduce(function(e,t){return e.concat([this.oData[t].currentVariant])}.bind(this),[])};P.prototype.getVariantManagementControlIds=function(){var e;return Object.keys(this.oData||{}).reduce(function(t,a){if(this.oAppComponent.byId(a)){e=this.oAppComponent.createId(a)}else{e=a}t.push(e);return t}.bind(this),[])};P.prototype.destroy=function(){p.clearFakedStandardVariants(this.sFlexReference,this.oAppComponent.getId());p.removeUpdateStateListener(this.sFlexReference);y.prototype.destroy.apply(this)};P.prototype.getUShellService=function(e){return C.getUshellContainer()&&x[e]};return P});
/*
 * ! OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/write/_internal/FlexInfoSession", ["sap/ui/fl/apply/_internal/flexState/ManifestUtils"],function(e){"use strict";var n={};var t="sap.ui.fl.info.";function r(e){return t+(e||"true")}n.get=function(t){var r=e.getFlexReferenceForControl(t);return n.getByReference(r)};n.getByReference=function(e){return JSON.parse(window.sessionStorage.getItem(r(e)))};n.set=function(t,r){var o=e.getFlexReferenceForControl(r);n.setByReference(t,o)};n.setByReference=function(e,n){window.sessionStorage.setItem(r(n),JSON.stringify(e))};n.remove=function(n){var t=e.getFlexReferenceForControl(n);window.sessionStorage.removeItem(r(t))};return n});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/write/_internal/Storage", ["sap/ui/fl/initial/_internal/StorageUtils","sap/ui/fl/write/_internal/StorageFeaturesMerger","sap/ui/fl/apply/_internal/flexObjects/States","sap/base/util/ObjectPath"],function(e,t,n,r){"use strict";var i="sap/ui/fl/write/_internal/connectors/";function a(){return e.getConnectors(i,false)}function o(e,t){var n=t.filter(function(t){return t.layers.indexOf("ALL")!==-1||t.layers.indexOf(e)!==-1});if(n.length===1){return n[0]}if(n.length===0){throw new Error("No Connector configuration could be found to write into layer: "+e)}if(n.length>1){throw new Error("sap.ui.core.Configuration 'flexibilityServices' has a misconfiguration: Multiple Connector configurations were found to write into layer: "+e)}}function u(t){var n=t.map(function(t){return t.writeConnectorModule.loadFeatures({url:t.url}).then(function(e){return{features:e,layers:t.layers}}).catch(e.logAndResolveDefault.bind(null,{features:{},layers:t.layers},t,"loadFeatures"))});return Promise.all(n)}function s(e){if(!e){return Promise.reject("No layer was provided")}return a().then(o.bind(this,e))}function d(e){if(e.draft){return new Promise(function(t,n){sap.ui.require(["sap/ui/fl/write/api/FeaturesAPI"],function(r){r.isVersioningEnabled(e.layer).then(function(r){if(r){t()}else{n("Draft is not supported for the given layer: "+e.layer)}})})})}return Promise.resolve()}function l(e,t){var r=t.filter(function(t){return t.getState()===n.NEW&&t.getFileType()===e.getFileType()});var i=r.findIndex(function(t){return t.getId()===e.getId()});return i}function c(e){var t;if(e.allChanges&&e.allChanges.length&&e.condensedChanges){t={namespace:e.allChanges[0].convertToFileContent().namespace,layer:e.layer};var r=0;var i=false;e.allChanges.forEach(function(a,o){var u=a.getFileType();if(u==="ctrl_variant"){return}var s=l(a,e.condensedChanges);if(a.condenserState){var d=false;if(a.condenserState==="delete"){if(a.getState()===n.PERSISTED){if(!t.delete){t.delete={}}if(!t.delete[u]){t.delete[u]=[]}t.delete[u].push(a.getId())}r++}else if(e.condensedChanges.length){d=e.allChanges[o].getId()!==e.condensedChanges[o-r].getId()}if((a.condenserState==="select"&&a.getState()!==n.NEW||a.condenserState==="update")&&d&&!i){var c=e.condensedChanges.slice(o-r).map(function(e){return e.getId()});if(!t.reorder){t.reorder={}}if(!t.reorder[u]){t.reorder[u]=[]}t.reorder[u]=c;i=true}if(a.condenserState==="select"&&a.getState()===n.NEW){if(!t.create){t.create={}}if(!t.create[u]){t.create[u]=[]}t.create[u][s]={};t.create[u][s][a.getId()]=a.convertToFileContent()}else if(a.condenserState==="update"){if(!t.update){t.update={}}if(!t.update[u]){t.update[u]=[]}var f=t.update[u].length;t.update[u][f]={};t.update[u][f][a.getId()]={content:a.getContent()}}delete a.condenserState}else if(a.getState()===n.NEW){if(!t.create){t.create={}}if(!t.create[u]){t.create[u]=[]}t.create[u][s]={};t.create[u][s][a.getId()]=a.convertToFileContent()}})}return t}function f(e,t){return d(t).then(s.bind(undefined,t.layer)).then(function(n){t.url=n.url;var i=r.get(e,n.writeConnectorModule);return i.call(n.writeConnectorModule,t)})}var g={};g.write=function(e){return f("write",e)};g.condense=function(e){var t=c(e);if(!t){return Promise.reject("No changes were provided")}if(t.create||t.reorder||t.update||t.delete){e.flexObjects=t;return f("condense",e)}return Promise.resolve()};g.remove=function(e){return f("remove",e)};g.update=function(e){return f("update",e)};g.reset=function(e){return f("reset",e)};g.getFlexInfo=function(e){return f("getFlexInfo",e)};g.getContexts=function(e){return f("getContexts",e)};g.loadContextDescriptions=function(e){return f("loadContextDescriptions",e)};g.isContextSharingEnabled=function(e){return f("isContextSharingEnabled",e)};g.loadFeatures=function(){return a().then(u).then(t.mergeResults)};g.publish=function(e){return f("publish",e)};g.contextBasedAdaptation={create:function(e){return a().then(f.bind(undefined,"contextBasedAdaptation.create",e))}};g.versions={load:function(e){return a().then(f.bind(undefined,"versions.load",e))},activate:function(e){return a().then(f.bind(undefined,"versions.activate",e))},discardDraft:function(e){return a().then(f.bind(undefined,"versions.discardDraft",e))},publish:function(e){return a().then(f.bind(undefined,"versions.publish",e))}};g.translation={getSourceLanguages:function(e){return a().then(f.bind(undefined,"translation.getSourceLanguages",e))},getTexts:function(e){return a().then(f.bind(undefined,"translation.getTexts",e))},postTranslationTexts:function(e){return a().then(f.bind(undefined,"translation.postTranslationTexts",e))}};return g});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/write/_internal/StorageFeaturesMerger", ["sap/base/util/merge"],function(e){"use strict";var n={isKeyUser:false,isKeyUserTranslationEnabled:false,isVariantSharingEnabled:false,isPublicFlVariantEnabled:false,isVariantPersonalizationEnabled:true,isContextSharingEnabled:true,isContextSharingEnabledForComp:true,isAtoAvailable:false,isAtoEnabled:false,versioning:{},isProductiveSystem:true,isPublicLayerAvailable:false,isLocalResetEnabled:false,isZeroDowntimeUpgradeRunning:false,system:"",client:""};function i(e){var n={};var i=!!e.features.isVersioningEnabled;e.layers.forEach(function(e){n[e]=i});return n}return{mergeResults:function(a){var s=n;a.forEach(function(n){Object.keys(n.features).forEach(function(e){if(e!=="isVersioningEnabled"){s[e]=n.features[e]}});s.versioning=e(s.versioning,i(n));if(n.isContextSharingEnabled!==undefined&&n.isContextSharingEnabledForComp===undefined){s.isContextSharingEnabled=n.isContextSharingEnabled;s.isContextSharingEnabledForComp=n.isContextSharingEnabled}});return s}}});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/write/_internal/Versions", ["sap/ui/fl/registry/Settings","sap/ui/fl/ChangePersistenceFactory","sap/ui/fl/write/_internal/Storage","sap/ui/fl/Utils","sap/ui/fl/write/api/Version","sap/ui/model/json/JSONModel","sap/ui/model/BindingMode"],function(e,r,t,n,i,s,a){"use strict";var o={};var f=9;var l=f+1;function d(e,r){var t=v(r);var o=[];var l=i.Number.Original;var d=false;return n.getUShellService("URLParsing").then(function(u){var c=n.getParameter(i.UrlParameter,u);if(!c){if(r.length>0){c=r[0].version}else{c=i.Number.Original}}r.forEach(function(e){if(e.version===i.Number.Draft){e.type=i.Type.Draft;e.isPublished=false;o=e.filenames}else{if(l===i.Number.Original){e.type=i.Type.Active;l=e.version}else{e.type=i.Type.Inactive}if(e.version===c&&e.isPublished===false){d=true}}});var p=new s({publishVersionEnabled:d,versioningEnabled:e,versions:r,activeVersion:l,backendDraft:t,dirtyChanges:false,draftAvailable:t,activateEnabled:t,persistedVersion:c,displayedVersion:c,draftFilenames:o});p.setDefaultBindingMode(a.OneWay);p.setSizeLimit(f);p.setDirtyChanges=function(e){p.setProperty("/dirtyChanges",e);p.updateDraftVersion();p.updateBindings(true)};p.updateDraftVersion=function(){var e=p.getProperty("/versions");var r=p.getProperty("/versioningEnabled");var t=p.getProperty("/dirtyChanges");var n=p.getProperty("/backendDraft");var s=r&&(t||n);p.setProperty("/draftAvailable",s);if(t){p.setProperty("/displayedVersion",i.Number.Draft)}if(!v(e)&&s){e.splice(0,0,{version:i.Number.Draft,type:i.Type.Draft,filenames:[],isPublished:false})}if(v(e)&&!s){e.shift();p.setProperty("/displayedVersion",p.getProperty("/persistedVersion"))}var a=p.getProperty("/displayedVersion")!==p.getProperty("/activeVersion");p.setProperty("/activateEnabled",a)};return p})}function u(e,r){var t=[];var n=r.changePersistences;n.forEach(function(e){t=e.getDirtyChanges().concat();t.forEach(function(r){e.deleteChange(r,true)})});return t.length>0}function c(e){var t={dirtyChangesExist:false,changePersistences:[]};if(e.reference){var n=r.getChangePersistenceForComponent(e.reference);if(n.getDirtyChanges().length>0){t.dirtyChangesExist=true;t.changePersistences.push(n)}}if(e.nonNormalizedReference){var i=r.getChangePersistenceForComponent(e.nonNormalizedReference);if(i.getDirtyChanges().length>0){t.dirtyChangesExist=true;t.changePersistences.push(i)}}return t}function v(e){return e.some(function(e){return e.version===i.Number.Draft})}var p={};p.initialize=function(r){var n=r.reference;var i=r.layer;r.limit=l;return e.getInstance().then(function(e){var s=e.isVersioningEnabled(i);var a=s?t.versions.load(r):Promise.resolve([]);return a.then(function(e){return d(s,e)}).then(function(e){o[n]=o[n]||{};o[n][i]=o[n][i]||{};o[n][i]=e;return o[n][i]})})};p.getVersionsModel=function(e){var r=e.reference;var t=e.layer;if(!p.hasVersionsModel(e)){throw Error("Versions Model for reference '"+r+"' and layer '"+t+"' were not initialized.")}var n=c(e);if(n.dirtyChangesExist){o[r][t].updateDraftVersion(e)}return o[r][t]};p.hasVersionsModel=function(e){var r=e.reference;var t=e.layer;return o[r]&&o[r][t]};p.clearInstances=function(){o={}};p.onAllChangesSaved=function(e){e.reference=n.normalizeReference(e.reference);var r=p.getVersionsModel(e);var t=r.getProperty("/versioningEnabled");var i=r.getProperty("/dirtyChanges");r.setProperty("/dirtyChanges",true);r.setProperty("/backendDraft",t&&i);r.updateDraftVersion()};p.activate=function(e){var r=p.getVersionsModel(e);var n=r.getProperty("/versions");var s=v(n);var a=r.getProperty("/activeVersion");if(e.displayedVersion===a){return Promise.reject("Version is already active")}e.version=e.displayedVersion;var o=c(e);var f=o.changePersistences;var l=f.some(function(e){return e.getDirtyChanges().length>0});if(l){return Promise.reject("unsaved changes exists")}return t.versions.activate(e).then(function(e){n.forEach(function(e){e.type=i.Type.Inactive});e.type=i.Type.Active;e.isPublished=false;if(s){n.shift()}n.splice(0,0,e);r.setProperty("/publishVersionEnabled",true);r.setProperty("/backendDraft",false);r.setProperty("/dirtyChanges",false);r.setProperty("/draftAvailable",false);r.setProperty("/publishVersionEnabled",true);r.setProperty("/activateEnabled",false);r.setProperty("/activeVersion",e.version);r.setProperty("/displayedVersion",e.version);r.setProperty("/persistedVersion",e.version);r.updateBindings(true)})};p.discardDraft=function(e){var r=p.getVersionsModel(e);var n=r.getProperty("/versions");var i=c(e);var s=r.getProperty("/backendDraft");var a=s?t.versions.discardDraft(e):Promise.resolve();return a.then(function(){n.shift();r.setProperty("/backendDraft",false);r.setProperty("/dirtyChanges",false);r.setProperty("/draftAvailable",false);r.setProperty("/activateEnabled",false);r.setProperty("/displayedVersion",r.getProperty("/persistedVersion"));r.updateBindings(true);var t=u(e,i);return{backendChangesDiscarded:s,dirtyChangesDiscarded:t}})};p.publish=function(e){var r=p.getVersionsModel({reference:n.normalizeReference(e.reference),layer:e.layer});return t.versions.publish(e).then(function(t){if(t!=="Error"&&t!=="Cancel"){r.setProperty("/publishVersionEnabled",false);var n=r.getProperty("/versions");var i=false;n.forEach(function(r){if(r.isPublished){return}if(r.version===e.version){i=true}if(i&&!r.isPublished){r.isPublished=true}})}return t})};return p});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/write/_internal/condenser/Condenser", ["sap/base/util/each","sap/base/util/isPlainObject","sap/base/util/ObjectPath","sap/base/Log","sap/ui/core/util/reflection/JsControlTreeModifier","sap/ui/core/Core","sap/ui/fl/changeHandler/condenser/Classification","sap/ui/fl/apply/_internal/changes/Utils","sap/ui/fl/write/_internal/condenser/classifications/LastOneWins","sap/ui/fl/write/_internal/condenser/classifications/Reverse","sap/ui/fl/write/_internal/condenser/classifications/Update","sap/ui/fl/write/_internal/condenser/UIReconstruction","sap/ui/fl/write/_internal/condenser/Utils","sap/ui/fl/Change","sap/ui/fl/Utils","sap/ui/performance/Measurement","sap/base/util/restricted/_isEqual"],function(e,n,t,r,a,i,o,s,f,c,u,d,l,p,g,h,C){"use strict";var v={};var E="unclassified";var S={lastOneWins:f,reverse:c,update:u};var y=["affectedControl","sourceContainer","targetContainer","updateControl"];function I(e,n){var t=e[o.Move];return n.classification===o.Create&&t&&t[t.length-1].targetContainer===n.targetContainer}function _(e,n){return n.classification===o.Move&&e[o.Destroy]}function m(e,n){return n.classification===o.Create&&e[o.Destroy]}function O(e,n,t,r){if(!_(e,t)&&!m(e,t)){var a=t.classification;if(!e[a]){t.change=r;r.condenserState="select";e[a]=[t]}else{r.condenserState="delete"}e[a][0].updateChange=r}if(I(e,t)||m(e,t)){if(e[o.Move]){e[o.Move].forEach(function(e){e.change.condenserState="delete"});delete e[o.Move]}if(e[o.Destroy]){e[o.Destroy].forEach(function(e){e.change.condenserState="delete"});delete e[o.Destroy]}}return d.addChange(n,t)}function N(e,n,t){if(!e[n.classification]){e[n.classification]={}}var r=e[n.classification];S[n.classification].addToChangesMap(r,n,t);return Promise.resolve()}function T(e,n,t,r,a){if(!e[r.type]){e[r.type]={}}var i=e[r.type];if(r.type===l.NOT_INDEX_RELEVANT){return N(i,r,a)}t.push(a);return O(i,n,r,a)}function b(e,n,t){if(!e[n]){e[n]=[]}e[n].push(t);t.condenserState="select"}function A(e,n){var t=a.getControlIdBySelector(n.getSelector(),e);var r=i.byId(t);if(r){var o={modifier:a,appComponent:e,view:g.getViewForControl(r)};var f=s.getControlIfTemplateAffected(n,r,o);return Promise.resolve(s.getChangeHandler(n,f,o)).then(function(e){if(e&&typeof e.getCondenserInfo==="function"){return e.getCondenserInfo(n,o)}return undefined}).then(function(e){if(e&&f.bTemplateAffected){M(e,n)}return e}).catch(function(){return undefined})}return Promise.resolve()}function M(e,n){var t=n.getOriginalSelector();var r=n.getSelector();y.forEach(function(n){if(e[n]&&e[n]===r){e[n]=t}})}function x(e,n,t,r){var i=n!==undefined?n.affectedControl:a.getControlIdBySelector(t.getSelector(),r);if(!e[i]){e[i]={}}if(n&&n.updateControl){var o=n.updateControl;e[i]=Object.assign(e[i],e[o]);delete e[o]}return e[i]}function D(e,n,t,r,a){return a.reduce(function(a,i){return a.then(R.bind(this,e,n,t,r,i))}.bind(this),Promise.resolve())}function R(e,n,t,r,a){return A(e,a).then(function(i){P(i,e);var o=x(n,i,a,e);if(i!==undefined){w(i);return T(o,t,r,i,a).then(function(){if(i.update){U(o,i,a)}})}b(o,E,a);n[E]=true;return undefined})}function w(e){if(S[e.classification]){e.type=l.NOT_INDEX_RELEVANT}else{e.type=l.INDEX_RELEVANT}}function P(e,n){y.forEach(function(t){if(e&&e[t]){e[t]=a.getControlIdBySelector(e[t],n)}})}function U(e,n,r){var a=t.get([l.NOT_INDEX_RELEVANT,o.Update,n.uniqueKey],e);if(a){a.change.condenserState="delete";if(r.condenserState==="delete"){return}n.update(r,a.updateContent);if(r.getState()===p.states.PERSISTED){r.condenserState="update"}}}function L(t,r){e(t,function(e,a){if(S[e]&&S[e].getChangesFromMap){S[e].getChangesFromMap(t,e).forEach(function(e){r.push(e)})}else if(n(a)){return L(a,r)}else if(Array.isArray(a)){a.forEach(function(e){if(e instanceof p){r.push(e)}else{r.push(e.change)}})}});return r}function V(e){return L(e,[])}function X(t,r){e(t,function(e,t){if(n(t)){X(t,r)}else if(Array.isArray(t)){t.forEach(function(e){if(!(e instanceof p)){r.push(e)}})}});return r}function j(e,n){n.sort(function(n,t){return e.indexOf(n)-e.indexOf(t)})}function B(e,n){n.sort(function(n,t){return e.indexOf(n.change)-e.indexOf(t.change)})}function F(e,n){var t=e.map(function(e){return e.getId()});n.forEach(function(n){if(t.indexOf(n.getId())===-1){e.push(n)}})}function W(e,n){e.forEach(function(e){var t=e.updateChange;if(t&&!C(t.getContent(),e.change.getContent())&&t.getState()!==p.states.NEW){var r=e.change;if(t.getId()!==r.getId()){var a=r.getContent();t.setContent(a);r.condenserState="delete";n=n.map(function(e){if(e.getId()===r.getId()){return t}return e})}else{t.setState(p.states.DIRTY)}t.condenserState="update"}});return n}v.condense=function(e,n){h.start("Condenser_overall","Condenser overall - CondenserClass",["sap.ui.fl","Condenser"]);var t={};var a={};var i=[];var o=[];var s=[];n.slice(0).reverse().forEach(function(e){if(e instanceof p&&e.isSuccessfullyApplied()){s.push(e)}else{o.push(e)}});h.start("Condenser_defineMaps","defining of maps - CondenserClass",["sap.ui.fl","Condenser"]);return D(e,t,a,i,s).then(function(){h.end("Condenser_defineMaps");var e=t[E];if(!e){d.compareAndUpdate(t,a)}var s=V(t);if(e){i.forEach(function(e){e.condenserState="select"});F(s,i)}s=s.concat(o);j(n,s);if(!e){h.start("Condenser_handleIndexRelatedChanges","handle index related changes - CondenserClass",["sap.ui.fl","Condenser"]);var f=true;var c=X(t,[]);B(n,c);var u;try{h.start("Condenser_sort","sort index related changes - CondenserClass",["sap.ui.fl","Condenser"]);u=d.sortIndexRelatedChanges(a,c)}catch(e){r.error("Error during Condensing: "+e.message,"No Condensing performed for index-relevant changes.");f=false}h.end("Condenser_sort");if(f){s=W(c,s);j(n,s);u.forEach(function(e){d.swapChanges(e,s)})}else{i.forEach(function(e){e.condenserState="select"});F(s,i);j(n,s)}h.end("Condenser_handleIndexRelatedChanges")}h.end("Condenser_overall");return s})};return v});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/write/_internal/condenser/UIReconstruction", ["sap/base/util/restricted/_isEqual","sap/base/util/each","sap/ui/fl/changeHandler/condenser/Classification","sap/ui/fl/write/_internal/condenser/classifications/Create","sap/ui/fl/write/_internal/condenser/classifications/Destroy","sap/ui/fl/write/_internal/condenser/classifications/Move","sap/ui/fl/write/_internal/condenser/Utils"],function(n,e,t,i,r,a,f){"use strict";var o={};var c={create:i,destroy:r,move:a};function u(n,t){e(n,function(n,i){e(i,function(e,r){t(i,n,r,e)})})}function s(n,e,t){n.splice(t,0,n.splice(e,1)[0])}function l(n,e){var t={};u(n,function(n,i,r,a){var o=r[f.TARGET_UI];o.forEach(function(n){e.forEach(function(e){if(n===e.affectedControl){if(!t[i]){t[i]={}}var r=t[i];if(!r[a]){r[a]=[]}var f=r[a];f.push(e)}})})});return t}function h(n){return!n.some(function(n){return n.classification!==t.Create})}function v(n){return!n.some(function(n){return f.isUnknown(n)})}function d(n){return n.getTargetIndex(n.change)}function E(n){n.sort(function(n,e){var t=d(n);var i=d(e);return t-i})}function g(n){return!n.some(function(n){return!f.isUnknown(n)})}function I(e,t){var i;if(e.length<t.length){i=t.slice(e.length);if(!g(i)){return false}t=t.slice(0,e.length)}else if(e.length>t.length){i=e.slice(t.length,e.length);if(!g(i)){return false}e=e.slice(0,t.length)}return n(e,t)}function T(n,e,t,i,r){var a={};r.forEach(function(n){var i=n.targetContainer;if(!a[i]){a[i]={}}var r=a[i];if(!r[e]){r[e]=f.initializeArrayWithPlaceholders(0,t.length-1)}c[n.classification].simulate(r[e],n,t)});var o=a[n][e];if(I(i,o)){return true}return false}function p(n,i){function r(n,e){e.setTargetIndex(e.change,n)}function a(i,a,o){o[f.TARGET_UI].forEach(function(i,a){if(!f.isUnknown(i)){var o=n[i];var c=o[f.INDEX_RELEVANT];e(c,function(n,e){if(n!==t.Destroy){e.forEach(r.bind(this,a))}})}})}u(i,a)}function _(n,t){u(t,function(t,i,r,a){var o=r[f.INITIAL_UI];var c=r[f.TARGET_UI];if(I(o,c)){c.forEach(function(t){var i=n[t];if(i!==undefined){e(i[f.INDEX_RELEVANT],function(n,e){e.forEach(function(n){n.change.condenserState="delete"})});delete i[f.INDEX_RELEVANT]}});delete t[a]}})}function A(n,e){u(e,function(e,t,i){var r=i[f.INITIAL_UI];var a=i[f.TARGET_UI];r.forEach(function(e,t){var i=n[e];if(!i||!i[f.INDEX_RELEVANT]){var r=f.PLACEHOLDER+t;var o=a.indexOf(e);if(o>=0){a[o]=r}}})})}o.swapChanges=function(n,e){var t=n.map(function(n){return e.indexOf(n)}).sort();n.forEach(function(n){e[t.shift()]=n})};o.sortIndexRelatedChanges=function(n,e){var t=[];var i=l(n,e);u(i,function(e,i,r,a){var o=n[i][a][f.TARGET_UI];var c=n[i][a][f.INITIAL_UI];var u=true;if(v(o)||h(r)){E(r)}else if(!T(i,a,c,o,r)){u=false;var l=r.length;while(l!==0&&!u){var d=0;var g=1;while(g<r.length&&!u){s(r,d,g);u=T(i,a,c,o,r);d++;g++}l--}}if(!u){throw Error("no correct sorting found for the container: "+i)}t.push(r.map(function(n){return n.change}))});return t};o.addChange=function(n,e){return c[e.classification].addToReconstructionMap(n,e)};o.compareAndUpdate=function(n,e){_(n,e);A(n,e);p(n,e)};return o});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/write/_internal/condenser/Utils", ["sap/ui/core/util/reflection/JsControlTreeModifier","sap/ui/core/Core"],function(e,n){"use strict";var i={};i.TARGET_UI="targetUI";i.INITIAL_UI="initialUI";i.PLACEHOLDER="X";i.INDEX_RELEVANT="indexRelevant";i.NOT_INDEX_RELEVANT="notIndexRelevant";function t(e,n){return(Math.max(e,n)||0)+1}i.getInitialUIContainerElementIds=function(e,n,t,r){if(!e[n]){e[n]={}}var a=e[n];if(!a[t]){a[t]={}}var f=a[t];if(!f[i.TARGET_UI]){f[i.TARGET_UI]=r}if(!f[i.INITIAL_UI]){f[i.INITIAL_UI]=r.slice(0)}return f[i.INITIAL_UI]};i.getContainerElementIds=function(i,t){var r=n.byId(i);return Promise.resolve().then(e.getAggregation.bind(e,r,t)).then(function(e){return e.map(function(e){return e.getId()})})};i.initializeArrayWithPlaceholders=function(e,n){var r=t(n,e);return Array(r).fill(i.PLACEHOLDER).map(function(e,n){return e+n})};i.extendArrayWithPlaceholders=function(e,n,r){var a=t(n,r);if(e.length<a){var f;for(var l=e.length;l<=a;l++){f=i.PLACEHOLDER+e.length;e.splice(e.length,0,f)}}};i.extendElementsArray=function(e,n,t,r){i.extendArrayWithPlaceholders(e,n,t);var a=e.indexOf(r);var f=e.indexOf(i.PLACEHOLDER+n);if(a!==n&&n!==undefined){if(a>=0){i.shiftElement(e,a,n)}else if(f>-1){e[f]=r}else if(i.isUnknown(e[n])){e[n]=r}}};i.shiftElement=function(e,n,i){e.splice(i,0,e.splice(n,1)[0])};i.isUnknown=function(e){if(e!==undefined&&e.indexOf(i.PLACEHOLDER)===0){var n=e.slice(1,e.length);var t=parseInt(n);if(isNaN(t)){return false}return true}return false};return i});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/write/_internal/condenser/classifications/Create", ["sap/ui/core/Core","sap/ui/fl/write/_internal/condenser/Utils"],function(e,t){"use strict";return{addToReconstructionMap:function(n,r){var a=e.byId(r.affectedControl);var i=r.targetAggregation||a&&a.sParentAggregationName;return t.getContainerElementIds(r.targetContainer,i).then(function(e){var a=t.getInitialUIContainerElementIds(n,r.targetContainer,r.targetAggregation,e);var i=a.indexOf(r.affectedControl);if(i>-1){a.splice(i,1)}})},simulate:function(e,t){e.splice(t.getTargetIndex(t.change),0,t.affectedControl)}}});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/write/_internal/condenser/classifications/Destroy", ["sap/ui/fl/write/_internal/condenser/Utils"],function(e){"use strict";return{addToReconstructionMap:function(n,t){return e.getContainerElementIds(t.targetContainer,t.targetAggregation).then(function(i){var r=e.getInitialUIContainerElementIds(n,t.targetContainer,t.targetAggregation,i);if(r.length-1<t.sourceIndex){while(r.length-1<t.sourceIndex){var o=r.length;r.splice(r.length,0,e.PLACEHOLDER+o)}r[t.sourceIndex]=t.affectedControl}else{r.splice(t.sourceIndex,0,t.affectedControl)}})},simulate:function(n,t,i){var r=n.indexOf(t.affectedControl);if(r===-1){var o=e.PLACEHOLDER+i.indexOf(t.affectedControl);r=n.indexOf(o)}if(r>-1){n.splice(r,1)}}}});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/write/_internal/condenser/classifications/LastOneWins", [],function(){"use strict";return{addToChangesMap:function(e,n,t){if(!e[n.uniqueKey]){e[n.uniqueKey]=[t];t.condenserState="select"}else{t.condenserState="delete"}}}});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/write/_internal/condenser/classifications/Move", ["sap/ui/fl/write/_internal/condenser/Utils"],function(e){"use strict";return{addToReconstructionMap:function(t,n){return Promise.all([e.getContainerElementIds(n.sourceContainer,n.sourceAggregation),e.getContainerElementIds(n.targetContainer,n.targetAggregation)]).then(function(r){var a=r[0];var i=r[1];var o;var g;if(n.targetContainer===n.sourceContainer&&n.targetAggregation===n.sourceAggregation){o=e.getInitialUIContainerElementIds(t,n.targetContainer,n.targetAggregation,i);g=o.indexOf(n.affectedControl);e.shiftElement(o,g,n.sourceIndex)}else{o=e.getInitialUIContainerElementIds(t,n.targetContainer,n.targetAggregation,i);g=o.indexOf(n.affectedControl);o.splice(g,1);o=e.getInitialUIContainerElementIds(t,n.sourceContainer,n.sourceAggregation,a);o.splice(n.sourceIndex,0,n.affectedControl)}})},simulate:function(t,n,r){var a=n.affectedControl;var i=r.indexOf(a);e.extendElementsArray(t,i,undefined,a);var o=t.indexOf(a);var g=n.getTargetIndex(n.change);if(i===-1){t.splice(g,0,a)}else{t.splice(g,0,t.splice(o,1)[0])}}}});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/write/_internal/condenser/classifications/Reverse", ["sap/base/util/each"],function(e){"use strict";return{addToChangesMap:function(e,n,t){if(!e[n.uniqueKey]){e[n.uniqueKey]=[]}e[n.uniqueKey].push(t)},getChangesFromMap:function(n,t){var u=[];e(n[t],function(e,n){n.reverse();var t;n.forEach(function(e,u){if(t&&t.getChangeType()!==e.getChangeType()){t=null;n[u].condenserState="delete";n[u-1].condenserState="delete"}else{t=e;if(u>0){n[u-1].condenserState="delete"}n[u].condenserState="select"}});if(t){u.push(t)}});return u}}});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/write/_internal/condenser/classifications/Update", [],function(){"use strict";return{addToChangesMap:function(e,n,t){if(!e[n.uniqueKey]){n.change=t;e[n.uniqueKey]=n;t.condenserState="select"}else{t.condenserState="delete"}}}});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/write/api/FeaturesAPI", ["sap/ui/fl/registry/Settings","sap/ui/fl/Layer"],function(n,e){"use strict";var t={isPublishAvailable:function(){return n.getInstance().then(function(n){return!n.isProductiveSystem()&&n.isSystemWithTransports()})},isSaveAsAvailable:function(t){return n.getInstance().then(function(n){if(n.isAppVariantSaveAsEnabled()&&t===e.CUSTOMER&&sap.ushell_abap){return true}return false})},isContextBasedAdaptationAvailable:function(t){return n.getInstance().then(function(n){if(n.isContextBasedAdaptationEnabled()&&t===e.CUSTOMER){return true}return false})},isKeyUser:function(){return n.getInstance().then(function(n){return n.isKeyUser()})},isVersioningEnabled:function(e){return n.getInstance().then(function(n){return n.isVersioningEnabled(e)})},isKeyUserTranslationEnabled:function(t){if(t===e.CUSTOMER){return n.getInstance().then(function(n){return n.isKeyUserTranslationEnabled()})}return Promise.resolve(false)},isContextSharingEnabled:function(t){if(t!==e.CUSTOMER){return Promise.resolve(false)}return n.getInstance().then(function(n){return n.isContextSharingEnabled({layer:t})})}};return t});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/fl/write/api/Version", [],function(){"use strict";return{Number:{Original:"-1",Draft:"0"},UrlParameter:"sap-ui-fl-version",Type:{Active:"active",Draft:"draft",Inactive:"inactive"}}});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/layout/Grid", ["sap/ui/core/Control","./library","sap/ui/Device","sap/ui/core/ResizeHandler","sap/ui/base/ManagedObjectObserver","./GridRenderer","sap/ui/thirdparty/jquery"],function(e,t,i,s,a,n,jQuery){"use strict";var o=e.extend("sap.ui.layout.Grid",{metadata:{library:"sap.ui.layout",properties:{width:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:"100%"},vSpacing:{type:"float",group:"Dimension",defaultValue:1},hSpacing:{type:"float",group:"Dimension",defaultValue:1},position:{type:"sap.ui.layout.GridPosition",group:"Dimension",defaultValue:"Left"},defaultSpan:{type:"sap.ui.layout.GridSpan",group:"Behavior",defaultValue:"XL3 L3 M6 S12"},defaultIndent:{type:"sap.ui.layout.GridIndent",group:"Behavior",defaultValue:"XL0 L0 M0 S0"},containerQuery:{type:"boolean",group:"Behavior",defaultValue:false}},defaultAggregation:"content",aggregations:{content:{type:"sap.ui.core.Control",multiple:true,singularName:"content"}},associations:{ariaLabelledBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"}},designtime:"sap/ui/layout/designtime/Grid.designtime"},renderer:n});(function(){o.prototype.init=function(){var e=t.GridHelper.getLibrarySpecificClass();if(e){this.addStyleClass(e)}this._iBreakPointTablet=i.media._predefinedRangeSets[i.media.RANGESETS.SAP_STANDARD_EXTENDED].points[0];this._iBreakPointDesktop=i.media._predefinedRangeSets[i.media.RANGESETS.SAP_STANDARD_EXTENDED].points[1];this._iBreakPointLargeDesktop=i.media._predefinedRangeSets[i.media.RANGESETS.SAP_STANDARD_EXTENDED].points[2];this._indentXLChanged=false;this._spanXLChanged=false;this._oObserver=new a(o.prototype._observeChanges.bind(this));this._oObserver.observe(this,{aggregations:["content"]})};o.prototype.onAfterRendering=function(){if(this.getContainerQuery()){this._sContainerResizeListener=s.register(this,jQuery.proxy(this._onParentResize,this));this._onParentResize()}else{this._attachMediaContainerWidthChange(this._handleMediaChange,this,i.media.RANGESETS.SAP_STANDARD_EXTENDED)}};o.prototype.onBeforeRendering=function(){this._cleanup()};o.prototype.exit=function(){this._cleanup();if(this._oObserver){this._oObserver.disconnect();this._oObserver=null}};o.prototype._cleanup=function(){if(this._sContainerResizeListener){s.deregister(this._sContainerResizeListener);this._sContainerResizeListener=null}this._detachMediaContainerWidthChange(this._handleMediaChange,this,i.media.RANGESETS.SAP_STANDARD_EXTENDED)};o.prototype._observeVisibility=function(e){this._oObserver.observe(e,{properties:["visible"]})};o.prototype._unobserveVisibility=function(e){this._oObserver.unobserve(e,{properties:["visible"]})};o.prototype._observeChanges=function(e){var t=e.object,i=e.name,s=e.mutation,a=e.child;if(t===this){if(s==="insert"){this._observeVisibility(a)}else if(s==="remove"){this._unobserveVisibility(a)}}else if(i==="visible"){var n=this.getContent().indexOf(t);jQuery(this.$().children()[n]).toggleClass("sapUiRespGridSpanInvisible",!e.current)}};o.prototype._handleMediaChange=function(e){this._toggleClass(e.name)};o.prototype._setBreakPointTablet=function(e){this._iBreakPointTablet=e};o.prototype._setBreakPointDesktop=function(e){this._iBreakPointDesktop=e};o.prototype._setBreakPointLargeDesktop=function(e){this._iBreakPointLargeDesktop=e};o.prototype.setDefaultIndent=function(e){if(/XL/gi.test(e)){this._setIndentXLChanged(true)}return this.setProperty("defaultIndent",e)};o.prototype._setIndentXLChanged=function(e){this._indentXLChanged=e};o.prototype._getIndentXLChanged=function(){return this._indentXLChanged};o.prototype.setDefaultSpan=function(e){if(/XL/gi.test(e)){this._setSpanXLChanged(true)}return this.setProperty("defaultSpan",e)};o.prototype._setSpanXLChanged=function(e){this._spanXLChanged=e};o.prototype._getSpanXLChanged=function(){return this._spanXLChanged};o.prototype._onParentResize=function(){var e=this.getDomRef();if(!e){this._cleanup();return}if(!jQuery(e).is(":visible")){return}var t=e.clientWidth;if(t<=this._iBreakPointTablet){this._toggleClass("Phone")}else if(t>this._iBreakPointTablet&&t<=this._iBreakPointDesktop){this._toggleClass("Tablet")}else if(t>this._iBreakPointDesktop&&t<=this._iBreakPointLargeDesktop){this._toggleClass("Desktop")}else{this._toggleClass("LargeDesktop")}};o.prototype._toggleClass=function(e){var t=this.$();if(!t){return}if(t.hasClass("sapUiRespGridMedia-Std-"+e)){return}t.toggleClass("sapUiRespGridMedia-Std-"+e,true);if(e==="Phone"){t.toggleClass("sapUiRespGridMedia-Std-Desktop",false).toggleClass("sapUiRespGridMedia-Std-Tablet",false).toggleClass("sapUiRespGridMedia-Std-LargeDesktop",false)}else if(e==="Tablet"){t.toggleClass("sapUiRespGridMedia-Std-Desktop",false).toggleClass("sapUiRespGridMedia-Std-Phone",false).toggleClass("sapUiRespGridMedia-Std-LargeDesktop",false)}else if(e==="LargeDesktop"){t.toggleClass("sapUiRespGridMedia-Std-Desktop",false).toggleClass("sapUiRespGridMedia-Std-Phone",false).toggleClass("sapUiRespGridMedia-Std-Tablet",false)}else{t.toggleClass("sapUiRespGridMedia-Std-Phone",false).toggleClass("sapUiRespGridMedia-Std-Tablet",false).toggleClass("sapUiRespGridMedia-Std-LargeDesktop",false)}this.fireEvent("mediaChanged",{media:e})};o.prototype._getLayoutDataForControl=function(e){var t=e.getLayoutData();if(!t){return undefined}else if(t.isA("sap.ui.layout.GridData")){return t}else if(t.isA("sap.ui.core.VariantLayoutData")){var i=t.getMultipleLayoutData();for(var s=0;s<i.length;s++){var a=i[s];if(a&&a.isA("sap.ui.layout.GridData")){return a}}}};o.prototype.onLayoutDataChange=function(e){if(this.getDomRef()){this.invalidate()}};o.prototype._getAccessibleRole=function(){return null};o.prototype.getAccessibilityInfo=function(){return{children:this.getContent().filter(function(e){return e.$().is(":visible")})}}})();return o});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/layout/GridData", ["sap/ui/core/LayoutData","./library","sap/base/Log"],function(e,t,n){"use strict";var a=e.extend("sap.ui.layout.GridData",{metadata:{library:"sap.ui.layout",properties:{span:{type:"sap.ui.layout.GridSpan",group:"Behavior",defaultValue:null},spanXL:{type:"int",group:"Behavior",defaultValue:null},spanL:{type:"int",group:"Behavior",defaultValue:null},spanM:{type:"int",group:"Behavior",defaultValue:null},spanS:{type:"int",group:"Behavior",defaultValue:null},indent:{type:"sap.ui.layout.GridIndent",group:"Behavior",defaultValue:null},indentXL:{type:"int",group:"Behavior",defaultValue:null},indentL:{type:"int",group:"Behavior",defaultValue:null},indentM:{type:"int",group:"Behavior",defaultValue:null},indentS:{type:"int",group:"Behavior",defaultValue:null},visibleXL:{type:"boolean",group:"Behavior",defaultValue:true},visibleL:{type:"boolean",group:"Behavior",defaultValue:true},visibleM:{type:"boolean",group:"Behavior",defaultValue:true},visibleS:{type:"boolean",group:"Behavior",defaultValue:true},moveBackwards:{type:"sap.ui.layout.GridIndent",group:"Misc",defaultValue:null},moveForward:{type:"sap.ui.layout.GridIndent",group:"Misc",defaultValue:null},linebreak:{type:"boolean",group:"Misc",defaultValue:false},linebreakXL:{type:"boolean",group:"Misc",defaultValue:false},linebreakL:{type:"boolean",group:"Misc",defaultValue:false},linebreakM:{type:"boolean",group:"Misc",defaultValue:false},linebreakS:{type:"boolean",group:"Misc",defaultValue:false},spanLarge:{type:"int",group:"Behavior",defaultValue:null,deprecated:true},spanMedium:{type:"int",group:"Behavior",defaultValue:null,deprecated:true},spanSmall:{type:"int",group:"Behavior",defaultValue:null,deprecated:true},indentLarge:{type:"int",group:"Behavior",defaultValue:null,deprecated:true},indentMedium:{type:"int",group:"Behavior",defaultValue:null,deprecated:true},indentSmall:{type:"int",group:"Behavior",defaultValue:null,deprecated:true},visibleOnLarge:{type:"boolean",group:"Behavior",defaultValue:true,deprecated:true},visibleOnMedium:{type:"boolean",group:"Behavior",defaultValue:true,deprecated:true},visibleOnSmall:{type:"boolean",group:"Behavior",defaultValue:true,deprecated:true}}}});(function(){a.prototype._setStylesInternal=function(e){if(e&&e.length>0){this._sStylesInternal=e}else{this._sStylesInternal=undefined}};a.prototype._getEffectiveSpanXLarge=function(){var e=this.getSpanXL();if(e&&e>0&&e<13){return e}var t=/XL([1-9]|1[0-2])(?:\s|$)/i;var n=t.exec(this.getSpan());if(n){var a=n[0];if(a){a=a.toUpperCase();if(a.substr(0,2)==="XL"){return parseInt(a.substr(2))}}}return undefined};a.prototype._getEffectiveSpanLarge=function(){var e=this.getSpanL();if(e&&e>0&&e<13){return e}var t=/\bL([1-9]|1[0-2])(?:\s|$)/i;var n=t.exec(this.getSpan());if(n){var a=n[0];if(a){a=a.toUpperCase();if(a.substr(0,1)==="L"){return parseInt(a.substr(1))}}}return undefined};a.prototype._getEffectiveSpanMedium=function(){var e=this.getSpanM();if(e&&e>0&&e<13){return e}var t=/M([1-9]|1[0-2])(?:\s|$)/i;var n=t.exec(this.getSpan());if(n){var a=n[0];if(a){a=a.toUpperCase();if(a.substr(0,1)==="M"){return parseInt(a.substr(1))}}}return undefined};a.prototype._getEffectiveSpanSmall=function(){var e=this.getSpanS();if(e&&e>0&&e<13){return e}var t=/S([1-9]|1[0-2])(?:\s|$)/i;var n=t.exec(this.getSpan());if(n){var a=n[0];if(a){a=a.toUpperCase();if(a.substr(0,1)==="S"){return parseInt(a.substr(1))}}}return undefined};a.prototype.init=function(){this._bLinebreakXLChanged=false};a.prototype.setLinebreakXL=function(e){this.setProperty("linebreakXL",e);this._bLinebreakXLChanged=true;return this};a.prototype._getLinebreakXLChanged=function(){return this._bLinebreakXLChanged};a.prototype.setSpanLarge=function(e){this.setSpanL(e);n.warning("Deprecated property spanLarge is used, please use spanL instead.");return this};a.prototype.setSpanMedium=function(e){n.warning("Deprecated property spanMedium is used, please use spanM instead.");return this.setSpanM(e)};a.prototype.setSpanSmall=function(e){n.warning("Deprecated property spanSmall is used, please use spanS instead.");return this.setSpanS(e)};a.prototype.setIndentLarge=function(e){n.warning("Deprecated property indentLarge is used, please use indentL instead.");return this.setIndentL(e)};a.prototype.setIndentMedium=function(e){n.warning("Deprecated property indentMedium is used, please use indentM instead.");return this.setIndentM(e)};a.prototype.setIndentSmall=function(e){n.warning("Deprecated property indentSmall is used, please use indentS instead.");return this.setIndentS(e)};a.prototype.setVisibleOnLarge=function(e){n.warning("Deprecated property visibleOnLarge is used, please use visibleL instead.");return this.setVisibleL(e)};a.prototype.setVisibleOnMedium=function(e){n.warning("Deprecated property visibleOnMedium is used, please use visibleM instead.");return this.setVisibleM(e)};a.prototype.setVisibleOnSmall=function(e){n.warning("Deprecated property visibleOnSmall is used, please use visibleS instead.");return this.setVisibleS(e)};a.prototype.getSpanLarge=function(){n.warning("Deprecated property spanLarge is used, please use spanL instead.");return this.getSpanL()};a.prototype.getSpanMedium=function(){n.warning("Deprecated property spanMedium is used, please use spanM instead.");return this.getSpanM()};a.prototype.getSpanSmall=function(){n.warning("Deprecated property spanSmall is used, please use spanS instead.");return this.getSpanS()};a.prototype.getIndentLarge=function(){n.warning("Deprecated property indentLarge is used, please use indentL instead.");return this.getIndentL()};a.prototype.getIndentMedium=function(){n.warning("Deprecated property indentMedium is used, please use indentM instead.");return this.getIndentM()};a.prototype.getIndentSmall=function(){n.warning("Deprecated property indentSmall is used, please use indentS instead.");return this.getIndentS()};a.prototype.getVisibleOnLarge=function(){n.warning("Deprecated property visibleOnLarge is used, please use visibleL instead.");return this.getVisibleL()};a.prototype.getVisibleOnMedium=function(){n.warning("Deprecated property visibleOnMedium is used, please use visibleM instead.");return this.getVisibleM()};a.prototype.getVisibleOnSmall=function(){n.warning("Deprecated property visibleOnSmall is used, please use visibleS instead.");return this.getVisibleS()}})();return a});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/layout/GridRenderer", ["sap/ui/Device","sap/ui/layout/library"],function(e,s){"use strict";var a=s.GridPosition;var i={apiVersion:2};i.render=function(s,i){var r=/^([X][L](?:[0-9]|1[0-1]))? ?([L](?:[0-9]|1[0-1]))? ?([M](?:[0-9]|1[0-1]))? ?([S](?:[0-9]|1[0-1]))?$/i;var t=/^([X][L](?:[1-9]|1[0-2]))? ?([L](?:[1-9]|1[0-2]))? ?([M](?:[1-9]|1[0-2]))? ?([S](?:[1-9]|1[0-2]))?$/i;s.openStart("div",i);s.class("sapUiRespGrid");var p=i._getCurrentMediaContainerRange(e.media.RANGESETS.SAP_STANDARD_EXTENDED).name;s.class("sapUiRespGridMedia-Std-"+p);var n=i.getHSpacing();if(n===.5){n="05"}else if(n!==0&&n!==1&&n!==2){n=1}s.class("sapUiRespGridHSpace"+n);var l=i.getVSpacing();if(l===.5){l="05"}else if(l!==0&&l!==1&&l!==2){l=1}s.class("sapUiRespGridVSpace"+l);var d=i.getPosition();if(d){d=d.toUpperCase();if(d===a.Center.toUpperCase()){s.class("sapUiRespGridPosCenter")}else if(d===a.Right.toUpperCase()){s.class("sapUiRespGridPosRight")}}var f=i.getWidth();if(f!=="100%"&&f!=="auto"&&f!=="inherit"){if(n===0){s.style("width",f)}else{s.style("width","-webkit-calc("+f+" - "+n+"rem)");s.style("width","calc("+f+" - "+n+"rem)")}}var v=i._getAccessibleRole();var c;if(v){c={role:v}}s.accessibilityState(i,c);s.openEnd();var g=i.getContent();var o=i.getDefaultSpan();var L=["","XL3","L3","M6","S12"];var S=["","XL0","L0","M0","S0"];var U=t.exec(o);var u=i._getSpanXLChanged();var R=i._getIndentXLChanged();var G=i.getDefaultIndent();var b=r.exec(G);for(var X=0;X<g.length;X++){s.openStart("div",i.getId()+"-wrapperfor-"+g[X].getId());var h=i._getLayoutDataForControl(g[X]);var C=false;if(!g[X].getVisible()){s.class("sapUiRespGridSpanInvisible")}if(h){var I=false;if(h.getLinebreak()===true){s.class("sapUiRespGridBreak")}else{if(h.getLinebreakXL()===true){I=true;s.class("sapUiRespGridBreakXL")}if(h.getLinebreakL()===true){if(!I&&!h._getLinebreakXLChanged()){s.class("sapUiRespGridBreakXL")}s.class("sapUiRespGridBreakL")}if(h.getLinebreakM()===true){s.class("sapUiRespGridBreakM")}if(h.getLinebreakS()===true){s.class("sapUiRespGridBreakS")}}var M;var k;var y=h.getSpan();if(!y){M=U}else{M=t.exec(y);if(/XL/gi.test(y)){C=true}}if(M){for(var _=1;_<M.length;_++){var w=M[_];if(!w){w=U[_];if(!w){w=L[_]}}if(w.substr(0,1)==="L"){k=w.substr(1,2)}var B=h.getSpanXL();var D=h.getSpanL();var V=h.getSpanM();var x=h.getSpanS();w=w.toUpperCase();if(w.substr(0,2)==="XL"&&B>0&&B<13){s.class("sapUiRespGridSpanXL"+B);C=true}else if(w.substr(0,1)==="L"&&D>0&&D<13){s.class("sapUiRespGridSpanL"+D);k=D}else if(w.substr(0,1)==="M"&&V>0&&V<13){s.class("sapUiRespGridSpanM"+V)}else if(w.substr(0,1)==="S"&&x>0&&x<13){s.class("sapUiRespGridSpanS"+x)}else{if(w.substr(0,2)!=="XL"||u||C){s.class("sapUiRespGridSpan"+w)}}}if(!u&&!C){s.class("sapUiRespGridSpanXL"+k)}}var E;var H;var A=h.getIndent();if(!A||A.length==0){E=b}else{E=r.exec(A);if(/XL/gi.test(A)){R=true}}if(!E){E=b;if(!E){E=undefined}}var P=h.getIndentXL();var m=h.getIndentL();var F=h.getIndentM();var N=h.getIndentS();if(E){for(var _=1;_<E.length;_++){var T=E[_];if(!T){if(b&&b[_]){T=b[_]}else{T=S[_]}}if(T){T=T.toUpperCase();if(T.substr(0,1)==="L"){H=T.substr(1,2)}if(T.substr(0,2)==="XL"&&P>0&&P<12){s.class("sapUiRespGridIndentXL"+P);R=true}else if(T.substr(0,1)==="L"&&m>0&&m<12){s.class("sapUiRespGridIndentL"+m);H=m}else if(T.substr(0,1)==="M"&&F>0&&F<12){s.class("sapUiRespGridIndentM"+F)}else if(T.substr(0,1)==="S"&&N>0&&N<12){s.class("sapUiRespGridIndentS"+N)}else{if(!/^(XL0)? ?(L0)? ?(M0)? ?(S0)?$/.exec(T)){s.class("sapUiRespGridIndent"+T)}}}}if(!R){if(H&&H>0){s.class("sapUiRespGridIndentXL"+H)}}}if(!h.getVisibleXL()){s.class("sapUiRespGridHiddenXL")}if(!h.getVisibleL()){s.class("sapUiRespGridHiddenL")}if(!h.getVisibleM()){s.class("sapUiRespGridHiddenM")}if(!h.getVisibleS()){s.class("sapUiRespGridHiddenS")}var $=h.getMoveBackwards();if($&&$.length>0){var W=r.exec($);if(W){for(var _=1;_<W.length;_++){var j=W[_];if(j){s.class("sapUiRespGridBwd"+j.toUpperCase())}}}}var q=h.getMoveForward();if(q&&q.length>0){var z=r.exec(q);if(z){for(var _=1;_<z.length;_++){var J=z[_];if(J){s.class("sapUiRespGridFwd"+J.toUpperCase())}}}}if(typeof h._sStylesInternal==="string"){var K=h._sStylesInternal.split(" ");for(var O=0;O<K.length;O++){s.class(K[O])}}}if(!h){var w="";if(U){for(var _=1;_<U.length;_++){w=U[_];if(!w){if(_===1&&U[_+1]){w="X"+U[_+1]}else{w=L[_]}}s.class("sapUiRespGridSpan"+w.toUpperCase())}}else{for(var _=1;_<L.length;_++){w=L[_];s.class("sapUiRespGridSpan"+w.toUpperCase())}}var T="";if(b){for(var _=1;_<b.length;_++){T=b[_];if(!T){if(_===1&&b[_+1]){T="X"+b[_+1]}else{T=S[_]}}if(T.substr(0,1)!=="X"&&T.substr(1,1)!=="0"||T.substr(0,1)=="X"&&T.substr(2,1)!=="0"){s.class("sapUiRespGridIndent"+T.toUpperCase())}}}}s.openEnd();s.renderControl(g[X]);s.close("div")}s.close("div")};return i},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/layout/HorizontalLayout", ["sap/ui/core/Control","./library","./HorizontalLayoutRenderer"],function(e,t,a){"use strict";var o=e.extend("sap.ui.layout.HorizontalLayout",{metadata:{library:"sap.ui.layout",properties:{allowWrapping:{type:"boolean",group:"Misc",defaultValue:false}},defaultAggregation:"content",aggregations:{content:{type:"sap.ui.core.Control",multiple:true,singularName:"content"}},designtime:"sap/ui/layout/designtime/HorizontalLayout.designtime",dnd:{draggable:false,droppable:true}},renderer:a});o.prototype.getAccessibilityInfo=function(){return{children:this.getContent()}};return o});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/layout/HorizontalLayoutRenderer", [],function(){"use strict";var r={apiVersion:2};r.render=function(r,a){var e=r;var n=!a.getAllowWrapping();e.openStart("div",a);e.class("sapUiHLayout");if(n){e.class("sapUiHLayoutNoWrap")}e.openEnd();var i=a.getContent();for(var t=0;t<i.length;t++){if(n){e.openStart("div");e.class("sapUiHLayoutChildWrapper");e.openEnd()}e.renderControl(i[t]);if(n){e.close("div")}}e.close("div")};return r},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/layout/VerticalLayout", ["sap/ui/core/Control","sap/ui/core/EnabledPropagator","./library","./VerticalLayoutRenderer"],function(e,t,a,r){"use strict";var i=e.extend("sap.ui.layout.VerticalLayout",{metadata:{library:"sap.ui.layout",properties:{width:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:null},enabled:{type:"boolean",group:"Behavior",defaultValue:true}},defaultAggregation:"content",aggregations:{content:{type:"sap.ui.core.Control",multiple:true,singularName:"content"}},dnd:{draggable:false,droppable:true},designtime:"sap/ui/layout/designtime/VerticalLayout.designtime"},renderer:r});i.prototype.getAccessibilityInfo=function(){return{children:this.getContent()}};t.call(i.prototype);return i});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/layout/VerticalLayoutRenderer", [],function(){"use strict";var t={apiVersion:2};t.render=function(t,e){var i=t;i.openStart("div",e);i.class("sapUiVlt");i.class("sapuiVlt");if(e.getWidth()&&e.getWidth()!=""){i.style("width",e.getWidth())}i.openEnd();var n=e.getContent();for(var s=0;s<n.length;s++){i.openStart("div");i.class("sapUiVltCell");i.class("sapuiVltCell");i.openEnd();i.renderControl(n[s]);i.close("div")}i.close("div")};return t},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/layout/form/Form", ["sap/ui/core/Control","sap/ui/base/ManagedObjectObserver","sap/ui/layout/library","./FormRenderer"],function(e,t,i,o){"use strict";var r=e.extend("sap.ui.layout.form.Form",{metadata:{library:"sap.ui.layout",properties:{width:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:null},editable:{type:"boolean",group:"Misc",defaultValue:false}},defaultAggregation:"formContainers",aggregations:{formContainers:{type:"sap.ui.layout.form.FormContainer",multiple:true,singularName:"formContainer"},title:{type:"sap.ui.core.Title",altTypes:["string"],multiple:false},toolbar:{type:"sap.ui.core.Toolbar",multiple:false},layout:{type:"sap.ui.layout.form.FormLayout",multiple:false}},associations:{ariaLabelledBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"}},designtime:"sap/ui/layout/designtime/form/Form.designtime"},renderer:o});r.prototype.init=function(){this._oObserver=new t(n.bind(this));this._oObserver.observe(this,{properties:["editable"],aggregations:["formContainers"]})};r.prototype.exit=function(){this._oObserver.disconnect();this._oObserver=undefined};r.prototype.toggleContainerExpanded=function(e){var t=this.getLayout();if(t){t.toggleContainerExpanded(e)}};r.prototype.contentOnAfterRendering=function(e,t){var i=this.getLayout();if(i&&i.contentOnAfterRendering){i.contentOnAfterRendering(e,t)}};r.prototype.onLayoutDataChange=function(e){var t=this.getLayout();if(t&&t.onLayoutDataChange){t.onLayoutDataChange(e)}};r.prototype.onBeforeFastNavigationFocus=function(e){var t=this.getLayout();if(t&&t.onBeforeFastNavigationFocus){t.onBeforeFastNavigationFocus(e)}};r.prototype.setEditable=function(e){this.setProperty("editable",e,true);return this};function a(e,t){if(e!=t&&this.getDomRef()){if(e){this.$().addClass("sapUiFormEdit").addClass("sapUiFormEdit-CTX");this.$().removeAttr("aria-readonly")}else{this.$().removeClass("sapUiFormEdit").removeClass("sapUiFormEdit-CTX");this.$().attr("aria-readonly","true")}}var i=this.getFormContainers();for(var o=0;o<i.length;o++){var r=i[o];r._setEditable(e)}}r.prototype.setToolbar=function(e){e=i.form.FormHelper.setToolbar.call(this,e);this.setAggregation("toolbar",e);return this};r.prototype.invalidate=function(t){if(!this._bNoInvalidate){e.prototype.invalidate.apply(this,arguments)}};r.prototype.getContainerRenderedDomRef=function(e){var t=this.getLayout();if(t&&t.getContainerRenderedDomRef){return t.getContainerRenderedDomRef(e)}else{return null}};r.prototype.getElementRenderedDomRef=function(e){var t=this.getLayout();if(t&&t.getElementRenderedDomRef){return t.getElementRenderedDomRef(e)}else{return null}};r.prototype.getVisibleFormContainers=function(){var e=this.getFormContainers();var t=[];for(var i=0;i<e.length;i++){var o=e[i];if(o.isVisible()){t.push(o)}}return t};r.prototype._suggestTitleId=function(e){this._sSuggestedTitleId=e;if(this.getDomRef()){this.invalidate()}return this};function n(e){if(e.name==="editable"){a.call(this,e.current,e.old)}else if(e.name==="formContainers"){s.call(this,e.mutation,e.child)}}function s(e,t){if(e==="insert"){t._setEditable(this.getEditable())}}return r});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/layout/form/FormContainer", ["sap/ui/core/Element","sap/ui/base/ManagedObjectObserver","sap/ui/core/theming/Parameters","sap/ui/layout/library","sap/base/Log"],function(e,t,i,n,o){"use strict";var r=e.extend("sap.ui.layout.form.FormContainer",{metadata:{library:"sap.ui.layout",properties:{expanded:{type:"boolean",group:"Misc",defaultValue:true},expandable:{type:"boolean",group:"Misc",defaultValue:false},visible:{type:"boolean",group:"Misc",defaultValue:true},_editable:{type:"boolean",group:"Misc",defaultValue:false,visibility:"hidden"}},defaultAggregation:"formElements",aggregations:{formElements:{type:"sap.ui.layout.form.FormElement",multiple:true,singularName:"formElement"},title:{type:"sap.ui.core.Title",altTypes:["string"],multiple:false},toolbar:{type:"sap.ui.core.Toolbar",multiple:false},_expandButton:{type:"sap.ui.core.Control",multiple:false,visibility:"hidden"}},associations:{ariaLabelledBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"}},designtime:"sap/ui/layout/designtime/form/FormContainer.designtime"}});r.prototype.init=function(){this._rb=sap.ui.getCore().getLibraryResourceBundle("sap.ui.layout");this._oObserver=new t(this._observeChanges.bind(this));this._oObserver.observe(this,{properties:["expanded","expandable"],aggregations:["formElements"]})};r.prototype.exit=function(){if(this._oExpandButton){delete this._oExpandButton}this._rb=undefined;this._oObserver.disconnect();this._oObserver=undefined};function a(e){if(e){if(!this._oExpandButton){if(!this._bExpandButtonRequired){this._bExpandButtonRequired=true;n.form.FormHelper.createButton.call(this,this.getId()+"--Exp",p,s)}}else{u.call(this)}}}function s(e){if(!this._bIsBeingDestroyed){this._oExpandButton=e;this.setAggregation("_expandButton",this._oExpandButton);u.call(this)}}function l(e){u.call(this);var t=this.getParent();if(t&&t.toggleContainerExpanded){t.toggleContainerExpanded(this)}}r.prototype.setToolbar=function(e){e=n.form.FormHelper.setToolbar.call(this,e);this.setAggregation("toolbar",e);return this};r.prototype.contentOnAfterRendering=function(e,t){var i=this.getParent();if(i&&i.contentOnAfterRendering){i.contentOnAfterRendering(e,t)}};r.prototype.onLayoutDataChange=function(e){var t=this.getParent();if(t&&t.onLayoutDataChange){t.onLayoutDataChange(e)}};r.prototype._checkProperties=function(){var e=0;if(this.getExpandable()&&(!this.getTitle()||this.getToolbar())){o.warning("Expander only displayed if title is set",this.getId(),"FormContainer");e=1}return e};r.prototype.getRenderedDomRef=function(){var e=this;var t=this.getParent();if(t&&t.getContainerRenderedDomRef){return t.getContainerRenderedDomRef(e)}else{return null}};r.prototype.getElementRenderedDomRef=function(e){var t=this.getParent();if(t&&t.getElementRenderedDomRef){return t.getElementRenderedDomRef(e)}else{return null}};r.prototype.getVisibleFormElements=function(){var e=this.getFormElements();var t=[];for(var i=0;i<e.length;i++){var n=e[i];if(n.isVisible()){t.push(n)}}return t};r.prototype._setEditable=function(e){var t=this.getProperty("_editable");this.setProperty("_editable",e,true);if(e!==t){var i=this.getFormElements();for(var n=0;n<i.length;n++){var o=i[n];o._setEditable(e)}}};r.prototype.isVisible=function(){return this.getVisible()};function u(){if(!this._oExpandButton){return}var e,t,o,r;if(this.getExpanded()){e=i._getThemeImage("_sap_ui_layout_Form_FormContainerColImageURL");t=i._getThemeImage("_sap_ui_layout_Form_FormContainerColImageDownURL");o="-";r=this._rb.getText("FORM_COLLAPSE")}else{e=i._getThemeImage("_sap_ui_layout_Form_FormContainerExpImageURL");t=i._getThemeImage("_sap_ui_layout_Form_FormContainerExpImageDownURL");o="+";r=this._rb.getText("FORM_EXPAND")}if(e){o=""}n.form.FormHelper.setButtonContent(this._oExpandButton,o,r,e,t)}function p(e){this.setExpanded(!this.getExpanded())}r.prototype._observeChanges=function(e){if(e.name=="formElements"){d.call(this,e.mutation,e.child)}else if(e.name=="expanded"){l.call(this,e.current)}else if(e.name=="expandable"){a.call(this,e.current)}};function d(e,t){if(e==="insert"){var i=this.getProperty("_editable");t._setEditable(i)}}return r});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/layout/form/FormElement", ["sap/ui/core/Element","sap/ui/core/Control","sap/ui/base/ManagedObjectObserver","sap/ui/layout/library","sap/base/Log"],function(e,t,i,s,a){"use strict";var r=e.extend("sap.ui.layout.form.FormElement",{metadata:{library:"sap.ui.layout",properties:{visible:{type:"boolean",group:"Misc",defaultValue:true},_editable:{type:"boolean",group:"Misc",defaultValue:false,visibility:"hidden"}},defaultAggregation:"fields",aggregations:{label:{type:"sap.ui.core.Label",altTypes:["string"],multiple:false},_label:{type:"sap.ui.core.Label",multiple:false,visibility:"hidden"},fields:{type:"sap.ui.core.Control",multiple:true,singularName:"field"}},designtime:"sap/ui/layout/designtime/form/FormElement.designtime"}});r.prototype.init=function(){this._oFieldDelegate={oElement:this,onAfterRendering:f};this._oObserver=new i(this._observeChanges.bind(this));this._oObserver.observe(this,{aggregations:["fields"]})};r.prototype.exit=function(){if(this._oLabel){delete this._oLabel}this._oFieldDelegate=undefined;this._oObserver.disconnect();this._oObserver=undefined};r.prototype.setLabel=function(e){if(!this._oLabel){var t=this.getLabel();if(t){if(t.setAlternativeLabelFor){t.setAlternativeLabelFor(null)}if(t.isRequired){t.isRequired=t._sapuiIsRequired;t._sapuiIsRequired=undefined;t.disableRequiredChangeCheck(false)}if(t.isDisplayOnly){t.isDisplayOnly=t._sapuiIsDisplayOnly;t._sapuiIsDisplayOnly=undefined}if(t.isWrapping){t.isWrapping=t._sapuiIsWrapping;t._sapuiIsWrapping=undefined}}}this.setAggregation("label",e);var i=e;if(typeof i==="string"){this._setInternalLabel(i)}else{if(this._oLabel){this._oLabel.destroy();delete this._oLabel}if(i&&i.isRequired){i._sapuiIsRequired=i.isRequired;i.isRequired=o;i.disableRequiredChangeCheck(true)}if(i&&i.isDisplayOnly){i._sapuiIsDisplayOnly=i.isDisplayOnly;i.isDisplayOnly=u}if(i&&i.isWrapping){i._sapuiIsWrapping=i.isWrapping;i.isWrapping=p}d.call(this)}return this};r.prototype._setInternalLabel=function(e){if(!this._oLabel){this._oLabel=s.form.FormHelper.createLabel(e,this.getId()+"-label");this.setAggregation("_label",this._oLabel,true);this._oLabel.disableRequiredChangeCheck(true);if(this._oLabel.isRequired){this._oLabel.isRequired=o}if(this._oLabel.isDisplayOnly){this._oLabel.isDisplayOnly=u}if(this._oLabel.setWrapping){this._oLabel.setWrapping(true)}}else{this._oLabel.setText(e)}d.call(this)};r.prototype.destroyLabel=function(){this.destroyAggregation("label");if(this._oLabel){this._oLabel.destroy();delete this._oLabel}return this};r.prototype.getLabelControl=function(){if(this._oLabel){return this._oLabel}else{return this.getLabel()}};r.prototype.updateFields=function(){var e=this.getFields();var t;var i=0;for(i=0;i<e.length;i++){t=e[i];h.call(this,t)}this.updateAggregation("fields");e=this.getFields();for(i=0;i<e.length;i++){t=e[i];g.call(this,t)}d.call(this);return this};r.prototype.enhanceAccessibilityState=function(e,t){var i=this.getLabelControl();if(i&&i!=e){var s=t["labelledby"];if(!s){s=i.getId()}else{var a=s.split(" ");if(a.indexOf(i.getId())<0){a.splice(0,0,i.getId());s=a.join(" ")}}t["labelledby"]=s}};r.prototype.onLayoutDataChange=function(e){var t=this.getParent();if(t&&t.onLayoutDataChange){t.onLayoutDataChange(e)}};r.prototype.getRenderedDomRef=function(){var e=this;var t=this.getParent();if(t&&t.getElementRenderedDomRef){return t.getElementRenderedDomRef(e)}else{return null}};r.prototype._setEditable=function(e){var t=this.getProperty("_editable");this.setProperty("_editable",e,true);if(e!==t){this.invalidateLabel()}};r.prototype.invalidateLabel=function(){var e=this.getLabelControl();if(e&&e.getDomRef()){e.invalidate()}};r.prototype.isVisible=function(){return this.getVisible()};r.prototype.getFieldsForRendering=function(){return this.getFields()};r.prototype._observeChanges=function(e){if(e.object==this){if(e.name=="fields"){l.call(this,e.child,e.mutation)}}else{n.call(this,e)}};function l(e,t){if(t=="insert"){if(!e.isA("sap.ui.core.IFormContent")){a.warning(e+" is not valid Form content",this)}g.call(this,e)}else{h.call(this,e)}d.call(this)}function n(e){if(e.name=="required"||e.name=="editable"){this.invalidateLabel()}}function o(){if(this.getRequired&&this.getRequired()){return true}var e=this.getParent();var t=e.getFields();for(var i=0;i<t.length;i++){var s=t[i];if(s.getRequired&&s.getRequired()===true&&(!s.getEditable||s.getEditable())){return true}}return false}function u(){if(this.getDisplayOnly){if(!this.isPropertyInitial("displayOnly")){return this.getDisplayOnly()}var e=this.getParent();return!e.getProperty("_editable")}return false}function p(){if(this.getWrapping&&!this.isPropertyInitial("wrapping")){return this.getWrapping()}return true}function d(){var e=this.getFields();var i=e.length>0?e[0]:null;var s=this._oLabel;if(s){s.setLabelFor(i)}else{s=this.getLabel();if(s instanceof t){s.setAlternativeLabelFor(i)}}}function g(e){e.addDelegate(this._oFieldDelegate);if(!this._bNoObserverChange){if(e.getMetadata().getProperty("required")){this._oObserver.observe(e,{properties:["required"]})}if(e.getMetadata().getProperty("editable")){this._oObserver.observe(e,{properties:["editable"]})}}}function h(e){e.removeDelegate(this._oFieldDelegate);if(!this._bNoObserverChange){this._oObserver.unobserve(e)}}function f(e){var t=this.oElement.getParent();if(t&&t.contentOnAfterRendering){t.contentOnAfterRendering(this.oElement,e.srcControl)}}return r});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/layout/form/FormLayout", ["sap/ui/core/Control","sap/ui/layout/library","./FormLayoutRenderer","sap/ui/core/theming/Parameters","sap/ui/thirdparty/jquery","sap/ui/core/Configuration","sap/ui/dom/jquery/Selectors","sap/ui/dom/jquery/control"],function(e,t,r,i,jQuery,n){"use strict";var o=t.BackgroundDesign;var a=e.extend("sap.ui.layout.form.FormLayout",{metadata:{library:"sap.ui.layout",properties:{backgroundDesign:{type:"sap.ui.layout.BackgroundDesign",group:"Appearance",defaultValue:o.Translucent}}},renderer:r});a.prototype.init=function(){this._sFormTitleSize="H4";this._sFormSubTitleSize="H5"};a.prototype.onBeforeRendering=function(e){this.loadTitleSizes()};a.prototype.contentOnAfterRendering=function(e,r){if(t.form.FormHelper.bArrowKeySupport){jQuery(r.getFocusDomRef()).data("sap.InNavArea",true)}if(r.getWidth&&(!r.getWidth()||r.getWidth()=="auto")&&(!r.getFormDoNotAdjustWidth||!r.getFormDoNotAdjustWidth())){r.$().css("width","100%")}};a.prototype.toggleContainerExpanded=function(e){var t=e.getExpanded();if(this.getDomRef()){if(t){e.$("content").css("display","")}else{e.$("content").css("display","none")}}};a.prototype.getLayoutDataForElement=function(e,t){var r=e.getLayoutData();if(!r){return undefined}else if(r.isA(t)){return r}else if(r.isA("sap.ui.core.VariantLayoutData")){var i=r.getMultipleLayoutData();for(var n=0;n<i.length;n++){var o=i[n];if(o.isA(t)){return o}}}};a.prototype.onsapright=function(e){if(t.form.FormHelper.bArrowKeySupport){var r=n.getRTL();if(!r){this.navigateForward(e)}else{this.navigateBack(e)}}};a.prototype.onsapleft=function(e){if(t.form.FormHelper.bArrowKeySupport){var r=n.getRTL();if(!r){this.navigateBack(e)}else{this.navigateForward(e)}}};a.prototype.onsapdown=function(e){if(t.form.FormHelper.bArrowKeySupport){var r=e.srcControl;var i;var n=this.findElement(r);var o=n.element;r=n.rootControl;if(o&&o.isA("sap.ui.layout.form.FormElement")){i=this.findFieldBelow(r,o)}else if(o&&o.isA("sap.ui.layout.form.FormContainer")){i=this.findFirstFieldOfNextElement(o,0)}if(i){i.focus();e.preventDefault()}}};a.prototype.onsapup=function(e){if(t.form.FormHelper.bArrowKeySupport){var r=e.srcControl;var i=0;var n;var o=this.findElement(r);var a=o.element;r=o.rootControl;if(a&&a.isA("sap.ui.layout.form.FormElement")){n=this.findFieldAbove(r,a)}else if(a&&a.isA("sap.ui.layout.form.FormContainer")){var f=a.getParent();i=f.indexOfFormContainer(a);n=this.findLastFieldOfLastElementInPrevContainer(f,i-1)}if(n){n.focus();e.preventDefault()}}};a.prototype.onsaphome=function(e){if(t.form.FormHelper.bArrowKeySupport){var r=e.srcControl;var i=0;var n;var o=this.findElement(r);var a=o.element;var f=a.getParent();var l=f.getParent();i=l.indexOfFormContainer(f);n=this.findFirstFieldOfFirstElementInNextContainer(l,i);if(n){n.focus();e.preventDefault()}}};a.prototype.onsaptop=function(e){if(t.form.FormHelper.bArrowKeySupport){var r=e.srcControl;var i=this.findElement(r);var n=i.element;var o;var a;if(n&&n.isA("sap.ui.layout.form.FormElement")){a=n.getParent()}else if(n&&n.isA("sap.ui.layout.form.FormContainer")){a=n}var f=a.getParent();o=this.findFirstFieldOfForm(f);if(o){o.focus();e.preventDefault()}}};a.prototype.onsapend=function(e){if(t.form.FormHelper.bArrowKeySupport){var r=e.srcControl;var i=0;var n;var o=this.findElement(r);var a=o.element;var f=a.getParent();var l=f.getParent();i=l.indexOfFormContainer(f);n=this.findLastFieldOfLastElementInPrevContainer(l,i);if(n){n.focus();e.preventDefault()}}};a.prototype.onsapbottom=function(e){if(t.form.FormHelper.bArrowKeySupport){var r=e.srcControl;var i=this.findElement(r);var n=i.element;var o;var a;if(n&&n.isA("sap.ui.layout.form.FormElement")){a=n.getParent()}else if(n&&n.isA("sap.ui.layout.form.FormContainer")){a=n}var f=a.getParent();var l=f.getFormContainers();var s=l.length;o=this.findLastFieldOfLastElementInPrevContainer(f,s-1);if(o){o.focus();e.preventDefault()}}};a.prototype.onsapexpand=function(e){var t=e.srcControl;var r=this.findElement(t);var i=r.element;var n;if(i.isA("sap.ui.layout.form.FormContainer")){n=i}else{n=i.getParent()}if(n.getExpandable()&&t===n._oExpandButton){n.setExpanded(true)}};a.prototype.onsapcollapse=function(e){var t=e.srcControl;var r=this.findElement(t);var i=r.element;var n;if(i.isA("sap.ui.layout.form.FormContainer")){n=i}else{n=i.getParent()}if(n.getExpandable()&&t===n._oExpandButton){n.setExpanded(false)}};a.prototype.onsapskipforward=function(e){var t=e.srcControl;var r=this.findElement(t);var i=r.element;t=r.rootControl;var n;var o;if(i&&i.isA("sap.ui.layout.form.FormElement")){o=i.getParent()}else if(i&&i.isA("sap.ui.layout.form.FormContainer")){o=i}var a=o.getParent();var f=a.indexOfFormContainer(o);n=this.findFirstFieldOfFirstElementInNextContainer(a,f+1);if(n){n.focus();e.preventDefault()}};a.prototype.onsapskipback=function(e){var t=e.srcControl;var r=this.findElement(t);var i=r.element;t=r.rootControl;var n;var o;if(i&&i.isA("sap.ui.layout.form.FormElement")){o=i.getParent()}else if(i&&i.isA("sap.ui.layout.form.FormContainer")){o=i}var a=o.getParent();var f=a.getFormContainers();var l=a.indexOfFormContainer(o);while(!n&&l>0){var s=f[l-1];if(!s.getExpandable()||s.getExpanded()){n=this.findFirstFieldOfFirstElementInPrevContainer(a,l-1)}l=l-1}if(n&&n!==t.getFocusDomRef()){n.focus();e.preventDefault()}};a.prototype.onBeforeFastNavigationFocus=function(e){if(jQuery.contains(this.getDomRef(),e.source)){e.srcControl=jQuery(e.source).control(0);if(e.forward){this.onsapskipforward(e)}else{this.onsapskipback(e)}}else{var t=e.forward?this.findFirstFieldOfForm(this.getParent()):this.findFirstFieldOfLastContainerOfForm(this.getParent());if(t){t.focus();e.preventDefault()}}};a.prototype.findElement=function(e){var t=e.getParent();var r=e;while(t&&!t.isA("sap.ui.layout.form.FormElement")&&!t.isA("sap.ui.layout.form.FormContainer")&&!t.isA("sap.ui.layout.form.Form")){r=t;t=t.getParent()}return{rootControl:r,element:t}};a.prototype.navigateForward=function(e){var t=e.srcControl;var r=0;var i;var n=this.findElement(t);var o=n.element;t=n.rootControl;if(o&&o.isA("sap.ui.layout.form.FormElement")){if(t==o.getLabelControl()){r=-1}else{r=o.indexOfField(t)}i=this.findNextFieldOfElement(o,r+1);if(!i){var a=o.getParent();r=a.indexOfFormElement(o);i=this.findFirstFieldOfNextElement(a,r+1);if(!i){var f=a.getParent();r=f.indexOfFormContainer(a);i=this.findFirstFieldOfFirstElementInNextContainer(f,r+1)}}}else if(o&&o.isA("sap.ui.layout.form.FormContainer")){i=this.findFirstFieldOfNextElement(o,0)}if(i){i.focus();e.preventDefault()}};a.prototype.tabForward=function(e){var t;var r=e.srcControl;var i=0;var n;var o=this.findElement(r);var a=o.element;r=o.rootControl;if(a&&a.isA("sap.ui.layout.form.FormElement")){if(r==a.getLabelControl()){i=-1}else{i=a.indexOfField(r)}n=this.findNextFieldOfElement(a,i+1,true);if(!n){var f=a.getParent();i=f.indexOfFormElement(a);n=this.findFirstFieldOfNextElement(f,i+1,true);if(!n){t=f.getParent();i=t.indexOfFormContainer(f);n=this.findFirstFieldOfFirstElementInNextContainer(t,i+1,true)}}}else if(a&&a.isA("sap.ui.layout.form.FormContainer")){n=this.findFirstFieldOfNextElement(a,0,true);if(!n){t=a.getParent();i=t.indexOfFormContainer(a);n=this.findFirstFieldOfFirstElementInNextContainer(t,i+1,true)}}if(n){n.focus();e.preventDefault()}};a.prototype.findNextFieldOfElement=function(e,t,r){var i=e.getFieldsForRendering();var n=i.length;var o;for(var a=t;a<n;a++){var f=i[a];var l=this._getDomRef(f);if(r==true){if((!f.getEditable||f.getEditable())&&(!f.getEnabled||f.getEnabled())&&l){o=l;break}}else{if((!f.getEnabled||f.getEnabled())&&l){o=l;break}}}return o};a.prototype.findFirstFieldOfNextElement=function(e,t,r){var i=e.getFormElements();var n=i.length;var o;var a=t;while(!o&&a<n){var f=i[a];if(r==true){o=this.findNextFieldOfElement(f,0,true)}else{o=this.findNextFieldOfElement(f,0)}a++}return o};a.prototype.findFirstFieldOfForm=function(e){var t=this.findFirstFieldOfFirstElementInNextContainer(e,0);return t};a.prototype.findFirstFieldOfLastContainerOfForm=function(e){var t;var r=e.getFormContainers();var i=r.length;while(!t&&i>0){var n=r[i-1];if(!n.getExpandable()||n.getExpanded()){t=this.findFirstFieldOfFirstElementInPrevContainer(e,i-1)}i=i-1}return t};a.prototype.findFirstFieldOfFirstElementInNextContainer=function(e,t,r){var i=e.getFormContainers();var n=i.length;var o;var a=t;while(!o&&a<n){var f=i[a];if(f.getExpandable()&&r){o=f._oExpandButton.getFocusDomRef();if(o){break}}if(!f.getExpandable()||f.getExpanded()){if(r==true){o=this.findFirstFieldOfNextElement(f,0,true)}else{o=this.findFirstFieldOfNextElement(f,0)}}a++}return o};a.prototype.findFirstFieldOfFirstElementInPrevContainer=function(e,t){var r=e.getFormContainers();var i=r.length;var n;var o=t;while(!n&&o<i&&o>=0){var a=r[o];if(!a.getExpandable()||a.getExpanded()){n=this.findFirstFieldOfNextElement(a,0)}o++}return n};a.prototype.navigateBack=function(e){var t;var r=e.srcControl;var i=0;var n;var o=this.findElement(r);var a=o.element;r=o.rootControl;if(a&&a.isA("sap.ui.layout.form.FormElement")){if(r==a.getLabelControl()){i=0}else{i=a.indexOfField(r)}n=this.findPrevFieldOfElement(a,i-1);if(!n){var f=a.getParent();i=f.indexOfFormElement(a);n=this.findLastFieldOfPrevElement(f,i-1);if(!n){t=f.getParent();i=t.indexOfFormContainer(f);n=this.findLastFieldOfLastElementInPrevContainer(t,i-1)}}}else if(a&&a.isA("sap.ui.layout.form.FormContainer")){t=a.getParent();i=t.indexOfFormContainer(a);n=this.findLastFieldOfLastElementInPrevContainer(t,i-1)}if(n){n.focus();e.preventDefault()}};a.prototype.tabBack=function(e){var t;var r=e.srcControl;var i=0;var n;var o=this.findElement(r);var a=o.element;r=o.rootControl;if(a&&a.isA("sap.ui.layout.form.FormElement")){if(r==a.getLabelControl()){i=0}else{i=a.indexOfField(r)}n=this.findPrevFieldOfElement(a,i-1,true);if(!n){var f=a.getParent();i=f.indexOfFormElement(a);n=this.findLastFieldOfPrevElement(f,i-1,true);if(!n){t=f.getParent();i=t.indexOfFormContainer(f);if(f.getExpandable()){n=f._oExpandButton.getFocusDomRef()}if(!n){n=this.findLastFieldOfLastElementInPrevContainer(t,i-1,true)}}}}else if(a&&a.isA("sap.ui.layout.form.FormContainer")){t=a.getParent();i=t.indexOfFormContainer(a);n=this.findLastFieldOfLastElementInPrevContainer(t,i-1,true)}if(n){n.focus();e.preventDefault()}};a.prototype.findPrevFieldOfElement=function(e,t,r){var i=e.getFieldsForRendering();var n;for(var o=t;o>=0;o--){var a=i[o];var f=this._getDomRef(a);if(r==true){if((!a.getEditable||a.getEditable())&&(!a.getEnabled||a.getEnabled())&&f){n=f;break}}else{if((!a.getEnabled||a.getEnabled())&&f){n=f;break}}}return n};a.prototype.findLastFieldOfPrevElement=function(e,t,r){var i=e.getFormElements();var n;var o=t;while(!n&&o>=0){var a=i[o];var f=a.getFieldsForRendering().length;if(r==true){n=this.findPrevFieldOfElement(a,f-1,true)}else{n=this.findPrevFieldOfElement(a,f-1)}o--}return n};a.prototype.findLastFieldOfLastElementInPrevContainer=function(e,t,r){var i=e.getFormContainers();var n;var o=t;while(!n&&o>=0){var a=i[o];if(a.getExpandable()&&!a.getExpanded()&&r){n=a._oExpandButton.getFocusDomRef();if(n){break}}if(!a.getExpandable()||a.getExpanded()){var f=a.getFormElements().length;if(r==true){n=this.findLastFieldOfPrevElement(a,f-1,true)}else{n=this.findLastFieldOfPrevElement(a,f-1,0)}}o--}return n};a.prototype.findFieldBelow=function(e,t){var r=t.getParent();var i=r.indexOfFormElement(t);var n=this.findFirstFieldOfNextElement(r,i+1);if(!n){var o=r.getParent();i=o.indexOfFormContainer(r);n=this.findFirstFieldOfFirstElementInNextContainer(o,i+1)}return n};a.prototype.findFieldAbove=function(e,t){var r=t.getParent();var i=r.indexOfFormElement(t);var n=r.getFormElements();var o;var a=i-1;while(!o&&a>=0){var f=n[a];o=this.findPrevFieldOfElement(f,0);a--}if(!o){var l=r.getParent();i=l.indexOfFormContainer(r);o=this.findLastFieldOfLastElementInPrevContainer(l,i-1)}return o};a.prototype._getDomRef=function(e){var t=e.getFocusDomRef();if(!jQuery(t).is(":sapFocusable")){t=undefined}return t};a.prototype.getContainerRenderedDomRef=function(e){if(this.getDomRef()){return e.getDomRef()}else{return null}};a.prototype.getElementRenderedDomRef=function(e){if(this.getDomRef()){return e.getDomRef()}else{return null}};a.prototype.getLayoutDataForDelimiter=function(){};a.prototype.getLayoutDataForSemanticField=function(e,t,r){};a.prototype.loadTitleSizes=function(){var e=i.get({name:["sap.ui.layout.FormLayout:_sap_ui_layout_FormLayout_FormTitleSize","sap.ui.layout.FormLayout:_sap_ui_layout_FormLayout_FormSubTitleSize"],callback:this.applyTitleSizes.bind(this)});if(e&&e.hasOwnProperty("sap.ui.layout.FormLayout:_sap_ui_layout_FormLayout_FormTitleSize")){this.applyTitleSizes(e,true)}};a.prototype.applyTitleSizes=function(e,t){if(e&&(this._sFormTitleSize!==e["sap.ui.layout.FormLayout:_sap_ui_layout_FormLayout_FormTitleSize"]||this._sFormSubTitleSize!==e["sap.ui.layout.FormLayout:_sap_ui_layout_FormLayout_FormSubTitleSize"])){this._sFormTitleSize=e["sap.ui.layout.FormLayout:_sap_ui_layout_FormLayout_FormTitleSize"];this._sFormSubTitleSize=e["sap.ui.layout.FormLayout:_sap_ui_layout_FormLayout_FormSubTitleSize"];if(!t){this.invalidate()}}};return a});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/layout/form/FormLayoutRenderer", ["sap/ui/core/library","sap/ui/layout/library","sap/ui/layout/form/Form","sap/ui/core/IconPool"],function(e,t,r){"use strict";var i=e.TitleLevel;var n=t.BackgroundDesign;var a={apiVersion:2};a.render=function(e,t){var i=t.getParent();if(i&&i instanceof r){this.renderForm(e,t,i)}};a.renderForm=function(e,t,r){var i=r.getToolbar();e.openStart("div",t);e.class(this.getMainClass());if(i){e.class("sapUiFormToolbar")}this.addBackgroundClass(e,t);e.openEnd();this.renderHeader(e,i,r.getTitle(),undefined,false,t._sFormTitleSize,r.getId());this.renderContainers(e,t,r);e.close("div")};a.getMainClass=function(){return"sapUiFormLayout"};a.addBackgroundClass=function(e,t){var r=t.getBackgroundDesign();if(r!=n.Transparent){e.class("sapUiFormBackgr"+r)}};a.renderContainers=function(e,t,r){var i=r.getVisibleFormContainers();for(var n=0,a=i.length;n<a;n++){var o=i[n];this.renderContainer(e,t,o)}};a.renderContainer=function(e,t,r){var i=r.getExpandable();var n=r.getToolbar();var a=r.getTitle();e.openStart("section",r);e.class("sapUiFormContainer");if(n){e.class("sapUiFormContainerToolbar")}else if(a){e.class("sapUiFormContainerTitle")}if(r.getTooltip_AsString()){e.attr("title",r.getTooltip_AsString())}this.writeAccessibilityStateContainer(e,r);e.openEnd();this.renderHeader(e,n,a,r._oExpandButton,i,t._sFormSubTitleSize,r.getId());if(i){e.openStart("div",r.getId()+"-content");if(!r.getExpanded()){e.style("display","none")}e.openEnd()}var o=r.getVisibleFormElements();for(var l=0,s=o.length;l<s;l++){var d=o[l];this.renderElement(e,t,d)}if(i){e.close("div")}e.close("section")};a.renderElement=function(e,t,r){var i=r.getLabelControl();e.openStart("div",r);e.class("sapUiFormElement");if(i){e.class("sapUiFormElementLbl")}e.openEnd();if(i){e.renderControl(i)}var n=r.getFieldsForRendering();if(n&&n.length>0){for(var a=0,o=n.length;a<o;a++){var l=n[a];e.renderControl(l)}}e.close("div")};a.renderTitle=function(e,t,r,n,a,o){if(t){if(typeof t!=="string"&&t.getLevel()!=i.Auto){a=t.getLevel()}if(!a){a="H5"}if(typeof t!=="string"){e.openStart(a.toLowerCase(),t);if(t.getTooltip_AsString()){e.attr("title",t.getTooltip_AsString())}if(t.getEmphasized()){e.class("sapUiFormTitleEmph")}}else{e.openStart(a.toLowerCase(),o+"--title")}e.class("sapUiFormTitle");e.class("sapUiFormTitle"+a);if(n&&r){e.class("sapUiFormTitleExpandable")}e.openEnd();if(n&&r){e.renderControl(r)}if(typeof t==="string"){t.split(/\n/).forEach(function(t,r){if(r>0){e.voidStart("br").voidEnd()}e.text(t)})}else{var l=t.getIcon();if(l){var s=[];var d={title:null};d["id"]=t.getId()+"-ico";e.icon(l,s,d)}t.getText().split(/\n/).forEach(function(t,r){if(r>0){e.voidStart("br").voidEnd()}e.text(t)})}e.close(a.toLowerCase())}};a.renderHeader=function(e,t,r,i,n,a,o){if(t){e.renderControl(t)}else{this.renderTitle(e,r,i,n,a,o)}};a.writeAccessibilityStateContainer=function(e,r){var i={};var n=r.getTitle();var a=r.getToolbar();if(a){if(!r.getAriaLabelledBy()||r.getAriaLabelledBy().length==0){var o=t.form.FormHelper.getToolbarTitle(a);i["labelledby"]={value:o,append:true}}}else if(n){var l="";if(typeof n=="string"){l=r.getId()+"--title"}else{l=n.getId()}i["labelledby"]={value:l,append:true}}if(i["labelledby"]||r.getAriaLabelledBy().length>0){i["role"]="form"}e.accessibilityState(r,i)};return a},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/layout/form/FormRenderer", ["sap/ui/layout/library","sap/base/Log"],function(e,t){"use strict";var a={apiVersion:2};a.render=function(a,r){var i=r.getLayout();var l={role:"form"};a.openStart("div",r).class("sapUiForm").class("sapUiFormLblColon").attr("data-sap-ui-customfastnavgroup","true");var s=e.form.FormHelper.addFormClass();if(s){a.class(s)}if(r.getEditable()){a.class("sapUiFormEdit");a.class("sapUiFormEdit-CTX")}else{l.readonly=""}if(r.getWidth()){a.style("width",r.getWidth())}if(r.getTooltip_AsString()){a.attr("title",r.getTooltip_AsString())}var o=r.getTitle();var d=r.getToolbar();if(d){if(!r.getAriaLabelledBy()||r.getAriaLabelledBy().length==0){var g=e.form.FormHelper.getToolbarTitle(d);l["labelledby"]=g}}else if(o){var n="";if(typeof o=="string"){n=r.getId()+"--title"}else{n=o.getId()}l["labelledby"]={value:n,append:true}}else if(r._sSuggestedTitleId){l["labelledby"]={value:r._sSuggestedTitleId,append:true}}a.accessibilityState(r,l);a.openEnd();if(i){a.renderControl(i)}else{t.warning('Form "'+r.getId()+'" - Layout missing!',"Renderer","Form")}a.close("div")};return a},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/layout/form/ResponsiveGridLayout", ["sap/ui/core/Control","sap/ui/core/ResizeHandler","sap/ui/layout/library","sap/ui/layout/Grid","sap/ui/layout/GridData","./Form","./FormContainer","./FormElement","./FormLayout","./ResponsiveGridLayoutRenderer","sap/ui/thirdparty/jquery"],function(e,t,a,i,n,r,s,o,l,u,jQuery){"use strict";var f=l.extend("sap.ui.layout.form.ResponsiveGridLayout",{metadata:{library:"sap.ui.layout",properties:{labelSpanXL:{type:"int",group:"Misc",defaultValue:-1},labelSpanL:{type:"int",group:"Misc",defaultValue:4},labelSpanM:{type:"int",group:"Misc",defaultValue:2},labelSpanS:{type:"int",group:"Misc",defaultValue:12},adjustLabelSpan:{type:"boolean",group:"Misc",defaultValue:true},emptySpanXL:{type:"int",group:"Misc",defaultValue:-1},emptySpanL:{type:"int",group:"Misc",defaultValue:0},emptySpanM:{type:"int",group:"Misc",defaultValue:0},emptySpanS:{type:"int",group:"Misc",defaultValue:0},columnsXL:{type:"int",group:"Misc",defaultValue:-1},columnsL:{type:"int",group:"Misc",defaultValue:2},columnsM:{type:"int",group:"Misc",defaultValue:1},singleContainerFullSize:{type:"boolean",group:"Misc",defaultValue:true},breakpointXL:{type:"int",group:"Misc",defaultValue:1440},breakpointL:{type:"int",group:"Misc",defaultValue:1024},breakpointM:{type:"int",group:"Misc",defaultValue:600}}},renderer:u});var p=e.extend("sap.ui.layout.form.ResponsiveGridLayoutPanel",{metadata:{library:"sap.ui.layout",aggregations:{content:{type:"sap.ui.layout.Grid",multiple:false}},associations:{container:{type:"sap.ui.layout.form.FormContainer",multiple:false},layout:{type:"sap.ui.layout.form.ResponsiveGridLayout",multiple:false}}},getLayoutData:function(){var e=sap.ui.getCore().byId(this.getContainer());var t=sap.ui.getCore().byId(this.getLayout());var a;if(t&&e){a=t.getLayoutDataForElement(e,"sap.ui.layout.GridData")}if(a){return a}else{return this.getAggregation("layoutData")}},getCustomData:function(){var e=sap.ui.getCore().byId(this.getContainer());if(e){return e.getCustomData()}},refreshExpanded:function(){var e=sap.ui.getCore().byId(this.getContainer());if(e){if(e.getExpanded()){this.$().removeClass("sapUiRGLContainerColl")}else{this.$().addClass("sapUiRGLContainerColl")}}},renderer:{apiVersion:2,render:function(e,t){var a=sap.ui.getCore().byId(t.getContainer());var i=sap.ui.getCore().byId(t.getLayout());var n=t.getContent();var r=a.getExpandable();var s=a.getTooltip_AsString();var o=a.getToolbar();var l=a.getTitle();e.openStart("div",t);e.class("sapUiRGLContainer");if(r&&!a.getExpanded()){e.class("sapUiRGLContainerColl")}if(o){e.class("sapUiFormContainerToolbar")}else if(l){e.class("sapUiFormContainerTitle")}if(s){e.attr("title",s)}i.getRenderer().writeAccessibilityStateContainer(e,a);e.openEnd();i.getRenderer().renderHeader(e,o,l,a._oExpandButton,r,i._sFormSubTitleSize,a.getId());if(n){e.openStart("div");e.class("sapUiRGLContainerCont");e.openEnd();e.renderControl(n);e.close("div")}e.close("div")}}});f.prototype.init=function(){l.prototype.init.apply(this,arguments);this.mContainers={};this.oDummyLayoutData=new n(this.getId()+"--Dummy")};f.prototype.exit=function(){for(var e in this.mContainers){C.call(this,e,true)}if(this._mainGrid){this._mainGrid.destroy();delete this._mainGrid}this.oDummyLayoutData.destroy();this.oDummyLayoutData=undefined};f.prototype.onBeforeRendering=function(e){l.prototype.onBeforeRendering.apply(this,arguments);var t=this.getParent();if(!t||!(t instanceof r)){return}t._bNoInvalidate=true;d.call(this,t);_.call(this,t);t._bNoInvalidate=false};f.prototype.onAfterRendering=function(e){if(this._mainGrid&&this._mainGrid.__bIsUsed){for(var a in this.mContainers){if(this.mContainers[a][1]._sContainerResizeListener){t.deregister(this.mContainers[a][1]._sContainerResizeListener);this.mContainers[a][1]._sContainerResizeListener=null}}}};f.prototype.toggleContainerExpanded=function(e){var t=e.getId();if(this.mContainers[t]&&this.mContainers[t][0]){var a=this.mContainers[t][0];a.refreshExpanded()}};f.prototype.onLayoutDataChange=function(e){var t=e.srcControl;if(t instanceof s){if(this._mainGrid){this._mainGrid.onLayoutDataChange(e);this.invalidate()}}else if(!(t instanceof o)){var a=t.getParent();if(a instanceof o){var i=a.getParent();var n=i.getId();if(this.mContainers[n]&&this.mContainers[n][1]){this.mContainers[n][1].onLayoutDataChange(e)}}}};f.prototype.onsapup=function(e){this.onsapleft(e)};f.prototype.onsapdown=function(e){this.onsapright(e)};f.prototype.getContainerRenderedDomRef=function(e){if(this.getDomRef()){var t=e.getId();if(this.mContainers[t]){if(this.mContainers[t][0]){var a=this.mContainers[t][0];return a.getDomRef()}else if(this.mContainers[t][1]){var i=this.mContainers[t][1];return i.getDomRef()}}}return null};f.prototype.getElementRenderedDomRef=function(e){return null};function d(e){var t=e.getVisibleFormContainers();var a=t.length;var i=0;var n;var r;var s;var o;var l=0;for(l=0;l<a;l++){s=t[l];s._checkProperties();if(s.isVisible()){i++;o=s.getId();n=undefined;r=undefined;var u=t[l+1];if(this.mContainers[o]&&this.mContainers[o][1]){r=this.mContainers[o][1]}else{r=y.call(this,s)}var f=s.getTitle();var p=s.getToolbar();if(p||f||s.getExpandable()){if(this.mContainers[o]&&this.mContainers[o][0]){n=this.mContainers[o][0]}else{n=g.call(this,s,r);L(r,true)}v(n,s,i,u,a)}else{if(this.mContainers[o]&&this.mContainers[o][0]){m(this.mContainers[o][0])}L(r,false);v(r,s,i,u,a)}this.mContainers[o]=[n,r]}}var d=Object.keys(this.mContainers).length;if(a<d){for(o in this.mContainers){var h=false;for(l=0;l<a;l++){s=t[l];if(o==s.getId()){h=true;break}}if(!h){C.call(this,o)}}}}function g(e,t){var a=e.getId();var i=new p(a+"---Panel",{container:e,layout:this,content:t});return i}function m(e,t){e.setLayout(null);e.setContainer(null);if(!t||!e.getParent()){e.setContent(null);e.destroy()}}function y(e){var t=e.getId()+"--Grid";var a=new i(t,{vSpacing:0,hSpacing:0,containerQuery:true});a.__myParentLayout=this;a.__myParentContainerId=e.getId();a.addStyleClass("sapUiFormResGridCont").addStyleClass("sapUiRespGridOverflowHidden");a.getContent=function(){var e=sap.ui.getCore().byId(this.__myParentContainerId);if(e){var t=[];var a=e.getVisibleFormElements();var i;var n;for(var r=0;r<a.length;r++){var s=a[r];n=s.getLabelControl();if(n){t.push(n)}i=s.getFieldsForRendering();for(var o=0;o<i.length;o++){t.push(i[o])}}return t}else{return false}};a.getAriaLabelledBy=function(){var e=sap.ui.getCore().byId(this.__myParentContainerId);if(e&&!e.getToolbar()&&!e.getTitle()&&!e.getExpandable()){return e.getAriaLabelledBy()}return[]};var n={labelSpan:0,span:0,firstField:false,defaultFields:0,row:0,myRow:false,freeFields:0,finished:false};var r={id:"XL",getEffectiveSpan:function(e){var t=e._getEffectiveSpanXLarge();if(!t){t=e._getEffectiveSpanLarge()}return t},getEmptySpan:function(e){var t=e.getEmptySpanXL();if(t<0){t=e.getEmptySpanL()}return t},getLabelSpan:function(e){return e.getLabelSpanXL()},setIndent:function(e,t){e.setIndentXL(t)},setLinebreak:function(e,t){e.setLinebreakXL(t)}};jQuery.extend(r,n);var s={id:"L",getEffectiveSpan:function(e){return e._getEffectiveSpanLarge()},getEmptySpan:function(e){return e.getEmptySpanL()},getLabelSpan:function(e){return e.getLabelSpanL()},setIndent:function(e,t){e.setIndentL(t)},setLinebreak:function(e,t){e.setLinebreakL(t)}};jQuery.extend(s,n);var o={id:"M",getEffectiveSpan:function(e){return e._getEffectiveSpanMedium()},getEmptySpan:function(e){return e.getEmptySpanM()},getLabelSpan:function(e){return e.getLabelSpanM()},setIndent:function(e,t){e.setIndentM(t)},setLinebreak:function(e,t){e.setLinebreakM(t)}};jQuery.extend(o,n);var l={id:"S",getEffectiveSpan:function(e){return e._getEffectiveSpanSmall()},getEmptySpan:function(e){return e.getEmptySpanS()},getLabelSpan:function(e){return e.getLabelSpanS()},setIndent:function(e,t){e.setIndentS(t)},setLinebreak:function(e,t){e.setLinebreakS(t)}};jQuery.extend(l,n);var u=[r,s,o,l];a._getLayoutDataForControl=function(e){var t=this.__myParentLayout;var a=t.getLayoutDataForElement(e,"sap.ui.layout.GridData");var i=e.getParent();var f=i.getLabelControl();if(a){if(f==e){a._setStylesInternal("sapUiFormElementLbl")}return a}else{var p=sap.ui.getCore().byId(this.__myParentContainerId);var d=t.getLayoutDataForElement(p,"sap.ui.layout.GridData");var g=p.getParent();var m;var y=0;for(y=0;y<u.length;y++){m=u[y];jQuery.extend(m,n);m.labelSpan=m.getLabelSpan(t)}if(t.getAdjustLabelSpan()){if(g.getVisibleFormContainers().length>=1&&t.getColumnsM()>1){o.labelSpan=t.getLabelSpanL()}if(d){if(d._getEffectiveSpanLarge()==12){s.labelSpan=t.getLabelSpanM();o.labelSpan=t.getLabelSpanM()}}if(g.getVisibleFormContainers().length==1||t.getColumnsL()==1){s.labelSpan=t.getLabelSpanM();o.labelSpan=t.getLabelSpanM()}}if(r.labelSpan<0){r.labelSpan=s.labelSpan}if(f==e){t.oDummyLayoutData.setSpan("XL"+r.labelSpan+" L"+s.labelSpan+" M"+o.labelSpan+" S"+l.labelSpan);t.oDummyLayoutData.setLinebreak(true);t.oDummyLayoutData.setIndentXL(0).setIndentL(0).setIndentM(0).setIndentS(0);t.oDummyLayoutData._setStylesInternal("sapUiFormElementLbl");return t.oDummyLayoutData}else{var h;if(f){h=t.getLayoutDataForElement(f,"sap.ui.layout.GridData")}var L=i.getFieldsForRendering();var v=L.length;var C;var _;var c=1;var b=false;var S;var D=0;for(y=0;y<u.length;y++){m=u[y];m.span=12-m.getEmptySpan(t);if(f){if(h){S=m.getEffectiveSpan(h);if(S){m.labelSpan=S}}if(m.labelSpan<12){m.span=m.span-m.labelSpan}}m.spanFields=m.span}for(D=0;D<v;D++){C=L[D];if(C!=e){_=t.getLayoutDataForElement(C,"sap.ui.layout.GridData");if(_){for(y=0;y<u.length;y++){m=u[y];S=m.getEffectiveSpan(_);if(S&&S<m.span){m.span=m.span-S}}}else{c++}}else{if(c==1){b=true}}}var F=[];for(y=0;y<u.length;y++){m=u[y];m.firstField=b;m.defaultFields=c;if(m.span<c){m.defaultFields=0;m.row=0;m.myRow=false;m.freeFields=m.spanFields;m.span=m.spanFields;m.finished=false;F.push(m)}}if(F.length>0){for(D=0;D<v;D++){C=L[D];_=undefined;if(C!=e){_=t.getLayoutDataForElement(C,"sap.ui.layout.GridData")}for(y=0;y<F.length;y++){m=F[y];if(m.finished){continue}if(_){S=m.getEffectiveSpan(_);m.span=m.span-S}else{S=1}if(m.freeFields>=S){m.freeFields=m.freeFields-S;if(!_){m.defaultFields++}}else{if(m.myRow){m.finished=true}else{m.freeFields=m.spanFields-S;m.row++;if(_){m.defaultFields=0;m.span=m.spanFields-S}else{m.defaultFields=1;m.span=m.spanFields}if(C==e){m.firstField=true}}}if(C==e){m.myRow=true}}}}var G=0;var I="";var R;for(y=0;y<u.length;y++){m=u[y];if(m.id!="S"||m.labelSpan<12){if(m.firstField){G=m.span-Math.floor(m.span/m.defaultFields)*m.defaultFields;R=Math.floor(m.span/m.defaultFields)+G}else{R=Math.floor(m.span/m.defaultFields)}}else{R=12}if(I){I=I+" "}I=I+m.id+R;m.setLinebreak(t.oDummyLayoutData,m.firstField&&m.row>0);m.setIndent(t.oDummyLayoutData,m.firstField&&m.row>0?m.labelSpan:0)}t.oDummyLayoutData.setSpan(I);t.oDummyLayoutData.setLinebreak(b&&!f);t.oDummyLayoutData._setStylesInternal(undefined);return t.oDummyLayoutData}}};a._onParentResizeOrig=a._onParentResize;a._onParentResize=function(){if(!this.getDomRef()){this._cleanup();return}if(!jQuery(this.getDomRef()).is(":visible")){return}var e=this.__myParentLayout;if(!e._mainGrid||!e._mainGrid.__bIsUsed){var t=e.getParent().getVisibleFormContainers()[0];if(!t||!e.mContainers[t.getId()]||t.getId()!=this.__myParentContainerId){return}if(e.mContainers[this.__myParentContainerId][0]){var a=e.mContainers[this.__myParentContainerId][0].getDomRef();var i=a.clientWidth;if(i<=e.getBreakpointM()){this._toggleClass("Phone")}else if(i>e.getBreakpointM()&&i<=e.getBreakpointL()){this._toggleClass("Tablet")}else if(i>e.getBreakpointL()&&i<=e.getBreakpointXL()){this._toggleClass("Desktop")}else{this._toggleClass("LargeDesktop")}}else{this._setBreakPointTablet(e.getBreakpointM());this._setBreakPointDesktop(e.getBreakpointL());this._setBreakPointLargeDesktop(e.getBreakpointXL());this._onParentResizeOrig()}}else{var n=e._mainGrid.$();if(n.hasClass("sapUiRespGridMedia-Std-Phone")){this._toggleClass("Phone")}else if(n.hasClass("sapUiRespGridMedia-Std-Tablet")){this._toggleClass("Tablet")}else if(n.hasClass("sapUiRespGridMedia-Std-Desktop")){this._toggleClass("Desktop")}else{this._toggleClass("LargeDesktop")}}};a._getAccessibleRole=function(){var e=sap.ui.getCore().byId(this.__myParentContainerId);var t=this.__myParentLayout;if(t._mainGrid&&t._mainGrid.__bIsUsed&&!e.getToolbar()&&!e.getTitle()&&!e.getExpandable()&&e.getAriaLabelledBy().length>0){return"form"}};a.getUIArea=function(){var e=this.__myParentLayout;if(e){return e.getUIArea()}else{return null}};return a}function h(e,t){if(e.__myParentContainerId){e.__myParentContainerId=undefined}e.__myParentLayout=undefined;if(!t||!e.getParent()){e.destroy()}}function L(e,t){if(t){if(e.__originalGetLayoutData){e.getLayoutData=e.__originalGetLayoutData;delete e.__originalGetLayoutData}}else if(!e.__originalGetLayoutData){e.__originalGetLayoutData=e.getLayoutData;e.getLayoutData=function(){var e=this.__myParentLayout;var t=sap.ui.getCore().byId(this.__myParentContainerId);var a;if(t){a=e.getLayoutDataForElement(t,"sap.ui.layout.GridData")}if(a){return a}else{return this.getAggregation("layoutData")}}}}function v(e,t,a,i,r){var s;if(e instanceof p){s=sap.ui.getCore().byId(e.getLayout())}else{s=e.__myParentLayout}var o=s.getLayoutDataForElement(t,"sap.ui.layout.GridData");if(!o){var l=s.getColumnsM();var u=s.getColumnsL();var f=s.getColumnsXL();var d=a%u==1;var g=a%u==0;var m=a>u*(Math.ceil(r/u)-1);var y=a<=u;var h=a%l==1;var L=a%l==0;var v=a>l*(Math.ceil(r/l)-1);var C=a<=l;var _=false;var c=g;var b=m;var S=y;if(f>0){_=a%f==1;c=a%f==0;b=a>f*(Math.ceil(r/f)-1);S=a<=f}if(i){var D=s.getLayoutDataForElement(i,"sap.ui.layout.GridData");if(D&&(D.getLinebreak()||D.getLinebreakXL())){c=true;b=false}if(D&&(D.getLinebreak()||D.getLinebreakL())){g=true;m=false}if(D&&(D.getLinebreak()||D.getLinebreakM())){L=true;v=false}}var F="";if(c){F="sapUiFormResGridLastContXL"}if(g){if(F){F=F+" "}F=F+"sapUiFormResGridLastContL"}if(L){if(F){F=F+" "}F=F+"sapUiFormResGridLastContM"}if(b){if(F){F=F+" "}F=F+"sapUiFormResGridLastRowXL"}if(m){if(F){F=F+" "}F=F+"sapUiFormResGridLastRowL"}if(v){if(F){F=F+" "}F=F+"sapUiFormResGridLastRowM"}if(S){if(F){F=F+" "}F=F+"sapUiFormResGridFirstRowXL"}if(y){if(F){F=F+" "}F=F+"sapUiFormResGridFirstRowL"}if(C){if(F){F=F+" "}F=F+"sapUiFormResGridFirstRowM"}o=e.getLayoutData();if(!o){o=new n(e.getId()+"--LD",{linebreakL:d,linebreakM:h});e.setLayoutData(o)}else{o.setLinebreakL(d);o.setLinebreakM(h)}if(f>0){o.setLinebreakXL(_)}o._setStylesInternal(F)}}function C(e,t){var a=this.mContainers[e];var i=a[1];if(i){h(i,t)}var n=a[0];if(n){m(n,t)}delete this.mContainers[e]}function _(e){var t=e.getVisibleFormContainers();var a;var n;var r=t.length;var s=0;var o=0;var l=0;if(r>1||!this.getSingleContainerFullSize()){var u=Math.floor(12/this.getColumnsM());var f=Math.floor(12/this.getColumnsL());var p;var d="";var g=this.getColumnsXL();if(g>=0){p=Math.floor(12/g);d=d+"XL"+p+" "}d=d+"L"+f+" M"+u+" S12";if(!this._mainGrid){this._mainGrid=new i(e.getId()+"--Grid",{defaultSpan:d,hSpacing:0,vSpacing:0,containerQuery:true}).setParent(this);this._mainGrid.addStyleClass("sapUiFormResGridMain").addStyleClass("sapUiRespGridOverflowHidden");this._mainGrid._onParentResizeOrig=this._mainGrid._onParentResize;this._mainGrid._onParentResize=function(){this._onParentResizeOrig();var e=this.getParent();for(var t in e.mContainers){e.mContainers[t][1]._onParentResize()}}}else{this._mainGrid.setDefaultSpan(d);var m=this._mainGrid.getContent();s=m.length;var y=false;for(o=0;o<s;o++){var h=m[o];a=undefined;if(h.getContainer){a=sap.ui.getCore().byId(h.getContainer())}else{a=sap.ui.getCore().byId(h.__myParentContainerId)}if(a&&a.isVisible()){var L=t[l];if(a!=L){y=true;break}var v=this.mContainers[a.getId()];if(v[0]&&v[0]!=h){y=true;break}if(!v[0]&&v[1]&&v[1]!=h){y=true;break}l++}else{this._mainGrid.removeContent(h)}}if(y){this._mainGrid.removeAllContent();s=0}}this._mainGrid._setBreakPointTablet(this.getBreakpointM());this._mainGrid._setBreakPointDesktop(this.getBreakpointL());this._mainGrid._setBreakPointLargeDesktop(this.getBreakpointXL());this._mainGrid.__bIsUsed=true;if(s<r){var C=0;if(s>0){C=s--}for(o=C;o<r;o++){a=t[o];n=a.getId();if(this.mContainers[n]){if(this.mContainers[n][0]){this._mainGrid.addContent(this.mContainers[n][0])}else if(this.mContainers[n][1]){this._mainGrid.addContent(this.mContainers[n][1])}}}}}else{if(this._mainGrid){this._mainGrid.__bIsUsed=false}for(o=0;o<r;o++){a=t[o];n=a.getId();if(this.mContainers[n]){if(this.mContainers[n][0]){if(this.mContainers[n][0].getParent()!==this){this.addDependent(this.mContainers[n][0])}}else if(this.mContainers[n][1]){if(this.mContainers[n][1].getParent()!==this){this.addDependent(this.mContainers[n][1])}}}}}}f.prototype.getLayoutDataForDelimiter=function(){return new n({spanS:1,spanM:1,spanL:1,spanXL:1})};f.prototype.getLayoutDataForSemanticField=function(e,t,a){var i=8-(e-1);i=Math.floor(i/e);if(e===t){i=i+8-(e-1+e*i)}if(a){if(a.isA("sap.ui.layout.GridData")){a.setSpanS(11).setSpanM(i).setSpanL(i).setSpanXL(i);return a}else{a.destroy()}}return new n({spanS:11,spanM:i,spanL:i,spanXL:i})};return f});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/layout/form/ResponsiveGridLayoutRenderer", ["sap/ui/core/Renderer","./FormLayoutRenderer"],function(e,r){"use strict";var n=e.extend(r);n.apiVersion=2;n.getMainClass=function(){return"sapUiFormResGrid"};n.renderContainers=function(e,r,n){var i=n.getVisibleFormContainers();var t=i.length;if(t>0){if(t>1||!r.getSingleContainerFullSize()){e.renderControl(r._mainGrid)}else if(r.mContainers[i[0].getId()][0]){e.renderControl(r.mContainers[i[0].getId()][0])}else{e.renderControl(r.mContainers[i[0].getId()][1])}}};return n},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/layout/form/SimpleForm", ["sap/ui/core/Control","sap/ui/base/ManagedObjectObserver","sap/ui/core/ResizeHandler","sap/ui/layout/library","./Form","./FormContainer","./FormElement","./FormLayout","./SimpleFormRenderer","sap/base/Log","sap/ui/thirdparty/jquery"],function(e,t,a,i,s,r,n,o,l,u,jQuery){"use strict";var h=i.BackgroundDesign;var g=i.form.SimpleFormLayout;var f;var d;var y;var p;var m;var v;var c;var L=e.extend("sap.ui.layout.form.SimpleForm",{metadata:{library:"sap.ui.layout",properties:{maxContainerCols:{type:"int",group:"Appearance",defaultValue:2},minWidth:{type:"int",group:"Appearance",defaultValue:-1},width:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:null},editable:{type:"boolean",group:"Misc",defaultValue:null},labelMinWidth:{type:"int",group:"Misc",defaultValue:192},layout:{type:"sap.ui.layout.form.SimpleFormLayout",group:"Misc",defaultValue:g.ResponsiveLayout},labelSpanXL:{type:"int",group:"Misc",defaultValue:-1},labelSpanL:{type:"int",group:"Misc",defaultValue:4},labelSpanM:{type:"int",group:"Misc",defaultValue:2},labelSpanS:{type:"int",group:"Misc",defaultValue:12},adjustLabelSpan:{type:"boolean",group:"Misc",defaultValue:true},emptySpanXL:{type:"int",group:"Misc",defaultValue:-1},emptySpanL:{type:"int",group:"Misc",defaultValue:0},emptySpanM:{type:"int",group:"Misc",defaultValue:0},emptySpanS:{type:"int",group:"Misc",defaultValue:0},columnsXL:{type:"int",group:"Misc",defaultValue:-1},columnsL:{type:"int",group:"Misc",defaultValue:2},columnsM:{type:"int",group:"Misc",defaultValue:1},singleContainerFullSize:{type:"boolean",group:"Misc",defaultValue:true},breakpointXL:{type:"int",group:"Misc",defaultValue:1440},breakpointL:{type:"int",group:"Misc",defaultValue:1024},breakpointM:{type:"int",group:"Misc",defaultValue:600},backgroundDesign:{type:"sap.ui.layout.BackgroundDesign",group:"Appearance",defaultValue:h.Translucent}},defaultAggregation:"content",aggregations:{content:{type:"sap.ui.core.Element",multiple:true,singularName:"content"},form:{type:"sap.ui.layout.form.Form",multiple:false,visibility:"hidden"},title:{type:"sap.ui.core.Title",altTypes:["string"],multiple:false},toolbar:{type:"sap.ui.core.Toolbar",multiple:false}},associations:{ariaLabelledBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"}},designtime:"sap/ui/layout/designtime/form/SimpleForm.designtime"},renderer:l});L.prototype.init=function(){this._iMaxWeight=8;this._iLabelWeight=3;this._iCurrentWidth=0;var e=new s(this.getId()+"--Form");e.getTitle=function(){return this.getParent().getTitle()};e._origInvalidate=e.invalidate;e.invalidate=function(e){if(this.bOutput){this._origInvalidate(e)}if(this._bIsBeingDestroyed){return}var t=this.getParent();if(t){t._formInvalidated(e)}};e.getAriaLabelledBy=function(){var e=this.getParent();if(e){return e.getAriaLabelledBy()}else{return null}};e._origOnLayoutDataChange=e.onLayoutDataChange;e.onLayoutDataChange=function(e){this._origOnLayoutDataChange(e);var t=this.getParent();if(t){t._onLayoutDataChange(e)}};this.setAggregation("form",e);this._aElements=null;this._aLayouts=[];this._changedFormContainers=[];this._changedFormElements=[];this._oObserver=new t(H.bind(this))};L.prototype.exit=function(){var e=this.getAggregation("form");e.invalidate=e._origInvalidate;z.call(this);for(var t=0;t<this._aLayouts.length;t++){var a=sap.ui.getCore().byId(this._aLayouts[t]);if(a&&a.destroy){a.destroy()}}this._aLayouts=[];this._aElements=null;this._changedFormContainers=[];this._changedFormElements=[];this._oObserver.disconnect();this._oObserver=undefined};L.prototype.onBeforeRendering=function(){z.call(this);var e=this.getAggregation("form");var t=this.getLayout();if(!this._bResponsiveLayoutRequested&&t===g.ResponsiveLayout||!this._bGridLayoutRequested&&t===g.GridLayout||!this._bResponsiveGridLayoutRequested&&t===g.ResponsiveGridLayout||!this._bColumnLayoutRequested&&t===g.ColumnLayout){var a=true;if(!e.getLayout()){a=b.call(this)}if(a){B.call(this)}}};L.prototype.onAfterRendering=function(){if(this.getLayout()==g.ResponsiveLayout){this._bChangedByMe=true;this.$().css("visibility","hidden");this._applyLinebreaks();this._sResizeListenerId=a.register(this.getDomRef(),jQuery.proxy(this._resize,this));this._bChangedByMe=false}};L.prototype.setEditable=function(e){this._bChangedByMe=true;this.setProperty("editable",e,true);var t=this.getAggregation("form");t.setEditable(e);this._bChangedByMe=false;return this};L.prototype.setToolbar=function(e){this._bChangedByMe=true;var t=this.getAggregation("form");t.setToolbar(e);this._bChangedByMe=false;return this};L.prototype.getToolbar=function(){var e=this.getAggregation("form");return e.getToolbar()};L.prototype.destroyToolbar=function(){this._bChangedByMe=true;var e=this.getAggregation("form");e.destroyToolbar();this._bChangedByMe=false;return this};L.prototype.setLabelMinWidth=function(e){this.setProperty("labelMinWidth",e,true);if(this.getLayout()==g.ResponsiveLayout){this._bLayoutDataChangedByMe=true;var t=this.getContent();for(var a=0;a<t.length;a++){var i=t[a];if(i.isA("sap.ui.core.Label")){var s=k.call(this,i);if(s&&s.isA("sap.ui.layout.ResponsiveFlowLayoutData")&&A.call(this,s)){s.setMinWidth(e)}}}this._bLayoutDataChangedByMe=false}return this};L.prototype.indexOfContent=function(e){var t=this._aElements;if(t){for(var a=0;a<t.length;a++){if(t[a]==e){return a}}}return-1};L.prototype.addContent=function(e){e=this.validateAggregation("content",e,true);if(this.indexOfContent(e)>=0){u.warning("SimpleForm.addContent: Content element '"+e+"' already assigned. Please remove before adding!",this);this.removeContent(e)}if(!this._aElements){this._aElements=[]}this._bChangedByMe=true;var t=this._aElements.length;var a;var i=this.getAggregation("form");var s;var o;var l;var h;var f=this.getLayout();if(e.isA(["sap.ui.core.Title","sap.ui.core.Toolbar"])){s=V.call(this,e);i.addFormContainer(s);this._changedFormContainers.push(s)}else if(e.isA("sap.ui.core.Label")){if(t>0){a=this._aElements[t-1];l=a.getParent();if(l instanceof n){s=l.getParent()}else if(l instanceof r){s=l}}if(!s){s=V.call(this);i.addFormContainer(s);this._changedFormContainers.push(s)}o=I.call(this,s,e)}else{if(t>0){a=this._aElements[t-1];l=a.getParent();if(l instanceof n){s=l.getParent();o=l;h=k.call(this,e);if(h&&h.isA("sap.ui.layout.ResponsiveFlowLayoutData")&&f===g.ResponsiveLayout&&!A.call(this,h)&&h.getLinebreak()){o=I.call(this,s)}}else if(l instanceof r){s=l;o=I.call(this,s)}}else{s=V.call(this);i.addFormContainer(s);this._changedFormContainers.push(s);o=I.call(this,s)}w.call(this,e,5,false,true);o.addField(e);j(this._changedFormElements,o)}this._aElements.push(e);this._oObserver.observe(e,{properties:["visible"]});this.invalidate();this._bChangedByMe=false;return this};L.prototype.insertContent=function(e,t){e=this.validateAggregation("content",e,true);if(this.indexOfContent(e)>=0){u.warning("SimpleForm.insertContent: Content element '"+e+"' already assigned. Please remove before insert!",this);this.removeContent(e)}if(!this._aElements){this._aElements=[]}var a=this._aElements.length;var i;if(t<0){i=0}else if(t>a){i=a}else{i=t}if(i!==t){u.warning("SimpleForm.insertContent: index '"+t+"' out of range [0,"+a+"], forced to "+i)}if(i==a){this.addContent(e);return this}this._bChangedByMe=true;var s=this._aElements[i];var r=this.getAggregation("form");var n;var o;var l;var h;var f;var d=0;var y;var p;var m;var v;var c=0;var L;var b;var _=this.getLayout();if(e.isA(["sap.ui.core.Title","sap.ui.core.Toolbar"])){n=V.call(this,e);if(t==0&&!s.isA(["sap.ui.core.Title","sap.ui.core.Toolbar"])){l=s.getParent().getParent();m=l.getFormElements();for(c=0;c<m.length;c++){n.addFormElement(m[c])}l.destroy();f=0}else if(s.isA(["sap.ui.core.Title","sap.ui.core.Toolbar"])){l=s.getParent();f=r.indexOfFormContainer(l)}else{h=s.getParent();l=h.getParent();f=r.indexOfFormContainer(l)+1;d=l.indexOfFormElement(h);if(!s.isA("sap.ui.core.Label")){y=h.indexOfField(s);if(y>0||h.getLabel()){o=I.call(this,n);this._changedFormElements.push(o);j(this._changedFormElements,h);p=h.getFields();for(c=y;c<p.length;c++){L=p[c];o.addField(L)}d++}}m=l.getFormElements();for(c=d;c<m.length;c++){n.addFormElement(m[c])}}r.insertFormContainer(n,f);this._changedFormContainers.push(n)}else if(e.isA("sap.ui.core.Label")){if(s.isA(["sap.ui.core.Title","sap.ui.core.Toolbar"])){l=s.getParent();f=r.indexOfFormContainer(l);v=r.getFormContainers();if(f==0){n=V.call(this);r.insertFormContainer(n,f);this._changedFormContainers.push(n)}else{n=v[f-1]}o=I.call(this,n,e)}else if(s.isA("sap.ui.core.Label")){l=s.getParent().getParent();d=l.indexOfFormElement(s.getParent());o=O.call(this,l,e,d)}else{h=s.getParent();l=h.getParent();d=l.indexOfFormElement(h)+1;y=h.indexOfField(s);p=h.getFields();o=O.call(this,l,e,d);for(c=y;c<p.length;c++){L=p[c];o.addField(L)}if(y==0&&!h.getLabel()){h.destroy()}else{j(this._changedFormElements,h)}}this._changedFormElements.push(o)}else{b=k.call(this,e);if(s.isA(["sap.ui.core.Title","sap.ui.core.Toolbar"])){l=s.getParent();f=r.indexOfFormContainer(l);if(f==0){n=V.call(this);r.insertFormContainer(n,f);this._changedFormContainers.push(n)}else{v=r.getFormContainers();n=v[f-1]}m=n.getFormElements();if(m.length==0){o=I.call(this,n)}else if(b&&b.isA("sap.ui.layout.ResponsiveFlowLayoutData")&&_===g.ResponsiveLayout&&!A.call(this,b)&&b.getLinebreak()){o=I.call(this,n)}else{o=m[m.length-1]}o.addField(e)}else if(s.isA("sap.ui.core.Label")){h=s.getParent();n=h.getParent();d=n.indexOfFormElement(h);if(d==0){o=O.call(this,n,null,0)}else if(b&&b.isA("sap.ui.layout.ResponsiveFlowLayoutData")&&_===g.ResponsiveLayout&&!A.call(this,b)&&b.getLinebreak()){o=O.call(this,n,null,d)}else{m=n.getFormElements();o=m[d-1]}o.addField(e)}else{o=s.getParent();y=o.indexOfField(s);if(b&&b.isA("sap.ui.layout.ResponsiveFlowLayoutData")&&_===g.ResponsiveLayout&&!A.call(this,b)&&b.getLinebreak()&&y>0){n=o.getParent();d=n.indexOfFormElement(o);j(this._changedFormElements,o);p=o.getFields();o=O.call(this,n,undefined,d+1);o.addField(e);for(c=y;c<p.length;c++){L=p[c];o.addField(L)}}else{o.insertField(e,y)}}j(this._changedFormElements,o);w.call(this,e,5,false,true)}this._aElements.splice(i,0,e);this._oObserver.observe(e,{properties:["visible"]});this.invalidate();this._bChangedByMe=false;return this};L.prototype.removeContent=function(e){var t=null;var a=-1;var i=0;if(this._aElements){if(typeof e=="string"){e=sap.ui.getCore().byId(e)}if(typeof e=="object"){for(i=0;i<this._aElements.length;i++){if(this._aElements[i]==e){e=i;break}}}if(typeof e=="number"){if(e<0||e>=this._aElements.length){u.warning("Element.removeAggregation called with invalid index: Items, "+e)}else{a=e;t=this._aElements[a]}}}if(t){this._bChangedByMe=true;var s=this.getAggregation("form");var r;var n;var o;var l;if(t.isA(["sap.ui.core.Title","sap.ui.core.Toolbar"])){r=t.getParent();r.setTitle(null);r.setToolbar(null);o=r.getFormElements();if(a>0||o.length>0){var h=s.indexOfFormContainer(r);var g;if(a===0){g=V.call(this);s.insertFormContainer(g,h)}else{g=s.getFormContainers()[h-1];if(o.length>0&&!o[0].getLabel()){var f=g.getFormElements();var d=f[f.length-1];l=o[0].getFields();for(i=0;i<l.length;i++){d.addField(l[i])}j(this._changedFormElements,d);r.removeFormElement(o[0]);o[0].destroy();o.splice(0,1)}}for(i=0;i<o.length;i++){g.addFormElement(o[i])}j(this._changedFormContainers,g);s.removeFormContainer(r);r.destroy()}else{s.removeFormContainer(r);r.destroy()}}else if(t.isA("sap.ui.core.Label")){n=t.getParent();r=n.getParent();n.setLabel(null);l=n.getFields();var y=r.indexOfFormElement(n);var p;if(y===0){if(l.length===0){r.removeFormElement(n);n.destroy();if(r.getFormElements().length==0&&!r.getTitle()&&!r.getToolbar()){s.removeFormContainer(r);r.destroy()}}else{p=O.call(this,r,null,0)}}else{o=r.getFormElements();p=o[y-1];j(this._changedFormElements,p)}for(i=0;i<l.length;i++){p.addField(l[i])}r.removeFormElement(n);n.destroy()}else{n=t.getParent();n.removeField(t);if(n.getFields().length==0&&!n.getLabel()){r=n.getParent();r.removeFormElement(n);n.destroy();if(r.getFormElements().length==0&&!r.getTitle()&&!r.getToolbar()){s.removeFormContainer(r);r.destroy()}}else{j(this._changedFormElements,n)}}this._aElements.splice(a,1);t.setParent(null);this._oObserver.unobserve(t);q.call(this,t);this.invalidate();this._bChangedByMe=false;return t}return null};L.prototype.removeAllContent=function(){var e=0;if(this._aElements){this._bChangedByMe=true;var t=this.getAggregation("form");var a=t.getFormContainers();for(e=0;e<a.length;e++){var i=a[e];i.setTitle(null);i.setToolbar(null);var s=i.getFormElements();for(var r=0;r<s.length;r++){var n=s[r];n.setLabel(null);n.removeAllFields()}i.destroyFormElements()}t.destroyFormContainers();for(e=0;e<this._aElements.length;e++){var o=this._aElements[e];q.call(this,o);this._oObserver.unobserve(o)}var l=this._aElements;this._aElements=null;this.invalidate();this._bChangedByMe=false;return l}else{return[]}};L.prototype.destroyContent=function(){var e=this.removeAllContent();if(e){this._bChangedByMe=true;for(var t=0;t<e.length;t++){e[t].destroy()}this.invalidate();this._bChangedByMe=false}return this};L.prototype.getContent=function(){if(!this._aElements){this._aElements=this.getAggregation("content",[])}return this._aElements.slice()};L.prototype.setLayout=function(e){var t=this.getLayout();if(e!=t){R.call(this)}this.setProperty("layout",e);if(e!=t){var a=b.call(this);if(a){D.call(this)}}return this};L.prototype.clone=function(t){this._bChangedByMe=true;var a=e.prototype.clone.apply(this,arguments);var i=this.getContent();for(var s=0;s<i.length;s++){var r=i[s];var n=r.getLayoutData();this._oObserver.unobserve(r);var o=r.clone(t);this._oObserver.observe(r,{properties:["visible"]});if(n){if(n.isA("sap.ui.core.VariantLayoutData")){var l=n.getMultipleLayoutData();for(var u=0;u<l.length;u++){if(A.call(this,l[u])){a._aLayouts.push(o.getLayoutData().getMultipleLayoutData()[u].getId())}}}else if(A.call(this,n)){a._aLayouts.push(o.getLayoutData().getId())}}a.addContent(o)}this._bChangedByMe=false;return a};function b(){var e=this.getAggregation("form");if(e.getLayout()){this._bChangedByMe=true;e.destroyLayout();z.call(this);this._bChangedByMe=false}var t;switch(this.getLayout()){case g.ResponsiveLayout:if((!f||!d)&&!this._bResponsiveLayoutRequested){f=sap.ui.require("sap/ui/layout/form/ResponsiveLayout");d=sap.ui.require("sap/ui/layout/ResponsiveFlowLayoutData");if(!f||!d){sap.ui.require(["sap/ui/layout/form/ResponsiveLayout","sap/ui/layout/ResponsiveFlowLayoutData"],_.bind(this));this._bResponsiveLayoutRequested=true}}if(f&&d){t=new f(this.getId()+"--Layout")}break;case g.GridLayout:if((!p||!m||!v)&&!this._bGridLayoutRequested){p=sap.ui.require("sap/ui/layout/form/GridLayout");m=sap.ui.require("sap/ui/layout/form/GridContainerData");v=sap.ui.require("sap/ui/layout/form/GridElementData");if(!p||!m||!v){sap.ui.require(["sap/ui/layout/form/GridLayout","sap/ui/layout/form/GridContainerData","sap/ui/layout/form/GridElementData"],C.bind(this));this._bGridLayoutRequested=true}}if(p&&m&&v){t=new p(this.getId()+"--Layout")}break;case g.ResponsiveGridLayout:if(!y&&!this._bResponsiveGridLayoutRequested){y=sap.ui.require("sap/ui/layout/form/ResponsiveGridLayout");if(!y){sap.ui.require(["sap/ui/layout/form/ResponsiveGridLayout"],F.bind(this));this._bResponsiveGridLayoutRequested=true}}if(y){t=new y(this.getId()+"--Layout")}break;case g.ColumnLayout:if(!c&&!this._bColumnLayoutRequested){c=sap.ui.require("sap/ui/layout/form/ColumnLayout");if(!c){sap.ui.require(["sap/ui/layout/form/ColumnLayout"],E.bind(this));this._bColumnLayoutRequested=true}}if(c){t=new c(this.getId()+"--Layout")}break}if(t){this._bChangedByMe=true;e.setLayout(t);this._bChangedByMe=false;return true}return false}function _(e,t){f=e;d=t;this._bResponsiveLayoutRequested=false;if(this.getLayout()==g.ResponsiveLayout){M.call(this)}}function C(e,t,a){p=e;m=t;v=a;this._bGridLayoutRequested=false;if(this.getLayout()==g.GridLayout){M.call(this)}}function F(e){y=e;this._bResponsiveGridLayoutRequested=false;if(this.getLayout()==g.ResponsiveGridLayout){M.call(this)}}function E(e){c=e;this._bColumnLayoutRequested=false;if(this.getLayout()==g.ColumnLayout){M.call(this)}}function M(){if(!this._bIsBeingDestroyed){b.call(this);D.call(this);if(this.getDomRef()){B.call(this)}}}function R(){this._bChangedByMe=true;var e=this.getAggregation("form");var t=e.getFormContainers();for(var a=0;a<t.length;a++){var i=t[a];j(this._changedFormContainers,i);if(i.getLayoutData()){i.destroyLayoutData()}var s=i.getFormElements();for(var r=0;r<s.length;r++){var n=s[r];j(this._changedFormElements,n);if(n.getLayoutData()){n.destroyLayoutData()}var o=n.getLabel();if(o){q.call(this,o)}var l=n.getFields();for(var u=0;u<l.length;u++){var h=l[u];q.call(this,h)}}}this._bChangedByMe=false}function D(){this._bChangedByMe=true;var e=this.getAggregation("form");var t=e.getFormContainers();for(var a=0;a<t.length;a++){var i=t[a];j(this._changedFormContainers,i);P.call(this,i);var s=i.getFormElements();for(var r=0;r<s.length;r++){var n=s[r];j(this._changedFormElements,n);G.call(this,n);var o=n.getLabel();if(o){w.call(this,o,this._iLabelWeight,false,true,this.getLabelMinWidth())}var l=n.getFields();for(var u=0;u<l.length;u++){var h=l[u];w.call(this,h,5,false,true)}}}this._bChangedByMe=false}function B(){this._bChangedByMe=true;this._changedFormContainers=[];var e=this.getLayout();var t=this.getAggregation("form").getLayout();t.setBackgroundDesign(this.getBackgroundDesign());switch(e){case g.ResponsiveLayout:this._applyLinebreaks();for(var a=0;a<this._changedFormElements.length;a++){var i=this._changedFormElements[a];W.call(this,i)}break;case g.GridLayout:X.call(this);break;case g.ResponsiveGridLayout:t.setLabelSpanXL(this.getLabelSpanXL());t.setLabelSpanL(this.getLabelSpanL());t.setLabelSpanM(this.getLabelSpanM());t.setLabelSpanS(this.getLabelSpanS());t.setAdjustLabelSpan(this.getAdjustLabelSpan());t.setEmptySpanXL(this.getEmptySpanXL());t.setEmptySpanL(this.getEmptySpanL());t.setEmptySpanM(this.getEmptySpanM());t.setEmptySpanS(this.getEmptySpanS());t.setColumnsXL(this.getColumnsXL());t.setColumnsL(this.getColumnsL());t.setColumnsM(this.getColumnsM());t.setSingleContainerFullSize(this.getSingleContainerFullSize());t.setBreakpointXL(this.getBreakpointXL());t.setBreakpointL(this.getBreakpointL());t.setBreakpointM(this.getBreakpointM());break;case g.ColumnLayout:t.setColumnsXL(this.getColumnsXL()>0?this.getColumnsXL():this.getColumnsL());t.setColumnsL(this.getColumnsL());t.setColumnsM(this.getColumnsM());t.setLabelCellsLarge(this.getLabelSpanL());t.setEmptyCellsLarge(this.getEmptySpanL());break}this._changedFormElements=[];this._bChangedByMe=false}function A(e){var t=e.getId(),a=" "+this._aLayouts.join(" ")+" ";return a.indexOf(" "+t+" ")>-1}function S(e,t,a,i){var s=new d({weight:e,linebreak:t===true,linebreakable:a===true});if(i){s.setMinWidth(i)}this._aLayouts.push(s.getId());return s}function k(e){var t;switch(this.getLayout()){case g.ResponsiveLayout:t=o.prototype.getLayoutDataForElement(e,"sap.ui.layout.ResponsiveFlowLayoutData");break;case g.GridLayout:t=o.prototype.getLayoutDataForElement(e,"sap.ui.layout.form.GridElementData");break;case g.ResponsiveGridLayout:t=o.prototype.getLayoutDataForElement(e,"sap.ui.layout.GridData");break;case g.ColumnLayout:t=o.prototype.getLayoutDataForElement(e,"sap.ui.layout.form.ColumnElementData");break}return t}function T(){var e=this.getLayout();if(e===g.ResponsiveLayout&&this._bResponsiveLayoutRequested||e===g.GridLayout&&this._bGridLayoutRequested||e===g.ResponsiveGridLayout&&this._bResponsiveGridLayoutRequested||e===g.ColumnLayout&&this._bColumnLayoutRequested){return false}if(!this.getAggregation("form").getLayout()){var t=this._bChangedByMe;var a=b.call(this);this._bChangedByMe=t;if(!a){return false}}return true}function w(e,t,a,i,s){if(this.getLayout()!=g.ResponsiveLayout){return}if(!T.call(this)){return}this._bLayoutDataChangedByMe=true;var r=k.call(this,e);if(!r||!A.call(this,r)){r=e.getLayoutData();if(r&&r.isA("sap.ui.core.VariantLayoutData")){r.addMultipleLayoutData(S.call(this,t,a,i,s))}else if(!r){e.setLayoutData(S.call(this,t,a,i,s))}else{u.warning("ResponsiveFlowLayoutData can not be set on Field "+e.getId(),"_createFieldLayoutData","SimpleForm")}}this._bLayoutDataChangedByMe=false}function G(e){if(this.getLayout()!=g.ResponsiveLayout){return}if(!T.call(this)){return}this._bLayoutDataChangedByMe=true;e.setLayoutData(new d({linebreak:true,margin:false}));this._bLayoutDataChangedByMe=false}function P(e){var t=this.getLayout();if(t!=g.ResponsiveLayout&&t!=g.GridLayout){return}if(!T.call(this)){return}this._bLayoutDataChangedByMe=true;switch(t){case g.ResponsiveLayout:e.setLayoutData(new d({minWidth:280}));break;case g.GridLayout:if(this.getMaxContainerCols()>1){e.setLayoutData(new m({halfGrid:true}))}else{e.setLayoutData(new m({halfGrid:false}))}break}this._bLayoutDataChangedByMe=false}function q(e){this._bLayoutDataChangedByMe=true;var t=k.call(this,e);if(t){var a=t.getId();for(var i=0;i<this._aLayouts.length;i++){var s=this._aLayouts[i];if(a==s){t.destroy();this._aLayouts.splice(i,1);break}}}this._bLayoutDataChangedByMe=false}function I(e,t){var a=x.call(this,t,e);e.addFormElement(a);return a}function O(e,t,a){var i=x.call(this,t,e);e.insertFormElement(i,a);return i}function x(e,t){var a;var i={};if(e){a=e.getId()+"--FE";e.addStyleClass("sapUiFormLabel-CTX");if(!k.call(this,e)){w.call(this,e,this._iLabelWeight,false,true,this.getLabelMinWidth())}i["label"]=e}else{a=t.getId()+"--FE-NoLabel";if(sap.ui.getCore().byId(a)){a=undefined}}var s=new n(a,i);G.call(this,s);s.isVisible=function(){var e=this.getFields();var t=false;for(var a=0;a<e.length;a++){var i=e[a];if(i.getVisible()){t=true;break}}return t};return s}function V(e){var t;var a={};if(e){t=e.getId()+"--FC";if(e.isA("sap.ui.core.Title")){a["title"]=e}else if(e.isA("sap.ui.core.Toolbar")){a["toolbar"]=e}}else{t=this.getId()+"--FC-NoHead"}var i=new r(t,a);P.call(this,i);i.getAriaLabelledBy=function(){var e=this.getToolbar();if(e){return e.getAriaLabelledBy()}else{return[]}};return i}function W(e){var t=this._iMaxWeight;var a=e.getFields();var i;var s=a.length;var r=e.getLabel();var n;var o=0;this._bLayoutDataChangedByMe=true;if(r&&k.call(this,r)){t=t-k.call(this,r).getWeight()}for(o=0;o<a.length;o++){i=a[o];n=k.call(this,i);if(n&&n.isA("sap.ui.layout.ResponsiveFlowLayoutData")&&!A.call(this,n)){t=t-n.getWeight();s--}}var l=Math.floor(t/s);var u=t%s;for(o=0;o<a.length;o++){i=a[o];n=k.call(this,i);var h=l;if(!n){w.call(this,i,h,false,o==0)}else if(A.call(this,n)&&n.isA("sap.ui.layout.ResponsiveFlowLayoutData")){if(u>0){h++;u--}n.setWeight(h)}}this._bLayoutDataChangedByMe=false}L.prototype._applyLinebreaks=function(){if(!f||this._bResponsiveLayoutRequested){return}this._bLayoutDataChangedByMe=true;var e=this.getAggregation("form"),t=e.getFormContainers();var a=this.getDomRef();var i=this.$();for(var s=1;s<t.length;s++){var r=t[s],n=r.getLayoutData();if(!a||i.outerWidth(true)>this.getMinWidth()){if(s%this.getMaxContainerCols()==0){n.setLinebreak(true)}else{n.setLinebreak(false)}}else{n.setLinebreak(true)}}if(a&&i.css("visibility")=="hidden"){var o=this;setTimeout(function(){if(o.getDomRef()){o.$().css("visibility","")}},10)}this._bLayoutDataChangedByMe=false};function X(){this._bLayoutDataChangedByMe=true;var e=this.getAggregation("form");var t=e.getFormContainers();var a=t.length;for(var i=0;i<a;i++){var s=t[i];if(this.getMaxContainerCols()<=1||i==a-1&&a%2>0){s.getLayoutData().setHalfGrid(false)}else if(!s.getLayoutData().getHalfGrid()){s.getLayoutData().setHalfGrid(true)}}this._bLayoutDataChangedByMe=false}L.prototype._resize=function(e){this._bChangedByMe=true;if(this._iCurrentWidth==e.size.width){return}this._iCurrentWidth=e.size.width;this._applyLinebreaks();this._bChangedByMe=false};function z(){if(this._sResizeListenerId){a.deregister(this._sResizeListenerId);this._sResizeListenerId=null}}function j(e,t){var a=false;for(var i=0;i<e.length;i++){var s=e[i];if(s==t){a=true;break}}if(!a){e.push(t)}}function H(e){if(e.name=="visible"){var t=e.object.getParent();t.invalidate()}}function N(e){var t=[];var a=e.getFormContainers();for(var i=0;i<a.length;i++){var s=a[i];var r=s.getTitle();if(r){t.push(r)}else{var n=s.getToolbar();if(n){t.push(n)}}var o=s.getFormElements();for(var l=0;l<o.length;l++){var u=o[l];var h=u.getLabel();if(h){t.push(h)}var g=u.getFields();for(var f=0;f<g.length;f++){var d=g[f];t.push(d)}}}return t}L.prototype._formInvalidated=function(e){if(!this._bChangedByMe){var t=N(this.getAggregation("form"));var a=0;var i=0;var s=false;if(!this._aElements||t.length<this._aElements.length){s=true}else{for(a=0;a<t.length;a++){var r=t[a];var n=this._aElements[i];if(r===n){i++}else{var o=t[a+1];if(o===n){this.insertContent(r,a);break}o=this._aElements[i+1];if(o===r){s=true;break}break}}}if(s){this.removeAllContent();for(a=0;a<t.length;a++){var l=t[a];this.addContent(l)}}}};L.prototype._onLayoutDataChange=function(e){if(!this._bLayoutDataChangedByMe&&!this._bIsBeingDestroyed){switch(this.getLayout()){case g.ResponsiveLayout:var t=e.srcControl;var a=t.getParent();if(a instanceof n){var i=this.indexOfContent(t);this.removeContent(t);this.insertContent(t,i)}break}}};L.prototype._suggestTitleId=function(e){var t=this.getAggregation("form");t._suggestTitleId(e);return this};return L});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/layout/form/SimpleFormRenderer", [],function(){"use strict";var e={apiVersion:2};e.render=function(e,r){r._bChangedByMe=true;e.openStart("div",r).class("sapUiSimpleForm").style("width",r.getWidth()).openEnd();var n=r.getAggregation("form");e.renderControl(n);e.close("div");r._bChangedByMe=false};return e},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/layout/library", ["sap/ui/base/DataType","sap/ui/core/library"],function(o,t){"use strict";var e=sap.ui.getCore().initLibrary({name:"sap.ui.layout",version:"1.108.8",dependencies:["sap.ui.core"],designtime:"sap/ui/layout/designtime/library.designtime",types:["sap.ui.layout.BackgroundDesign","sap.ui.layout.BlockBackgroundType","sap.ui.layout.BlockLayoutCellColorSet","sap.ui.layout.BlockLayoutCellColorShade","sap.ui.layout.BlockRowColorSets","sap.ui.layout.BoxesPerRowConfig","sap.ui.layout.GridIndent","sap.ui.layout.GridPosition","sap.ui.layout.GridSpan","sap.ui.layout.SideContentFallDown","sap.ui.layout.SideContentPosition","sap.ui.layout.SideContentVisibility","sap.ui.layout.form.ColumnsXL","sap.ui.layout.form.ColumnsL","sap.ui.layout.form.ColumnsM","sap.ui.layout.form.ColumnCells","sap.ui.layout.form.EmptyCells","sap.ui.layout.form.GridElementCells","sap.ui.layout.form.SimpleFormLayout","sap.ui.layout.cssgrid.CSSGridAutoFlow","sap.ui.layout.cssgrid.CSSGridTrack","sap.ui.layout.cssgrid.CSSGridLine","sap.ui.layout.cssgrid.CSSGridGapShortHand"],interfaces:["sap.ui.layout.cssgrid.IGridConfigurable","sap.ui.layout.cssgrid.IGridItemLayoutData"],controls:["sap.ui.layout.AlignedFlowLayout","sap.ui.layout.DynamicSideContent","sap.ui.layout.FixFlex","sap.ui.layout.Grid","sap.ui.layout.HorizontalLayout","sap.ui.layout.ResponsiveFlowLayout","sap.ui.layout.ResponsiveSplitter","sap.ui.layout.ResponsiveSplitterPage","sap.ui.layout.Splitter","sap.ui.layout.VerticalLayout","sap.ui.layout.BlockLayoutCell","sap.ui.layout.BlockLayoutRow","sap.ui.layout.BlockLayout","sap.ui.layout.form.Form","sap.ui.layout.form.FormLayout","sap.ui.layout.form.GridLayout","sap.ui.layout.form.ColumnLayout","sap.ui.layout.form.ResponsiveGridLayout","sap.ui.layout.form.ResponsiveLayout","sap.ui.layout.form.SimpleForm","sap.ui.layout.cssgrid.CSSGrid"],elements:["sap.ui.layout.BlockLayoutCellData","sap.ui.layout.GridData","sap.ui.layout.ResponsiveFlowLayoutData","sap.ui.layout.SplitterLayoutData","sap.ui.layout.form.FormContainer","sap.ui.layout.form.FormElement","sap.ui.layout.form.GridContainerData","sap.ui.layout.PaneContainer","sap.ui.layout.SplitPane","sap.ui.layout.form.GridElementData","sap.ui.layout.form.ColumnElementData","sap.ui.layout.form.ColumnContainerData","sap.ui.layout.cssgrid.GridItemLayoutData"],extensions:{flChangeHandlers:{"sap.ui.layout.BlockLayout":{moveControls:"default"},"sap.ui.layout.BlockLayoutRow":{moveControls:"default",hideControl:"default",unhideControl:"default"},"sap.ui.layout.BlockLayoutCell":"sap/ui/layout/flexibility/BlockLayoutCell","sap.ui.layout.DynamicSideContent":{moveControls:"default",hideControl:"default",unhideControl:"default"},"sap.ui.layout.form.SimpleForm":"sap/ui/layout/flexibility/SimpleForm","sap.ui.layout.Grid":{moveControls:"default",hideControl:"default",unhideControl:"default"},"sap.ui.layout.FixFlex":{moveControls:"default",hideControl:"default",unhideControl:"default"},"sap.ui.layout.form.Form":"sap/ui/layout/flexibility/Form","sap.ui.layout.form.FormContainer":"sap/ui/layout/flexibility/FormContainer","sap.ui.layout.form.FormElement":"sap/ui/layout/flexibility/FormElement","sap.ui.layout.HorizontalLayout":{moveControls:"default",hideControl:"default",unhideControl:"default"},"sap.ui.layout.Splitter":{moveControls:"default",hideControl:"default",unhideControl:"default"},"sap.ui.layout.VerticalLayout":{moveControls:"default",hideControl:"default",unhideControl:"default"}},"sap.ui.support":{publicRules:true,internalRules:true}}});e.BackgroundDesign={Solid:"Solid",Transparent:"Transparent",Translucent:"Translucent"};e.GridIndent=o.createType("sap.ui.layout.GridIndent",{isValid:function(o){return/^(([Xx][Ll](?:[0-9]|1[0-1]))? ?([Ll](?:[0-9]|1[0-1]))? ?([Mm](?:[0-9]|1[0-1]))? ?([Ss](?:[0-9]|1[0-1]))?)$/.test(o)}},o.getType("string"));e.GridPosition={Left:"Left",Right:"Right",Center:"Center"};e.GridSpan=o.createType("sap.ui.layout.GridSpan",{isValid:function(o){return/^(([Xx][Ll](?:[1-9]|1[0-2]))? ?([Ll](?:[1-9]|1[0-2]))? ?([Mm](?:[1-9]|1[0-2]))? ?([Ss](?:[1-9]|1[0-2]))?)$/.test(o)}},o.getType("string"));e.BlockBackgroundType={Default:"Default",Light:"Light",Mixed:"Mixed",Accent:"Accent",Dashboard:"Dashboard"};e.BlockRowColorSets={ColorSet1:"ColorSet1",ColorSet2:"ColorSet2",ColorSet3:"ColorSet3",ColorSet4:"ColorSet4"};e.BlockLayoutCellColorSet={ColorSet1:"ColorSet1",ColorSet2:"ColorSet2",ColorSet3:"ColorSet3",ColorSet4:"ColorSet4",ColorSet5:"ColorSet5",ColorSet6:"ColorSet6",ColorSet7:"ColorSet7",ColorSet8:"ColorSet8",ColorSet9:"ColorSet9",ColorSet10:"ColorSet10",ColorSet11:"ColorSet11"};e.BlockLayoutCellColorShade={ShadeA:"ShadeA",ShadeB:"ShadeB",ShadeC:"ShadeC",ShadeD:"ShadeD",ShadeE:"ShadeE",ShadeF:"ShadeF"};e.form=e.form||{};e.form.GridElementCells=o.createType("sap.ui.layout.form.GridElementCells",{isValid:function(o){return/^(auto|full|([1-9]|1[0-6]))$/.test(o)}},o.getType("string"));e.form.SimpleFormLayout={ResponsiveLayout:"ResponsiveLayout",GridLayout:"GridLayout",ResponsiveGridLayout:"ResponsiveGridLayout",ColumnLayout:"ColumnLayout"};e.SideContentVisibility={AlwaysShow:"AlwaysShow",ShowAboveL:"ShowAboveL",ShowAboveM:"ShowAboveM",ShowAboveS:"ShowAboveS",NeverShow:"NeverShow"};e.SideContentFallDown={BelowXL:"BelowXL",BelowL:"BelowL",BelowM:"BelowM",OnMinimumWidth:"OnMinimumWidth"};e.SideContentPosition={End:"End",Begin:"Begin"};e.form.ColumnsXL=o.createType("sap.ui.layout.form.ColumnsXL",{isValid:function(o){if(o>0&&o<=6){return true}else{return false}}},o.getType("int"));e.form.ColumnsL=o.createType("sap.ui.layout.form.ColumnsL",{isValid:function(o){if(o>0&&o<=3){return true}else{return false}}},o.getType("int"));e.form.ColumnsM=o.createType("sap.ui.layout.form.ColumnsM",{isValid:function(o){if(o>0&&o<=2){return true}else{return false}}},o.getType("int"));e.form.ColumnCells=o.createType("sap.ui.layout.form.ColumnCells",{isValid:function(o){if(o===-1){return true}else if(o>0&&o<=12){return true}else{return false}}},o.getType("int"));e.form.EmptyCells=o.createType("sap.ui.layout.form.EmptyCells",{isValid:function(o){if(o>=0&&o<12){return true}else{return false}}},o.getType("int"));if(!e.form.FormHelper){e.form.FormHelper={createLabel:function(o){throw new Error("no Label control available!")},createButton:function(o,t,e){throw new Error("no Button control available!")},setButtonContent:function(o,t,e,a,l){throw new Error("no Button control available!")},addFormClass:function(){return null},setToolbar:function(o){return o},getToolbarTitle:function(o){return o&&o.getId()},createDelimiter:function(o,t){throw new Error("no delimiter control available!")},createSemanticDisplayControl:function(o,t){throw new Error("no display control available!")},updateDelimiter:function(o,t){throw new Error("no delimiter control available!")},updateSemanticDisplayControl:function(o,t){throw new Error("no display control available!")},bArrowKeySupport:true,bFinal:false}}if(!e.GridHelper){e.GridHelper={getLibrarySpecificClass:function(){return""},bFinal:false}}e.cssgrid.CSSGridTrack=o.createType("sap.ui.layout.cssgrid.CSSGridTrack",{isValid:function(o){var t=/(auto|inherit|(([0-9]+|[0-9]*\.[0-9]+)([rR][eE][mM]|[eE][mM]|[eE][xX]|[pP][xX]|[cC][mM]|[mM][mM]|[iI][nN]|[pP][tT]|[pP][cC]|[vV][wW]|[vV][hH]|[vV][mM][iI][nN]|[vV][mM][aA][xX]|%))|calc\(\s*(\(\s*)*[-+]?(([0-9]+|[0-9]*\.[0-9]+)([rR][eE][mM]|[eE][mM]|[eE][xX]|[pP][xX]|[cC][mM]|[mM][mM]|[iI][nN]|[pP][tT]|[pP][cC]|[vV][wW]|[vV][hH]|[vV][mM][iI][nN]|[vV][mM][aA][xX]|%)?)(\s*(\)\s*)*(\s[-+]\s|[*\/])\s*(\(\s*)*([-+]?(([0-9]+|[0-9]*\.[0-9]+)([rR][eE][mM]|[eE][mM]|[eE][xX]|[pP][xX]|[cC][mM]|[mM][mM]|[iI][nN]|[pP][tT]|[pP][cC]|[vV][wW]|[vV][hH]|[vV][mM][iI][nN]|[vV][mM][aA][xX]|%)?)))*\s*(\)\s*)*\))/g;o=o.replace(/(minmax|repeat|fit-content|max-content|min-content|auto-fill|auto-fit|fr|min|max)/g,"");o=o.replace(t,"");o=o.replace(/\(|\)|\+|\-|\*|\/|calc|\%|\,/g,"");o=o.replace(/[0-9]/g,"");o=o.replace(/\s/g,"");return o.length===0},parseValue:function(o){return o.trim().split(/\s+/).join(" ")}},o.getType("string"));e.cssgrid.CSSGridGapShortHand=o.createType("sap.ui.layout.cssgrid.CSSGridGapShortHand",{isValid:function(o){var e=true,a=o.split(/\s+/);a.forEach(function(o){if(!t.CSSSize.isValid(o)){e=false}});return e},parseValue:function(o){return o.trim().split(/\s+/).join(" ")}},o.getType("string"));e.cssgrid.CSSGridLine=o.createType("sap.ui.layout.cssgrid.CSSGridLine",{isValid:function(o){return/^(auto|inherit|((span)?(\s)?-?[0-9]+(\s\/\s(span)?(\s)?-?[0-9]*)?)?)$/.test(o)}},o.getType("string"));e.cssgrid.CSSGridAutoFlow={Row:"Row",Column:"Column",RowDense:"RowDense",ColumnDense:"ColumnDense"};e.BoxesPerRowConfig=o.createType("sap.ui.layout.BoxesPerRowConfig",{isValid:function(o){return/^(([Xx][Ll](?:[1-9]|1[0-2]))? ?([Ll](?:[1-9]|1[0-2]))? ?([Mm](?:[1-9]|1[0-2]))? ?([Ss](?:[1-9]|1[0-2]))?)$/.test(o)}},o.getType("string"));return e});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/mdc/util/loadModules", ["sap/ui/base/SyncPromise","sap/base/assert"],function(r,e){"use strict";return function a(n){e(typeof n==="string"||Array.isArray(n),"vModulePaths"+" param either must be a single string or an array of strings. - sap.ui.mdc.util.loadModules");var i;if(typeof n==="string"){i=[n]}else{i=n}var s=new Map;i.forEach(function(r){var e=sap.ui.require(r);s.set(r,e)});var t=i.filter(function(r){return s.get(r)===undefined});if(t.length===0){var u=Array.from(s.values());return r.resolve(u)}return new r(function(r,e){function a(){var e=Array.from(arguments);t.forEach(function(r,a){s.set(r,e[a])});var a=Array.from(s.values());r(a)}sap.ui.require(t,a,e)})}});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/model/ClientTreeBindingAdapter", ["sap/ui/model/TreeBinding","sap/ui/model/ClientTreeBinding","./TreeBindingAdapter","sap/ui/model/ChangeReason","sap/base/assert","sap/base/Log"],function(e,t,i,o,r,n){"use strict";var p=function(){if(!(this instanceof e)||this._bIsAdapted){return}i.apply(this);for(var t in p.prototype){if(p.prototype.hasOwnProperty(t)){this[t]=p.prototype[t]}}this._invalidTree=true;this.setNumberOfExpandedLevels(this.mParameters.numberOfExpandedLevels||0)};p.prototype.setNumberOfExpandedLevels=function(e){this._iNumberOfExpandedLevels=parseInt(e)};p.prototype.getNumberOfExpandedLevels=function(){return this._iNumberOfExpandedLevels};p.prototype.nodeHasChildren=function(e){r(e,"TreeBindingAdapter.nodeHasChildren: No node given!");if(!e){return false}else if(e.isArtificial){return true}else{return t.prototype.hasChildren.call(this,e.context)}};p.prototype.resetData=function(e,i){var r=t.prototype.resetData.call(this,e,i);this._aRowIndexMap=[];this._oRootNode=undefined;this._iPageSize=0;this._iThreshold=0;if(!i||i.reason!==o.Sort){this.clearSelection();this._createTreeState(true)}return r};p.prototype._calculateGroupID=function(e){var t=this.getPath();var i;if(e.context){var o=e.context.getPath();if(t!="/"){var r=o.match(t+"(.*)");if(r!=null&&r[1]){i=r[1]}else{n.warning("CTBA: BindingPath/ContextPath matching problem!")}}if(!i){i=o}if(i.startsWith("/")){i=i.substring(1,i.length)}var p;if(!e.parent){p=this._calculateGroupID({context:e.context._parentContext||null})}else{p=e.parent.groupID}i=p+i.replace(/\//g,"_")+"/"}else if(e.context===null){i="/"}return i};p.prototype.expand=function(){this._buildTree();i.prototype.expand.apply(this,arguments)};p.prototype.collapse=function(){this._buildTree();i.prototype.collapse.apply(this,arguments)};p.prototype._buildTree=function(e,t){if(this._invalidTree){e=e||0;t=t||this.getRootContexts().length;this._invalidTree=false;this._aRowIndexMap=[];i.prototype._buildTree.call(this,e,t)}};p.prototype.findNode=function(e){this._buildTree();return i.prototype.findNode.apply(this,arguments)};p.prototype.setSelectedIndex=function(e){this._buildTree();i.prototype.setSelectedIndex.apply(this,arguments)};p.prototype.setSelectionInterval=function(e,t){this._buildTree();i.prototype.setSelectionInterval.apply(this,arguments)};p.prototype.addSelectionInterval=function(){this._buildTree();i.prototype.addSelectionInterval.apply(this,arguments)};p.prototype.removeSelectionInterval=function(){this._buildTree();i.prototype.removeSelectionInterval.apply(this,arguments)};p.prototype.clearSelection=function(){this._buildTree();i.prototype.clearSelection.apply(this,arguments)};p.prototype.selectAll=function(){this._buildTree();i.prototype.selectAll.apply(this,arguments)};p.prototype._calculateRequestLength=function(e,t){return e};p.prototype.getLength=function(){this._buildTree();return i.prototype.getLength.apply(this,arguments)};p.prototype._fireChange=function(){this._invalidTree=true;this.constructor.prototype._fireChange.apply(this,arguments)};return p},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/model/TreeAutoExpandMode", [],function(){"use strict";var e={Sequential:"Sequential",Bundled:"Bundled"};return e},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/model/TreeBindingAdapter", ["sap/ui/model/TreeBinding","sap/ui/model/TreeAutoExpandMode","sap/ui/model/ChangeReason","sap/ui/model/TreeBindingUtils","sap/base/assert","sap/base/Log","sap/base/util/each","sap/base/util/isEmptyObject"],function(e,t,i,o,n,r,a,s){"use strict";var d=function(){if(!(this instanceof e)||this._bIsAdapted){return}for(var i in d.prototype){if(d.prototype.hasOwnProperty(i)){this[i]=d.prototype[i]}}this.mParameters=this.mParameters||{};this._aRowIndexMap=[];this._iThreshold=0;this._iPageSize=0;this.setAutoExpandMode(this.mParameters.autoExpandMode||t.Sequential);if(this.mParameters.collapseRecursive===undefined){this.bCollapseRecursive=true}else{this.bCollapseRecursive=!!this.mParameters.collapseRecursive}this._createTreeState();this._bIsAdapted=true};d.prototype.getCurrentTreeState=function(){var e=";",t;var i={};for(t in this._mTreeState.expanded){i[t]=true}var o={};for(t in this._mTreeState.collapsed){o[t]=true}var n={};for(t in this._mTreeState.selected){n[t]=true}return{_getExpandedList:function(){return Object.keys(i).join(e)},_getCollapsedList:function(){return Object.keys(o).join(e)},_getSelectedList:function(){return Object.keys(n).join(e)},_isExpanded:function(e){return!!i[e]},_isCollapsed:function(e){return!!o[e]},_remove:function(e){delete i[e];delete o[e];delete n[e]}}};d.prototype.setTreeState=function(e){this._oInitialTreeState=e};d.prototype.setAutoExpandMode=function(e){this._autoExpandMode=e};d.prototype.getLength=function(){if(!this._oRootNode){return 0}return this._oRootNode.magnitude};d.prototype.getContextByIndex=function(e){if(this.isInitial()){return undefined}var t=this.findNode(e);return t?t.context:undefined};d.prototype.getNodeByIndex=function(e){if(this.isInitial()){return undefined}if(e>=this.getLength()){return undefined}return this.findNode(e)};d.prototype.findNode=function(e){if(this.isInitial()){return undefined}var t=typeof e;var i;var o=[];if(t==="number"){i=this._aRowIndexMap[e];if(!i){var n=-1;this._match(this._oRootNode,o,1,function(t){if(n===e){return true}n+=1;return false});i=o[0]}}return i};d.prototype._createTreeState=function(e){if(!this._mTreeState||e){this._mTreeState={expanded:{},collapsed:{},selected:{},deselected:{}}}};d.prototype._updateTreeState=function(e){e=e||{};var t=e.expanded?this._mTreeState.expanded:this._mTreeState.collapsed;var i=e.expanded?this._mTreeState.collapsed:this._mTreeState.expanded;var o=this._getNodeState(e.groupID);if(!o){o=e.fallbackNodeState||this._createNodeState({groupID:e.groupID,expanded:e.expanded,sum:e.sum})}delete i[e.groupID];t[e.groupID]=o;o.expanded=e.expanded;return o};d.prototype._createNodeState=function(e){if(!e.groupID){n(false,"To create a node state a group ID is mandatory!");return undefined}var t;var i;if(this._oInitialTreeState){t=this._oInitialTreeState._isExpanded(e.groupID);i=this._oInitialTreeState._isCollapsed(e.groupID);this._oInitialTreeState._remove(e.groupID)}var o=e.expanded||t||false;var r=e.selected||false;var a={groupID:e.groupID,expanded:o,sections:e.sections||[{startIndex:0,length:this._iPageSize}],sum:e.sum||false,selected:r};if(t||i){this._updateTreeState({groupID:e.groupID,fallbackNodeState:a,expanded:t,collapsed:i})}return a};d.prototype._getNodeState=function(e){var t=this._mTreeState.expanded[e];var i=this._mTreeState.collapsed[e];var o=this._mTreeState.selected[e];var n=this._mTreeState.deselected[e];return t||i||o||n};d.prototype._updateNodeSections=function(e,t){var i=this._getNodeState(e);if(!i){n(false,"No Node State for Group ID '"+e+"' found!");return undefined}else if(!t){n(false,"No Section given!");return undefined}else if(t.length<=0){n(false,"The length of the given section must be positive greater than 0.");return undefined}else if(t.startIndex<0){n(false,"The sections start index must be greater/equal to 0.");return undefined}i.sections=o.mergeSections(i.sections,t);return i.sections};d.prototype._increaseSections=function(){var e=function(e){if(!e){return}var t=this._getMaxGroupSize(e);var i=e.nodeState;if(t===undefined){var n=[];for(var r=0;r<i.sections.length;r++){var a=i.sections[r];a.length=Math.max(a.length,this._iPageSize);n=o.mergeSections(n,a)}i.sections=n}};this._map(this._oRootNode,e)};d.prototype._getMaxGroupSize=function(e){var t=0;if(e.isArtificial){var i=this.oModel.isList(this.sPath,this.getContext());if(this.bDisplayRootNode&&!i&&!this._bRootMissing){t=1}else{t=this._getGroupSize(e)||0}}else{t=this.nodeHasChildren(e)?this._getGroupSize(e):0}return t};d.prototype.getContexts=function(e,t,i){return this._getContextsOrNodes(false,e,t,i)};d.prototype._getContextsOrNodes=function(e,t,i,o){var n,r,s=[],d=[];if(!this.isResolved()||this.isInitial()){return[]}t=t||0;i=i||this.oModel.iSizeLimit;o=o||0;if(i>this._iPageSize){this._iPageSize=i;this._increaseSections()}this._iThreshold=Math.max(this._iThreshold,o);this._aRowIndexMap=[];this._buildTree(t,i);if(this._oRootNode){d=this._retrieveNodeSection(this._oRootNode,t,i)}this._updateRowIndexMap(d,t);for(var l=0;l<d.length;l++){r=d[l];if(!r.context){n=n||{};var u=r.parent;n[u.groupID]=u;this._updateNodeSections(u.groupID,{startIndex:r.positionInParent,length:1})}s.push(r.context)}if(n){var h=this;a(n,function(e,t){t.magnitude=0;t.numberOfTotals=0;h._loadChildContexts(t)});s=[];for(var p=0;p<d.length;p++){r=d[p];s.push(r.context)}}if(e){return d}else{return s}};d.prototype.getNodes=function(e,t,i){return this._getContextsOrNodes(true,e,t,i)};d.prototype._updateRowIndexMap=function(e,t){this._aRowIndexMap=[];for(var i=0;i<e.length;i++){this._aRowIndexMap[t+i]=e[i]}};d.prototype._retrieveNodeSection=function(e,t,i){var o=-1;var n=[];this._match(this._oRootNode,[],i,function(e,r,a){if(!e||!e.isArtificial){o++}if(o>=t&&o<t+i){if(!e){e=this._createNode({parent:a,positionInParent:r});a.children[r]=e}n.push(e);return true}return false});return n};d.prototype._buildTree=function(e,t){this._oRootNode=undefined;var i=null;var o=this._calculateGroupID({context:i,parent:null});var n=this._getNodeState(o);if(!n){n=this._createNodeState({groupID:o,sum:true,sections:[{startIndex:e,length:t}]});this._updateTreeState({groupID:n.groupID,fallbackNodeState:n,expanded:true})}this._oRootNode=this._createNode({context:i,parent:null,level:this.bDisplayRootNode&&!(i===null)?0:-1,nodeState:n,isLeaf:false,autoExpand:this.getNumberOfExpandedLevels()+1});this._oRootNode.isArtificial=true;if(this._mTreeState.expanded[this._oRootNode.groupID]){this._loadChildContexts(this._oRootNode)}};d.prototype._calculateRequestLength=function(e,t){var i;if(!e){i=t.length}else{i=Math.max(Math.min(t.length,e-t.startIndex),0)}return i};d.prototype._loadChildContexts=function(e){var i=e.nodeState;var o=this._getMaxGroupSize(e);if(o>0){if(!e.children[o-1]){e.children[o-1]=undefined}i.leafCount=o}if(this.bClientOperation){i.sections=[{startIndex:0,length:o}]}for(var n=0;n<i.sections.length;n++){var r=i.sections[n];var a=this._calculateRequestLength(o,r);if(e.autoExpand>=0&&this._autoExpandMode===t.Bundled){a=Math.max(0,o)}var s;if(e.isArtificial){s=this.getRootContexts(r.startIndex,a,this._iThreshold)}else{s=this.nodeHasChildren(e)?this.getNodeContexts(e.context,r.startIndex,a,this._iThreshold):[]}for(var d=0;d<s.length;d++){var l=s[d];if(!l){continue}var u=d+r.startIndex;var h=e.children[u];var p={context:s[d],parent:e,level:e.level+1,positionInParent:u,autoExpand:Math.max(e.autoExpand-1,-1)};if(h){h.context=p.context;h.parent=p.parent;h.level=p.level;h.positionInParent=p.positionInParent;h.magnitude=0;h.numberOfTotals=0;h.autoExpand=p.autoExpand;var f;if(l){f=this._calculateGroupID(h)}h.groupID=f}else{h=this._createNode(p)}h.nodeState=this._getNodeState(h.groupID);if(!h.nodeState){h.nodeState=this._createNodeState({groupID:h.groupID,expanded:false})}h.nodeState.parentGroupID=e.groupID;h.isLeaf=!this.nodeHasChildren(h);e.children[u]=h;if(h.isLeaf){e.numberOfLeafs+=1}if(h.parent.nodeState.selectAllMode&&!this._mTreeState.deselected[h.groupID]){this.setNodeSelection(h.nodeState,true)}if((h.autoExpand>0||h.nodeState.expanded)&&this.isGrouped()){if(!this._mTreeState.collapsed[h.groupID]&&!h.isLeaf){this._updateTreeState({groupID:h.nodeState.groupID,fallbackNodeState:h.nodeState,expanded:true});this._loadChildContexts(h)}e.magnitude+=Math.max(h.magnitude||0,0);e.numberOfLeafs+=h.numberOfLeafs}}}e.magnitude+=Math.max(o||0,0)};d.prototype.isGrouped=function(){return true};d.prototype._calculateGroupID=function(e){r.error("TreeBindingAdapter#_calculateGroupID: Not implemented. Needs to be implemented in respective sub-classes.")};d.prototype._createNode=function(e){e=e||{};var t=e.context;var i=e.level||0;var o={context:t,level:i,children:e.children||[],parent:e.parent,nodeState:e.nodeState,isLeaf:e.isLeaf||false,positionInParent:e.positionInParent,magnitude:e.magnitude||0,numberOfTotals:e.numberOfTotals||0,numberOfLeafs:e.numberOfLeafs||0,autoExpand:e.autoExpand||0,absoluteNodeIndex:e.absoluteNodeIndex||0,totalNumberOfLeafs:0};if(t!==undefined){o.groupID=this._calculateGroupID(o)}return o};d.prototype.expand=function(e,t){var o=this.findNode(e);if(!o){n(false,"No node found for index "+e);return}this._updateTreeState({groupID:o.nodeState.groupID,fallbackNodeState:o.nodeState,expanded:true});if(!t){this._fireChange({reason:i.Expand})}};d.prototype.expandToLevel=function(e){this._mTreeState.collapsed={};this.setNumberOfExpandedLevels(e);this._fireChange({reason:i.Expand})};d.prototype.isExpanded=function(e){var t=this.findNode(e);return t&&t.nodeState?t.nodeState.expanded:false};d.prototype.collapse=function(e,t){var o;var r=this;if(typeof e==="object"){o=e}else if(typeof e==="number"){var s=this.findNode(e);if(!s){n(false,"No node found for index "+e);return}o=s.nodeState}this._updateTreeState({groupID:o.groupID,fallbackNodeState:o,expanded:false});o.selectAllMode=false;if(this.bCollapseRecursive){var d=o.groupID;a(this._mTreeState.expanded,function(e,t){if(typeof d=="string"&&d.length>0&&e.startsWith(d)){r._updateTreeState({groupID:e,expanded:false})}});var l=[];a(this._mTreeState.selected,function(e,t){if(typeof d=="string"&&d.length>0&&e.startsWith(d)&&e!==d){t.selectAllMode=false;r.setNodeSelection(t,false);l.push(e)}});if(l.length){var u={rowIndices:[]};var h=-1;this._map(this._oRootNode,function(e){if(!e||!e.isArtificial){h++}if(e&&l.indexOf(e.groupID)!==-1){if(e.groupID===this._sLeadSelectionGroupID){u.oldIndex=h;u.leadIndex=-1}u.rowIndices.push(h)}});this._publishSelectionChanges(u)}}if(!t){this._fireChange({reason:i.Collapse})}};d.prototype.collapseToLevel=function(e){if(!e||e<0){e=0}var t=this;a(this._mTreeState.expanded,function(i,o){var n=t._getGroupIdLevel(i)-1;if(n===e){t.collapse(o,true)}});if(this.bCollapseRecursive){this.setNumberOfExpandedLevels(e)}this._fireChange({reason:i.Collapse})};d.prototype._map=function(e,t){t.call(this,e);if(!e){return}for(var i=0;i<e.children.length;i++){var o=e.children[i];this._map(o,t)}if(this._afterMapHook){this._afterMapHook(e,t)}};d.prototype._match=function(e,t,i,o,n,r){if(t.length===i){return true}var a=o.call(this,e,n,r);if(a){t.push(e)}if(!e){return false}for(var s=0;s<e.children.length;s++){var d=e.children[s];var l=this._match(d,t,i,o,s,e);if(l){return true}}return this._afterMatchHook?this._afterMatchHook(e,t,i,o,n,r):false};d.prototype.toggleIndex=function(e){var t=this.findNode(e);if(!t){n(false,"There is no node at index "+e+".");return}if(t.nodeState.expanded){this.collapse(e)}else{this.expand(e)}};d.prototype._getGroupIdLevel=function(e){if(e==null){r.warning("assertion failed: no need to determine level of group ID = null");return-1}return e.split("/").length-2};d.prototype._getGroupSize=function(e){return this.getChildCount(e.context)};d.prototype.setNodeSelection=function(e,t){if(!e.groupID){n(false,"NodeState must have a group ID!");return}e.selected=t;if(t){this._mTreeState.selected[e.groupID]=e;delete this._mTreeState.deselected[e.groupID]}else{delete this._mTreeState.selected[e.groupID];this._mTreeState.deselected[e.groupID]=e}};d.prototype.isIndexSelected=function(e){var t=this.getNodeByIndex(e);return t&&t.nodeState?t.nodeState.selected:false};d.prototype.isIndexSelectable=function(e){var t=this.getNodeByIndex(e);return this._isNodeSelectable(t)};d.prototype._isNodeSelectable=function(e){return!!e&&!e.isArtificial};d.prototype.setSelectedIndex=function(e){var t=this.findNode(e);if(t&&this._isNodeSelectable(t)){var i=this._clearSelection();var o=i.rowIndices.indexOf(e);if(o>=0){i.rowIndices.splice(o,1)}else{i.rowIndices.push(e)}i.leadGroupID=t.groupID;i.leadIndex=e;this.setNodeSelection(t.nodeState,true);this._publishSelectionChanges(i)}else{r.warning("TreeBindingAdapter: The selection was ignored. Please make sure to only select rows, for which data has been fetched to the client. For AnalyticalTables, some rows might not be selectable at all.")}};d.prototype.getSelectedIndex=function(){if(!this._sLeadSelectionGroupID||s(this._mTreeState.selected)){return-1}var e=-1;var t=false;var i=function(i){if(!i||!i.isArtificial){e++}if(i){if(i.groupID===this._sLeadSelectionGroupID){t=true;return true}}return false};this._match(this._oRootNode,[],1,i);if(t){return e}return-1};d.prototype.getSelectedIndices=function(){var e=[];var t=this;if(s(this._mTreeState.selected)){return e}var i=Object.keys(this._mTreeState.selected).length;var o=-1;var n=function(i){if(!i||!i.isArtificial){o++}if(i){if(i.nodeState&&i.nodeState.selected&&!i.isArtificial){e.push(o);t._aRowIndexMap[o]=i;return true}}return false};this._match(this._oRootNode,[],i,n);return e};d.prototype.getSelectedNodesCount=function(){var e;if(this._oRootNode&&this._oRootNode.nodeState.selectAllMode){var t,i,o,n;var r,a=[];if(this.filterInfo&&this.oCombinedFilter){for(var s=this.filterInfo.aFilteredContexts.length-1;s>=0;s--){r=this.filterInfo.aFilteredContexts[s];a.push(this._calculateGroupID({context:r}))}}i=0;for(t in this._mTreeState.expanded){if(!this.oCombinedFilter||a.indexOf(t)!==-1){n=this._mTreeState.expanded[t];if(!n.selectAllMode&&n.leafCount!==undefined){i+=n.leafCount}}}for(t in this._mTreeState.selected){if(!this.oCombinedFilter||a.indexOf(t)!==-1){n=this._mTreeState.selected[t];o=this._mTreeState.expanded[n.parentGroupID];if(o&&!o.selectAllMode){i--}}}for(t in this._mTreeState.deselected){if(!this.oCombinedFilter||a.indexOf(t)!==-1){n=this._mTreeState.deselected[t];o=this._mTreeState.expanded[n.parentGroupID];if(o&&o.selectAllMode){i++}}}e=this._getSelectableNodesCount(this._oRootNode)-i}else{e=Object.keys(this._mTreeState.selected).length}return e};d.prototype._getSelectableNodesCount=function(e){if(e){return e.magnitude}else{return 0}};d.prototype.getSelectedContexts=function(){var e=[];var t=this;if(s(this._mTreeState.selected)){return e}var i=Object.keys(this._mTreeState.selected).length;var o=-1;var n=function(i){if(!i||!i.isArtificial){o++}if(i){if(i.nodeState&&i.nodeState.selected&&!i.isArtificial){e.push(i.context);t._aRowIndexMap[o]=i;return true}}return false};this._match(this._oRootNode,[],i,n);return e};d.prototype.setSelectionInterval=function(e,t){var i,o,n=this._clearSelection(),r={},a=[],s=this._setSelectionInterval(e,t,true);for(i=0;i<n.rowIndices.length;i++){o=n.rowIndices[i];r[o]=true}for(i=0;i<s.rowIndices.length;i++){o=s.rowIndices[i];if(r[o]){delete r[o]}else{r[o]=true}}for(o in r){if(r[o]){a.push(parseInt(o))}}this._publishSelectionChanges({rowIndices:a,oldIndex:n.oldIndex,leadIndex:s.leadIndex,leadGroupID:s.leadGroupID})};d.prototype._setSelectionInterval=function(e,t,i){var o=Math.min(e,t);var n=Math.max(e,t);var r=[];var a=[];var s=Math.abs(n-o)+1;var d;var l=-1;var u=function(e){if(!e||!e.isArtificial){l++}if(e){if(l>=o&&l<=n){if(this._isNodeSelectable(e)){if(e.nodeState.selected!==!!i){a.push(l)}if(e.groupID===this._sLeadSelectionGroupID){d=l}this.setNodeSelection(e.nodeState,!!i)}return true}}return false};this._match(this._oRootNode,r,s,u);var h={rowIndices:a,oldIndex:d,leadIndex:d&&!i?-1:undefined};if(r.length>0&&i){var p=r[r.length-1];h.leadGroupID=p.groupID;h.leadIndex=n}return h};d.prototype.addSelectionInterval=function(e,t){var i=this._setSelectionInterval(e,t,true);this._publishSelectionChanges(i)};d.prototype.removeSelectionInterval=function(e,t){var i=this._setSelectionInterval(e,t,false);this._publishSelectionChanges(i)};d.prototype.selectAll=function(){this._mTreeState.deselected={};var e={rowIndices:[],oldIndex:-1,selectAll:true};var t=-1;this._map(this._oRootNode,function(i){if(!i||!i.isArtificial){t++}if(i){if(i.groupID===this._sLeadSelectionGroupID){e.oldIndex=t}if(this._isNodeSelectable(i)){if(i.nodeState.selected!==true){e.rowIndices.push(t)}this.setNodeSelection(i.nodeState,true);e.leadGroupID=i.groupID;e.leadIndex=t}if(i.nodeState.expanded){i.nodeState.selectAllMode=true}}});this._publishSelectionChanges(e)};d.prototype._clearSelection=function(){var e=-1;var t=-1;var i;var o=[];if(this._oRootNode&&!this._oRootNode.nodeState.selectAllMode){i=0;for(var n in this._mTreeState.selected){if(n){i++}}}var r=function(i){if(!i||!i.isArtificial){e++}if(i){i.nodeState.selectAllMode=false;if(this._mTreeState.selected[i.groupID]){if(!i.isArtificial){o.push(e)}this.setNodeSelection(i.nodeState,false);if(i.groupID===this._sLeadSelectionGroupID){t=e}return true}}return false};this._match(this._oRootNode,[],i,r);if(this._oRootNode&&this._oRootNode.nodeState&&this._oRootNode.isArtificial){this._oRootNode.nodeState.selectAllMode=false}return{rowIndices:o,oldIndex:t,leadIndex:-1}};d.prototype.clearSelection=function(e){var t=this._clearSelection();if(!e){this._publishSelectionChanges(t)}};d.prototype._publishSelectionChanges=function(e){e.oldIndex=e.oldIndex||this.getSelectedIndex();e.rowIndices.sort(function(e,t){return e-t});if(e.leadIndex>=0&&e.leadGroupID){this._sLeadSelectionGroupID=e.leadGroupID}else if(e.leadIndex===-1){this._sLeadSelectionGroupID=undefined}else{e.leadIndex=e.oldIndex}if(e.rowIndices.length>0||e.leadIndex!=undefined&&e.leadIndex!==-1){this.fireSelectionChanged(e)}};d.prototype.setCollapseRecursive=function(e){this.bCollapseRecursive=!!e};d.prototype.getCollapseRecursive=function(){return this.bCollapseRecursive};d.prototype.attachSelectionChanged=function(e,t,i){this.attachEvent("selectionChanged",e,t,i);return this};d.prototype.detachSelectionChanged=function(e,t){this.detachEvent("selectionChanged",e,t);return this};d.prototype.fireSelectionChanged=function(e){this.fireEvent("selectionChanged",e);return this};return d},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/model/TreeBindingCompatibilityAdapter", ["sap/base/util/each"],function(t){"use strict";var e=function(e,n){Object.assign(e,{_init:function(t){this._bExpandFirstLevel=t;this.mContextInfo={};this._initContexts();if(t&&!this._bFirstLevelExpanded){this._expandFirstLevel()}},_initContexts:function(t){this.aContexts=this.getRootContexts(0,Number.MAX_VALUE);for(var e=0,n=this.aContexts.length;e<n;e++){var i=this._getContextInfo(this.aContexts[e]);this._setContextInfo({oContext:this.aContexts[e],iLevel:0,bExpanded:i?i.bExpanded:false})}if(this._bExpandFirstLevel&&!this._bFirstLevelExpanded){this._expandFirstLevel(t)}},_expandFirstLevel:function(e){var n=this;if(this.aContexts&&this.aContexts.length>0){t(this.aContexts.slice(),function(t,i){if(!e){n._loadChildContexts(i)}n._getContextInfo(i).bExpanded=true});this._bFirstLevelExpanded=true}},_fnFireFilter:e._fireFilter,_fireFilter:function(){this._fnFireFilter.apply(this,arguments);this._initContexts(true);this._restoreContexts(this.aContexts)},_fnFireChange:e._fireChange,_fireChange:function(){this._fnFireChange.apply(this,arguments);this._initContexts(true);this._restoreContexts(this.aContexts)},_restoreContexts:function(e){var n=this;var i=[];t(e.slice(),function(t,e){var o=n._getContextInfo(e);if(o&&o.bExpanded){i.push.apply(i,n._loadChildContexts(e))}});if(i.length>0){this._restoreContexts(i)}},_loadChildContexts:function(t){var e=this._getContextInfo(t);var n=this.aContexts?this.aContexts.indexOf(t):-1;var i=this.getNodeContexts(t,0,Number.MAX_VALUE);for(var o=0,s=i.length;o<s;o++){this.aContexts.splice(n+o+1,0,i[o]);var a=this._getContextInfo(i[o]);this._setContextInfo({oParentContext:t,oContext:i[o],iLevel:e.iLevel+1,bExpanded:a?a.bExpanded:false})}return i},_getContextInfo:function(t){return t?this.mContextInfo[t.getPath()]:undefined},_setContextInfo:function(t){if(t&&t.oContext){this.mContextInfo[t.oContext.getPath()]=t}},getLength:function(){return this.aContexts?this.aContexts.length:0},getContexts:function(t,e){return this.aContexts.slice(t,t+e)},getNodes:function(t,e){var n=this.getContexts(t,t+e);var i=[];for(var o=0;o<n.length;o++){var s=this._getContextInfo(n[o])||{};var a=n[o];i.push({context:a,level:s.iLevel,parent:s.oParentContext,nodeState:{expanded:s.bExpanded,collapsed:!s.bExpanded,selected:false}})}return i},hasChildren:function(){return true},nodeHasChildren:function(){return true},getContextByIndex:function(t){return this.aContexts[t]},getLevel:function(t){var e=this._getContextInfo(t);return e?e.iLevel:-1},isExpanded:function(t){var e=this.getContextByIndex(t);var n=this._getContextInfo(e);return n?n.bExpanded:false},expandContext:function(t){var e=this._getContextInfo(t);if(e&&!e.bExpanded){this.storeSelection();this._loadChildContexts(t);e.bExpanded=true;this._fireChange();this.restoreSelection()}},expand:function(t){this.expandContext(this.getContextByIndex(t))},collapseContext:function(t,e){var n=this._getContextInfo(t);if(n&&n.bExpanded){this.storeSelection();for(var i=this.aContexts.length-1;i>0;i--){if(this._getContextInfo(this.aContexts[i]).oParentContext===t){this.aContexts.splice(i,1)}}n.bExpanded=false;if(!e){this._fireChange()}this.restoreSelection()}},collapse:function(t){this.collapseContext(this.getContextByIndex(t))},collapseToLevel:function(t){if(!t||t<0){t=0}var e=this.aContexts.slice();for(var n=e.length-1;n>=0;n--){var i=this.getLevel(e[n]);if(i!=-1&&i>=t){this.collapseContext(e[n],true)}}this._fireChange()},toggleContext:function(t){var e=this._getContextInfo(t);if(e){if(e.bExpanded){this.collapseContext(t)}else{this.expandContext(t)}}},toggleIndex:function(t){this.toggleContext(this.getContextByIndex(t))},storeSelection:function(){var e=n.getSelectedIndices();var i=[];t(e,function(t,e){i.push(n.getContextByIndex(e))});this._aSelectedContexts=i},restoreSelection:function(){n.clearSelection();var e=this._aSelectedContexts;t(this.aContexts,function(t,i){if((e?e.indexOf(i):-1)>=0){n.addSelectionInterval(t,t)}});this._aSelectedContexts=undefined},attachSelectionChanged:function(){return undefined},detachSelectionChanged:function(){},clearSelection:function(){n._oSelection.clearSelection()},attachSort:function(){},detachSort:function(){}});e._init(n.getExpandFirstLevel())};return e},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/model/TreeBindingUtils", function(){"use strict";var i=function(){};i.mergeSections=function(i,e){var t=[];for(var r=0;r<i.length;r++){var n=i[r];var s=n.startIndex+n.length;var a=e.startIndex+e.length;if(e.startIndex<=s&&a>=s&&e.startIndex>=n.startIndex){e.startIndex=n.startIndex;e.length=a-n.startIndex}else if(e.startIndex<=n.startIndex&&a>=n.startIndex&&a<=s){e.length=s-e.startIndex}else if(e.startIndex>=n.startIndex&&a<=s){e.startIndex=n.startIndex;e.length=n.length}else if(a<n.startIndex||e.startIndex>s){t.push(n)}}t.push(e);return t};i._determineRequestDelta=function(i,e){var t=i.iSkip+i.iTop;var r=e.iSkip+e.iTop;if(i.iSkip===e.iSkip&&i.iTop===e.iTop){return false}else if(i.iSkip<e.iSkip&&t>e.iSkip&&t<=r){i.iTop=e.iSkip-i.iSkip;if(i.iThreshold){i.iTop=i.iTop+i.iThreshold;i.iSkip=Math.max(0,i.iSkip-i.iThreshold);i.iThreshold=0}}else if(i.iSkip<r&&t>r&&i.iSkip>=e.iSkip){i.iSkip=r;i.iTop=t-i.iSkip;if(i.iThreshold){i.iTop+=i.iThreshold;i.iThreshold=0}}else if(i.iSkip>=e.iSkip&&t<=r){return false}else if(i.iSkip<=e.iSkip&&t>=r){e.oRequestHandle.abort()}else if(t<=e.iSkip||i.iSkip>=r){}return undefined};return i});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/model/base/ManagedObjectModel", ["../json/JSONModel","../json/JSONPropertyBinding","../json/JSONListBinding","sap/ui/base/ManagedObject","sap/ui/base/ManagedObjectObserver","../Context","../ChangeReason","sap/base/util/uid","sap/base/Log","sap/base/util/isPlainObject","sap/base/util/deepClone"],function(e,t,i,r,n,s,o,a,g,f,p){"use strict";var h="@custom",d="--";function u(e,t,i,n){var s=i.get(t)||[],o,a;if(s&&!Array.isArray(s)&&!i.multiple){s=[s]}for(var g=0;g<s.length;g++){o=s[g];if(!(o instanceof r)){continue}a=true;if(n){e._oObserver.observe(o,{properties:true,aggregations:true})}else{e._oObserver.unobserve(o,{properties:true,aggregations:true})}var f=o.getMetadata().getAllAggregations();for(var p in f){u(e,o,f[p],n)}}if(a){var p=t.getId()+"/@"+i.name;if(n){if(!e._mObservedCount.aggregations[p]){e._mObservedCount.aggregations[p]=0}e._mObservedCount.aggregations[p]++}else{delete e._mObservedCount.aggregations[p]}}}function l(e){var t,i=e.length-1,n=[];while(!(e[i].node instanceof r)){if(t){n.splice(0,0,t)}t=e[i].path;i--}return[e[i].node,e[i+1],n,t]}function c(e){var t="",i;var n=typeof e;if(e==null||n!="object"&&n!="function"){t=e}else if(f(e)){t=JSON.stringify(e)}else if(e instanceof r){t=e.getId();for(i in e.mProperties){t=t+"$"+c(e.mProperties[i])}}else if(Array.isArray(e)){for(var s=0;e.length;s++){t=t+"$"+c(e)}}else{g.warning("Could not stringify object "+e);t="$"}return t}var v=i.extend("sap.ui.model.base.ManagedObjectModelAggregationBinding",{constructor:function(){i.apply(this,arguments);this._getOriginOfManagedObjectModelBinding()},_mightBeAffectedByChangesInside:function(e){while(e){if(e.getParent()===this._oOriginMO){return true}e=e.getParent()}return false},getEntryKey:function(e){var t=e.getObject();if(t instanceof r){return t.getId()}return i.prototype.getEntryKey.apply(this,arguments)},getEntryData:function(e){var t=e.getObject();if(t instanceof r){return c(t)}return i.prototype.getEntryData.apply(this,arguments)},_getContexts:function(e,t){var r;if(this._oAggregation){var n=this._oOriginMO.getBinding(this._sMember);if(n){var s=n.getModel();r=s.iSizeLimit}var o=this._oOriginMO.getBindingInfo(this._sMember);if(o&&e>=0&&t&&r&&t>r){var a=false;if(e!=o.startIndex){o.startIndex=e;a=true}if(t!=o.length){o.length=t;a=true}if(a){this._oAggregation.update(this._oOriginMO,"change")}}}return i.prototype._getContexts.apply(this,arguments)},_getOriginOfManagedObjectModelBinding:function(){if(!this._oOriginMO){var e=this.oModel,t=[];e._getObject(this.sPath,this.oContext,t);var i=l(t);this._oOriginMO=i[0];this._aPartsInJSON=i[2];this._sMember=i[3];this._oAggregation=this._oOriginMO.getMetadata().getAggregation(this._sMember)}},getLength:function(){if(this._aPartsInJSON.length==0){var e=this._oOriginMO.getBinding(this._sMember);if(e&&e.isA("sap.ui.model.ListBinding")){return e.getLength()}}return i.prototype.getLength.apply(this,arguments)},isLengthFinal:function(){if(this._aPartsInJSON.length==0){var e=this._oOriginMO.getBinding(this._sMember);if(e&&e.isA("sap.ui.model.ListBinding")){return e.isLengthFinal()}}return true}});var b=t.extend("sap.ui.model.base.ManagedObjectModelPropertyBinding");var y=e.extend("sap.ui.model.base.ManagedObjectModel",{constructor:function(t,i){if(!i&&typeof i!="object"){i={}}i[h]={};this._oObject=t;this._mObservedCount={properties:{},aggregations:{}};this.mListBinding={};e.apply(this,[i]);this._oObserver=new n(this.observerChanges.bind(this));this.setSizeLimit(1e6)}});y.prototype.getAggregation=e.prototype.getProperty;y.prototype.setData=function(t,i){var r={};r[h]=t;e.prototype.setData.apply(this,[r,i])};y.prototype.getJSON=function(){return JSON.stringify(this.oData[h])};y.prototype.setProperty=function(t,i,n,s){var o=this.resolve(t,n),a,f,d;if(!o){return false}if(o.indexOf("/"+h)===0){return e.prototype.setProperty.apply(this,arguments)}a=o.lastIndexOf("/");f=o.substring(0,a||1);d=o.substr(a+1);var u=[],c=this._getObject(f,null,u);if(c){if(c instanceof r){var v=c.getMetadata().getManagedProperty(d);if(v){if(v.get(c)!==i){v.set(c,i);var b=function(e){var t=this.resolve(e.sPath,e.oContext);return t?t.startsWith(o):false}.bind(this);this.checkUpdate(false,s,b);return true}}else{g.warning("The setProperty method only supports properties, the path "+o+" does not point to a property",null,"sap.ui.model.base.ManagedObjectModel")}}else if(c[d]!==i){var y=l(u);var O=p(y[1].node),_=y[2];var m=O;for(var M=0;M<_.length;M++){m=m[_[M]]}m[d]=i;var C="/"+d;if(_.length>0){C="/"+_.join("/")+C}var j=o.lastIndexOf(C);var A=o.substr(0,j);return this.setProperty(A,O,n)}}return false};y.prototype.addBinding=function(t){e.prototype.addBinding.apply(this,arguments);if(t instanceof v){var i=t.sPath.replace("/","");this.mListBinding[i]=t}t.checkUpdate(false)};y.prototype.removeBinding=function(t){e.prototype.removeBinding.apply(this,arguments);if(t instanceof v){var i=t.sPath.replace("/","");delete this.mListBinding[i]}this._observeBeforeEvaluating(t,false)};y.prototype.firePropertyChange=function(t){if(t.reason===o.Binding){t.resolvedPath=this.resolve(t.path,t.context)}e.prototype.firePropertyChange.call(this,t)};y.prototype.bindAggregation=function(t,i,r){return e.prototype.bindProperty.apply(this,arguments)};y.prototype.bindProperty=function(e,t,i){var r=new b(this,e,t,i);return r};y.prototype.bindList=function(e,t,i,r,n){var s=new v(this,e,t,i,r,n);return s};y.prototype.getManagedObject=function(e,t){if(e instanceof s){t=e;e=t.getPath()}var i=this.getProperty(e,t);if(i instanceof r){return i}return null};y.prototype.getRootObject=function(){return this._oObject};y.prototype._observePropertyChange=function(e,t){if(!e||!t){return}var i=e.getId()+"/@"+t.name;if(!this._oObserver.isObserved(e,{properties:[t.name]})){this._oObserver.observe(e,{properties:[t.name]});this._mObservedCount.properties[i]=1}else{this._mObservedCount.properties[i]++}};y.prototype._unobservePropertyChange=function(e,t){if(!e||!t){return}var i=e.getId()+"/@"+t.name;this._mObservedCount.properties[i]--;if(this._mObservedCount.properties[i]==0){this._oObserver.unobserve(e,{properties:[t.name]});delete this._mObservedCount.properties[i]}};y.prototype._observeAggregationChange=function(e,t){if(!e||!t){return}var i=e.getId()+"/@"+t.name;if(!this._oObserver.isObserved(e,{aggregations:[t.name]})){this._oObserver.observe(e,{aggregations:[t.name]});this._mObservedCount.aggregations[i]=1;u(this,e,t,true)}else{this._mObservedCount.aggregations[i]++}};y.prototype._unobserveAggregationChange=function(e,t){if(!e||!t){return}var i=e.getId()+"/@"+t.name;this._mObservedCount.aggregations[i]--;if(this._mObservedCount.aggregations[i]==0){this._oObserver.unobserve(e,{aggregations:[t.name]});delete this._mObservedCount.aggregations[i]}};y.prototype._createId=function(e){var t=this._oObject;if(typeof t.createId==="function"){return t.createId(e)}if(!e){return t.getId()+d+a()}if(e.indexOf(t.getId()+d)!=0){return t.getId()+d+e}return e};y.prototype._getSpecialNode=function(e,t,i,n){if(e instanceof r){if(t==="className"){if(e.getMetadata){return e.getMetadata().getName()}else{return typeof e}}else if(t==="id"){return e.getId()}else if(t==="metadataContexts"){return e._oProviderData}}else if(t==="binding"&&i&&n){return i.getBinding(n)}else if(t==="bound"&&i&&n){return i.isBound(n)}else if(t==="bindingInfo"&&i&&n){return i.getBindingInfo(n)}else if(Array.isArray(e)){if(t==="length"){return e.length}else if(t.indexOf("id=")===0){var s=t.substring(3),o=null;for(var a=0;a<e.length;a++){if(e[a].getId()===this._createId(s)||e[a].getId()===s){o=e[a];break}}return o}}return null};y.prototype._getObject=function(t,i,n){var o=this._oObject,a="",g=this;if(n){n.push({path:"/",node:o})}this.aBindings.forEach(function(e){if(!e._bAttached){g._observeBeforeEvaluating(e,true)}});if(typeof t==="string"&&t.indexOf("/")!=0&&!i){return null}if(i instanceof r){o=i;a=t}else if(!i||i instanceof s){a=this.resolve(t,i);if(!a){return o}if(a.indexOf("/"+h)===0){return e.prototype._getObject.apply(this,[t,i])}}else{o=i;a=t}if(!o){return null}var p=a.split("/"),d=0;if(!p[0]){d++}var u=null,l=null,c;while(o!==null&&p[d]){c=p[d];if(c=="id"){c="@id"}if(c.indexOf("@")===0){o=this._getSpecialNode(o,c.substring(1),u,l)}else if(o instanceof r){var v=o.getMetadata();if(v.isInstanceOf("sap.ui.core.IDScope")&&c.indexOf("#")===0){o=o.byId(c.substring(1))}else{u=o;l=c;var b=v.getManagedProperty(c);if(b){o=b.get(o)}else{var y=v.getManagedAggregation(c);if(y){o=y.get(o)}else{if(o&&o[c]&&typeof o[c]==="function"){o=o[c]()}else{o=null}}}}}else if(Array.isArray(o)||f(o)){o=o[c]}else{if(o&&o[c]&&typeof o[c]==="function"){o=o[c]()}else{o=null}}if(n){n.push({path:c,node:o})}d++}return o};y.prototype.destroy=function(){for(var t in this._mAggregationObjects){var i=this._mAggregationObjects[t];if(i.object.invalidate.fn){i.object.invalidate=i.object.invalidate.fn}}e.prototype.destroy.apply(this,arguments)};y.prototype._observeBeforeEvaluating=function(e,t){if(!e.isResolved()){return}var i=e.getPath();var n=e.getContext(),o=this._oObject,a;if(n instanceof r){o=n;a=i}else if(!n||n instanceof s){a=this.resolve(i,n);if(!a){return}if(a.indexOf("/"+h)===0){return}}else{return}var g=a.split("/");if(!g[0]){g.shift()}var f=g[0];if(o.getMetadata().isInstanceOf("sap.ui.core.IDScope")&&f.indexOf("#")===0){o=o.byId(f.substring(1));f=g[1]}if(o instanceof r){var p=o.getMetadata(),d=p.getManagedProperty(f);if(d){if(t===true){this._observePropertyChange(o,d)}else if(t===false){this._unobservePropertyChange(o,d)}}else{var u=p.getAggregation(f)||p.getAllPrivateAggregations()[f];if(u){if(t===true){this._observeAggregationChange(o,u)}else if(t===false){this._unobserveAggregationChange(o,u)}}}e._bAttached=t}};y.prototype.observerChanges=function(e){if(e.type=="aggregation"){var t={};if(e.child instanceof r){t=e.child.getMetadata().getAllAggregations()}if(e.mutation=="insert"){if(e.child instanceof r){this._oObserver.observe(e.child,{properties:true,aggregations:true})}for(var i in t){u(this,e.child,t[i],true)}if(this.mListBinding[e.name]){var n=this._oObject.getBinding(e.name);var s=this._oObject.getAggregation(e.name);if(n&&n.getCurrentContexts().length!=s.length){return}}}else{if(e.child instanceof r){this._oObserver.unobserve(e.child,{properties:true,aggregations:true})}for(var i in t){u(this,e.child,t[i],false)}}}else if(e.type==="property"){this.aBindings.forEach(function(t){if(t._mightBeAffectedByChangesInside&&t._mightBeAffectedByChangesInside(e.object)){t.checkUpdate(true)}})}this.checkUpdate()};y.prototype.checkUpdate=function(e,t,i){if(t){this.bForceUpdate=this.bForceUpdate||e;if(!this.sUpdateTimer){this.fnFilter=this.fnFilter||i;this.sUpdateTimer=setTimeout(function(){this.checkUpdate(this.bForceUpdate,false,this.fnFilter)}.bind(this),0)}else if(this.fnFilter&&this.fnFilter!==i){this.fnFilter=undefined}return}e=this.bForceUpdate||e;i=!this.fnFilter||this.fnFilter===i?i:undefined;if(this.sUpdateTimer){clearTimeout(this.sUpdateTimer);this.sUpdateTimer=null;this.bForceUpdate=undefined;this.fnFilter=undefined}var r=this.aBindings.slice(0);r.forEach(function(t){if(!i||i(t)){t.checkUpdate(e)}})};return y});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/model/controlhelper/TreeBindingProxy", ["sap/base/assert"],function(e){"use strict";var t=function(e,t){this._oControl=e;this._sAggregation=t;var n=new URLSearchParams(window.location.search);this._bEnableV4=n.get("sap-ui-xx-v4tree")==="true"};t.prototype.isTreeBinding=function(){var e=this._oControl.getModel(this._oControl.getBindingInfo(this._sAggregation).model);if(e.isA("sap.ui.model.odata.v4.ODataModel")){return false}return true};t.prototype.isLeaf=function(e){var t=this._oControl.getBinding();var n=this._getBindingName(t);switch(n){case undefined:return true;case"sap.ui.model.odata.v4.ODataListBinding":if(!this._bEnableV4){throw new Error("UnsupportedOperationException: OData V4 is not supported")}var i=this.getContextByIndex(e);return i?i.getProperty("@$ui5.node.isExpanded")===undefined:true;default:var o=this.getNodeByIndex(e);return!t.nodeHasChildren(o)}};t.prototype.getNodeByIndex=function(e){var t=this._oControl.getBinding();var n=this._getBindingName(t);switch(n){case undefined:return undefined;case"sap.ui.model.odata.v4.ODataListBinding":if(!this._bEnableV4){throw new Error("UnsupportedOperationException: OData V4 is not supported")}return this.getContextByIndex(e);default:return t.getNodeByIndex(e)}};t.prototype.getContextByIndex=function(e){var t=this._oControl.getBinding();var n=this._getBindingName(t);switch(n){case undefined:return undefined;case"sap.ui.model.odata.v4.ODataListBinding":if(!this._bEnableV4){throw new Error("UnsupportedOperationException: OData V4 is not supported")}return t.getContexts(e,1,0,true)[0];default:return t.getContextByIndex(e)}};t.prototype.isExpanded=function(e){var t=this._oControl.getBinding();var n=this._getBindingName(t);switch(n){case undefined:return false;case"sap.ui.model.odata.v4.ODataListBinding":if(!this._bEnableV4){throw new Error("UnsupportedOperationException: OData V4 is not supported")}var i=this.getContextByIndex(e);return i?!!i.getProperty("@$ui5.node.isExpanded"):false;default:return t?t.isExpanded(e):false}};t.prototype.expand=function(e){var t=this._oControl.getBinding();var o=this._getBindingName(t);var r={proxy:this,binding:t,indices:e,expanded:true};if(typeof r.indices==="number"){r.indices=[e]}switch(o){case undefined:break;case"sap.ui.model.odata.v4.ODataListBinding":if(!this._bEnableV4){throw new Error("UnsupportedOperationException: OData V4 is not supported")}i(r);break;default:n(r)}};t.prototype.collapse=function(e){var t=this._oControl.getBinding();var o=this._getBindingName(t);var r={proxy:this,binding:t,indices:e,expanded:false};if(typeof r.indices==="number"){r.indices=[e]}switch(o){case undefined:break;case"sap.ui.model.odata.v4.ODataListBinding":if(!this._bEnableV4){throw new Error("UnsupportedOperationException: OData V4 is not supported")}i(r);break;default:n(r)}};function n(e){var t=e.indices.filter(function(t){return t>=0&&t<e.binding.getLength()&&!e.proxy.isLeaf(t)&&e.expanded!==e.proxy.isExpanded(t)}).sort(function(e,t){return e-t});if(t.length===0){return}for(var n=t.length-1;n>0;n--){if(e.expanded){e.binding.expand(t[n],true)}else{e.binding.collapse(t[n],true)}}if(e.expanded){e.binding.expand(t[0],false)}else{e.binding.collapse(t[0],false)}}function i(e){for(var t=0;t<e.indices.length;t++){var n=e.proxy.getContextByIndex(e.indices[t]);if(n){if(e.expanded){n.expand()}else{n.collapse()}}}}t.prototype.toggleExpandedState=function(e){if(this.isExpanded(e)){this.collapse(e)}else{this.expand(e)}};t.prototype.getContexts=function(e,t,n,i){var o=this._oControl.getBinding();var r=this._getBindingName(o);var a=[];var s=0;switch(r){case undefined:break;case"sap.ui.model.odata.v4.ODataListBinding":if(!this._bEnableV4){throw new Error("UnsupportedOperationException: OData V4 is not supported")}a=o.getContexts(e,t,n,i);break;default:s=1;var d=o?o.getNodes(e,t,n):[];d.forEach(function(e){var t=e.context;if(e.context){if(e.nodeState){t["_mProxyInfo"]={};t["_mProxyInfo"].nodeState=e.nodeState}a.push(e.context)}},this);break}for(var p=0;p<a.length;p++){var u=p+e;var l=a[p];if(!l){continue}if(!l["_mProxyInfo"]){l["_mProxyInfo"]={}}l["_mProxyInfo"].level=this.getLevel(u)+s;l["_mProxyInfo"].isLeaf=this.isLeaf(u);l["_mProxyInfo"].isExpanded=this.isExpanded(u)}return a};t.prototype.collapseAll=function(){var e=this._oControl.getBinding();var t=this._getBindingName(e);switch(t){case undefined:break;case"sap.ui.model.odata.v4.ODataListBinding":if(!this._bEnableV4){throw new Error("UnsupportedOperationException: OData V4 is not supported")}throw Error("Collapsing all nodes is not supported with your current binding.");default:e.collapseToLevel(0)}};t.prototype.expandToLevel=function(t){var n=this._oControl.getBinding();var i=this._getBindingName(n);switch(i){case undefined:break;case"sap.ui.model.odata.v4.ODataListBinding":if(!this._bEnableV4){throw new Error("UnsupportedOperationException: OData V4 is not supported")}throw Error("Expanding all nodes to a certain level is not supported with"+" your current binding.");default:if(n.expandToLevel){n.expandToLevel(t)}else{e(n.expandToLevel,"Expanding all nodes to a certain level"+" is not supported with your current binding.")}}};t.prototype.setRootLevel=function(t){var n=this._oControl.getBinding();var i=this._getBindingName(n);switch(i){case undefined:break;case"sap.ui.model.odata.v4.ODataListBinding":if(!this._bEnableV4){throw new Error("UnsupportedOperationException: OData V4 is not supported")}throw Error("Setting the root level is not supported with your current binding.");default:if(n.setRootLevel){n.setRootLevel(t)}else{e(n.setRootLevel,"Setting the root level is not supported with"+" your current binding.")}}};t.prototype.setCollapseRecursive=function(t){var n=this._oControl.getBinding();var i=this._getBindingName(n);switch(i){case undefined:break;case"sap.ui.model.odata.v4.ODataListBinding":if(!this._bEnableV4){throw new Error("UnsupportedOperationException: OData V4 is not supported")}throw Error("Setting 'collapseRecursive' is not supported with your"+" current binding.");default:if(n.setCollapseRecursive){n.setCollapseRecursive(t)}else{e(n.setCollapseRecursive,"Setting 'collapseRecursive' is"+" not supported with your current binding.")}}};t.prototype.getLevel=function(e){var t=this._oControl.getBinding();var n=this._getBindingName(t);switch(n){case undefined:return undefined;case"sap.ui.model.odata.v4.ODataListBinding":if(!this._bEnableV4){throw new Error("UnsupportedOperationException: OData V4 is not supported")}var i=this.getContextByIndex(e);return i?i.getProperty("@$ui5.node.level"):undefined;default:var o=this.getNodeByIndex(e);return o?o.level:undefined}};t.prototype.getSiblingCount=function(e){var t=this._oControl.getBinding();var n=this._getBindingName(t);switch(n){case undefined:return 0;case"sap.ui.model.odata.v4.ODataListBinding":if(!this._bEnableV4){throw new Error("UnsupportedOperationException: OData V4 is not supported")}throw Error("The number of siblings of a node cannot be determined"+" with your current binding.");default:var i=this.getNodeByIndex(e);return i&&i.parent?i.parent.children.length:0}};t.prototype.getPositionInParent=function(e){var t=this._oControl.getBinding();var n=this._getBindingName(t);switch(n){case undefined:return-1;case"sap.ui.model.odata.v4.ODataListBinding":if(!this._bEnableV4){throw new Error("UnsupportedOperationException: OData V4 is not supported")}throw Error("The position of a node in its parent cannot be determined"+" with your current binding.");default:var i=this.getNodeByIndex(e);return i?i.positionInParent:-1}};t.prototype.isSelectionSupported=function(){var e=this._oControl.getBinding();var t=this._getBindingName(e);switch(t){case undefined:case"sap.ui.model.odata.v4.ODataListBinding":return false;default:return true}};t.prototype.applyLegacySettingsToBindingInfo=function(e,t){if(!e.parameters){e.parameters={}}if(!("rootLevel"in e.parameters)&&t.rootLevel!==undefined){e.parameters.rootLevel=t.rootLevel}if(!("collapseRecursive"in e.parameters)&&t.collapseRecursive!==undefined){e.parameters.collapseRecursive=t.collapseRecursive}if(!("numberOfExpandedLevels"in e.parameters)&&t.numberOfExpandedLevels!==undefined){e.parameters.numberOfExpandedLevels=t.numberOfExpandedLevels}};t.prototype._getBindingName=function(t){e(t,"Control does not have a binding.");return t?t.getMetadata().getName():undefined};return t});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/model/json/JSONListBinding", ["sap/base/Log","sap/base/util/deepEqual","sap/base/util/deepExtend","sap/base/util/each","sap/base/util/extend","sap/ui/model/ChangeReason","sap/ui/model/ClientListBinding"],function(t,e,s,i,a,h,n){"use strict";var o=n.extend("sap.ui.model.json.JSONListBinding");o.prototype.updateIndices=function(){var t;this.aIndices=[];if(Array.isArray(this.oList)){for(t=0;t<this.oList.length;t++){this.aIndices.push(t)}}else{for(t in this.oList){this.aIndices.push(t)}}};o.prototype.update=function(){var t=this.oModel._getObject(this.sPath,this.oContext);if(t){if(Array.isArray(t)){if(this.bUseExtendedChangeDetection){this.oList=s([],t)}else{this.oList=t.slice(0)}}else{this.oList=this.bUseExtendedChangeDetection?s({},t):a({},t)}this.updateIndices();this.applyFilter();this.applySort();this.iLength=this._getLength()}else{this.oList=[];this.aIndices=[];this.iLength=0}};o.prototype.checkUpdate=function(t){var s;if(this.bSuspended&&!this.bIgnoreSuspend&&!t){return}if(!this.bUseExtendedChangeDetection){s=this.oModel._getObject(this.sPath,this.oContext)||[];if(!e(this.oList,s)||t){this.update();this._fireChange({reason:h.Change})}}else{var a=false;var n=this;s=this.oModel._getObject(this.sPath,this.oContext)||[];if(this.oList.length!=s.length){a=true}if(!e(this.oList,s)){this.update()}var o=this._getContexts(this.iLastStartIndex,this.iLastLength);if(this.aLastContexts){if(this.aLastContexts.length!=o.length){a=true}else{i(this.aLastContextData,function(t,e){var s=n.getContextData(o[t]);if(s!==e){a=true;return false}return true})}}else{a=true}if(a||t){this._fireChange({reason:h.Change})}}};return o});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/model/json/JSONModel", ["./JSONListBinding","./JSONPropertyBinding","./JSONTreeBinding","sap/base/Log","sap/base/util/deepExtend","sap/base/util/isPlainObject","sap/ui/model/ClientModel","sap/ui/model/Context"],function(e,t,r,i,s,o,n,a){"use strict";var u=n.extend("sap.ui.model.json.JSONModel",{constructor:function(e,t){this.pSequentialImportCompleted=Promise.resolve();n.apply(this,arguments);this.bObserve=t;if(e&&typeof e=="object"){this.setData(e)}},metadata:{publicMethods:["setJSON","getJSON"]}});u.prototype.setData=function(e,t){if(t){this.oData=s(Array.isArray(this.oData)?[]:{},this.oData,e)}else{this.oData=e}if(this.bObserve){this.observeData()}this.checkUpdate()};u.prototype.observeData=function(){var e=this;function t(e){return function(){return e}}function r(t,r){return function(i){s(i,t,r);e.checkUpdate()}}function i(e,i,s){if(typeof s=="function"){e[i]=s}else{Object.defineProperty(e,i,{get:t(s),set:r(e,i)})}}function s(e,t,r){var n;if(Array.isArray(e)){for(n=0;n<e.length;n++){s(e[n],e,n)}}else if(o(e)){for(n in e){s(e[n],e,n)}}if(t){i(t,r,e)}}s(this.oData)};u.prototype.setJSON=function(e,t){var r;try{r=JSON.parse(e+"");this.setData(r,t)}catch(e){i.fatal("The following problem occurred: JSON parse Error: "+e);this.fireParseError({url:"",errorCode:-1,reason:"",srcText:e,line:-1,linepos:-1,filepos:-1})}};u.prototype.getJSON=function(){return JSON.stringify(this.oData)};u.prototype.loadData=function(e,t,r,s,o,n,a){var u;r=r!==false;s=s||"GET";n=n===undefined?this.bCache:n;this.fireRequestSent({url:e,type:s,async:r,headers:a,info:"cache="+n+";bMerge="+o,infoObject:{cache:n,merge:o}});var c=function(t){if(!t){i.fatal("The following problem occurred: No data was retrieved by service: "+e)}this.setData(t,o);this.fireRequestCompleted({url:e,type:s,async:r,headers:a,info:"cache="+n+";bMerge="+o,infoObject:{cache:n,merge:o},success:true})}.bind(this);var f=function(t,u){var c=u||t.textStatus;var f=r?t.request:t;var p=f.status;var h=f.statusText;var l=f.responseText;var d={message:c,statusCode:p,statusText:h,responseText:l};i.fatal("The following problem occurred: "+c,l+","+p+","+h);this.fireRequestCompleted({url:e,type:s,async:r,headers:a,info:"cache="+n+";bMerge="+o,infoObject:{cache:n,merge:o},success:false,errorobject:d});this.fireRequestFailed(d);if(r){return Promise.reject(d)}return undefined}.bind(this);var p=function(i,o){this._ajax({url:e,async:r,dataType:"json",cache:n,data:t,headers:a,type:s,success:i,error:o})}.bind(this);if(r){u=new Promise(function(e,t){var r=function(e,r,i){t({request:e,textStatus:r,error:i})};p(e,r)});var h=this.pSequentialImportCompleted.then(function(){return u.then(c,f)});this.pSequentialImportCompleted=h.catch(function(e){i.error("Loading of data failed: "+e.stack)});return h}else{p(c,f);return undefined}};u.prototype.dataLoaded=function(){return this.pSequentialImportCompleted};u.prototype.bindProperty=function(e,r,i){var s=new t(this,e,r,i);return s};u.prototype.bindList=function(t,r,i,s,o){var n=new e(this,t,r,i,s,o);return n};u.prototype.bindTree=function(e,t,i,s,o){var n=new r(this,e,t,i,s,o);return n};u.prototype.setProperty=function(e,t,r,i){var s=this.resolve(e,r),o,n,a;if(!s){return false}if(s=="/"){this.setData(t);return true}o=s.lastIndexOf("/");n=s.substring(0,o||1);a=s.substr(o+1);var u=this._getObject(n);if(u){u[a]=t;this.checkUpdate(false,i);return true}return false};u.prototype.getProperty=function(e,t){return this._getObject(e,t)};u.prototype._getObject=function(e,t){var r=this.isLegacySyntax()?this.oData:null;if(t instanceof a){r=this._getObject(t.getPath())}else if(t!=null){r=t}if(!e){return r}var i=e.split("/"),s=0;if(!i[0]){r=this.oData;s++}while(r&&i[s]){r=r[i[s]];s++}return r};u.prototype.isList=function(e,t){var r=this.resolve(e,t);return Array.isArray(this._getObject(r))};u.prototype._setMetaModel=function(e){this._oMetaModel=e};u.prototype.getMetaModel=function(){return this._oMetaModel};return u});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/model/json/JSONPropertyBinding", ["sap/ui/model/ChangeReason","sap/ui/model/ClientPropertyBinding","sap/base/util/deepEqual"],function(t,e,i){"use strict";var a=e.extend("sap.ui.model.json.JSONPropertyBinding");a.prototype.setValue=function(e){if(this.bSuspended){return}if(!i(this.oValue,e)){if(this.oModel.setProperty(this.sPath,e,this.oContext,true)){this.oValue=e;this.getDataState().setValue(this.oValue);this.oModel.firePropertyChange({reason:t.Binding,path:this.sPath,context:this.oContext,value:e})}}};a.prototype.checkUpdate=function(e){if(this.bSuspended&&!e){return}var a=this._getValue();if(!i(a,this.oValue)||e){this.oValue=a;this.getDataState().setValue(this.oValue);this.checkDataState();this._fireChange({reason:t.Change})}};return a});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/model/json/JSONTreeBinding", ["sap/ui/model/ClientTreeBinding"],function(e){"use strict";var t=e.extend("sap.ui.model.json.JSONTreeBinding");t.prototype._saveSubContext=function(e,t,i,n){if(e&&typeof e=="object"){var o=this.oModel.getContext(i+n);if(this.oCombinedFilter&&!this.bIsFiltering){if(this.filterInfo.aFilteredContexts&&this.filterInfo.aFilteredContexts.indexOf(o)!=-1){t.push(o)}}else{t.push(o)}}};return t});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/model/odata/type/Boolean", ["sap/base/Log","sap/ui/model/FormatException","sap/ui/model/ParseException","sap/ui/model/ValidateException","sap/ui/model/odata/type/ODataType","sap/ui/core/Core"],function(e,t,n,o,a){"use strict";function r(){return i("EnterYesOrNo",[u(true),u(false)])}function i(e,t){return sap.ui.getCore().getLibraryResourceBundle().getText(e,t)}function u(e){return i(e?"YES":"NO")}function l(t,n){var o;t.oConstraints=undefined;if(n){o=n.nullable;if(o===false||o==="false"){t.oConstraints={nullable:false}}else if(o!==undefined&&o!==true&&o!=="true"){e.warning("Illegal nullable: "+o,null,t.getName())}}}var s=a.extend("sap.ui.model.odata.type.Boolean",{constructor:function(e,t){a.apply(this,arguments);l(this,t)}});s.prototype.formatValue=function(e,n){if(e===null||e===undefined){return null}switch(this.getPrimitiveType(n)){case"any":case"boolean":return e;case"string":return u(e);default:throw new t("Don't know how to format "+this.getName()+" to "+n)}};s.prototype.parseValue=function(e,t){var o;if(e===null||e===""){return null}switch(this.getPrimitiveType(t)){case"boolean":return e;case"string":o=e.trim().toLowerCase();if(o===u(true).toLowerCase()){return true}if(o===u(false).toLowerCase()){return false}throw new n(r());default:throw new n("Don't know how to parse "+this.getName()+" from "+t)}};s.prototype.validateValue=function(e){if(e===null){if(this.oConstraints&&this.oConstraints.nullable===false){throw new o(r())}return}if(typeof e!=="boolean"){throw new o("Illegal "+this.getName()+" value: "+e)}};s.prototype.getName=function(){return"sap.ui.model.odata.type.Boolean"};return s});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/model/odata/type/DateTime", ["sap/base/Log","sap/ui/model/odata/type/DateTimeBase"],function(t,e){"use strict";function a(e,a){var i={};if(a){switch(a.displayFormat){case"Date":i.isDateOnly=true;break;case undefined:break;default:t.warning("Illegal displayFormat: "+a.displayFormat,null,e.getName())}i.nullable=a.nullable}return i}var i=e.extend("sap.ui.model.odata.type.DateTime",{constructor:function(t,i){e.call(this,t,a(this,i))}});i.prototype.getConstraints=function(){var t=e.prototype.getConstraints.call(this);if(t.isDateOnly){t.displayFormat="Date";delete t.isDateOnly}return t};i.prototype.getName=function(){return"sap.ui.model.odata.type.DateTime"};return i});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/model/odata/type/DateTimeBase", ["sap/base/Log","sap/base/util/extend","sap/ui/core/format/DateFormat","sap/ui/model/FormatException","sap/ui/model/ParseException","sap/ui/model/ValidateException","sap/ui/model/odata/type/ODataType"],function(t,e,n,a,i,o,r){"use strict";var s=(new Date).getFullYear(),l=new Date(Date.UTC(s,11,31)),u=new Date(s,11,31,23,59,58);function f(t){return t.oConstraints&&t.oConstraints.isDateOnly}function c(t){return sap.ui.getCore().getLibraryResourceBundle().getText(f(t)?"EnterDate":"EnterDateTime",[t.formatValue(f(t)?l:u,"string")])}function p(t){var a;if(!t.oFormat){a=e({strictParsing:true},t.oFormatOptions);if(f(t)){a.UTC=true;t.oFormat=n.getDateInstance(a)}else{t.oFormat=n.getDateTimeInstance(a)}}return t.oFormat}function h(e,n){var a,i;e.oConstraints=undefined;if(n){a=n.nullable;if(a===false||a==="false"){e.oConstraints={nullable:false}}else if(a!==undefined&&a!==true&&a!=="true"){t.warning("Illegal nullable: "+a,null,e.getName())}if(n.isDateOnly===true){e.oConstraints=e.oConstraints||{};e.oConstraints.isDateOnly=true}i=n.precision;if(i!==undefined){if(i===Math.floor(i)&&i>=1&&i<=12){e.oConstraints=e.oConstraints||{};e.oConstraints.precision=i}else if(i!==0){t.warning("Illegal precision: "+i,null,e.getName())}}}e._handleLocalizationChange()}var m=r.extend("sap.ui.model.odata.type.DateTimeBase",{constructor:function(t,e){r.apply(this,arguments);h(this,e);this.oFormat=null;this.oFormatOptions=t},metadata:{abstract:true}});m.prototype.formatValue=function(t,e){if(t===null||t===undefined){return null}switch(this.getPrimitiveType(e)){case"any":case"object":return t;case"string":if(!(t instanceof Date)){throw new a("Illegal "+this.getName()+" value: "+t)}return p(this).format(t);default:throw new a("Don't know how to format "+this.getName()+" to "+e)}};m.prototype.parseValue=function(t,e){var n;if(t===null||t===""){return null}switch(this.getPrimitiveType(e)){case"object":return t;case"string":n=p(this).parse(t);if(!n){throw new i(c(this))}return n;default:throw new i("Don't know how to parse "+this.getName()+" from "+e)}};m.prototype._handleLocalizationChange=function(){this.oFormat=null};m.prototype.validateValue=function(t){if(t===null){if(this.oConstraints&&this.oConstraints.nullable===false){throw new o(c(this))}return}else if(t instanceof Date){if(t.getFullYear()===0){throw new o(c(this))}return}throw new o("Illegal "+this.getName()+" value: "+t)};return m});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/model/odata/type/ODataType", ["sap/ui/model/SimpleType"],function(t){"use strict";var e=t.extend("sap.ui.model.odata.type.ODataType",{constructor:function(t,e){},metadata:{abstract:true}});e.prototype.setConstraints=function(t){};e.prototype.setFormatOptions=function(t){};return e});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/model/odata/type/String", ["sap/base/Log","sap/ui/model/ValidateException","sap/ui/model/odata/type/ODataType","sap/ui/model/type/String"],function(e,t,i,n){"use strict";var s=/^\d+$/,r=/^0*(?=\d)/;function a(e,t){return t&&t.isDigitSequence&&e&&e.match(s)}function l(t,i){var n,s,r;t.oConstraints=undefined;if(i){s=i.maxLength;if(typeof s==="string"){s=parseInt(s)}if(typeof s==="number"&&!isNaN(s)&&s>0){t.oConstraints={maxLength:s}}else if(s!==undefined){e.warning("Illegal maxLength: "+i.maxLength,null,t.getName())}n=i.isDigitSequence;if(n===true||n==="true"){t.oConstraints=t.oConstraints||{};t.oConstraints.isDigitSequence=true}else if(n!==undefined&&n!==false&&n!=="false"){e.warning("Illegal isDigitSequence: "+n,null,t.getName())}r=i.nullable;if(r===false||r==="false"){t.oConstraints=t.oConstraints||{};t.oConstraints.nullable=false}else if(r!==undefined&&r!==true&&r!=="true"){e.warning("Illegal nullable: "+r,null,t.getName())}}}var o=i.extend("sap.ui.model.odata.type.String",{constructor:function(t,n){var s=t?t.parseKeepsEmptyString:undefined;i.apply(this,arguments);this.oFormatOptions=t;l(this,n);this._sParsedEmptyString=null;if(this.oConstraints&&this.oConstraints.nullable===false&&this.oConstraints.isDigitSequence){this._sParsedEmptyString="0"}else if(s!==undefined){if(s===true){this._sParsedEmptyString=""}else if(s!==false){e.warning("Illegal parseKeepsEmptyString: "+s,null,this.getName())}}}});o.prototype.formatValue=function(e,t){if(e===null&&this.getPrimitiveType(t)==="string"){return""}if(a(e,this.oConstraints)){e=e.replace(r,"");if(this.oConstraints.maxLength&&e==="0"&&this.getPrimitiveType(t)==="string"){return""}}return n.prototype.formatValue.call(this,e,t)};o.prototype.parseValue=function(e,t){var i;i=e===""?this._sParsedEmptyString:n.prototype.parseValue.apply(this,arguments);if(a(i,this.oConstraints)){i=i.replace(r,"");if(this.oConstraints.maxLength){i=i.padStart(this.oConstraints.maxLength,"0")}}return i};o.prototype.validateValue=function(e){var i=this.oConstraints||{},n=i.maxLength;if(e===null){if(i.nullable!==false){return}}else if(e===""&&this._sParsedEmptyString===""){return}else if(typeof e!=="string"){throw new t("Illegal "+this.getName()+" value: "+e)}else if(i.isDigitSequence){if(!e.match(s)){throw new t(sap.ui.getCore().getLibraryResourceBundle().getText("EnterDigitsOnly"))}if(n&&e.length>n){throw new t(sap.ui.getCore().getLibraryResourceBundle().getText("EnterMaximumOfDigits",[n]))}return}else if(!n||e.length<=n){return}throw new t(sap.ui.getCore().getLibraryResourceBundle().getText(n?"EnterTextMaxLength":"EnterText",[n]))};o.prototype.getName=function(){return"sap.ui.model.odata.type.String"};return o});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/model/resource/ResourceModel", ["sap/base/Log","sap/base/i18n/ResourceBundle","sap/ui/core/Configuration","sap/ui/model/BindingMode","sap/ui/model/Model","./ResourcePropertyBinding"],function(e,n,t,i,o,r){"use strict";var s=/^(?:\/|\.)*/;var a=o.extend("sap.ui.model.resource.ResourceModel",{constructor:function(t){var r;o.apply(this,arguments);this.aCustomBundles=[];this.bReenhance=false;this.bAsync=!!(t&&t.async);this.sDefaultBindingMode=t.defaultBindingMode||i.OneWay;this.mSupportedBindingModes={OneWay:true,TwoWay:false,OneTime:!this.bAsync};if(this.bAsync&&this.sDefaultBindingMode==i.OneTime){e.warning("Using binding mode OneTime for asynchronous ResourceModel is not supported!")}this.oData=Object.assign({},t);r=Array.isArray(this.oData.enhanceWith)&&this.oData.enhanceWith.some(function(e){return e instanceof n});if(t&&t.bundle){this._oResourceBundle=t.bundle;r=true}else if(t&&(t.bundleUrl||t.bundleName)){if(r){delete this.oData.enhanceWith;if(t.terminologies||t.activeTerminologies){throw new Error("'terminologies' parameter and 'activeTerminologies' parameter are not"+" supported in configuration when enhanceWith contains ResourceBundles")}}u(this)}else{throw new Error("At least bundle, bundleName or bundleUrl must be provided!")}if(r&&Array.isArray(t.enhanceWith)){if(this.bAsync){this._pEnhanced=t.enhanceWith.reduce(function(e,n){return e.then(this.enhance.bind(this,n))}.bind(this),Promise.resolve())}else{t.enhanceWith.forEach(this.enhance.bind(this))}}}});a._sanitizeBundleName=function(n){if(n&&(n[0]==="/"||n[0]===".")){e.error('Incorrect resource bundle name "'+n+'"',"Leading slashes or dots in resource bundle names are ignored, since such names are"+' invalid UI5 module names. Please check whether the resource bundle "'+n+'" is actually needed by your application.',"sap.base.i18n.ResourceBundle");n=n.replace(s,"")}return n};a.loadResourceBundle=function(e,i){var o=t,r=e.bundleLocale,s;if(!r){r=o.getLanguage()}e.bundleName=a._sanitizeBundleName(e.bundleName);s=Object.assign({async:i,includeInfo:o.getOriginInfo(),locale:r},e);return n.create(s)};a.prototype.enhance=function(e){var t=this,i,o=this.bAsync?new Promise(function(e){i=e}):null;function r(){if(e instanceof n){t._oResourceBundle._enhance(e);t.checkUpdate(true);if(o){i(true)}}else{if(e.terminologies){throw new Error("'terminologies' parameter is not"+" supported for enhancement")}var r=a.loadResourceBundle(e,t.bAsync);if(r instanceof Promise){r.then(function(e){t._oResourceBundle._enhance(e);t.checkUpdate(true);i(true)},function(){i(true)})}else if(r){t._oResourceBundle._enhance(r);t.checkUpdate(true)}}}if(this._oPromise){Promise.resolve(this._oPromise).then(r)}else{r()}if(!this.bReenhance){this.aCustomBundles.push(e)}return o};a.prototype.bindProperty=function(e){return new r(this,e)};a.prototype.getProperty=function(e){return this._oResourceBundle?this._oResourceBundle.getText(e):null};a.prototype.getResourceBundle=function(){if(!this.bAsync){return this._oResourceBundle}else{var e=this._oPromise;if(e){return new Promise(function(n,t){function i(e){n(e)}e.then(i,i)})}else{return Promise.resolve(this._oResourceBundle)}}};a.prototype._handleLocalizationChange=function(){u(this)};a.prototype._reenhance=function(){this.bReenhance=true;this.aCustomBundles.forEach(function(e){this.enhance(e)}.bind(this));this.bReenhance=false};function u(e){var t=e.oData;if(t&&(t.bundleUrl||t.bundleName)){var i=a.loadResourceBundle(t,t.async);if(i instanceof Promise){var o={url:n._getUrl(t.bundleUrl,a._sanitizeBundleName(t.bundleName)),async:true};e.fireRequestSent(o);e._oPromise=i;e._oPromise.then(function(n){e._oResourceBundle=n;e._reenhance();delete e._oPromise;e.checkUpdate(true);e.fireRequestCompleted(o)})}else{e._oResourceBundle=i;e._reenhance();e.checkUpdate(true)}}}return a});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/model/resource/ResourcePropertyBinding", ["sap/ui/model/PropertyBinding","sap/ui/model/ChangeReason"],function(e,t){"use strict";var o=e.extend("sap.ui.model.resource.ResourcePropertyBinding",{constructor:function(t,o){e.apply(this,arguments);this.oValue=this.oModel.getProperty(o)}});o.prototype.getValue=function(){return this.oValue};o.prototype.checkUpdate=function(e){if(!this.bSuspended){var o=this.oModel.getProperty(this.sPath);if(e||o!=this.oValue){this.oValue=o;this._fireChange({reason:t.Change})}}};return o});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/model/type/Date", ["sap/base/util/each","sap/base/util/isEmptyObject","sap/ui/core/format/DateFormat","sap/ui/model/FormatException","sap/ui/model/ParseException","sap/ui/model/SimpleType","sap/ui/model/ValidateException"],function(t,e,o,a,i,r,s){"use strict";var n=r.extend("sap.ui.model.type.Date",{constructor:function(){r.apply(this,arguments);this.sName="Date"}});n.prototype.formatValue=function(t,e){var o;switch(this.getPrimitiveType(e)){case"string":case"any":if(t==null){return""}if(this.oFormatOptions.source&&this.oFormatOptions.source.pattern!=="timestamp"&&t===""){return""}o=this.getModelFormat();t=o.parse(t);return this.oOutputFormat.format(t);default:throw new a("Don't know how to format Date to "+e)}};n.prototype.parseValue=function(t,e){var o,a;switch(this.getPrimitiveType(e)){case"string":if(t===""){return null}o=this.oOutputFormat.parse(t);if(!o){a=sap.ui.getCore().getLibraryResourceBundle();throw new i(a.getText(this.sName+".Invalid"))}if(this.oInputFormat){if(this.oFormatOptions.source.pattern=="timestamp"){o=o.getTime()}else{o=this.oInputFormat.format(o)}}return o;default:throw new i("Don't know how to parse Date from "+e)}};n.prototype.validateValue=function(e){if(this.oConstraints){var o=sap.ui.getCore().getLibraryResourceBundle(),a=[],i=[],r=this.oInputFormat,n,u=this;if(r&&this.oFormatOptions.source.pattern!="timestamp"){e=r.parse(e)}t(this.oConstraints,function(t,s){if(r){s=r.parse(s)}n=u.oOutputFormat.format(s);switch(t){case"minimum":if(e<s){a.push("minimum");i.push(o.getText(u.sName+".Minimum",[n]))}break;case"maximum":if(e>s){a.push("maximum");i.push(o.getText(u.sName+".Maximum",[n]))}break;default:break}});if(a.length>0){throw new s(this.combineMessages(i),a)}}};var u={format:function(t){if(t instanceof Date){return t.getTime()}return null},parse:function(t){if(typeof t!="number"){if(isNaN(t)){throw new a("Cannot format date: "+t+" is not a valid Timestamp")}else{t=parseInt(t)}}t=new Date(t);return t}};n.prototype.getModelFormat=function(){if(this.oInputFormat){if(this.oFormatOptions.source.pattern=="timestamp"){return u}else{return this.oInputFormat}}else{return r.prototype.getModelFormat.call(this)}};n.prototype.setFormatOptions=function(t){this.oFormatOptions=t;this._createFormats()};n.prototype.getOutputPattern=function(){return this.oOutputFormat.oFormatOptions.pattern};n.prototype._handleLocalizationChange=function(){this._createFormats()};n.prototype._createFormats=function(){var t=this.oFormatOptions.source;this.oOutputFormat=o.getInstance(this.oFormatOptions);if(t){if(e(t)){t={pattern:"yyyy-MM-dd"}}this.oInputFormat=o.getInstance(t)}};return n});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/model/type/DateTime", ["./Date","sap/ui/core/format/DateFormat"],function(t,e){"use strict";var o=t.extend("sap.ui.model.type.DateTime",{constructor:function(){t.apply(this,arguments);this.sName="DateTime"}});o.prototype._createFormats=function(){this.oOutputFormat=e.getDateTimeInstance(this.oFormatOptions);if(this.oFormatOptions.source){this.oInputFormat=e.getDateTimeInstance(this.oFormatOptions.source)}};return o});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/model/type/Float", ["sap/base/util/each","sap/base/util/isEmptyObject","sap/ui/core/format/NumberFormat","sap/ui/model/FormatException","sap/ui/model/ParseException","sap/ui/model/SimpleType","sap/ui/model/ValidateException"],function(t,o,e,a,i,r,s){"use strict";var n=r.extend("sap.ui.model.type.Float",{constructor:function(){r.apply(this,arguments);this.sName="Float"}});n.prototype.formatValue=function(t,o){var e=t;if(t==undefined||t==null){return null}if(this.oInputFormat){e=this.oInputFormat.parse(t);if(e==null){throw new a("Cannot format float: "+t+" has the wrong format")}}switch(this.getPrimitiveType(o)){case"string":return this.oOutputFormat.format(e);case"int":return Math.floor(e);case"float":case"any":return e;default:throw new a("Don't know how to format Float to "+o)}};n.prototype.parseValue=function(t,o){var e,a;switch(this.getPrimitiveType(o)){case"string":e=this.oOutputFormat.parse(t);if(isNaN(e)){a=sap.ui.getCore().getLibraryResourceBundle();throw new i(a.getText("Float.Invalid"))}break;case"int":case"float":e=t;break;default:throw new i("Don't know how to parse Float from "+o)}if(this.oInputFormat){e=this.oInputFormat.format(e)}return e};n.prototype.validateValue=function(o){if(this.oConstraints){var e=sap.ui.getCore().getLibraryResourceBundle(),a=[],i=[],r=o,n=this;if(this.oInputFormat){r=this.oInputFormat.parse(o)}t(this.oConstraints,function(t,o){switch(t){case"minimum":if(r<o){a.push("minimum");i.push(e.getText("Float.Minimum",[n.oOutputFormat.format(o)]))}break;case"maximum":if(r>o){a.push("maximum");i.push(e.getText("Float.Maximum",[n.oOutputFormat.format(o)]))}break;default:break}});if(a.length>0){throw new s(this.combineMessages(i),a)}}};n.prototype.setFormatOptions=function(t){this.oFormatOptions=Object.assign(t.style!=="short"&&t.style!=="long"?{preserveDecimals:true}:{},t);this._createFormats()};n.prototype._handleLocalizationChange=function(){this._createFormats()};n.prototype._createFormats=function(){var t=this.oFormatOptions.source;this.oOutputFormat=e.getFloatInstance(this.oFormatOptions);if(t){if(o(t)){t={groupingEnabled:false,groupingSeparator:",",decimalSeparator:"."}}this.oInputFormat=e.getFloatInstance(t)}};return n});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/model/type/String", ["sap/base/Log","sap/base/util/each","sap/ui/model/FormatException","sap/ui/model/ParseException","sap/ui/model/SimpleType","sap/ui/model/ValidateException"],function(t,e,s,n,a,i){"use strict";var r=a.extend("sap.ui.model.type.String",{constructor:function(){a.apply(this,arguments);this.sName="String";if(this.oConstraints.search&&typeof this.oConstraints.search=="string"){this.oConstraints.search=new RegExp(this.oConstraints.search)}}});r.prototype.formatValue=function(t,e){if(t==undefined||t==null){return null}switch(this.getPrimitiveType(e)){case"string":case"any":return t;case"int":var n=parseInt(t);if(isNaN(n)){throw new s(t+" is not a valid int value")}return n;case"float":var a=parseFloat(t);if(isNaN(a)){throw new s(t+" is not a valid float value")}return a;case"boolean":if(t.toLowerCase()=="true"||t=="X"){return true}if(t.toLowerCase()=="false"||t==""){return false}throw new s(t+" is not a valid boolean value");default:throw new s("Don't know how to format String to "+e)}};r.prototype.parseValue=function(t,e){switch(this.getPrimitiveType(e)){case"string":return t;case"boolean":case"int":case"float":return t.toString();default:throw new n("Don't know how to parse String from "+e)}};r.prototype.validateValue=function(s){if(this.oConstraints){var n=sap.ui.getCore().getLibraryResourceBundle(),a=[],r=[];if(s===null){s=""}e(this.oConstraints,function(e,i){switch(e){case"maxLength":if(s.length>i){a.push("maxLength");r.push(n.getText("String.MaxLength",[i]))}break;case"minLength":if(s.length<i){a.push("minLength");r.push(n.getText("String.MinLength",[i]))}break;case"startsWith":if(!(typeof i=="string"&&i.length>0&&s.startsWith(i))){a.push("startsWith");r.push(n.getText("String.StartsWith",[i]))}break;case"startsWithIgnoreCase":if(!(typeof i=="string"&&i!=""?s.toLowerCase().startsWith(i.toLowerCase()):false)){a.push("startsWithIgnoreCase");r.push(n.getText("String.StartsWith",[i]))}break;case"endsWith":if(!(typeof i=="string"&&i.length>0&&s.endsWith(i))){a.push("endsWith");r.push(n.getText("String.EndsWith",[i]))}break;case"endsWithIgnoreCase":if(!(typeof i=="string"&&i!=""?s.toLowerCase().endsWith(i.toLowerCase()):false)){a.push("endsWithIgnoreCase");r.push(n.getText("String.EndsWith",[i]))}break;case"contains":if(s.indexOf(i)==-1){a.push("contains");r.push(n.getText("String.Contains",[i]))}break;case"equals":if(s!=i){a.push("equals");r.push(n.getText("String.Equals",[i]))}break;case"search":if(s.search(i)==-1){a.push("search");r.push(n.getText("String.Search",[i]))}break;default:t.warning("Ignoring unknown constraint: '"+e+"'",null,"sap.ui.model.type.String")}});if(a.length>0){throw new i(this.combineMessages(r),a)}}};return r});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/model/type/Time", ["./Date","sap/ui/core/format/DateFormat"],function(t,o){"use strict";var e=t.extend("sap.ui.model.type.Time",{constructor:function(){t.apply(this,arguments);this.sName="Time"}});e.prototype._createFormats=function(){this.oOutputFormat=o.getTimeInstance(this.oFormatOptions);if(this.oFormatOptions.source){this.oInputFormat=o.getTimeInstance(this.oFormatOptions.source)}};return e});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/qunit/utils/waitForThemeApplied", function(){"use strict";var e=function(){if(typeof sap==="undefined"||!sap.ui||typeof sap.ui.getCore!=="function"){return Promise.reject(new Error("UI5 Core must be loaded and booted before using the sap/ui/qunit/utils/waitForThemeApplied module"))}return new Promise(function(e){var i=sap.ui.getCore();if(i.isThemeApplied()){e()}else{var t=function(){e();i.detachThemeChanged(t)};i.attachThemeChanged(t)}})};return e});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/Calendar", ["sap/ui/core/CalendarType","sap/ui/core/Control","sap/ui/core/Core","sap/ui/core/LocaleData","sap/ui/unified/calendar/CalendarUtils","sap/ui/unified/DateTypeRange","./calendar/Header","./calendar/Month","./calendar/MonthPicker","./calendar/YearPicker","./calendar/YearRangePicker","./calendar/CalendarDate","sap/ui/core/date/UniversalDate","./library","sap/ui/Device","sap/ui/core/format/DateFormat","sap/ui/core/ResizeHandler","sap/ui/core/Locale","sap/ui/events/KeyCodes","./CalendarRenderer","sap/ui/dom/containsOrEquals","sap/base/util/deepEqual","sap/base/Log","sap/ui/core/Configuration","sap/ui/core/date/CalendarWeekNumbering"],function(e,t,a,i,r,s,o,n,h,g,l,d,u,c,_,p,f,D,y,m,M,P,v,C,S){"use strict";var T=t.extend("sap.ui.unified.Calendar",{metadata:{library:"sap.ui.unified",designtime:"sap/ui/unified/designtime/Calendar.designtime",properties:{intervalSelection:{type:"boolean",group:"Behavior",defaultValue:false},singleSelection:{type:"boolean",group:"Behavior",defaultValue:true},months:{type:"int",group:"Appearance",defaultValue:1},firstDayOfWeek:{type:"int",group:"Appearance",defaultValue:-1},nonWorkingDays:{type:"int[]",group:"Appearance",defaultValue:null},primaryCalendarType:{type:"sap.ui.core.CalendarType",group:"Appearance",defaultValue:null},secondaryCalendarType:{type:"sap.ui.core.CalendarType",group:"Appearance",defaultValue:null},width:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:null},minDate:{type:"object",group:"Misc",defaultValue:null},maxDate:{type:"object",group:"Misc",defaultValue:null},showWeekNumbers:{type:"boolean",group:"Appearance",defaultValue:true},showCurrentDateButton:{type:"boolean",group:"Behavior",defaultValue:false},_currentPicker:{type:"string",group:"Appearance",visibility:"hidden"},calendarWeekNumbering:{type:"sap.ui.core.date.CalendarWeekNumbering",group:"Appearance",defaultValue:null}},aggregations:{selectedDates:{type:"sap.ui.unified.DateRange",multiple:true,singularName:"selectedDate"},specialDates:{type:"sap.ui.unified.DateTypeRange",multiple:true,singularName:"specialDate"},disabledDates:{type:"sap.ui.unified.DateRange",multiple:true,singularName:"disabledDate"},header:{type:"sap.ui.core.Control",multiple:false,visibility:"hidden"},secondMonthHeader:{type:"sap.ui.unified.calendar.Header",multiple:false,visibility:"hidden"},month:{type:"sap.ui.unified.calendar.Month",multiple:true,visibility:"hidden"},monthPicker:{type:"sap.ui.unified.calendar.MonthPicker",multiple:false,visibility:"hidden"},yearPicker:{type:"sap.ui.unified.calendar.YearPicker",multiple:false,visibility:"hidden"},yearRangePicker:{type:"sap.ui.unified.calendar.YearPicker",multiple:false,visibility:"hidden"}},associations:{ariaLabelledBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"},legend:{type:"sap.ui.unified.CalendarLegend",multiple:false}},events:{select:{},cancel:{},startDateChange:{},weekNumberSelect:{allowPreventDefault:true,parameters:{weekNumber:{type:"int"},weekDays:{type:"sap.ui.unified.DateRange"}}}}},renderer:m});var k={MONTH:"month",MONTH_PICKER:"monthPicker",YEAR_PICKER:"yearPicker",YEAR_RANGE_PICKER:"yearRangePicker"};T.prototype.init=function(){this._iBreakPointTablet=_.media._predefinedRangeSets[_.media.RANGESETS.SAP_STANDARD_EXTENDED].points[0];this._iBreakPointDesktop=_.media._predefinedRangeSets[_.media.RANGESETS.SAP_STANDARD_EXTENDED].points[1];this._iBreakPointLargeDesktop=_.media._predefinedRangeSets[_.media.RANGESETS.SAP_STANDARD_EXTENDED].points[2];var e=C.getCalendarType();this.setProperty("primaryCalendarType",e);this.setProperty("secondaryCalendarType",e);this._iColumns=1;this.setProperty("_currentPicker",k.MONTH_PICKER);this._oYearFormat=p.getDateInstance({format:"y",calendarType:e});this.data("sap-ui-fastnavgroup","true",true);this._oMinDate=r._minDate(this.getPrimaryCalendarType());this._oMaxDate=r._maxDate(this.getPrimaryCalendarType());this._initializeHeader();this._initializeSecondMonthHeader();var t=this._createMonth(this.getId()+"--Month0");t.attachEvent("focus",this._handleFocus,this);t.attachEvent("select",R,this);t.attachEvent("_renderMonth",B,this);t.attachEvent("_bindMousemove",F,this);t.attachEvent("_unbindMousemove",L,this);t._bNoThemeChange=true;this.addAggregation("month",t);this._initializeMonthPicker();this._initializeYearPicker();this._initializeYearRangePicker();this._resizeProxy=b.bind(this);this._oSelectedMonth;this._bSkipCancelButtonRendering=false;this._bActionTriggeredFromSecondHeader=false};T.prototype.exit=function(){if(this._sInvalidateMonth){clearTimeout(this._sInvalidateMonth)}if(this._afterHeaderRenderAdjustCSS){this.removeDelegate(this._afterHeaderRenderAdjustCSS);this._afterHeaderRenderAdjustCSS=null}if(this._afterSecondHeaderRenderAdjustCSS){this.removeDelegate(this._afterSecondHeaderRenderAdjustCSS);this._afterSecondHeaderRenderAdjustCSS=null}if(this._sResizeListener){f.deregister(this._sResizeListener);this._sResizeListener=undefined}this._oSelectedMonth=null};T.prototype._initializeHeader=function(){var e=new o(this.getId()+"--Head");e.attachEvent("pressPrevious",this._handlePrevious,this);e.attachEvent("pressNext",this._handleNext,this);e.attachEvent("pressCurrentDate",this._handleCurrentDate,this);e.attachEvent("pressButton1",this._handleButton1,this);e.attachEvent("pressButton2",this._handleButton2,this);e.attachEvent("pressButton3",this._handleButton1,this);e.attachEvent("pressButton4",this._handleButton2,this);this._afterHeaderRenderAdjustCSS=this._createOnAfterRenderingDelegate(e);e.addDelegate(this._afterHeaderRenderAdjustCSS);this.setAggregation("header",e)};T.prototype._createOnAfterRenderingDelegate=function(e){return{onAfterRendering:function(){if(e.getVisible()&&!e.getVisibleButton1()){e.$().find(".sapUiCalHeadB2").addClass("sapUiCalSingleYearButton")}if(e.getVisible()&&!e._getVisibleButton3()){this._isTwoMonthsInTwoColumns()&&e.$().find(".sapUiCalHeadB4").addClass("sapUiCalSingleYearButton")}}.bind(this)}};T.prototype._initializeSecondMonthHeader=function(){var e=new o(this.getId()+"--SecondMonthHead",{visible:false});e.addStyleClass("sapUiCalHeadSecondMonth");e.attachEvent("pressPrevious",this._handlePrevious,this);e.attachEvent("pressNext",this._handleNext,this);e.attachEvent("pressButton1",this._handleButton1,this);e.attachEvent("pressButton2",this._handleButton2,this);this._afterSecondHeaderRenderAdjustCSS=this._createOnAfterRenderingDelegate(e);e.addDelegate(this._afterSecondHeaderRenderAdjustCSS);this.setAggregation("secondMonthHeader",e)};T.prototype._initializeMonthPicker=function(){var e=new h(this.getId()+"--MP");e._bCalendar=true;e.attachEvent("select",this._selectMonth,this);e.attachEvent("pageChange",N,this);e._bNoThemeChange=true;this.setAggregation("monthPicker",e);e._setSelectedDatesControlOrigin(this)};T.prototype._initializeYearPicker=function(){var e=new g(this.getId()+"--YP");e._bCalendar=true;e.attachEvent("select",this._selectYear,this);e.attachEvent("pageChange",E,this);this.setAggregation("yearPicker",e);e._setSelectedDatesControlOrigin(this)};T.prototype._initializeYearRangePicker=function(){var e=new l(this.getId()+"--YRP");e.attachEvent("select",this._selectYearRange,this);e.setPrimaryCalendarType(this.getPrimaryCalendarType());this.setAggregation("yearRangePicker",e)};T.prototype._createMonth=function(e){var t=new n(e,{width:"100%",calendarWeekNumbering:this.getCalendarWeekNumbering()});t._bCalendar=true;t.attachEvent("datehovered",this._handleDateHovered,this);t.attachEvent("weekNumberSelect",this._handleWeekNumberSelect,this);return t};T.prototype._handleWeekNumberSelect=function(e){var t=e.getParameter("weekDays"),a=this.fireWeekNumberSelect({weekNumber:e.getParameter("weekNumber"),weekDays:t});this._focusDate(d.fromLocalJSDate(t.getStartDate(),this.getPrimaryCalendarType()),true,false,false);if(!a){e.preventDefault()}return this};T.prototype._handleDateHovered=function(e){var t=this.getAggregation("month"),a=e.getParameter("date1"),i=e.getParameter("date2"),r;for(r=0;r<t.length;r++){t[r]._markDatesBetweenStartAndHoveredDate(a,i)}};T.prototype.onBeforeRendering=function(){var e=this.getAggregation("month"),t,a=e[0].getDate(),i=this._getFocusedDate();if(this.getFirstDayOfWeek()!==-1&&this.getCalendarWeekNumbering()!=="Default"){v.warning("Both properties firstDayOfWeek and calendarWeekNumbering should not be used at the same time!")}if(e.length>1&&a){t=d.fromLocalJSDate(a,this.getPrimaryCalendarType())}else if(e.length>1){t=A.call(this,this._getFocusedDate())}else{t=i}for(var r=0;r<e.length;r++){a=new d(t);if(r>0){a.setMonth(a.getMonth()+r,1)}var s=a;if(i.getYear()===a.getYear()&&i.getMonth()===a.getMonth()){s=i}e[r].displayDate(s.toLocalJSDate());e[r].setShowWeekNumbers(this.getShowWeekNumbers())}if(this._getMonthPicker()){this._setDisabledMonths(i.getYear(),this._getMonthPicker())}this._updateHeader(t);this._updateHeadersButtons();this._updateLegendParent()};T.prototype.onAfterRendering=function(e){if(!this._getSucessorsPickerPopup()){w.call(this)}if(x.call(this)>1||this._bInitMonth){e.size={width:this.getDomRef().offsetWidth};b.call(this,e,true);if(!this._sResizeListener){this._sResizeListener=f.register(this,this._resizeProxy)}this._bInitMonth=undefined}};T.prototype.removeSelectedDate=function(e){this._bDateRangeChanged=true;return this.removeAggregation("selectedDates",e)};T.prototype.removeAllSelectedDates=function(){this._bDateRangeChanged=true;var e=this.removeAllAggregation("selectedDates");return e};T.prototype.destroySelectedDates=function(){this._bDateRangeChanged=true;var e=this.destroyAggregation("selectedDates");return e};T.prototype.removeAllSpecialDates=function(){this._bDateRangeChanged=true;var e=this.removeAllAggregation("specialDates");return e};T.prototype.destroySpecialDates=function(){this._bDateRangeChanged=true;var e=this.destroyAggregation("specialDates");return e};T.prototype._setSpecialDatesControlOrigin=function(e){this._oSpecialDatesControlOrigin=e};T.prototype.getSpecialDates=function(){var e=this.getParent();if(this._oSpecialDatesControlOrigin){return this._oSpecialDatesControlOrigin.getSpecialDates()}if(e&&e.getSpecialDates){return e.getSpecialDates()}else{return this.getAggregation("specialDates",[])}};T.prototype.removeAllDisabledDates=function(){this._bDateRangeChanged=true;var e=this.removeAllAggregation("disabledDates");return e};T.prototype.destroyDisabledDates=function(){this._bDateRangeChanged=true;var e=this.destroyAggregation("disabledDates");return e};T.prototype.setLocale=function(e){if(this._sLocale!=e){this._sLocale=e;this._oLocaleData=undefined;this.invalidate();this._toggleTwoMonthsInTwoColumnsCSS()}return this};T.prototype.getLocale=function(){if(!this._sLocale){this._sLocale=C.getFormatSettings().getFormatLocale().toString()}return this._sLocale};T.prototype._getFocusedDate=function(){if(!this._oFocusedDate){Y.call(this)}return this._oFocusedDate};T.prototype._setFocusedDate=function(e){r._checkCalendarDate(e);this._oFocusedDate=new d(e,this.getPrimaryCalendarType())};T.prototype.focusDate=function(e){H.call(this,e,false);this._addMonthFocusDelegate();return this};T.prototype.displayDate=function(e){H.call(this,e,true);return this};T.prototype.getStartDate=function(){var e;if(this.getDomRef()){var t=this.getAggregation("month");e=d.fromLocalJSDate(t[0].getDate(),this.getPrimaryCalendarType())}else{e=new d(this._getFocusedDate())}e.setDate(1);return e.toLocalJSDate()};T.prototype.setCalendarWeekNumbering=function(e){var t=this.getAggregation("month");this.setProperty("calendarWeekNumbering",e);for(var a=0;a<t.length;a++){t[a].setProperty("calendarWeekNumbering",e)}return this};T.prototype.setMonths=function(e){this._bDateRangeChanged=undefined;this.setProperty("months",e);e=x.call(this);var t=this.getAggregation("month");var a=0;var i;if(t.length<e){for(a=t.length;a<e;a++){i=this._createMonth(this.getId()+"--Month"+a);i.attachEvent("focus",this._handleFocus,this);i.attachEvent("select",R,this);i.attachEvent("_renderMonth",B,this);i.attachEvent("_bindMousemove",F,this);i.attachEvent("_unbindMousemove",L,this);i._bNoThemeChange=true;i.setCalendarWeekNumbering(this.getCalendarWeekNumbering());i.setSecondaryCalendarType(this._getSecondaryCalendarType());this.addAggregation("month",i)}}else if(t.length>e){for(a=t.length;a>e;a--){i=this.removeAggregation("month",a-1);i.destroy()}if(e==1){this._bInitMonth=true}}if(e>1&&t[0].getDate()){t[0].setProperty("date",null,true)}return this};T.prototype.setPrimaryCalendarType=function(e){var t=this.getAggregation("month"),a,i,r,s,o;this.setProperty("primaryCalendarType",e);this._adjustYearRangeDisplay();this._oYearFormat=p.getDateInstance({format:"y",calendarType:e});if(this._oFocusedDate){this._oFocusedDate=new d(this._oFocusedDate,e)}this._oMinDate=new d(this._oMinDate,e);this._oMaxDate=new d(this._oMaxDate,e);for(o=0;o<t.length;o++){a=t[o];a.setPrimaryCalendarType(e)}if(!this._getSucessorsPickerPopup()){i=this._getMonthPicker();i.setPrimaryCalendarType(e);r=this._getYearPicker();r.setPrimaryCalendarType(e);s=this.getAggregation("yearRangePicker");s.setPrimaryCalendarType(e)}return this};T.prototype.setSecondaryCalendarType=function(e){this._bSecondaryCalendarTypeSet=true;this.setProperty("secondaryCalendarType",e);this._oYearFormatSecondary=p.getDateInstance({format:"y",calendarType:e});var t=this.getAggregation("month");for(var a=0;a<t.length;a++){var i=t[a];i.setSecondaryCalendarType(e)}this._getMonthPicker().setSecondaryCalendarType(e);this._getYearPicker().setSecondaryCalendarType(e);this._getYearRangePicker().setSecondaryCalendarType(e);return this};T.prototype._getSecondaryCalendarType=function(){var e;if(this._bSecondaryCalendarTypeSet){e=this.getSecondaryCalendarType();var t=this.getPrimaryCalendarType();if(e==t){e=undefined}}return e};T.prototype._getActiveHeaderAggregation=function(){if(this._bActionTriggeredFromSecondHeader&&this._isTwoMonthsInOneColumn()){return this.getAggregation("secondMonthHeader")}else{return this.getAggregation("header")}};T.prototype._saveTriggeredHeader=function(e){if(e.getSource().sParentAggregationName==="secondMonthHeader"||e.sId==="pressButton3"||e.sId==="pressButton4"){this._bActionTriggeredFromSecondHeader=true}else{this._bActionTriggeredFromSecondHeader=false}};T.prototype.setMinDate=function(e){var t=this.getAggregation("month"),a=this.getPrimaryCalendarType(),i;if(P(e,this.getMinDate())){return this}if(!e){this._oMinDate=r._minDate(a)}else{r._checkJSDateObject(e);this._oMinDate=d.fromLocalJSDate(e,a);var s=this._oMinDate.getYear();r._checkYearInValidRange(s);if(this._oMaxDate.isBefore(this._oMinDate)){v.warning("minDate > maxDate -> maxDate set to end of the month",this);this._oMaxDate=d.fromLocalJSDate(e,a);this._oMaxDate.setDate(r._daysInMonth(this._oMaxDate));this.setProperty("maxDate",this._oMaxDate.toLocalJSDate(),true)}this._setMinMaxDateExtend(d.fromLocalJSDate(e,a))}this.setProperty("minDate",e,false);if(!this._getSucessorsPickerPopup()){i=this._oMinDate.getYear();this._getYearPicker()._oMinDate.setYear(i);this._getYearRangePicker()._oMinDate.setYear(i)}for(var o=0;o<t.length;o++){t[o]._oMinDate=new d(this._oMinDate)}return this};T.prototype.setMaxDate=function(e){var t=this.getAggregation("month"),a,i;if(P(e,this.getMaxDate())){return this}if(!e){this._oMaxDate=r._maxDate(a)}else{r._checkJSDateObject(e);this._oMaxDate=d.fromLocalJSDate(e,a);var s=this._oMaxDate.getYear();r._checkYearInValidRange(s);if(this._oMinDate.isAfter(this._oMaxDate)){v.warning("maxDate < minDate -> minDate set to begin of the month",this);this._oMinDate=d.fromLocalJSDate(e,a);this._oMinDate.setDate(1);this.setProperty("minDate",this._oMinDate.toLocalJSDate(),true)}this._setMinMaxDateExtend(d.fromLocalJSDate(e,a))}this.setProperty("maxDate",e,false);if(!this._getSucessorsPickerPopup()){i=this._oMaxDate.getYear();this._getYearPicker()._oMaxDate.setYear(i);this._getYearRangePicker()._oMaxDate.setYear(i)}for(var o=0;o<t.length;o++){t[o]._oMaxDate=new d(this._oMaxDate)}return this};T.prototype.setShowCurrentDateButton=function(e){this.getAggregation("header").setVisibleCurrentDateButton(e);return this.setProperty("showCurrentDateButton",e)};T.prototype._setMinMaxDateExtend=function(e){if(this._oFocusedDate){if(r._isOutside(this._oFocusedDate,this._oMinDate,this._oMaxDate)){v.warning("focused date is not between [minDate - maxDate] -> refocus to the new max/min date: "+e.toString(),this);this.focusDate(e.toLocalJSDate())}}};T.prototype._getLocaleData=function(){if(!this._oLocaleData){var e=this.getLocale();var t=new D(e);this._oLocaleData=i.getInstance(t)}return this._oLocaleData};T.prototype._getShowMonthHeader=function(){var e=x.call(this);if(e>2){return true}else{return false}};T.prototype._getMonthPicker=function(){return this.getAggregation("monthPicker")};T.prototype._getYearPicker=function(){return this.getAggregation("yearPicker")};T.prototype._getYearRangePicker=function(){return this.getAggregation("yearRangePicker")};T.prototype.onclick=function(e){var t=e.target;if(e.isMarked("delayedMouseEvent")){return}if(t.id==this.getId()+"-cancel"){this.onsapescape(e)}};T.prototype.onmousedown=function(e){if(e.cancelable){e.preventDefault()}e.setMark("cancelAutoClose")};T.prototype.onsapescape=function(e){this.fireCancel();this._closePickers();this._addMonthFocusDelegate();if(!this._getSucessorsPickerPopup()){this._setHeaderText(this._getFocusedDate())}};T.prototype.onsapshow=function(e){var t=e.which||e.keyCode;if(this._bPoupupMode&&t!==y.F4){this._closePickers();this._addMonthFocusDelegate();this.fireCancel();e.preventDefault()}};T.prototype.onkeydown=function(e){var t=e.which||e.keyCode,a=e.shiftKey;if(t!==y.F4){return}e.preventDefault();switch(this._iMode){case 0:if(a){this._showYearPicker()}else{this._showMonthPicker()}break;case 1:if(a){this._showYearPicker()}break;case 2:if(a){this._showYearRangePicker()}break;default:}};T.prototype.onsaphide=T.prototype.onsapshow;T.prototype.getFocusDomRef=function(){var e=this._oSelectedMonth?this._oSelectedMonth:this.getAggregation("month")[0],t=this._getMonthPicker(),a=this._getYearPicker(),i=this._getYearRangePicker();switch(this._iMode){case 0:return e.getFocusDomRef();case 1:return t.getFocusDomRef();case 2:return a.getFocusDomRef();case 3:return i.getFocusDomRef();default:return}};T.prototype.onThemeChanged=function(){var e,t=arguments;if(!this.getDomRef()){return}this._bNamesLengthChecked=undefined;if(!this._getSucessorsPickerPopup()){var a={onAfterRendering:function(){e.onThemeChanged(t);e._bNoThemeChange=true;w.call(this);this._bLongMonth=e._bLongMonth;this._closePickers();e.removeEventDelegate(a)}};e=this._getMonthPicker();this._showMonthPicker(true);e._bNoThemeChange=false;e.addEventDelegate(a,this)}var i=this.getAggregation("month");for(var r=0;r<i.length;r++){var s=i[r];s._bNoThemeChange=false;s.onThemeChanged(arguments);s._bNoThemeChange=true}var o;if(i.length>1){o=d.fromLocalJSDate(i[0].getDate(),this.getPrimaryCalendarType())}else{o=this._getFocusedDate()}this._setHeaderText(o);this._setPrimaryHeaderMonthButtonText();this._toggleTwoMonthsInTwoColumnsCSS()};T.prototype._updateLegendParent=function(){var e=this.getLegend(),t=a.byId(e);t&&t._setParent(this)};T.prototype._updateHeader=function(e){this._setHeaderText(e);switch(this._iMode){case 0:this._togglePrevNext(e,true);break;case 1:this._togglePrevNext(e,false);break;case 2:case 3:this._togglePrevNexYearPicker();break}};T.prototype._togglePrevNext=function(e,t){var a=this._oMaxDate.getYear();var i=this._oMinDate.getYear();var s=this._oMaxDate.getMonth();var o=this._oMinDate.getMonth();var n=this.getAggregation("header");var h=x.call(this);var g=new d(e,this.getPrimaryCalendarType());if(this._iMode===1&&h>1){g=A.call(this,e);g.setMonth(g.getMonth()+h-1);g.setDate(r._daysInMonth(g))}else{g.setDate(r._daysInMonth(g))}var l=g.getYear();var u=g.getMonth();if((this._iMode===0||this._iMode===1)&&h>1){u+=h-1}if(l>a||l===a&&(!t||u>=s)||(this._iMode===0||this._iMode===1)&&this._getSucessorsPickerPopup()){n.setEnabledNext(false)}else{n.setEnabledNext(true)}if(this._iMode===1&&h>1){g.setMonth(g.getMonth()-h+1,1)}else{g.setDate(1)}l=g.getYear();u=g.getMonth();if(l<i||l==i&&(!t||u<=o)||this._iMode==1&&this._getSucessorsPickerPopup()){n.setEnabledPrevious(false)}else{n.setEnabledPrevious(true)}};T.prototype._togglePrevNexYearPicker=function(){var e=this.getAggregation("yearRangePicker"),t=this._getYearPicker(),a=this.getPrimaryCalendarType(),i=new d(this._oMinDate,a),r=new d(this._oMaxDate,a),s=this.getAggregation("header"),o=1,n,h,g,l;if(this._iMode===3){g=e.getYears();o=e.getRangeSize();n=new d(e.getProperty("_middleDate"));h=new d(n);n.setYear(n.getYear()-o*g/2);h.setYear(h.getYear()+o*g/2-1)}else{g=t.getYears();l=t.getProperty("_middleDate")?t.getProperty("_middleDate"):d.fromLocalJSDate(new Date);n=new d(l);h=new d(l);n.setYear(n.getYear()-g/2);h.setYear(h.getYear()+g/2-1)}s.setEnabledNext(h.getYear()<r.getYear());s.setEnabledPrevious(n.getYear()>i.getYear())};T.prototype._handlePrevious=function(e){var t=this._getFocusedDate(),a=x.call(this),i,r=false;switch(this._iMode){case 0:if(a>1){i=d.fromLocalJSDate(this.getAggregation("month")[0].getDate(),this.getPrimaryCalendarType());i.setDate(1);this._setFocusedDate(i);t=this._getFocusedDate()}else{t.setDate(1)}t.setDate(t.getDate()-1);this._renderMonth(r,false);this._addMonthFocusDelegate();break;case 1:t.setYear(t.getYear()-1);this._updateHeadersYearPrimaryText(this._oYearFormat.format(t.toUTCJSDate(),true));this._updateHeadersYearAdditionalTextHelper();this._togglePrevNext(t);this._setDisabledMonths(t.getYear());var s=this._getMonthPicker();s._setYear(t.getYear());s._setDate(t);s.invalidate();this.setProperty("_currentPicker",k.MONTH_PICKER);break;case 2:this._getYearPicker().previousPage();this._togglePrevNexYearPicker();this._updateHeadersYearPrimaryText(this._getYearString());this._updateHeadersYearAdditionalTextHelper();break;case 3:this.getAggregation("yearRangePicker").previousPage();this._togglePrevNexYearPicker();this._updateHeadersYearPrimaryText(this._getYearString());break}};T.prototype._handleNext=function(e){var t=this._getFocusedDate(),a=x.call(this),i;switch(this._iMode){case 0:if(a>1){i=d.fromLocalJSDate(this.getAggregation("month")[0].getDate(),this.getPrimaryCalendarType());i.setMonth(i.getMonth(),1);this._setFocusedDate(i);t=this._getFocusedDate()}t.setMonth(t.getMonth()+1,1);this._renderMonth(false,false);this._addMonthFocusDelegate();break;case 1:t.setYear(t.getYear()+1);this._updateHeadersYearPrimaryText(this._oYearFormat.format(t.toUTCJSDate(),true));this._updateHeadersYearAdditionalTextHelper();this._togglePrevNext(t);this._setDisabledMonths(t.getYear());var r=this._getMonthPicker();r._setYear(t.getYear());r._setDate(t);r.invalidate();this.setProperty("_currentPicker",k.MONTH_PICKER);break;case 2:this._getYearPicker().nextPage();this._togglePrevNexYearPicker();this._updateHeadersYearPrimaryText(this._getYearString());this._updateHeadersYearAdditionalTextHelper();break;case 3:this.getAggregation("yearRangePicker").nextPage();this._togglePrevNexYearPicker();this._updateHeadersYearPrimaryText(this._getYearString());break}};T.prototype._updateHeadersYearAdditionalTextHelper=function(){if(!this._getSecondaryCalendarType()){return}var e=this._getDisplayedSecondaryYears();if(e.start.getYear()===e.end.getYear()){this._updateHeadersYearAdditionalText(this._oYearFormatSecondary.format(e.start.toUTCJSDate(),true))}else{var t=this._getLocaleData();var a=t.getIntervalPattern();var i=a.replace(/\{0\}/,this._oYearFormatSecondary.format(e.start.toUTCJSDate(),true)).replace(/\{1\}/,this._oYearFormatSecondary.format(e.end.toUTCJSDate(),true));this._updateHeadersYearAdditionalText(i)}};T.prototype._handleCurrentDate=function(){var e=new Date,t=this.getMaxDate(),a=this.getMinDate();this.setProperty("_currentPicker",k.MONTH);if(t&&t.getTime()<e.getTime()){this.focusDate(t)}else if(a&&a.getTime()>e.getTime()){this.focusDate(a)}else{this.focusDate(e)}};T.prototype._getYearString=function(){var e=this._getYearPicker(),t=e.getDomRef(),a=this._getFocusedDate();if(e&&t&&t.style.display===""){a=e.getProperty("_middleDate");a.setDate(1)}return this._oYearFormat.format(u.getInstance(a.toUTCJSDate(),a.getCalendarType()),true)};T.prototype._getDisplayedMonths=function(e){var t=[];var a=e.getMonth();var i=x.call(this);if(i>1){for(var r=0;r<i;r++){t.push((a+r)%12)}}else{t.push(a)}return t};T.prototype._getDisplayedSecondaryMonths=function(){var e=this.getPrimaryCalendarType(),t=this._getSecondaryCalendarType(),a=this.getAggregation("month"),i=d.fromLocalJSDate(a[0].getDate(),e),s=d.fromLocalJSDate(a[a.length-1].getDate(),e),o,n;i.setDate(1);i=new d(i,t);o=i.getMonth();s=d.fromLocalJSDate(a[a.length-1].getDate(),e);s.setDate(r._daysInMonth(s));s=new d(s,t);n=s.getMonth();return{start:o,end:n}};T.prototype._getDisplayedSecondaryYears=function(){var e=this.getPrimaryCalendarType(),t=this._getSecondaryCalendarType(),a,i,s,o,n,h,g;switch(this._iMode){case 0:n=this.getAggregation("month");a=d.fromLocalJSDate(n[0].getDate(),e);a.setDate(1);a=new d(a,t);i=d.fromLocalJSDate(n[n.length-1].getDate(),e);i.setDate(r._daysInMonth(i));i=new d(i,t);break;case 1:s=this._getFocusedDate();o=new d(s,e);o.setMonth(0,1);a=new d(o,e);a=new d(a,t);o.setYear(o.getYear()+1);o.setDate(o.getDate()-1);i=new d(o,e);i=new d(i,t);break;case 2:h=this._getYearPicker();g=h.getYears()/2-1;s=h.getProperty("_middleDate");a=new d(s,e);a.setYear(s.getYear()-g-1);a.setMonth(0,1);a=new d(a,t);i=new d(s,e);i.setYear(i.getYear()+g+1);a.setMonth(0,1);i.setDate(i.getDate()-1);i=new d(i,t);break;default:}return{start:a,end:i}};T.prototype._closePickers=function(){this.setProperty("_currentPicker",k.MONTH);this._togglePrevNext(this._getFocusedDate(),true);if(this.getAggregation("month").length>1){this.getAggregation("month").forEach(function(e){e._oItemNavigation.iActiveTabIndex=0})}};T.prototype._setDisabledMonths=function(e,t){var a=0;var i=11;if(e===this._oMinDate.getYear()){a=this._oMinDate.getMonth()}if(e===this._oMaxDate.getYear()){i=this._oMaxDate.getMonth()}if(!t){t=this._getMonthPicker()}t.setMinMax(a,i)};T.prototype._handleFocus=function(e){var t=d.fromLocalJSDate(e.getParameter("date"),this.getPrimaryCalendarType()),a=e.getParameter("otherMonth"),i=e.getParameter("restoreOldDate");if(this.getIntervalSelection()){this.getAggregation("month").forEach(function(e){e.setProperty("_focusedDate",t)})}if(i){if(!P(this._getFocusedDate(),t)){this._renderMonth(false,true)}}else{this._focusDate(t,a,false,true)}};T.prototype._getVisibleDays=function(){var e=this.getAggregation("month")[0];return e._getVisibleDays(e._getDate(),false)};T.prototype._renderMonth=function(e,t){var a=this._getFocusedDate(),i=this.getAggregation("month"),s,o,n=A.call(this,new d(a,this.getPrimaryCalendarType())),h=0,g=i[0].checkDateFocusable(a.toLocalJSDate()),l=!t&&!g;for(h=0;h<i.length;h++){s=i[h];o=new d(n,this.getPrimaryCalendarType());o.setMonth(n.getMonth()+h);if(!e&&r._isSameMonthAndYear(o,a)){s.setDate(a.toLocalJSDate())}else{s.displayDate(o.toLocalJSDate())}}this._updateHeader(n);this._setPrimaryHeaderMonthButtonText();this._toggleTwoMonthsInTwoColumnsCSS();if(l){this.fireStartDateChange()}};T.prototype._updateMonthButtonVisibility=function(){var e=this._getActiveHeaderAggregation();if(this._bActionTriggeredFromSecondHeader){this._isTwoMonthsInOneColumn()?e.setVisibleButton1(!e.getVisibleButton1()):e._setVisibleButton3(!e._getVisibleButton3())}else{e.setVisibleButton1(false)}return this};T.prototype._showMonthPicker=function(e){var t=this._getFocusedDate(),a=this._getMonthPicker(),i=new d(this._getFocusedDate());this._updateActiveHeaderYearButtonVisibility();this._updateMonthButtonVisibility();this.setProperty("_currentPicker",k.MONTH_PICKER);if(this._bActionTriggeredFromSecondHeader){i.setDate(1);i.setMonth(i.getMonth()+1);a._setYear(i.getYear());a._setDate(i)}else{a._setYear(t.getYear());a._setDate(t)}if(!e&&this._bActionTriggeredFromSecondHeader){a.setMonth(i.getMonth());this._setDisabledMonths(i.getYear(),a)}else if(!e){a.setMonth(t.getMonth());this._setDisabledMonths(t.getYear(),a)}if(this.getAggregation("month").length>1&&this.getProperty("_currentPicker")==k.MONTH_PICKER){this.getAggregation("month").forEach(function(e){e._oItemNavigation.iActiveTabIndex=-1})}this._togglePrevNext(t,true);this._setHeaderText(this._getFocusedDate())};T.prototype._showYearPicker=function(){var e=this._getFocusedDate(),t=this._getYearPicker();this.setProperty("_currentPicker",k.YEAR_PICKER);t.setDate(e.toLocalJSDate());this._togglePrevNexYearPicker();if(this._isTwoMonthsInOneColumn()){this._updateActiveHeaderYearButtonVisibility()}else{this._updateActiveHeaderYearButtonVisibility()}if(this._bActionTriggeredFromSecondHeader&&this.getAggregation("month")[1].getDate().getFullYear()>this._getFocusedDate().getYear()){var a=e.toLocalJSDate();a.setFullYear(a.getFullYear()+1);t.setDate(a);this._updateHeadersYearPrimaryText(this._getYearString())}else{t.setDate(e.toLocalJSDate());this._updateHeadersYearPrimaryText(this._getYearString())}if(this.getAggregation("month").length>1&&this.getProperty("_currentPicker")==k.YEAR_PICKER){this.getAggregation("month").forEach(function(e){e._oItemNavigation.iActiveTabIndex=-1})}};T.prototype._focusDate=function(e,t,a,i){var r,s=false,o=false,n=this.getAggregation("month"),h;if(e.isBefore(this._oMinDate)){r=this._oMinDate;s=true}else if(e.isAfter(this._oMaxDate)){r=this._oMaxDate;s=true}else{r=e}if(this._focusDateExtend){o=this._focusDateExtend(e,t,a)}this._setFocusedDate(r);if(i&&!this._focusDateExtend){for(h=0;h<n.length;++h){if(n[h].checkDateFocusable(r.toLocalJSDate())){n[h].setDate(r.toLocalJSDate());n[h]._focusDate(r);return}}}if(s||t){this._renderMonth(false,a);this._addMonthFocusDelegate()}if(o){this.fireStartDateChange()}};T.prototype._setHeaderText=function(e){var t=this.getAggregation("header");var a=this.getAggregation("secondMonthHeader");var i=this._getLocaleData();var r=[];var s=[];var o=[];var n=[];var h;var g=false;var l;var u;var c;var _;var p;var f=this.getPrimaryCalendarType();var D=this._getSecondaryCalendarType();var y="";if(this._bLongMonth||!this._bNamesLengthChecked){r=i.getMonthsStandAlone("wide",f)}else{g=true;r=i.getMonthsStandAlone("abbreviated",f);s=i.getMonthsStandAlone("wide",f)}if(D){o=i.getMonthsStandAlone("abbreviated",D);n=i.getMonthsStandAlone("wide",D);var m=this._getDisplayedSecondaryMonths();if(m.start===m.end){c=o[m.start];y=n[m.start]}else{p=i.getIntervalPattern();c=p.replace(/\{0\}/,o[m.start]).replace(/\{1\}/,o[m.end]);y=p.replace(/\{0\}/,n[m.start]).replace(/\{1\}/,n[m.end])}}t.setAdditionalTextButton1(c);t._setAdditionalTextButton3(c);a.setAdditionalTextButton1(c);var M=this._getDisplayedMonths(e);this._sFirstMonthName=l=r[M[0]];u=r[M[M.length-1]];if(M.length>1&&!this._bShowOneMonth){if(!p){p=i.getIntervalPattern()}c=p.replace(/\{0\}/,l).replace(/\{1\}/,u);h=s.length?p.replace(/\{0\}/,s[M[0]]).replace(/\{1\}/,s[M[M.length-1]]):c;if(this._isTwoMonthsInTwoColumns()||this._isTwoMonthsInOneColumn()){c=l}}else{c=l;h=s[M[0]]||c}if(!this._getSucessorsPickerPopup()&&y){h+=", "+y}t.setTextButton1(c);t.setAriaLabelButton1(h);t._setTextButton3(u);t._setAriaLabelButton3(u);a.setTextButton1(u);a.setAriaLabelButton1(u);var P=new d(e,f);P.setDate(1);_=this._oYearFormat.format(P.toUTCJSDate(),true);if(P.getMonth()===11){this._updateHeadersYearPrimaryText(_,(parseInt(_)+1).toString())}else{this._updateHeadersYearPrimaryText(_,_)}if(D&&this._iMode!==3){this._updateHeadersYearAdditionalTextHelper()}else{this._updateHeadersYearAdditionalText()}return{sMonth:c,sYear:_,sAriaLabel:h,bShort:g}};T.prototype._handleButton1=function(e){if(this._iMode!=1){this._saveTriggeredHeader(e);this._showMonthPicker()}else{this.setProperty("_currentPicker",k.MONTH);this._addMonthFocusDelegate()}};T.prototype._addMonthFocusDelegate=function(){var e=this.getAggregation("month"),t=e[0].getDate(),a=this._getFocusedDate(),i={onAfterRendering:function(){this._oItemNavigation.focusItem(this._oItemNavigation.getFocusedIndex());this.removeDelegate(i)}},r,s;if(e.length>1&&r){t=d.fromLocalJSDate(r,this.getPrimaryCalendarType())}else if(e.length>1){t=A.call(this,this._getFocusedDate())}else{t=a}for(var o=0;o<e.length;o++){r=new d(t);if(o>0){r.setMonth(r.getMonth()+o,1)}if(a.getYear()===r.getYear()&&a.getMonth()===r.getMonth()){s=this.getAggregation("month")[o];s.addDelegate(i,s)}}};T.prototype._handleButton2=function(e){if(this._iMode<=1){this._saveTriggeredHeader(e);this._showYearPicker()}else{this._showYearRangePicker()}};T.prototype._selectMonth=function(){var e=new d(this._getFocusedDate(),this.getPrimaryCalendarType()),t=this._getMonthPicker(),a=t.getProperty("_focusedMonth"),i=a||a===0?a:t.getMonth(),s=t._iYear?new d(t._iYear,i-1,1):new d(this._getFocusedDate().getYear(),i-1,1);if(x.call(this)>1){if(this._bActionTriggeredFromSecondHeader&&s.getYear()>=r._minDate().getYear()){e.setYear(s.getYear());i=s.getMonth()}else if(e.getYear()===r._maxDate().getYear()&&i===11){i-=1}}e.setMonth(i);if(i!=e.getMonth()){e.setDate(0)}this._focusDate(e,true,false,false);this._closePickers();this._addMonthFocusDelegate()};T.prototype._getSucessorsPickerPopup=function(){return this.getPickerPopup&&this.getPickerPopup()};T.prototype._selectYear=function(){var e=new d(this._getFocusedDate(),this.getPrimaryCalendarType()),t=e.getMonth(),a=this._getYearPicker(),i=d.fromLocalJSDate(a.getDate(),this.getPrimaryCalendarType());if(!this._bActionTriggeredFromSecondHeader){i.setMonth(t,e.getDate())}else{i.setYear(t===11?i.getYear()-1:i.getYear());i.setMonth(t,e.getDate())}e=i;this._focusDate(e,true,false,false);this._closePickers();this._addMonthFocusDelegate();this._setHeaderText(this._getFocusedDate())};T.prototype.setProperty=function(){var e=arguments[0],a=arguments[1];t.prototype.setProperty.apply(this,arguments);if(e==="_currentPicker"){switch(a){case"month":this._iMode=0;break;case"monthPicker":this._iMode=1;break;case"yearPicker":this._iMode=2;break;case"yearRangePicker":this._iMode=3;break;default:return}}return this};T.prototype._selectYearRange=function(){var e=this.getAggregation("yearRangePicker"),t=this.getAggregation("header"),a=e.getRangeSize(),i=this.getPrimaryCalendarType(),r=d.fromLocalJSDate(e.getDate(),i),s=new d(r.getYear()+a-1,0,1,i),o=this._getFocusedDate(),n,h;o.setYear(r.getYear()+a/2);r.setMonth(0,1);if(o.isBefore(this._oMinDate)){o=new d(this._oMinDate,this.getPrimaryCalendarType())}else if(o.isAfter(this._oMaxDate)){o=new d(this._oMaxDate,this.getPrimaryCalendarType())}this._setFocusedDate(o);this._showYearPicker();n=this._oYearFormat.format(u.getInstance(r.toUTCJSDate(),r.getCalendarType()),true);h=this._oYearFormat.format(u.getInstance(s.toUTCJSDate(),s.getCalendarType()),true);t.setTextButton2(n+" - "+h);t._setTextButton4(n+" - "+h)};T.prototype._showYearRangePicker=function(){var e=this.getAggregation("yearRangePicker"),t=this._getYearPicker(),a=d.fromLocalJSDate(t.getFirstRenderedDate(),this.getPrimaryCalendarType());this.setProperty("_currentPicker",k.YEAR_RANGE_PICKER);a.setYear(a.getYear()+Math.floor(e.getRangeSize()/2));e.setDate(a.toLocalJSDate());this._togglePrevNexYearPicker()};T.prototype._setColumns=function(e){this._iColumns=e;return this};T.prototype._getColumns=function(){return this._iColumns};T.prototype._updateActiveHeaderYearButtonVisibility=function(){var e=this._getActiveHeaderAggregation();if(this._bActionTriggeredFromSecondHeader){this._isTwoMonthsInOneColumn()?e.setVisibleButton1(!e.getVisibleButton1()):e._setVisibleButton3(!e._getVisibleButton3())}else{e.setVisibleButton1(!e.getVisibleButton1())}return this};T.prototype._updateHeadersButtonsHelper=function(e,t,a,i){var r=this.getAggregation("header"),s=this.getAggregation("secondMonthHeader");r.setVisibleButton1(e);r.setVisibleButton2(t);r._setVisibleButton3(a);r._setVisibleButton4(i);if(s.getVisible()){s.setVisibleButton1(e);s.setVisibleButton2(t);s._setVisibleButton3(a);s._setVisibleButton4(i)}};T.prototype._updateHeadersButtons=function(){var e=this.getAggregation("secondMonthHeader");if(this._isTwoMonthsInOneColumn()){e.setVisible(true);if(this._iMode===2){this._updateHeadersButtonsHelper(false,true,false,false)}else if(this._iMode===3){this._updateHeadersButtonsHelper(false,false,false,false)}else{this._updateHeadersButtonsHelper(true,true,false,false)}}else if(this._isTwoMonthsInTwoColumns()){e.setVisible(false);if(this._iMode===2){this._bActionTriggeredFromSecondHeader?this._updateHeadersButtonsHelper(true,true,false,true):this._updateHeadersButtonsHelper(false,true,true,true)}else if(this._iMode===3){this._updateHeadersButtonsHelper(false,false,false,false)}else if(this._iMode===1){this._bActionTriggeredFromSecondHeader?this._updateHeadersButtonsHelper(true,true,false,true):this._updateHeadersButtonsHelper(false,true,true,true)}else{this._updateHeadersButtonsHelper(true,true,true,true)}}else{e.setVisible(false);if(this._iMode===1){this._updateHeadersButtonsHelper(false,true,false,false)}else if(this._iMode===2){this._updateHeadersButtonsHelper(false,true,false,false)}else if(this._iMode===3){this._updateHeadersButtonsHelper(false,false,false,false)}else{this._updateHeadersButtonsHelper(true,true,false,false)}}if(this._getSucessorsPickerPopup()){this.getAggregation("header").setVisibleButton2(false)}};T.prototype._setPrimaryHeaderMonthButtonText=function(){var e=this.getAggregation("header");if(this._isTwoMonthsInOneColumn()||this._isTwoMonthsInTwoColumns()){e.setTextButton1(this._sFirstMonthName)}};T.prototype._toggleTwoMonthsInTwoColumnsCSS=function(){if(this._isTwoMonthsInTwoColumns()){if(a.getConfiguration().getLocale().getLanguage().toLowerCase()==="ja"||a.getConfiguration().getLocale().getLanguage().toLowerCase()==="zh"){this.addStyleClass("sapUiCalTwoMonthsTwoColumnsJaZh");this.removeStyleClass("sapUiCalTwoMonthsTwoColumns")}else{this.addStyleClass("sapUiCalTwoMonthsTwoColumns");this.removeStyleClass("sapUiCalTwoMonthsTwoColumnsJaZh")}}else{this.removeStyleClass("sapUiCalTwoMonthsTwoColumnsJaZh");this.removeStyleClass("sapUiCalTwoMonthsTwoColumns")}};T.prototype._isTwoMonthsInOneColumn=function(){var e=x.call(this);return this._getColumns()===1&&e===2};T.prototype._isTwoMonthsInTwoColumns=function(){var e=x.call(this);return this._getColumns()===2&&e===2};T.prototype._updateHeadersYearPrimaryText=function(e,t){var a=this._getYearPicker(),i=this.getAggregation("header"),s=this.getAggregation("secondMonthHeader"),o=e,n=t||e,h=this.getPrimaryCalendarType();if(this._iMode===2&&a){var g=a.getProperty("_middleDate")?a.getProperty("_middleDate"):a._getDate(),l=new d(g,h),c=r._minDate(this.getPrimaryCalendarType()).getYear(),_=r._maxDate(this.getPrimaryCalendarType()).getYear(),p,f,D;l.setDate(1);l.setYear(l.getYear()-Math.floor(a.getYears()/2));if(l.getYear()<c){l.setYear(c)}else if(l.getYear()+a.getYears()>_){l.setYear(_-a.getYears()+1)}p=new d(l,h);p.setYear(p.getYear()+a.getYears()-1);f=this._oYearFormat.format(u.getInstance(l.toUTCJSDate(),l.getCalendarType()),true);D=this._oYearFormat.format(u.getInstance(p.toUTCJSDate(),p.getCalendarType()),true);if(this._bActionTriggeredFromSecondHeader){n=f+" - "+D}else{o=f+" - "+D}}i._setTextButton4(n);i._setAriaLabelButton4(n);s.setTextButton2(n);i.setTextButton2(o)};T.prototype._updateHeadersYearAdditionalText=function(e){var t=this.getAggregation("header"),a=this.getAggregation("secondMonthHeader");t.setAdditionalTextButton2(e);t._setAdditionalTextButton4(e);a.setAdditionalTextButton2(e)};T.prototype._adjustYearRangeDisplay=function(){var t=this.getAggregation("yearRangePicker");if(!this._getSucessorsPickerPopup()){switch(this.getPrimaryCalendarType()){case e.Japanese:t.setColumns(1);t.setYears(4);break;case e.Gregorian:t.setColumns(3);t.setYears(9);break;default:t.setColumns(2);t.setYears(8)}}};T.prototype._getSpecialDates=function(){var e=this.getParent();if(this._oSpecialDatesControlOrigin){return this._oSpecialDatesControlOrigin._getSpecialDates()}if(e&&e._getSpecialDates){return e._getSpecialDates()}else{var t=this.getSpecialDates();for(var a=0;a<t.length;a++){var i=t[a].getSecondaryType()===c.CalendarDayType.NonWorking&&t[a].getType()!==c.CalendarDayType.NonWorking;if(i){var r=new s;r.setType(t[a].getSecondaryType());r.setStartDate(t[a].getStartDate());if(t[a].getEndDate()){r.setEndDate(t[a].getEndDate())}t.push(r)}}return t}};function Y(){var e=this.getSelectedDates();var t=this.getPrimaryCalendarType();if(e&&e[0]&&e[0].getStartDate()){this._oFocusedDate=d.fromLocalJSDate(e[0].getStartDate(),t)}else{this._oFocusedDate=d.fromLocalJSDate(new Date,t)}if(this._oFocusedDate.isBefore(this._oMinDate)){this._oFocusedDate=new d(this._oMinDate,t)}else if(this._oFocusedDate.isAfter(this._oMaxDate)){this._oFocusedDate=new d(this._oMaxDate,t)}}function b(e){var t=e.size.width;if(t<=0){return}if(t===this._iPrevWidth){return}this._iPrevWidth=t;var a=this._iSize;if(t<this._iBreakPointTablet){this._iSize=0}else if(t<this._iBreakPointDesktop){this._iSize=1}else if(t<this._iBreakPointLargeDesktop){this._iSize=2}else{this._iSize=3}var i=x.call(this);if(a!=this._iSize||this._bInitMonth){switch(this._iSize){case 1:this._setColumns(2);break;case 2:this._setColumns(3);break;case 3:this._setColumns(4);break;default:this._setColumns(1);break}if(i<this._getColumns()){this._setColumns(i)}if(this._getColumns()>2&&i>this._getColumns()){var r=this._getColumns();var s=0;var o=this._getColumns();while(r>=2){var n=i%r;if(n==0){o=r;break}else{var h=n/r;if(h>s){s=h;o=r}}r--}this._setColumns(o)}var g;var l=this.getAggregation("month");if(this._getColumns()>1){g=100/this._getColumns()+"%";this.$("content").removeClass("sapUiCalContentSingle")}else{g="100%";this.$("content").addClass("sapUiCalContentSingle")}for(var d=0;d<l.length;d++){var u=l[d];u.setWidth(g)}this.invalidate()}this._setPrimaryHeaderMonthButtonText();this._toggleTwoMonthsInTwoColumnsCSS()}function A(e){var t=new d(e,this.getPrimaryCalendarType());t.setDate(1);var a=x.call(this);if(a<=12){var i=e.getMonth();if(12%a>0&&i+a>11){i=12-a}t.setMonth(i)}return t}function w(){var e,t,a;if(!this._bNamesLengthChecked){e=this._getMonthPicker();this._bLongMonth=e._bLongMonth;this._bNamesLengthChecked=true;this.setProperty("_currentPicker",k.MONTH);if(!this._bLongMonth){t=this.getAggregation("month");a;if(t.length>1){a=d.fromLocalJSDate(t[0].getDate(),this.getPrimaryCalendarType())}else{a=this._getFocusedDate()}this._setHeaderText(a);this._setPrimaryHeaderMonthButtonText();this._toggleTwoMonthsInTwoColumnsCSS()}}}function H(e,t){var a,i;if(!e){return}a=d.fromLocalJSDate(e,this.getPrimaryCalendarType());i=a.getYear();r._checkYearInValidRange(i);if(r._isOutside(a,this._oMinDate,this._oMaxDate)){throw new Error("Date must not be in valid range (minDate and maxDate); "+this)}this._setFocusedDate(a);if(this.getDomRef()&&this._iMode==0){this._renderMonth(t,true)}}function x(){if(_.system.phone){return 1}else{return this.getMonths()}}function B(e){this.fireEvent("_renderMonth",{days:e.getParameter("days")})}function R(e){this._oSelectedMonth=e.oSource;this.fireSelect()}function F(e){var t,a,i;if(x.call(this)>1){t=this.getAggregation("month");for(i=0;i<t.length;i++){a=t[i];if(a.getId()!=e.oSource.getId()){a._bindMousemove()}}}}function L(e){var t,a,i;if(x.call(this)>1){t=this.getAggregation("month");for(i=0;i<t.length;i++){a=t[i];if(a.getId()!=e.oSource.getId()){a._unbindMousemove()}}}}function N(e){var t=e.getParameter("offset");if(t>0){this._handleNext(e)}if(t<0){this._handlePrevious(e)}}function E(){this._updateHeadersYearPrimaryText(this._getYearString())}return T});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/CalendarAppointment", ["./DateTypeRange","sap/ui/core/format/DateFormat","sap/ui/core/format/NumberFormat","sap/ui/core/format/TimezoneUtil","sap/ui/core/Core","./calendar/CalendarUtils","./library","sap/base/Log","sap/ui/core/Configuration"],function(t,e,i,a,n,o,r,u,p){"use strict";var g=t.extend("sap.ui.unified.CalendarAppointment",{metadata:{library:"sap.ui.unified",properties:{title:{type:"string",group:"Data"},text:{type:"string",group:"Data"},description:{type:"string",group:"Data"},icon:{type:"sap.ui.core.URI",group:"Data",defaultValue:null},tentative:{type:"boolean",group:"Data",defaultValue:false},selected:{type:"boolean",group:"Data",defaultValue:false},key:{type:"string",group:"Data",defaultValue:null},color:{type:"sap.ui.core.CSSColor",group:"Appearance",defaultValue:null}},aggregations:{customContent:{type:"sap.ui.core.Control",multiple:true}}}});g.prototype.init=function(){this._sAppointmentPartSuffix=null};g.prototype.applyFocusInfo=function(t){var e=this.getParent();if(e){e.applyFocusInfo(t)}return this};g.prototype._getDateRangeIntersectionText=function(t){var a=this._getStartDateWithTimezoneAdaptation(),n=this._getEndDateWithTimezoneAdaptation()?this._getEndDateWithTimezoneAdaptation():new Date(864e12),o,r,u=new Date(t.getFullYear(),t.getMonth(),t.getDate(),0,0,0),g=new Date(u.getFullYear(),u.getMonth(),u.getDate()+1),s=e.getTimeInstance({pattern:"HH:mm"}),m=sap.ui.getCore().getLibraryResourceBundle("sap.m"),l=i.getUnitInstance({allowedUnits:["duration-hour"]},p.getFormatSettings().getFormatLocale()),f=i.getUnitInstance({allowedUnits:["duration-minute"]},p.getFormatSettings().getFormatLocale()),d,T,c,h;if(a.getTime()>=g.getTime()||n.getTime()<=u.getTime()){o=""}else if(a.getTime()<=u.getTime()&&n.getTime()>=g.getTime()){o=m.getText("PLANNINGCALENDAR_ALLDAY")}else if(a.getTime()<u.getTime()){o=m.getText("PLANNINGCALENDAR_UNTIL");r=s.format(n)}else if(n.getTime()>g.getTime()){o=m.getText("PLANNINGCALENDAR_FROM");r=s.format(a)}else{o=s.format(a);if(n.getTime()-a.getTime()<36e5){T=(n.getTime()-a.getTime())/6e4;r=f.format(T,"duration-minute")}else if((n.getTime()-a.getTime())%36e5===0){d=(n.getTime()-a.getTime())/36e5;r=l.format(d,"duration-hour")}else{d=Math.floor((n.getTime()-a.getTime())/36e5);c=l.format(d,"duration-hour");T=(n.getTime()-a.getTime())/6e4%60;h=f.format(T,"duration-minute");r=m.getText("PLANNINGCALENDAR_APP_DURATION",[c,h])}}return{start:o,end:r}};g._getComparer=function(t){var e=24*60*60*1e3,i=new Date(t.getFullYear(),t.getMonth(),t.getDate(),0,0,0).getTime(),a=i+e;return function(t,e){var n=t.appointment._getStartDateWithTimezoneAdaptation().getTime(),o=e.appointment._getStartDateWithTimezoneAdaptation().getTime(),r=t.appointment._getEndDateWithTimezoneAdaptation()?t.appointment._getEndDateWithTimezoneAdaptation().getTime():864e12,u=e.appointment._getEndDateWithTimezoneAdaptation()?e.appointment._getEndDateWithTimezoneAdaptation().getTime():864e12,p=n<=i&&r>=a,g=o<=i&&u>=a,s;if(p&&g||!p&&!g){s=n-o;if(s===0){s=u-r}}else if(p){s=-1}else{s=1}return s}};g.prototype.setColor=function(t){if(t&&!t.match(/^#[0-9a-f]{6}$/i)){u.warning("setColor accepts only full hex color value with pound symbol, but value is '"+t+"'")}return this.setProperty("color",t)};g.prototype._getCSSColorForBackground=function(t){return"rgba("+[parseInt(t.substr(1,2),16),parseInt(t.substr(3,2),16),parseInt(t.substr(5,2),16)].join(",")+", 0.2)"};g.prototype._setAppointmentPartSuffix=function(t){this._sAppointmentPartSuffix=t;return this};g.prototype.getDomRef=function(t){if(document.getElementById(this.getId())){return document.getElementById(t?this.getId()+"-"+t:this.getId())}else if(this._sAppointmentPartSuffix){return document.getElementById(t?this.getId()+"-"+this._sAppointmentPartSuffix+"-"+t:this.getId()+"-"+this._sAppointmentPartSuffix)}var e=document.querySelectorAll(".sapUiCalendarRowApps[id^='"+this.getId()+"']");return e.length>0?e[0]:null};g.prototype._getEndDateWithTimezoneAdaptation=function(){if(!this.getProperty("endDate")){return null}var t=this._convertToTimezone(this.getEndDate());return t};g.prototype._getStartDateWithTimezoneAdaptation=function(){if(!this.getProperty("startDate")){return null}var t=this._convertToTimezone(this.getStartDate());return t};g.prototype._convertToTimezone=function(t){var e=n.getConfiguration().getTimezone();var i=a.getLocalTimezone();var o=a.calculateOffset(t,e)*1e3;var r=a.calculateOffset(t,i)*1e3;return new Date(t.getTime()-o+r)};return g});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/CalendarLegend", ["sap/ui/core/Control","./library","./CalendarLegendRenderer","sap/base/Log","sap/ui/thirdparty/jquery","sap/ui/unified/CalendarLegendItem","sap/ui/core/Core","sap/ui/Device","sap/ui/core/delegate/ItemNavigation"],function(e,t,i,a,jQuery,n,r,s,o){"use strict";var d=sap.ui.getCore().getLibraryResourceBundle("sap.ui.unified");var p=t.CalendarDayType;var g=t.StandardCalendarLegendItem;var u=e.extend("sap.ui.unified.CalendarLegend",{metadata:{library:"sap.ui.unified",properties:{standardItems:{type:"string[]",group:"Misc",defaultValue:["Today","Selected","WorkingDay","NonWorkingDay"]},columnWidth:{type:"sap.ui.core.CSSSize",group:"Misc",defaultValue:"120px"}},aggregations:{items:{type:"sap.ui.unified.CalendarLegendItem",multiple:true,singularName:"item"},_standardItems:{type:"sap.ui.unified.CalendarLegendItem",multiple:true,visibility:"hidden"}},designtime:"sap/ui/unified/designtime/CalendarLegend.designtime"},constructor:function(t,i){e.prototype.constructor.apply(this,arguments);if(typeof t!=="string"){i=t}if(!i||i&&!i.standardItems){this._addStandardItems(this.getStandardItems())}this._bShouldRenderStandardItems=true;this._oItemNavigation=null},renderer:i});u.prototype.onAfterRendering=function(){if(!s.system.phone&&this._oParentControl){this._initItemNavigation()}};u.prototype.setStandardItems=function(e){var t;if(e&&e.length===1&&e[0]===""){e=[]}if(e&&e.length){e=this.validateProperty("standardItems",e);for(t=0;t<e.length;t++){if(!g[e[t]]){throw new Error("Invalid value '"+e[t]+"'. Property standardItems must contain values from sap.ui.unified.StandardCalendarLegendItem.")}}}this.setProperty("standardItems",e);this._addStandardItems(this.getStandardItems(),true);return this};u.prototype._initItemNavigation=function(){var e=this.getAggregation("_standardItems")||[],t=this.getItems()||[],i,a=[],n,r;i=e.concat(t);if(!i.length){return}r=i[0].getDomRef().parentElement;i.forEach(function(e,t){n=e.getFocusDomRef();n.setAttribute("tabindex","-1");a.push(n)});if(!this._oItemNavigation){this._oItemNavigation=(new o).setCycling(false).attachEvent(o.Events.AfterFocus,this._onItemNavigationAfterFocus,this).attachEvent(o.Events.FocusLeave,this._onItemNavigationFocusLeave,this).setDisabledModifiers({sapnext:["alt","meta","ctrl"],sapprevious:["alt","meta","ctrl"],saphome:["alt","meta","ctrl"],sapend:["meta","ctrl"]});this.addDelegate(this._oItemNavigation)}this._oItemNavigation.setRootDomRef(r).setItemDomRefs(a).setPageSize(i.length).setFocusedIndex(0)};u.prototype._onItemNavigationAfterFocus=function(e){var t=e.getSource(),i=t.getItemDomRefs()[t.getFocusedIndex()],a=r.byId(i.id).getType(),n=this._getParent();this._setSpecialDateTypeFilter(a);n&&n.invalidate()};u.prototype._onItemNavigationFocusLeave=function(e){var t=this._getParent();this._setSpecialDateTypeFilter();t&&t.invalidate()};u.prototype._setSpecialDateTypeFilter=function(e){this._sSpecialDateTypeFilter=e||""};u.prototype._getSpecialDateTypeFilter=function(){return this._sSpecialDateTypeFilter||""};u.prototype._setParent=function(e){this._oParentControl=e};u.prototype._getParent=function(){return this._oParentControl};u.prototype._getLegendAriaLabel=function(){return d.getText("LEGEND_ARIA_LABEL")};u.prototype._addStandardItems=function(e,t){var i,a=this.getId();if(t){this.destroyAggregation("_standardItems")}for(i=0;i<e.length;i++){var r=new n(a+"-"+e[i],{text:d.getText(u._Standard_Items_TextKeys[e[i]])});this.addAggregation("_standardItems",r)}};u._Standard_Items_TextKeys={Today:"LEGEND_TODAY",Selected:"LEGEND_SELECTED",WorkingDay:"LEGEND_NORMAL_DAY",NonWorkingDay:"LEGEND_NON_WORKING_DAY"};u.prototype._getItemType=function(e,t){var i=e.getType(),n,r;if(i&&i!==p.None){return i}r=this._getUnusedItemTypes(t);n=t.filter(function(e){return!e.getType()||e.getType()===p.None}).indexOf(e);if(n<0){a.error("Legend item is not in the legend",this);return i}if(r[n]){i=r[n]}else{i="Type"+(Object.keys(p).length+n-r.length-1)}return i};u.prototype._getItemByType=function(e){var t,i=this.getItems(),a;for(a=0;a<i.length;a++){if(this._getItemType(i[a],i)===e){t=i[a];break}}return t};u.prototype._getUnusedItemTypes=function(e){var t=jQuery.extend({},p),i,a;delete t[p.None];delete t[p.NonWorking];for(a=0;a<e.length;a++){i=e[a].getType();if(t[i]){delete t[i]}}return Object.keys(t)};return u});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/CalendarLegendItem", ["sap/ui/core/Element","./library"],function(e,a){"use strict";var r=a.CalendarDayType;var u=e.extend("sap.ui.unified.CalendarLegendItem",{metadata:{library:"sap.ui.unified",properties:{text:{type:"string",group:"Misc",defaultValue:null},type:{type:"sap.ui.unified.CalendarDayType",group:"Appearance",defaultValue:r.None},color:{type:"sap.ui.core.CSSColor",group:"Appearance",defaultValue:null}}}});return u});
/*
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/CalendarLegendRenderer", ["sap/ui/core/InvisibleText"],function(e){"use strict";var t={apiVersion:2};t.render=function(e,t){var i=t.getAggregation("_standardItems"),n=t.getItems(),r=this.defineItemsLength(t,n.length),d=(i?i.length:0)+(n?n.length:0),s,a,o,l=1;e.openStart("div",t);e.class("sapUiUnifiedLegend");e.attr("aria-label",t._getLegendAriaLabel());e.attr("role","list");e.openEnd();this.renderItemsHeader(e,t);if(i||n){e.openStart("div");e.class("sapUiUnifiedLegendItems");o=t.getColumnWidth();e.style("column-width",o);e.style("-moz-column-width",o);e.style("-webkit-column-width",o);e.openEnd();if(i){a=t.getId().length+1;for(s=0;s<i.length;++s){var g="sapUiUnifiedLegend"+i[s].getId().slice(a);this.renderLegendItem(e,g,i[s],["sapUiUnifiedLegendSquareColor"],l++,d)}}if(n){for(s=0;s<r;s++){this.renderLegendItem(e,"sapUiCalLegDayType"+t._getItemType(n[s],n).slice(4),n[s],["sapUiUnifiedLegendSquareColor"],l++,d)}}this.renderAdditionalItems(e,t);e.close("div")}this.renderAdditionalContent(e,t);e.close("div")};t.renderLegendItem=function(e,t,i,n,r,d){var s=i.getText();var a=i.getTooltip_AsString();e.openStart("div",i);if(a){e.attr("title",a)}e.attr("role","listitem");e.attr("aria-posinset",r);e.attr("aria-setsize",d);e.class("sapUiUnifiedLegendItem");e.class(t);e.openEnd();e.openStart("div");e.class("sapUiUnifiedLegendSquare");e.openEnd();this.renderColor(e,i.getColor(),n);e.close("div");e.openStart("div",i.getId()+"-Text");e.class("sapUiUnifiedLegendDescription");e.openEnd();e.text(s);e.close("div");e.close("div")};t.renderItemsHeader=function(e,t){};t.renderAdditionalContent=function(e,t){};t.defineItemsLength=function(e,t){return t};t.renderAdditionalItems=function(e,t){};t.renderColor=function(e,t,i){e.openStart("div");for(var n=0;n<i.length;n++){e.class(i[n])}if(t){e.style("background-color",t)}e.openEnd();e.close("div")};t.addCalendarTypeAccInfo=function(e,i,n){var r,d;if(n){var s=n._getItemByType(i);if(s){r=s.getText()}}if(r){e["label"]=e["label"]?e["label"]+"; "+r:r}else{d=t.getTypeAriaText(i);if(d){e["describedby"]=e["describedby"]?e["describedby"]+" "+d.getId():d.getId()}}};t.typeARIATexts={};t.getTypeAriaText=function(i){var n,r;if(i.indexOf("Type")!==0){return}if(!t.typeARIATexts[i]){n=sap.ui.getCore().getLibraryResourceBundle("sap.ui.unified");r=n.getText("LEGEND_UNNAMED_TYPE",parseInt(i.slice(4)).toString());t.typeARIATexts[i]=new e({text:r});t.typeARIATexts[i].toStatic()}return t.typeARIATexts[i]};return t},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/CalendarRenderer", [],function(){"use strict";var e={apiVersion:2};var t={MONTH:"month",MONTH_PICKER:"monthPicker",YEAR_PICKER:"yearPicker",YEAR_RANGE_PICKER:"yearRangePicker"};e.render=function(e,n){var r=n.getId(),a=n.getTooltip_AsString(),i=n.getAggregation("month"),o=n.getProperty("_currentPicker"),s=n.getWidth(),l=sap.ui.getCore().getLibraryResourceBundle("sap.ui.unified"),c={labelledby:{value:"",append:false}};e.openStart("div",n);e.class("sapUiCal");if(i.length>1){e.class("sapUiCalMulti")}e.accessibilityState(n,c);if(a){e.attr("title",a)}if(s){e.class("sapUiCalWidth");e.style("width",s)}if(n._getSecondaryCalendarType()){e.class("sapUiCalSecType")}if(this.addAttributes){this.addAttributes(e,n)}e.openEnd();var d=n.getAggregation("header");e.renderControl(d);e.openStart("div",r+"-content");e.class("sapUiCalContent");e.openEnd();if(n.getMonths()>1){switch(o){case t.MONTH_PICKER:case t.YEAR_PICKER:case t.YEAR_RANGE_PICKER:this.renderMonths(e,n,i);this.renderCalContentOverlay(e,n,r);break}}switch(o){case t.MONTH:this.renderMonths(e,n,i);break;case t.MONTH_PICKER:e.renderControl(n._getMonthPicker());break;case t.YEAR_PICKER:e.renderControl(n._getYearPicker());break;case t.YEAR_RANGE_PICKER:e.renderControl(n._getYearRangePicker());break}e.close("div");if(!n._bSkipCancelButtonRendering){e.openStart("button",r+"-cancel");e.class("sapUiCalCancel");e.attr("tabindex","-1");e.openEnd();e.text(l.getText("CALENDAR_CANCEL"));e.close("button")}this.renderCalContentAndArrowsOverlay(e,n,r);e.close("div")};e.renderMonths=function(e,t,n){n.forEach(function(r,a){e.renderControl(r);if(n.length===2&&a===0){e.renderControl(t.getAggregation("secondMonthHeader"))}})};e.renderCalContentOverlay=function(e,t,n){e.openStart("div",n+"-contentOver");e.class("sapUiCalContentOver");e.openEnd();e.close("div")};e.renderCalContentAndArrowsOverlay=function(e,t,n){};return e},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/CalendarRow", ["sap/ui/core/Control","sap/ui/Device","sap/ui/core/LocaleData","sap/ui/unified/calendar/CalendarUtils","sap/ui/core/format/TimezoneUtil","sap/ui/core/Core","sap/ui/core/date/UniversalDate","./library","sap/ui/core/InvisibleText","sap/ui/core/format/DateFormat","sap/ui/core/ResizeHandler","sap/ui/core/Locale","./CalendarRowRenderer","sap/ui/dom/containsOrEquals","sap/ui/thirdparty/jquery","sap/ui/unified/CalendarAppointment","sap/ui/core/InvisibleMessage","sap/ui/core/library","sap/ui/core/Configuration"],function(e,t,i,a,n,s,r,o,p,l,u,g,h,d,jQuery,c,f,m,v){"use strict";var T=o.CalendarDayType;var C=o.CalendarAppointmentVisualization;var A=o.GroupAppointmentsMode;var _=o.CalendarIntervalType;var U=o.CalendarAppointmentHeight;var y=o.CalendarAppointmentRoundWidth;var D=m.InvisibleMessageMode;var b=e.extend("sap.ui.unified.CalendarRow",{metadata:{library:"sap.ui.unified",properties:{startDate:{type:"object",group:"Data"},intervals:{type:"int",group:"Appearance",defaultValue:12},intervalSize:{type:"int",group:"Appearance",defaultValue:1},intervalType:{type:"sap.ui.unified.CalendarIntervalType",group:"Appearance",defaultValue:_.Hour},showSubIntervals:{type:"boolean",group:"Appearance",defaultValue:false},showIntervalHeaders:{type:"boolean",group:"Appearance",defaultValue:true},showEmptyIntervalHeaders:{type:"boolean",group:"Appearance",defaultValue:true},nonWorkingDays:{type:"int[]",group:"Misc",defaultValue:null},nonWorkingHours:{type:"int[]",group:"Misc",defaultValue:null},width:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:null},height:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:null},checkResize:{type:"boolean",group:"Behavior",defaultValue:true},updateCurrentTime:{type:"boolean",group:"Behavior",defaultValue:true},groupAppointmentsMode:{type:"sap.ui.unified.GroupAppointmentsMode",group:"Appearance",defaultValue:A.Collapsed},appointmentsReducedHeight:{type:"boolean",group:"Appearance",defaultValue:false,deprecated:true},appointmentsVisualization:{type:"sap.ui.unified.CalendarAppointmentVisualization",group:"Appearance",defaultValue:C.Standard},appointmentHeight:{type:"sap.ui.unified.CalendarAppointmentHeight",group:"Appearance",defaultValue:U.Regular},appointmentRoundWidth:{type:"sap.ui.unified.CalendarAppointmentRoundWidth",group:"Appearance",defaultValue:y.None},multipleAppointmentsSelection:{type:"boolean",group:"Data",defaultValue:false}},aggregations:{appointments:{type:"sap.ui.unified.CalendarAppointment",multiple:true,singularName:"appointment"},intervalHeaders:{type:"sap.ui.unified.CalendarAppointment",multiple:true,singularName:"intervalHeader"},groupAppointments:{type:"sap.ui.unified.CalendarAppointment",multiple:true,singularName:"groupAppointment",visibility:"hidden"}},associations:{ariaLabelledBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"},legend:{type:"sap.ui.unified.CalendarLegend",multiple:false}},events:{select:{parameters:{appointment:{type:"sap.ui.unified.CalendarAppointment"},appointments:{type:"sap.ui.unified.CalendarAppointment[]"},multiSelect:{type:"boolean"},domRefId:{type:"string"}}},startDateChange:{},leaveRow:{parameters:{type:{type:"string"}}},intervalSelect:{parameters:{startDate:{type:"object"},endDate:{type:"object"},subInterval:{type:"boolean"}}}}},renderer:h});b.prototype.init=function(){this._bRTL=v.getRTL();this._oRb=sap.ui.getCore().getLibraryResourceBundle("sap.ui.unified");this._oFormatAria=l.getDateTimeInstance({pattern:"EEEE dd/MM/YYYY 'at' "+I.call(this).getTimePattern("medium")});this._aVisibleAppointments=[];this._aVisibleIntervalHeaders=[];this.setStartDate(new Date);this._resizeProxy=jQuery.proxy(this.handleResize,this);this.aSelectedAppointments=[];this._fnCustomSortedAppointments=undefined};b.prototype.exit=function(){if(this._sResizeListener){u.deregister(this._sResizeListener);this._sResizeListener=undefined}if(this._sUpdateCurrentTime){clearTimeout(this._sUpdateCurrentTime);this._sUpdateCurrentTime=undefined}this._fnCustomSortedAppointments=undefined};b.prototype.onBeforeRendering=function(){this._aVisibleAppointments=[];w.call(this);k.call(this);W.call(this);if(this._sUpdateCurrentTime){clearTimeout(this._sUpdateCurrentTime);this._sUpdateCurrentTime=undefined}if(!this.getAppointments().length){this.aSelectedAppointments=[]}else{this.getAppointments().forEach(function(e){this._updateSelectedAppointmentsArray(e)}.bind(this))}this._oInvisibleMessage=f.getInstance()};b.prototype.onAfterRendering=function(){F.call(this);this.updateCurrentTimeVisualization();if(this.getCheckResize()&&!this._sResizeListener){this._sResizeListener=u.register(this,this._resizeProxy)}};b.prototype.onThemeChanged=function(e){if(this.getDomRef()){for(var t=0;t<this._aVisibleAppointments.length;t++){var i=this._aVisibleAppointments[t];i.level=-1}this.handleResize(e)}};b.prototype.invalidate=function(t){if(t&&t instanceof c){var i=false;for(var a=0;a<this._aVisibleAppointments.length;a++){if(this._aVisibleAppointments[a].appointment==t){i=true;break}}if(i){this._aVisibleAppointments=[]}this._updateSelectedAppointmentsArray(t)}e.prototype.invalidate.apply(this,arguments)};b.prototype.setStartDate=function(e){if(!e){e=new Date}a._checkJSDateObject(e);var t=e.getFullYear();a._checkYearInValidRange(t);this._oUTCStartDate=a._createUniversalUTCDate(e,undefined,true);this.setProperty("startDate",e);return this};b.prototype._getStartDate=function(){if(!this._oUTCStartDate){this._oUTCStartDate=a._createUniversalUTCDate(this.getStartDate(),undefined,true)}return this._oUTCStartDate};b.prototype.setIntervalType=function(e){this.setProperty("intervalType",e);this._aVisibleAppointments=[];return this};b.prototype._getAppointmentReducedHeight=function(e){var i=!t.system.phone&&this.getAppointmentsReducedHeight()&&e.size===U.Regular;return i};b.prototype.onfocusin=function(e){if(jQuery(e.target).hasClass("sapUiCalendarApp")){$.call(this,e.target.id)}else{var t=this._getVisibleAppointments();var i=false;var a;for(var n=0;n<t.length;n++){a=t[n].appointment;if(d(a.getDomRef(),e.target)){i=true;a.focus();break}}if(!i){a=this.getFocusedAppointment();if(a){a.focus()}}}};b.prototype.applyFocusInfo=function(e){if(this._sFocusedAppointmentId){this.getFocusedAppointment().focus()}return this};b.prototype.onsapleft=function(e){if(jQuery(e.target).hasClass("sapUiCalendarApp")){N.call(this,this._bRTL,1)}e.preventDefault();e.stopPropagation()};b.prototype.onsapright=function(e){if(jQuery(e.target).hasClass("sapUiCalendarApp")){N.call(this,!this._bRTL,1)}e.preventDefault();e.stopPropagation()};b.prototype.onsapup=function(e){this.fireLeaveRow({type:e.type})};b.prototype.onsapdown=function(e){this.fireLeaveRow({type:e.type})};b.prototype.onsaphome=function(e){x.call(this,e);e.preventDefault();e.stopPropagation()};b.prototype.onsapend=function(e){x.call(this,e);e.preventDefault();e.stopPropagation()};b.prototype.onsapselect=function(e){var t=this._getVisibleAppointments(),i;for(var a=0;a<t.length;a++){var n=t[a].appointment;if(d(n.getDomRef(),e.target)){var s=!(this.getMultipleAppointmentsSelection()||e.ctrlKey||e.metaKey);L.call(this,n,s);i=n.getSelected()?"APPOINTMENT_SELECTED":"APPOINTMENT_UNSELECTED";break}}this._oInvisibleMessage.announce(this._oRb.getText(i),D.Polite);e.stopPropagation();e.preventDefault()};b.prototype.ontap=function(e){var t=this.$("Apps").children(".sapUiCalendarRowAppsInt");var i=0;var a=false;for(i=0;i<t.length;i++){var n=t[i];if(!this._isOneMonthsRowOnSmallSizes()&&d(n,e.target)){a=true;break}}if(a){B.call(this,i,e.target)}else{this.onsapselect(e)}};b.prototype.onsapselectmodifiers=function(e){this.onsapselect(e)};b.prototype.handleResize=function(e){if(e&&e.size&&e.size.width<=0){return this}var t=this.$("DummyApp");t.css("display","");F.call(this);return this};b.prototype.updateCurrentTimeVisualization=function(){var e=this.$("Now");var t=a._createUniversalUTCDate(new Date,undefined,true);var i=this.getIntervals();var n=this.getIntervalType();var s=this._getStartDate();var r=s.getTime();var o=this._oUTCEndDate;var p=o.getTime();this._sUpdateCurrentTime=undefined;t=this._convertToTimezone(t);if(t.getTime()<=p&&t.getTime()>=r){var l=E.call(this,n,i,s,o,r,t);var u=0;if(this._bRTL){e.css("right",l+"%")}else{e.css("left",l+"%")}e.css("display","");if(this.getUpdateCurrentTime()){switch(n){case _.Hour:u=6e4;break;case _.Day:case _.Week:case _.OneMonth:case"OneMonth":u=18e5;break;default:u=-1;break}if(u>0){this._sUpdateCurrentTime=setTimeout(this.updateCurrentTimeVisualization.bind(this),u)}}}else{e.css("display","none")}return this};b.prototype._convertToTimezone=function(e){var t=s.getConfiguration().getTimezone();var i=a._createUniversalUTCDate(e,undefined,true);i=new Date(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds());i.setUTCFullYear(e.getUTCFullYear());i=n.convertToTimezone(i,t);return i};b.prototype.getFocusedAppointment=function(){var e=this._getAppointmentsSorted();var t=this.getAggregation("groupAppointments",[]);var i;var a=0;for(a=0;a<t.length;a++){if(t[a].getId()==this._sFocusedAppointmentId){i=t[a];break}}if(!i){for(a=0;a<e.length;a++){if(e[a].getId()==this._sFocusedAppointmentId){i=e[a];break}}}return i};b.prototype.focusAppointment=function(e){if(!e||!(e instanceof c)){throw new Error("Appointment must be a CalendarAppointment; "+this)}var t=e.getId();if(this._sFocusedAppointmentId!=t){$.call(this,t)}else{e.focus()}return this};b.prototype.focusNearestAppointment=function(e){a._checkJSDateObject(e);var t=this._getAppointmentsSorted();var i;var n;var s;for(var r=0;r<t.length;r++){i=t[r];if(i._getStartDateWithTimezoneAdaptation()>e){if(r>0){n=t[r-1]}else{n=i}break}}if(i){if(n&&Math.abs(i._getStartDateWithTimezoneAdaptation()-e)>=Math.abs(n._getStartDateWithTimezoneAdaptation()-e)){s=n}else{s=i}this.focusAppointment(s)}return this};b.prototype._getVisibleAppointments=function(){return this._aVisibleAppointments};b.prototype._getVisibleIntervalHeaders=function(){return this._aVisibleIntervalHeaders};b.prototype._getNonWorkingDays=function(){if(this.getIntervalSize()!==1){return[]}var e=this.getNonWorkingDays();if(!e){var t=I.call(this);var i=t.getWeekendStart();var a=t.getWeekendEnd();e=[];for(var n=0;n<=6;n++){if(i<=a&&n>=i&&n<=a||i>a&&(n>=i||n<=a)){e.push(n)}}}else if(!Array.isArray(e)){e=[]}return e};b.prototype._isOneMonthsRowOnSmallSizes=function(){return(this.getIntervalType()===_.OneMonth||this.getIntervalType()==="OneMonth")&&this.getIntervals()===1};b.prototype._getAppointmentsSorted=function(){var e=this.getAppointments(),t=j;e.sort(this._fnCustomSortedAppointments?this._fnCustomSortedAppointments:t);return e};b.prototype._setCustomAppointmentsSorterCallback=function(e){this._fnCustomSortedAppointments=e;this.invalidate()};b.prototype._calculateAppoitnmentVisualCue=function(e){if(S(this,e)){return{appTimeUnitsDifRowStart:0,appTimeUnitsDifRowEnd:0}}var t=e._getStartDateWithTimezoneAdaptation(),i=e._getEndDateWithTimezoneAdaptation(),a=new r(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes()),n=new r(i.getFullYear(),i.getMonth(),i.getDate(),i.getHours(),i.getMinutes()),s=this.getIntervalType(),o=this.getStartDate(),p=s==="Hour"?new r(o.getFullYear(),o.getMonth(),o.getDate(),o.getHours()):new r(o.getFullYear(),o.getMonth(),o.getDate()),l=this.getIntervals(),u;switch(s){case"Hour":u=new r(o.getFullYear(),o.getMonth(),o.getDate(),o.getHours()+l);break;case"Day":case"Week":case"One Month":u=new r(o.getFullYear(),o.getMonth(),o.getDate()+l);break;case"Month":u=new r(o.getFullYear(),o.getMonth()+l,o.getDate());break;default:break}return{appTimeUnitsDifRowStart:p.getTime()-a.getTime(),appTimeUnitsDifRowEnd:n.getTime()-u.getTime()}};b.prototype._updateSelectedAppointmentsArray=function(e){if(e.getSelected()){if(this.aSelectedAppointments.indexOf(e.getId())===-1){this.aSelectedAppointments.push(e.getId())}}else{this.aSelectedAppointments=this.aSelectedAppointments.filter(function(t){return t!==e.getId()})}};function S(e,t){var i=e.getAggregation("groupAppointments",[]);var a;for(a=0;a<i.length;++a){if(t===i[a]){return true}}return false}function M(){if(!this._sLocale){this._sLocale=v.getFormatSettings().getFormatLocale().toString()}return this._sLocale}function I(){if(!this._oLocaleData){var e=M.call(this);var t=new g(e);this._oLocaleData=i.getInstance(t)}return this._oLocaleData}function w(){var e=this.getStartDate();var t;var i=this.getIntervals();var a=this.getIntervalType();this._oUTCStartDate=H.call(this,e);switch(a){case _.Hour:t=new r(this._oUTCStartDate.getTime());t.setUTCHours(t.getUTCHours()+i);break;case _.Day:case _.Week:case _.OneMonth:case"OneMonth":t=new r(this._oUTCStartDate.getTime());t.setUTCDate(t.getUTCDate()+i*this.getIntervalSize());break;case _.Month:t=new r(this._oUTCStartDate.getTime());t.setUTCMonth(t.getUTCMonth()+i);break;default:throw new Error("Unknown IntervalType: "+a+"; "+this)}t.setUTCMilliseconds(-1);this._iRowSize=t.getTime()-this._oUTCStartDate.getTime();this._iIntervalSize=Math.floor(this._iRowSize/i);this._oUTCEndDate=t}function H(e){var t=this.getIntervalType();var i=a._createUniversalUTCDate(e,undefined,true);switch(t){case _.Hour:i.setUTCMinutes(0);i.setUTCSeconds(0);i.setUTCMilliseconds(0);break;case _.Day:case _.Week:case _.OneMonth:case"OneMonth":i.setUTCHours(0);i.setUTCMinutes(0);i.setUTCSeconds(0);i.setUTCMilliseconds(0);break;case _.Month:i.setUTCDate(1);i.setUTCHours(0);i.setUTCMinutes(0);i.setUTCSeconds(0);i.setUTCMilliseconds(0);break;default:throw new Error("Unknown IntervalType: "+t+"; "+this)}return i}function z(){return t.system.phone||this.getGroupAppointmentsMode()===A.Collapsed}function k(){var e=this._getAppointmentsSorted();var t;var i;var n;var s=this.getIntervals();var o=this.getIntervalType();var p=this._getStartDate();var l=p.getTime();var u=this._oUTCEndDate;var g=u.getTime();var h=[];var d=false;var c=0;var f=0;var m=z.call(this);var v=this._needAppointmentHorizontalFit();this.destroyAggregation("groupAppointments",true);for(c=0;c<e.length;c++){t=e[c];var T=a._createUniversalUTCDate(t._getStartDateWithTimezoneAdaptation(),undefined,true);var C=T.getTime();T.setUTCSeconds(0);T.setUTCMilliseconds(0);var A=t._getEndDateWithTimezoneAdaptation()?a._createUniversalUTCDate(t._getEndDateWithTimezoneAdaptation(),undefined,true):a._createUniversalUTCDate(new Date(864e12),undefined,true);var U=A.getTime();A.setUTCSeconds(0);A.setUTCMilliseconds(0);var y=false;if(T.getTime()<l&&A.getTime()>=l){T=new r(l);y=true}if(A.getTime()>g&&T.getTime()<=g){A=new r(g);y=true}var D=(A.getTime()-T.getTime())/6e4;if(y&&D==0){continue}var b=0;var S=0;var M=-1;i=undefined;n=undefined;if(T&&T.getTime()<=g&&A&&A.getTime()>=l&&C<=U){if(m&&o==_.Month&&A.getTime()-T.getTime()<6048e5){i=R.call(this,T,t,o,s,p,u,l,h);var I=a._createUniversalUTCDate(i._getEndDateWithTimezoneAdaptation(),undefined,true);if(A.getTime()>I.getTime()){n=R.call(this,A,t,o,s,p,u,l,h)}}if(v){this._setHorizontalRoundingWidth(t,T,A)}b=E.call(this,o,s,p,u,l,T);S=V.call(this,o,s,p,u,l,A);if(i){i._iBegin=b;i._iEnd=S;i._iLevel=M;if(n){n._iBegin=b;n._iEnd=S;n._iLevel=M}continue}h.push({appointment:t,begin:b,end:S,calculatedEnd:S,level:M,size:this.getProperty("appointmentHeight")});if(this._sFocusedAppointmentId&&this._sFocusedAppointmentId==t.getId()){d=true}}}var w=this.getAggregation("groupAppointments",[]);if(w.length>0){for(c=0;c<h.length;c++){t=h[c];if(t.appointment._aAppointments&&t.appointment._aAppointments.length<=1){i=t.appointment;var H=false;if(i._aAppointments.length==0){H=true}else{for(f=0;f<h.length;f++){if(h[f].appointment==i._aAppointments[0]){H=true;break}}}if(!H){for(f=0;f<w.length;f++){n=w[f];if(i!=n){for(var k=0;k<n._aAppointments.length;k++){if(i._aAppointments[0]==n._aAppointments[k]){n._aAppointments.splice(k,1);if(n._aAppointments.length==1){this.removeAggregation("groupAppointments",n);n.destroy();w=this.getAggregation("groupAppointments",[])}else{n.setProperty("title",n._aAppointments.length,true)}break}}}}t.begin=i._iBegin;t.end=i._iEnd;t.calculatedEnd=i._iEnd;t.level=i._iLevel;t.appointment=i._aAppointments[0]}else{h.splice(c,1);c--}this.removeAggregation("groupAppointments",i);i.destroy();w=this.getAggregation("groupAppointments",[])}}}if(!d){if(h.length>0){this._sFocusedAppointmentId=h[0].appointment.getId()}else{this._sFocusedAppointmentId=undefined}}this._aVisibleAppointments=h;return this._aVisibleAppointments}function R(e,t,i,n,s,o,p,l){var u=this.getAggregation("groupAppointments",[]);var g;var h=I.call(this);var d=h.getFirstDayOfWeek();var f=e.getUTCDay();var m=new r(e.getTime());m.setUTCHours(0);m.setUTCMinutes(0);m.setUTCSeconds(0);m.setUTCMilliseconds(0);if(d<=f){m.setDate(m.getDate()-(f-d))}else{m.setDate(m.getDate()-(7-f-d))}for(var v=0;v<u.length;v++){g=u[v];var C=a._createUniversalUTCDate(g._getStartDateWithTimezoneAdaptation(),undefined,true);if(C.getTime()==m.getTime()){break}g=undefined}if(!g){var A=new r(m.getTime());A.setDate(A.getDate()+7);A.setMilliseconds(-1);g=new c(this.getId()+"-Group"+u.length,{type:t.getType(),startDate:a._createLocalDate(new Date(m.getTime()),true),endDate:a._createLocalDate(new Date(A.getTime()),true)});g._aAppointments=[];this.addAggregation("groupAppointments",g,true);var _=E.call(this,i,n,s,o,p,m);var U=V.call(this,i,n,s,o,p,A);l.push({appointment:g,begin:_,end:U,calculatedEnd:U,level:-1,size:this.getProperty("appointmentHeight")})}g._aAppointments.push(t);if(g.getType()!=T.None&&g.getType()!=t.getType()){g.setType(T.None)}g.setProperty("title",g._aAppointments.length,true);return g}function E(e,t,i,a,n,s){var o=0;if(e!=_.Month){o=100*(s.getTime()-n)/this._iRowSize}else{var p=new r(s.getTime());p.setUTCDate(1);p.setUTCHours(0);p.setUTCMinutes(0);p.setUTCSeconds(0);p.setUTCMilliseconds(0);var l=new r(p.getTime());l.setUTCMonth(l.getUTCMonth()+1);l.setMilliseconds(-1);var u=l.getTime()-p.getTime();var g=(p.getUTCFullYear()-i.getUTCFullYear())*12+p.getUTCMonth()-i.getUTCMonth();o=100*g/t+100*(s.getTime()-p.getTime())/u/t}if(o<0){o=0}o=Math.round(o*1e5)/1e5;return o}function V(e,t,i,a,n,s){var o=0;if(e!=_.Month){o=100-100*(s.getTime()-n)/this._iRowSize}else{var p=new r(s.getTime());p.setUTCDate(1);p.setUTCHours(0);p.setUTCMinutes(0);p.setUTCSeconds(0);p.setUTCMilliseconds(0);var l=new r(p.getTime());l.setUTCMonth(l.getUTCMonth()+1);l.setMilliseconds(-1);var u=l.getTime()-p.getTime();var g=(p.getUTCFullYear()-i.getUTCFullYear())*12+p.getUTCMonth()-i.getUTCMonth();o=100-(100*g/t+100*(s.getTime()-p.getTime())/u/t)}if(o<0){o=0}o=Math.round(o*1e5)/1e5;return o}function W(){var e=[];if(this.getShowIntervalHeaders()){var t=this.getIntervalHeaders();var i;var n=this.getIntervals();var s=this.getIntervalType();var o=this._getStartDate();var p=o.getTime();var l=this._oUTCEndDate;var u=l.getTime();var g=0;var h=0;for(g=0;g<t.length;g++){i=t[g];var d=a._createUniversalUTCDate(i._getStartDateWithTimezoneAdaptation(),undefined,true);d.setUTCSeconds(0);d.setUTCMilliseconds(0);var c=i._getEndDateWithTimezoneAdaptation()?a._createUniversalUTCDate(i._getEndDateWithTimezoneAdaptation(),undefined,true):a._createUniversalUTCDate(new Date(864e12),undefined,true);c.setUTCSeconds(0);c.setUTCMilliseconds(0);if(d&&d.getTime()<=u&&c&&c.getTime()>=p){var f=new r(o.getTime());var m=new r(o.getTime());m.setUTCMinutes(m.getUTCMinutes()-1);var v=-1;var T=-1;for(h=0;h<n;h++){switch(s){case _.Hour:m.setUTCHours(m.getUTCHours()+1);if(h>0){f.setUTCHours(f.getUTCHours()+1)}break;case _.Day:case _.Week:case _.OneMonth:case"OneMonth":m.setUTCDate(m.getUTCDate()+1);if(h>0){f.setUTCDate(f.getUTCDate()+1)}break;case _.Month:m.setUTCDate(1);m.setUTCMonth(m.getUTCMonth()+2);m.setUTCDate(0);if(h>0){f.setUTCMonth(f.getUTCMonth()+1)}break;default:throw new Error("Unknown IntervalType: "+s+"; "+this)}if(d&&d.getTime()<=f.getTime()&&c&&c.getTime()>=m.getTime()){if(v<0){v=h}T=h}}if(v>=0){e.push({interval:v,appointment:i,last:T})}}}}this._aVisibleIntervalHeaders=e;return this._aVisibleIntervalHeaders}function F(){if(this._isOneMonthsRowOnSmallSizes()){return}var e=this.$("Apps");var t=e.innerWidth();if(t<=0){return}var i=this.$("DummyApp");var a=i.outerHeight(true);if(a<=0){return}var n=4;var s=i.outerWidth();var r=s/t*100;var o=Math.ceil(1e3*r)/1e3;var p;var l;var u=0;var g=0;var h=0;var d=false;var c;var f=this._needAppointmentHorizontalFit();if(this.getShowIntervalHeaders()&&(this.getShowEmptyIntervalHeaders()||this._getVisibleIntervalHeaders().length>0)){u=jQuery(this.$("AppsInt0").children(".sapUiCalendarRowAppsIntHead")[0]).outerHeight(true);d=true}for(h=0;h<this._aVisibleAppointments.length;h++){p=this._aVisibleAppointments[h];l=p.appointment.$();var m=Math.floor(1e3*(100-p.calculatedEnd-p.begin))/1e3;var v=false;if(m<o){p.end=100-p.begin-r;if(p.end<0){p.end=0}v=true;l.addClass("sapUiCalendarAppSmall")}else if(l.hasClass("sapUiCalendarAppSmall")){p.end=p.calculatedEnd;v=true;l.removeClass("sapUiCalendarAppSmall")}if(v){p.level=-1}if(v&&!f){if(this._bRTL){l.css("left",p.end+"%")}else{l.css("right",p.end+"%")}}if(f){p.end=p.calculatedEnd}}for(h=0;h<this._aVisibleAppointments.length;h++){p=this._aVisibleAppointments[h];l=p.appointment.$();var T={};if(p.level<0){for(var C=0;C<this._aVisibleAppointments.length;C++){var A=this._aVisibleAppointments[C];if(p!=A&&p.begin<Math.floor(1e3*(100-A.end))/1e3&&Math.floor(1e3*(100-p.end))/1e3>A.begin&&A.level>=0){this._setBlockedLevelsForAppointment(A,T)}}p.level=this._getAppointmetLevel(T,p);l.attr("data-sap-level",p.level)}c=a*p.level+u;if(!d){c+=n}l.css("top",c+"px");var _=p.level;_+=this._getAppointmentRowCount(p)-1;if(g<_){g=_}}g++;a=a*g+u;if(!d){a+=n}if(!this.getHeight()){e.outerHeight(a)}else{var U=this.$("Apps").children(".sapUiCalendarRowAppsInt");for(h=0;h<U.length;h++){var y=jQuery(U[h]);y.outerHeight(a)}}i.css("display","none")}function L(e,t){var i=0;var a;var n;var s;var r;var o=p.getStaticId("sap.ui.unified","APPOINTMENT_SELECTED");var l=!e.getSelected();if(t){var u=this.getAppointments();var g=this.getAggregation("groupAppointments",[]);jQuery.merge(u,g);for(i=0;i<u.length;i++){a=u[i];if(a.getId()!==e.getId()&&a.getSelected()){a.setProperty("selected",false,true);a.$().removeClass("sapUiCalendarAppSel");for(var i=0;i<this.aSelectedAppointments.length;i++){if(this.aSelectedAppointments[i]!==a.getId()){this.aSelectedAppointments.splice(i)}}n=a.$().attr("aria-labelledby");s=n?n.replace(o,""):"";a.$().attr("aria-labelledby",s)}}}r=e.$().attr("aria-labelledby")+" "+o;s=e.$().attr("aria-labelledby").replace(o,"").trim();if(e.getSelected()){e.setProperty("selected",false,true);e.$().removeClass("sapUiCalendarAppSel");e.$().attr("aria-labelledby",s);O(this,t)}else{e.setProperty("selected",true,true);e.$().addClass("sapUiCalendarAppSel");e.$().attr("aria-labelledby",r);O(this,t)}this._updateSelectedAppointmentsArray(e);if(e._aAppointments){for(i=0;i<e._aAppointments.length;i++){a=e._aAppointments[i];a.setProperty("selected",l,true);r=a.$().attr("aria-labelledby")+" "+o;a.$().attr("aria-labelledby",r)}this.fireSelect({appointments:e._aAppointments,multiSelect:!t,domRefId:e.getId()})}else{this.fireSelect({appointment:e,multiSelect:!t,domRefId:e.getId()})}}function P(e){var t=this._getPlanningCalendar();if(t){t["_onRow"+e]()}}b.prototype._needAppointmentHorizontalFit=function(){var e=this._getPlanningCalendar(),t,i,a;if(!e||this.getAppointmentRoundWidth()===y.None){return false}t=e.getViewKey();i=e._getView(t);a=e._getIntervals(i);return a>=20};b.prototype._setHorizontalRoundingWidth=function(e,t,i){var a;switch(this.getAppointmentRoundWidth()){case y.HalfColumn:a=12;break}this._roundAppointment(e,t,i,a)};b.prototype._roundAppointment=function(e,t,i,a){var n,s;n=e._getStartDateWithTimezoneAdaptation().getHours()-e._getStartDateWithTimezoneAdaptation().getHours()%a;t.setUTCHours(n);t.setUTCMinutes(0);t.setUTCSeconds(0);t.setUTCMilliseconds(0);s=e._getEndDateWithTimezoneAdaptation().getHours()-e._getEndDateWithTimezoneAdaptation().getHours()%a+a;i.setUTCHours(s);i.setUTCMinutes(0);i.setUTCSeconds(0);i.setUTCMilliseconds(0)};b.prototype._setBlockedLevelsForAppointment=function(e,t){var i=this._getAppointmentRowCount(e);for(var a=0;a<i;a++){t[e.level+a]=true}return t};b.prototype._getAppointmentRowCount=function(e){var t,i=this._getAppointmentReducedHeight(e);switch(e.size){case U.HalfSize:t=1;break;case U.Regular:t=2;if(i&&!e.appointment.getText()&&!e.appointment.getDescription()){t=1}break;case U.Large:t=3;break;case U.Automatic:t=1;if(e.appointment.getText()){t+=1}if(e.appointment.getDescription()){t+=1}break}return t};b.prototype._getAppointmetLevel=function(e,t){var i=0;var a=this._getAppointmentRowCount(t);var n=true;while(n){n=this._isPosibleToPositionAppointment(i,e,a);if(!n){n=true;i+=1}else{n=false}}return i};b.prototype._isPosibleToPositionAppointment=function(e,t,i){for(var a=e;a<i+e;a++){if(t[a]){return false}}return true};b.prototype._getPlanningCalendar=function(){var e=this;while(e.getParent()!==null){if(e.isA("sap.m.PlanningCalendar")){return e}e=e.getParent()}};function O(e,t){if(t){P.call(e,"DeselectAppointment")}}function Y(e){var t=this.getAggregation("groupAppointments",[]);var i;var a=false;for(var n=0;n<t.length;n++){var s=t[n]._aAppointments;for(var r=0;r<s.length;r++){if(s[r].getId()==e){i=t[n];a=true;break}}if(a){break}}return i}function $(e){if(this._sFocusedAppointmentId!=e){var t=this._getAppointmentsSorted();var i=this._aVisibleAppointments;var n;var s=0;n=Y.call(this,e);if(n){e=n.getId();n=undefined}for(s=0;s<i.length;s++){if(i[s].appointment.getId()==e){n=i[s].appointment;break}}if(n){var r=this.getFocusedAppointment().$();var o=n.$();this._sFocusedAppointmentId=n.getId();r.attr("tabindex","-1");o.attr("tabindex","0");o.trigger("focus")}else{for(s=0;s<t.length;s++){if(t[s].getId()==e){n=t[s];break}}if(n){this._sFocusedAppointmentId=n.getId();var p=H.call(this,n._getStartDateWithTimezoneAdaptation());this.setStartDate(a._createLocalDate(p,true));if(!d(this.getDomRef(),document.activeElement)){setTimeout(function(){this.getFocusedAppointment().focus()}.bind(this),0)}this.fireStartDateChange()}}}}function N(e,t){var i=this._sFocusedAppointmentId;var a=this._getAppointmentsSorted();var n=this.getAggregation("groupAppointments",[]);var s;var r=0;var o=0;for(o=0;o<n.length;o++){if(n[o].getId()==i){var p=n[o]._aAppointments;if(e){i=p[p.length-1].getId()}else{i=p[0].getId()}break}}for(o=0;o<a.length;o++){if(a[o].getId()==i){r=o;break}}if(e){r=r+t}else{r=r-t}if(r<0){r=0}else if(r>=a.length){r=a.length-1}s=a[r];$.call(this,s.getId())}function x(e){var t=this._getAppointmentsSorted();var i;var n=new r(this._getStartDate());var s=new r(this._oUTCEndDate);var o=this.getIntervalType();var p;var l;n.setUTCHours(0);s.setUTCHours(0);s.setUTCMinutes(0);s.setUTCSeconds(0);switch(o){case _.Hour:s.setUTCDate(s.getUTCDate()+1);s.setUTCMilliseconds(-1);break;case _.Day:case _.Week:case _.OneMonth:case"OneMonth":n.setUTCDate(1);s.setUTCMonth(s.getUTCMonth()+1);s.setUTCDate(1);s.setUTCMilliseconds(-1);break;case _.Month:n.setUTCMonth(0);n.setUTCDate(1);s.setUTCFullYear(s.getUTCFullYear()+1);s.setUTCMonth(1);s.setUTCDate(1);s.setUTCMilliseconds(-1);break;default:throw new Error("Unknown IntervalType: "+o+"; "+this)}var u=a._createLocalDate(n,true);var g=a._createLocalDate(s,true);for(var h=0;h<t.length;h++){if(t[h]._getStartDateWithTimezoneAdaptation()>=u&&t[h]._getStartDateWithTimezoneAdaptation()<=g){i=t[h];p=i.getId();if(e.type=="saphome"){break}}else if(t[h]._getStartDateWithTimezoneAdaptation()>g){break}}l=Y.call(this,p);if(l){i=l;p=i.getId()}if(p&&p!=this._sFocusedAppointmentId){$.call(this,p)}else if(e._bPlanningCalendar&&i){i.focus()}else{this.fireLeaveRow({type:e.type})}}function B(e,t){var i=this.getIntervalType();var n=this._getStartDate();var s=new r(n.getTime());var o;var p=false;var l=0;var u=0;if(jQuery(t).hasClass("sapUiCalendarRowAppsSubInt")){p=true;var g=jQuery(jQuery(t).parent()).children(".sapUiCalendarRowAppsSubInt");u=g.length;for(l=0;l<u;l++){var h=g[l];if(h==t){break}}}switch(i){case _.Hour:s.setUTCHours(s.getUTCHours()+e);if(p){s.setUTCMinutes(s.getUTCMinutes()+l*60/u);o=new r(s.getTime());o.setUTCMinutes(o.getUTCMinutes()+60/u)}else{o=new r(s.getTime());o.setUTCHours(o.getUTCHours()+1)}break;case _.Day:case _.Week:case _.OneMonth:case"OneMonth":s.setUTCDate(s.getUTCDate()+e);if(p){s.setUTCHours(s.getUTCHours()+l*24/u);o=new r(s.getTime());o.setUTCHours(o.getUTCHours()+24/u)}else{o=new r(s.getTime());o.setUTCDate(o.getUTCDate()+1)}break;case _.Month:s.setUTCMonth(s.getUTCMonth()+e);if(p){s.setUTCDate(s.getUTCDate()+l);o=new r(s.getTime());o.setUTCDate(o.getUTCDate()+1)}else{o=new r(s.getTime());o.setUTCMonth(o.getUTCMonth()+1)}break;default:throw new Error("Unknown IntervalType: "+i+"; "+this)}o.setUTCMilliseconds(o.getUTCMilliseconds()-1);s=a._createLocalDate(s,true);o=a._createLocalDate(o,true);this.fireIntervalSelect({startDate:s,endDate:o,subInterval:p})}function j(e,t){var i=e._getStartDateWithTimezoneAdaptation()-t._getStartDateWithTimezoneAdaptation();if(i==0){i=t._getEndDateWithTimezoneAdaptation()-e._getEndDateWithTimezoneAdaptation()}return i}return b});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/CalendarRowRenderer", ["sap/ui/core/date/UniversalDate","sap/ui/unified/CalendarAppointment","sap/ui/unified/CalendarLegendRenderer","sap/ui/Device","sap/ui/unified/library","sap/ui/core/InvisibleText","sap/base/Log","sap/ui/core/IconPool"],function(e,t,a,n,i,r,s){"use strict";var o=i.CalendarDayType;var l=i.CalendarIntervalType;var p=i.CalendarAppointmentVisualization;var d=i.CalendarAppointmentHeight;var g={apiVersion:2};g.render=function(e,t){var a=t.getTooltip_AsString();var i=t.getAppointmentsVisualization();var r=this.getLegendItems(t);e.openStart("div",t);e.class("sapUiCalendarRow");if(!n.system.phone&&t.getAppointmentsReducedHeight()){e.class("sapUiCalendarRowAppsRedHeight")}if(i!=p.Standard){e.class("sapUiCalendarRowVis"+i)}if(a){e.attr("title",a)}var s=t.getWidth();if(s){e.style("width",s)}var o=t.getHeight();if(o){e.style("height",o)}e.accessibilityState(t);e.openEnd();this.renderAppointmentsRow(e,t,r);e.close("div")};g.renderAppointmentsRow=function(e,t,a){var n=t.getId();e.openStart("div",n+"-Apps");e.class("sapUiCalendarRowApps");e.openEnd();this.renderBeforeAppointments(e,t);this.renderAppointments(e,t,a);this.renderAfterAppointments(e,t);e.close("div")};g.renderBeforeAppointments=function(e,t){};g.renderAfterAppointments=function(e,t){};g.renderResizeHandle=function(e,t,a){};g.renderAppointments=function(t,a,n){var i=a._getVisibleAppointments();var r=a._getVisibleIntervalHeaders();var s=a._getStartDate();var o=[];var p=0;var d=0;var g=[];var c=0;var v=0;var f=a.getIntervals();var A=a.getIntervalType();var u=100/f;var C=0;var T=new e(s);var h=false;var I=false;switch(A){case l.Hour:o=a.getNonWorkingHours()||[];p=s.getUTCHours();d=24;break;case l.Day:case l.Week:case l.OneMonth:case"OneMonth":o=a._getNonWorkingDays();p=s.getUTCDay();d=7;g=a.getNonWorkingHours()||[];c=s.getUTCHours();v=24;break;case l.Month:g=a._getNonWorkingDays();c=s.getUTCDay();v=7;break;default:break}if(a._isOneMonthsRowOnSmallSizes()){this.renderSingleDayInterval(t,a,i,n,r,o,p,d,g,c,v,true,true)}else{for(C=0;C<f;C++){if(I){h=true}else{h=false}I=false;switch(A){case l.Hour:T.setUTCHours(T.getUTCHours()+1);if(T.getUTCHours()==0){I=true}break;case l.Day:case l.Week:case l.OneMonth:case"OneMonth":T.setUTCDate(T.getUTCDate()+1);if(T.getUTCDate()==1){I=true}break;case l.Month:c=T.getUTCDay();T.setUTCMonth(T.getUTCMonth()+1);if(T.getUTCMonth()==0){I=true}break;default:break}this.renderInterval(t,a,C,u,r,o,p,d,g,c,v,h,I)}this.renderIntervalHeaders(t,a,u,r,f);if(!(a._getRelativeInfo&&a._getRelativeInfo().bIsRelative)){t.openStart("div",a.getId()+"-Now");t.class("sapUiCalendarRowNow");t.openEnd();t.close("div")}for(C=0;C<i.length;C++){var m=i[C];this.renderAppointment(t,a,m,n)}t.openStart("div",a.getId()+"-DummyApp");t.class("sapUiCalendarApp");t.class("sapUiCalendarAppTitleOnly");t.class("sapUiCalendarAppDummy");t.class("sapUiCalendarAppHeight1");t.openEnd();t.close("div")}};g.writeCustomAttributes=function(e,t){};g.renderInterval=function(t,a,n,i,r,s,o,p,d,g,c,v,f,A){var u=a.getId()+"-AppsInt"+n;var C;var T=a.getShowIntervalHeaders()&&(a.getShowEmptyIntervalHeaders()||r.length>0);var h=a.getStartDate().getMonth();var I=new Date(a.getStartDate().getFullYear(),h+1,0).getDate();t.openStart("div",u);t.class("sapUiCalendarRowAppsInt");if(A){t.class(A)}t.style("width",i+"%");if(n>=I&&(a.getIntervalType()===l.OneMonth||a.getIntervalType()==="OneMonth")){t.class("sapUiCalItemOtherMonth")}for(C=0;C<s.length;C++){if((n+o)%p==s[C]){t.class("sapUiCalendarRowAppsNoWork");break}}if(!T){t.class("sapUiCalendarRowAppsIntNoHead")}if(v){t.class("sapUiCalendarRowAppsIntFirst")}if(f){t.class("sapUiCalendarRowAppsIntLast")}this.writeCustomAttributes(t,a);t.openEnd();if(T){t.openStart("div");t.class("sapUiCalendarRowAppsIntHead");t.openEnd();t.close("div")}if(a.getShowSubIntervals()){var m=a.getIntervalType();var U=0;switch(m){case l.Hour:U=4;break;case l.Day:case l.Week:case l.OneMonth:case"OneMonth":U=24;break;case l.Month:var b=a._getStartDate();var S=new e(b);S.setUTCMonth(S.getUTCMonth()+n+1,0);U=S.getUTCDate();S.setUTCDate(1);o=S.getUTCDay();break;default:break}var R=100/U;for(C=0;C<U;C++){t.openStart("div");t.class("sapUiCalendarRowAppsSubInt");t.style("width",R+"%");for(var y=0;y<d.length;y++){if((C+g)%c==d[y]){t.class("sapUiCalendarRowAppsNoWork");break}}t.openEnd();t.close("div")}}t.close("div")};g.renderIntervalHeaders=function(e,t,a,n,i){var r=t.getShowIntervalHeaders()&&(t.getShowEmptyIntervalHeaders()||n.length>0);if(r){for(var s=0;s<n.length;s++){var o=n[s],l,p;if(t._bRTL){p=a*o.interval;l=a*(i-o.last-1)}else{l=a*o.interval;p=a*(i-o.last-1)}this.renderIntervalHeader(e,t,o,t._bRTL,l,p)}}};g.renderIntervalHeader=function(e,t,a,n,i,r){var s=a.appointment.getId(),l={labelledby:{value:s+"-Descr",append:true}},p;var d=t._calculateAppoitnmentVisualCue(a.appointment);e.openStart("div",a.appointment);e.class("sapUiCalendarRowAppsIntHead");if(i!==undefined){e.style("left",i+"%")}if(r!==undefined){e.style("right",r+"%")}e.class("sapUiCalendarRowAppsIntHeadFirst");if(a.appointment.getSelected()){e.class("sapUiCalendarRowAppsIntHeadSel")}if(a.appointment.getTentative()){e.class("sapUiCalendarRowAppsIntHeadTent")}var g=a.appointment.getTooltip_AsString();if(g){e.attr("title",g)}var c=a.appointment.getType();var v=a.appointment.getColor();if(!v&&c&&c!=o.None){e.class("sapUiCalendarRowAppsIntHead"+c)}if(v){if(n){e.style("border-right-color",v)}else{e.style("border-left-color",v)}}e.accessibilityState(a.appointment,l);e.openEnd();e.openStart("div");e.class("sapUiCalendarIntervalHeaderCont");if(v){e.style("background-color",a.appointment._getCSSColorForBackground(v))}e.openEnd();if(d.appTimeUnitsDifRowStart>0){e.icon("sap-icon://arrow-left",["sapUiCalendarAppArrowIconLeft"],{title:null,role:"img"})}var f=a.appointment.getIcon();if(f){var A=["sapUiCalendarRowAppsIntHeadIcon"];var u={};u["id"]=s+"-Icon";u["title"]=null;u["alt"]=null;u["role"]="presentation";e.icon(f,A,u)}var C=a.appointment.getTitle();if(C){e.openStart("span",s+"-Title");e.class("sapUiCalendarRowAppsIntHeadTitle");e.openEnd();e.text(C);e.close("span")}var T=a.appointment.getText();if(T){e.openStart("span",s+"-Text");e.class("sapUiCalendarRowAppsIntHeadText");e.openEnd();e.text(T);e.close("span")}if(d.appTimeUnitsDifRowEnd>0){e.icon("sap-icon://arrow-right",["sapUiCalendarAppArrowIconRight"],{title:null,role:"img"})}p=t._oRb.getText("CALENDAR_START_TIME")+": "+t._oFormatAria.format(a.appointment._getStartDateWithTimezoneAdaptation())+"; "+t._oRb.getText("CALENDAR_END_TIME")+": "+t._oFormatAria.format(a.appointment._getEndDateWithTimezoneAdaptation());if(c&&c!==o.None){p+="; "+this.getAriaTextForType(c,this.getLegendItems(t))}e.openStart("span",s+"-Descr");e.class("sapUiInvisibleText");e.openEnd();e.text(p);e.close("span");e.close("div");e.close("div")};g.renderAppointment=function(e,t,a,n,i){var s=a.appointment;var l=s.getTooltip_AsString();var g=s.getType();var c=s.getColor();var v=s.getTitle();var f=s.getText();var A=s.getDescription();var u=s.getIcon();var C=s.getId();var T=t._getAppointmentReducedHeight(a);var h={labelledby:{value:r.getStaticId("sap.ui.unified","APPOINTMENT")+" "+C+"-Descr",append:true},selected:null};var I=t._getAppointmentRowCount(a,T);var m=t.getAriaLabelledBy();var U=t._calculateAppoitnmentVisualCue(s);if(m.length>0){h["labelledby"].value=h["labelledby"].value+" "+m.join(" ")}if(v){h["labelledby"].value=h["labelledby"].value+" "+C+"-Title"}if(f){h["labelledby"].value=h["labelledby"].value+" "+C+"-Text"}e.openStart("div",s);e.class("sapUiCalendarApp");e.class("sapUiCalendarAppHeight"+I);if(s.getSelected()){e.class("sapUiCalendarAppSel");h["labelledby"].value=h["labelledby"].value+" "+r.getStaticId("sap.ui.unified","APPOINTMENT_SELECTED")}if(s.getTentative()){e.class("sapUiCalendarAppTent");h["labelledby"].value=h["labelledby"].value+" "+r.getStaticId("sap.ui.unified","APPOINTMENT_TENTATIVE")}if(I===1){e.class("sapUiCalendarAppTitleOnly")}if(u){e.class("sapUiCalendarAppWithIcon")}if(!i){if(t._bRTL){e.style("right",a.begin+"%");e.style("left",a.end+"%")}else{e.style("left",a.begin+"%");e.style("right",a.end+"%")}}e.attr("data-sap-level",a.level);if(t._sFocusedAppointmentId==C){e.attr("tabindex","0")}else{e.attr("tabindex","-1")}if(l){e.attr("title",l)}if(!c&&g&&g!=o.None){e.class("sapUiCalendarApp"+g)}if(c){if(t._bRTL){e.style("border-right-color",c)}else{e.style("border-left-color",c)}}e.accessibilityState(s,h);e.openEnd();e.openStart("div");e.class("sapUiCalendarAppCont");if(c&&t.getAppointmentsVisualization()===p.Filled){e.style("background-color",s._getCSSColorForBackground(c))}e.openEnd();if(s.getCustomContent().length){s.getCustomContent().forEach(function(t){e.renderControl(t)})}else{if(U.appTimeUnitsDifRowStart>0){e.icon("sap-icon://arrow-left",["sapUiCalendarAppArrowIconLeft"],{title:null,role:"img"})}if(u){var b=["sapUiCalendarAppIcon"];var S={};S["id"]=C+"-Icon";S["title"]=null;S["alt"]=null;S["role"]="presentation";e.icon(u,b,S)}e.openStart("div");e.class("sapUiCalendarAppTitleWrapper");e.openEnd();if(v){e.openStart("span",C+"-Title");e.class("sapUiCalendarAppTitle");e.openEnd();e.text(v);e.close("span")}if(f&&a.size!==d.HalfSize){e.openStart("span",C+"-Text");e.class("sapUiCalendarAppText");e.openEnd();e.text(f);e.close("span")}if(A&&a.size!==d.HalfSize&&(a.size!==d.Regular||!f)){e.openStart("span",C+"-Info");e.class("sapUiCalendarAppDescription");e.openEnd();e.text(A);e.close("span")}e.close("div");if(U.appTimeUnitsDifRowEnd>0){e.icon("sap-icon://arrow-right",["sapUiCalendarAppArrowIconRight"],{title:null,role:"img"})}}var R=t._oRb.getText("CALENDAR_START_TIME")+": "+t._oFormatAria.format(s._getStartDateWithTimezoneAdaptation());R=R+"; "+t._oRb.getText("CALENDAR_END_TIME")+": "+t._oFormatAria.format(s._getEndDateWithTimezoneAdaptation());if(t._getRelativeInfo&&t._getRelativeInfo().bIsRelative){var y=t._getRelativeInfo();R=t._oRb.getText("CALENDAR_START_TIME")+": "+y.intervalLabelFormatter(y._getIndexFromDate(s._getStartDateWithTimezoneAdaptation()));R=R+"; "+t._oRb.getText("CALENDAR_END_TIME")+": "+y.intervalLabelFormatter(y._getIndexFromDate(s._getEndDateWithTimezoneAdaptation()))}if(g&&g!=o.None){R=R+"; "+this.getAriaTextForType(g,n)}e.openStart("span",C+"-Descr");e.class("sapUiInvisibleText");e.openEnd();e.text(R);e.close("span");e.close("div");this.renderResizeHandle(e,t,s);e.close("div")};g.renderSingleDayInterval=function(a,n,i,r,s,o,p,d,g,c,v,f,A){var u=1,C=100,T=n.getId()+"-AppsInt"+u,h,I=n.getShowIntervalHeaders()&&(n.getShowEmptyIntervalHeaders()||s.length>0),m=new Date(n.getStartDate()),U=m.getMonth(),b=new Date(m.getFullYear(),U+1,0).getDate(),S,R=n._getPlanningCalendar(),y,w,_=[];m.setHours(0,0,0,0);y=i.concat(n.getIntervalHeaders().filter(function(e){var t=e._getStartDateWithTimezoneAdaptation().getTime(),a=e._getEndDateWithTimezoneAdaptation().getTime(),n=m.getTime(),i=n+1e3*60*60*24;return!(t>=i||a<=n)}).map(function(e){return{appointment:e,isHeader:true}})).sort(t._getComparer(m));if(R){_=R._getSelectedDates()}a.openStart("div",T);a.class("sapUiCalendarRowAppsInt");a.class("sapUiCalendarMonthRowAppsS");a.style("width",C+"%");if(u>=b&&(n.getIntervalType()===l.OneMonth||n.getIntervalType()==="OneMonth")){a.class("sapUiCalItemOtherMonth")}for(h=0;h<o.length;h++){if((u+p)%d==o[h]){a.class("sapUiCalendarRowAppsNoWork");break}}if(!I){a.class("sapUiCalendarRowAppsIntNoHead")}if(f){a.class("sapUiCalendarRowAppsIntFirst")}if(A){a.class("sapUiCalendarRowAppsIntLast")}a.openEnd();if(I){a.openStart("div");a.class("sapUiCalendarRowAppsIntHead");a.openEnd();a.close("div")}if(_.length>0){var D=0,E=y.length;if(R.getRows()[0]._calculateVisibleAppointments){var H=R.getRows()[0]._calculateVisibleAppointments(_,y);D=H.iStart;E=H.iEnd}for(h=D;h<E;h++){w=y[h];a.openStart("div");a.class("sapUiCalendarAppContainer");a.openEnd();a.openStart("div");a.class("sapUiCalendarAppContainerLeft");a.openEnd();a.openStart("div");a.class("sapUiCalendarAppStart");a.openEnd();a.text(w.appointment._getDateRangeIntersectionText(m).start);a.close("div");a.openStart("div");a.class("sapUiCalendarAppEnd");a.openEnd();a.text(w.appointment._getDateRangeIntersectionText(m).end);a.close("div");a.close("div");a.openStart("div");a.class("sapUiCalendarAppContainerRight");a.openEnd();if(w.isHeader){this.renderIntervalHeader(a,n,w)}else{this.renderAppointment(a,n,w,r,true)}a.close("div");a.close("div")}}if(i.length===0||_.length===0){a.openStart("div");a.class("sapUiCalendarNoApps");a.openEnd();var N=sap.ui.getCore().byId(n.getAssociation("row"));S=N.getNoAppointmentsText()?N.getNoAppointmentsText():sap.ui.getCore().getLibraryResourceBundle("sap.m").getText("PLANNINGCALENDAR_ROW_NO_APPOINTMENTS");a.text(S);a.close("div")}if(!(n._getRelativeInfo&&n._getRelativeInfo().bIsRelative)){a.openStart("div",n.getId()+"-Now");a.class("sapUiCalendarRowNow");a.openEnd()}a.close("div");a.openStart("div",n.getId()+"-DummyApp");a.class("sapUiCalendarApp");a.class("sapUiCalendarAppTitleOnly");a.class("sapUiCalendarAppDummy");a.style("margin","0");a.style("height","0px");a.openEnd();a.close("div");if(n.getShowSubIntervals()){var x=n.getIntervalType();var M=0;switch(x){case l.Hour:M=4;break;case l.Day:case l.Week:case l.OneMonth:case"OneMonth":M=24;break;case l.Month:var k=new e(m);k.setUTCMonth(k.getUTCMonth()+u+1,0);M=k.getUTCDate();k.setUTCDate(1);p=k.getUTCDay();break;default:break}var L=100/M;for(h=0;h<M;h++){a.openStart("div");a.class("sapUiCalendarRowAppsSubInt");a.style("width",L+"%");for(var O=0;O<g.length;O++){if((h+c)%v==g[O]){a.class("sapUiCalendarRowAppsNoWork");break}}a.openEnd();a.close("div")}}a.close("div")};g.getLegendItems=function(e){var t=[],a,n=e.getLegend();if(n){a=sap.ui.getCore().byId(n);if(a){t=a.getItems()}else{s.error("CalendarLegend with id '"+n+"' does not exist!",e)}}return t};g.getAriaTextForType=function(e,t){var n,i,r,s;if(t&&t.length){for(var s=0;s<t.length;s++){r=t[s];if(r.getType()===e){n=r.getText();break}}}if(!n){i=a.getTypeAriaText(e);if(i){n=i.getText()}}return n};return g},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/ColorPicker", ["./library","sap/ui/core/Control","sap/ui/core/HTML","sap/ui/core/ResizeHandler","sap/ui/layout/Grid","sap/ui/layout/GridData","sap/ui/layout/VerticalLayout","sap/ui/layout/HorizontalLayout","sap/ui/core/theming/Parameters","sap/ui/core/InvisibleText","sap/ui/Device","sap/ui/core/library","./ColorPickerRenderer","sap/base/Log","sap/ui/thirdparty/jquery","sap/ui/core/Configuration","sap/ui/Global"],function(e,t,i,s,o,a,l,r,h,n,d,u,p,C,jQuery,c){"use strict";var g=u.ValueState,f=e.ColorPickerMode,S=e.ColorPickerDisplayMode;var b=t.extend("sap.ui.unified.ColorPicker",{metadata:{library:"sap.ui.unified",properties:{colorString:{type:"string",group:"Misc",defaultValue:null},mode:{type:"sap.ui.unified.ColorPickerMode",group:"Appearance",defaultValue:f.HSV},displayMode:{type:"sap.ui.unified.ColorPickerDisplayMode",group:"Appearance",defaultValue:S.Default}},aggregations:{_grid:{type:"sap.ui.layout.Grid",group:"Appearance",multiple:false,visibility:"hidden"},_invisibleTexts:{type:"sap.ui.core.InvisibleText",multiple:true,visibility:"hidden"},_oCPBox:{type:"sap.ui.core.Control",group:"Appearance",multiple:false,visibility:"hidden"},_oSlider:{type:"sap.ui.core.Control",group:"Appearance",multiple:false,visibility:"hidden"},_oAlphaSlider:{type:"sap.ui.core.Control",group:"Appearance",multiple:false,visibility:"hidden"},_oHexField:{type:"sap.ui.core.Control",group:"Appearance",multiple:false,visibility:"hidden"},_oRedField:{type:"sap.ui.core.Control",group:"Appearance",multiple:false,visibility:"hidden"},_oGreenField:{type:"sap.ui.core.Control",group:"Appearance",multiple:false,visibility:"hidden"},_oBlueField:{type:"sap.ui.core.Control",group:"Appearance",multiple:false,visibility:"hidden"},_oHueField:{type:"sap.ui.core.Control",group:"Appearance",multiple:false,visibility:"hidden"},_oSatField:{type:"sap.ui.core.Control",group:"Appearance",multiple:false,visibility:"hidden"},_oLitField:{type:"sap.ui.core.Control",group:"Appearance",multiple:false,visibility:"hidden"},_oValField:{type:"sap.ui.core.Control",group:"Appearance",multiple:false,visibility:"hidden"},_oAlphaField:{type:"sap.ui.core.Control",group:"Appearance",multiple:false,visibility:"hidden"},_oAlphaField2:{type:"sap.ui.core.Control",group:"Appearance",multiple:false,visibility:"hidden"},_oRGBorHSLRBUnifiedGroup:{type:"sap.ui.core.Control",group:"Appearance",multiple:false,visibility:"hidden"},_oButton:{type:"sap.ui.core.Control",group:"Appearance",multiple:false,visibility:"hidden"}},events:{change:{parameters:{r:{type:"int"},g:{type:"int"},b:{type:"int"},h:{type:"int"},s:{type:"int"},v:{type:"int"},l:{type:"int"},hex:{type:"string"},alpha:{type:"string"}}},liveChange:{parameters:{r:{type:"int"},g:{type:"int"},b:{type:"int"},h:{type:"int"},s:{type:"int"},v:{type:"int"},l:{type:"int"},hex:{type:"string"},alpha:{type:"string"}}}}},renderer:p});var _="",y=sap.ui.require.toUrl("sap/ui/unified/img/ColorPicker/Alphaslider_BG.png"),R=sap.ui.getCore().getLibraryResourceBundle("sap.ui.unified"),F={};Object.defineProperties(F,{RGB:{value:"RGB"},CPResponsiveClass:{value:"sapUnifiedColorPicker"},CPMatrixClass:{value:"sapUiColorPicker-ColorPickerMatrix"},HSLClass:{value:"sapUiColorPickerHSL"},LabelClass:{value:"sapUiColorPicker-ColorPickerLabels"},UnitLabelClass:{value:"sapUiCPUnitLabel"},HEXClass:{value:"sapUiColorPicker-ColorPickerHexField"},LeftColumnInputClass:{value:"sapUiColorPicker-ColorPickerInputFieldsLeft"},RightColumnInputClass:{value:"sapUiColorPicker-ColorPickerInputFieldsRight"},SliderClass:{value:"sapUiColorPicker-ColorPickerSlider"},AlphaSliderClass:{value:"sapUiColorPicker-ColorPickerAlphaSlider"},OutputSelectorClass:{value:"sapUiColorPickerHSL-RB"},OutputSelectorRowClass:{value:"sapUiColorPicker-RBRow"},CPBoxClass:{value:"sapUiColorPicker-ColorPickerBox"},CPCircleClass:{value:"sapUiColorPicker-ColorPickerCircle"},LastColumnClass:{value:"sapUiColorPicker-ColorPickerLastColumn"},HideForHSVClass:{value:"hideForHSV"},HideForHSLClass:{value:"hideForHSL"},OldColorClass:{value:"sapUiColorPicker-ColorPickerOldColor"},NewColorClass:{value:"sapUiColorPicker-ColorPickerNewColor"},SwatchesClass:{value:"sapUiColorPicker-swatches"},Colors:{value:{aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgrey:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",grey:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"778899",lightslategrey:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32",transparent:"00000000"}}});b.prototype.init=function(){if(d.browser.firefox){_="-moz-linear-gradient"}else if(d.browser.webkit){_="-webkit-linear-gradient"}else{_="linear-gradient"}this.Color={r:255,g:255,b:255,h:0,s:0,l:100,v:100,a:1,oldA:1,hex:"#ffffff",old:"#ffffff"};this.sHexString="ffffff";this.$CPBox=null;this.$CPCur=null;this.RGB={r:0,g:0,b:0};this.bRtl=c.getRTL();this.data("sap-ui-fastnavgroup","true",true);this.bResponsive=e.ColorPickerHelper.isResponsive();var t=this.bResponsive?"_sap_ui_unified_ColorPicker_CircleSize":"_sap_ui_unified_ColorPicker_commonsCircleSize";this._iCPCursorSize=0;var i=h.get({name:t,callback:function(e){this._iCPCursorSize=parseInt(e)}.bind(this)});if(i){this._iCPCursorSize=parseInt(i)}this._processChanges=this._processHSVChanges;this._bHSLMode=false;this.bPressed=false};var H=t.extend("sap.ui.unified._ColorPickerBox",{metadata:{events:{select:{parameters:{value:{type:"int"},saturation:{type:"int"}}},resize:{parameters:{size:{type:"int"}}}}},init:function(){this.bRtl=c.getRTL()},exit:function(){if(this._sResizeListener){s.deregister(this._sResizeListener)}},getWidth:function(){return this.$().width()},getOffset:function(){return this.$().offset()},onBeforeRendering:function(){if(this._sResizeListener){s.deregister(this._sResizeListener)}},onAfterRendering:function(){this._handle=this.$().find("> div."+F.CPCircleClass);this._sResizeListener=s.register(this.getDomRef(),this.handleResize.bind(this))},handleResize:function(e){this.fireResize({size:e.size.width})},getHandle:function(){return this._handle},ontouchstart:function(e){this.handleTouch(e)},ontouchend:function(e){this.handleTouch(e)},ontouchmove:function(e){this.handleTouch(e)},handleTouch:function(e){var t=this.calculateValuesFromEvent(e);if(t){this.fireSelect(t)}},calculateValuesFromEvent:function(e){var t=e.offsetX,i=e.offsetY,s,o=s=this.getWidth(),a,l;e.preventDefault&&e.preventDefault();if(!t){a=e.targetTouches?e.targetTouches[0]:e;if(!a||!a.pageX){a=e;if((!a||!a.pageX)&&e.changedTouches){a=e.changedTouches[0]}}if(!a.pageX){return false}l=this.getOffset();t=a.pageX-l.left;i=a.pageY-l.top}t=Math.min(Math.max(t,0),o);i=Math.min(Math.max(i,0),s);if(this.bRtl){t=o-t}return{value:t/o*100,saturation:(1-i/s)*100}},renderer:{apiVersion:2,render:function(e,t){e.openStart("div",t);e.class(F.CPBoxClass);e.openEnd();e.openStart("div",t.getId()+"-cpCur");e.class(F.CPCircleClass);e.openEnd().close("div");e.close("div")}}});b.prototype._createRowFromInput=function(t,i,s,o){var a=R.getText(i),l;l=new r({content:[e.ColorPickerHelper.factory.createLabel({text:s,tooltip:a,labelFor:t}).addStyleClass(F.LabelClass),t.setTooltip(a)]});if(o){l.addContent(e.ColorPickerHelper.factory.createLabel({text:o,labelFor:t}).addStyleClass(F.UnitLabelClass).addStyleClass(F.LabelClass))}return l};b.prototype._updateColorStringProperty=function(e,t){var i=this._getCSSColorString();this.setProperty("colorString",i,true);if(t){this.fireLiveChange({r:this.Color.r,g:this.Color.g,b:this.Color.b,h:this.Color.h,s:this.Color.s,v:this.Color.v,l:this.Color.l,alpha:this.Color.a,hex:this.Color.hex,formatHSL:this.Color.formatHSL,colorString:i})}if(e){this.fireChange({r:this.Color.r,g:this.Color.g,b:this.Color.b,h:this.Color.h,s:this.Color.s,v:this.Color.v,l:this.Color.l,alpha:this.Color.a,hex:this.Color.hex,formatHSL:this.Color.formatHSL,colorString:i})}};b.prototype._handleCPBoxSelectEvent=function(e){var t=e.getParameter("value"),i=e.getParameter("saturation");this.oSatField.setValue(i);if(this._bHSLMode){this.oLitField.setValue(t)}else{this.oValField.setValue(t)}this._processChanges();this._updateColorStringProperty(false,true)};b.prototype._handleCPBoxResizeEvent=function(e){this._iCPBoxSize=e.getParameter("size");this._updateCursorPosition()};b.prototype._handleCPBoxTouchEndEvent=function(e){this._updateColorStringProperty(true,false)};b.prototype._createInteractionControls=function(){var t=this.getId();this.oCPBox=new H(t+"-cpBox",{select:this._handleCPBoxSelectEvent.bind(this),resize:this._handleCPBoxResizeEvent.bind(this)});this.oCPBox.addDelegate({ontouchend:this._handleCPBoxTouchEndEvent.bind(this)});this.oHexField=e.ColorPickerHelper.factory.createInput(t+"-hxF",{value:this.Color.hex.substr(1),change:this._handleHexValueChange.bind(this),ariaLabelledBy:n.getStaticId("sap.ui.unified","COLORPICKER_HEX")}).addStyleClass(F.HEXClass);this.oRedField=e.ColorPickerHelper.factory.createInput(t+"-rF",{value:this.Color.r,change:this._handleRedValueChange.bind(this),ariaLabelledBy:n.getStaticId("sap.ui.unified","COLORPICKER_RED")}).addStyleClass(F.LeftColumnInputClass);this.oGreenField=e.ColorPickerHelper.factory.createInput(t+"-gF",{value:this.Color.g,change:this._handleGreenValueChange.bind(this),ariaLabelledBy:n.getStaticId("sap.ui.unified","COLORPICKER_GREEN")}).addStyleClass(F.LeftColumnInputClass);this.oBlueField=e.ColorPickerHelper.factory.createInput(t+"-bF",{value:this.Color.b,change:this._handleBlueValueChange.bind(this),ariaLabelledBy:n.getStaticId("sap.ui.unified","COLORPICKER_BLUE")}).addStyleClass(F.LeftColumnInputClass);this.oHueField=e.ColorPickerHelper.factory.createInput(t+"-hF",{value:this.Color.h,change:this._handleHueValueChange.bind(this),ariaLabelledBy:n.getStaticId("sap.ui.unified","COLORPICKER_HUE")}).addStyleClass(F.RightColumnInputClass);this.oSatField=e.ColorPickerHelper.factory.createInput(t+"-sF",{value:this.Color.s,change:this._handleSatValueChange.bind(this),ariaLabelledBy:n.getStaticId("sap.ui.unified","COLORPICKER_SAT")+" "+n.getStaticId("sap.ui.unified","COLORPICKER_PERCENTAGE")}).addStyleClass(F.RightColumnInputClass);this.oLitField=e.ColorPickerHelper.factory.createInput(t+"-lF",{value:this.Color.l,change:this._handleLitValueChange.bind(this),ariaLabelledBy:n.getStaticId("sap.ui.unified","COLORPICKER_LIGHTNESS")+" "+n.getStaticId("sap.ui.unified","COLORPICKER_PERCENTAGE")}).addStyleClass(F.RightColumnInputClass).addStyleClass(F.HideForHSVClass);this.oAlphaField=e.ColorPickerHelper.factory.createInput(t+"-aF",{value:this.Color.a,change:this._handleAlphaValueChange.bind(this),ariaLabelledBy:n.getStaticId("sap.ui.unified","COLORPICKER_ALPHA")}).addStyleClass(F.RightColumnInputClass).addStyleClass(F.HideForHSVClass).addStyleClass("sapUnifiedA");this.oAlphaField2=e.ColorPickerHelper.factory.createInput(t+"-aF2",{value:this.Color.a,change:this._handleAlphaValueChange.bind(this),ariaLabelledBy:n.getStaticId("sap.ui.unified","COLORPICKER_ALPHA")}).addStyleClass(F.RightColumnInputClass).addStyleClass(F.HideForHSVClass).addStyleClass("sapUnifiedA");this.oValField=e.ColorPickerHelper.factory.createInput(t+"-vF",{value:this.Color.v,change:this._handleValValueChange.bind(this),ariaLabelledBy:n.getStaticId("sap.ui.unified","COLORPICKER_VALUE")}).addStyleClass(F.RightColumnInputClass).addStyleClass(F.HideForHSLClass);this.oRGBorHSLRBGroup=e.ColorPickerHelper.factory.createRadioButtonGroup({columns:2,buttons:[e.ColorPickerHelper.factory.createRadioButtonItem({text:F.RGB}),e.ColorPickerHelper.factory.createRadioButtonItem({text:e.ColorPickerMode.HSL})],select:this._handleRGBorHSLValueChange.bind(this),selectedIndex:this.Color.formatHSL?1:0}).addStyleClass(F.OutputSelectorClass);this.oHueInvisibleText=new n({text:R.getText("COLORPICKER_HUE_SLIDER")}).toStatic();this.addAggregation("_invisibleTexts",this.oHueInvisibleText,true);this.oSlider=e.ColorPickerHelper.factory.createSlider(t+"-hSLD",{max:360,step:1,tooltip:R.getText("COLORPICKER_HUE"),value:parseInt(this.oHueField.getValue())}).addStyleClass(F.SliderClass).addAriaLabelledBy(this.oHueInvisibleText);this.oSlider.attachEvent("liveChange","liveChange",this._handleSliderChange.bind(this));this.oSlider.attachEvent("change","change",this._handleSliderChange.bind(this));this.oAlphaInvisibleText=new n({text:R.getText("COLORPICKER_ALPHA_SLIDER")}).toStatic();this.addAggregation("_invisibleTexts",this.oAlphaInvisibleText,true);this.oAlphaSlider=e.ColorPickerHelper.factory.createSlider(t+"-aSLD",{max:1,value:1,step:.01,tooltip:R.getText("COLORPICKER_ALPHA")}).addStyleClass(F.AlphaSliderClass).addAriaLabelledBy(this.oAlphaInvisibleText);this.oAlphaSlider.attachEvent("liveChange","liveChange",this._handleAlphaSliderChange.bind(this));this.oAlphaSlider.attachEvent("change","change",this._handleAlphaSliderChange.bind(this))};b.prototype._createLayout=function(){var e=this.getId(),t;if(this._bLayoutControlsCreated){return}this._createInteractionControls();if(this.getDisplayMode()===S.Large){this._toggleInputsEnabled(this.Color.formatHSL)}this.oCPBoxGD=new a({span:"L6 M6 S12"});this.icOne=new a({span:"L3 M3 S6"});this.icTwo=new a({span:"L3 M3 S6"});this.swatches=new a({span:"L3 M3 S12"});this.rbg=new a({span:"L6 M8 S12"});if(this.bResponsive){this._createUnifiedColorPicker(e)}else{t=this._createCommonsColorPicker(t,e);this.setAggregation("_grid",t,true)}this._bLayoutControlsCreated=true;if(!this.bResponsive){this._adaptControlToLibrary()}};b.prototype._adaptControlToLibrary=function(){var e;if(!this._bLayoutControlsCreated){return}e=this.getAggregation("_grid");if(this.bResponsive){if(!d.system.phone&&!jQuery("html").hasClass("sapUiMedia-Std-Phone")){e._setBreakPointTablet(400)}e.addStyleClass(F.CPResponsiveClass)}else{e.setProperty("hSpacing",0,true);e.setProperty("vSpacing",0,true);this.oCPBoxGD.setSpanS(5);this.icOne.setSpanS(4);this.icTwo.setSpanS(3);this.rbg.setSpanS(8)}};b.prototype._updateControlVisualState=function(){var e=this.getAggregation("_grid");if(!e){return}if(this.bResponsive){if(this._bHSLMode){e.addStyleClass(F.HSLClass);this.swatches.setSpanM(4).setLinebreak(true)}else{e.removeStyleClass(F.HSLClass);this.swatches.setSpanM(3).setLinebreak(false)}}else{if(this._bHSLMode){e.addStyleClass(F.HSLClass);this.swatches.setSpanS(4).setLinebreak(true)}else{e.removeStyleClass(F.HSLClass);this.swatches.setSpanS(3).setLinebreak(false)}}};b.prototype._processChanges=function(){};b.prototype.setMode=function(t,i){this._bLayoutControlsCreated=false;switch(t){case e.ColorPickerMode.HSL:this._processChanges=this._processHSLChanges;break;case e.ColorPickerMode.HSV:this._processChanges=this._processHSVChanges;break;default:C.error("Control must have a valid mode set to work correct");break}this._bHSLMode=t===e.ColorPickerMode.HSL;return this.setProperty("mode",t,i)};b.prototype.setDisplayMode=function(e){this._bLayoutControlsCreated=false;return this.setProperty("displayMode",e,false)};b.prototype._cleanup=function(){var e=[this.getAggregation("_grid"),this.getAggregation("_oCPBox"),this.getAggregation("_oHexField"),this.getAggregation("_oRedField"),this.getAggregation("_oGreenField"),this.getAggregation("_oBlueField"),this.getAggregation("_oHueField"),this.getAggregation("_oSatField"),this.getAggregation("_oLitField"),this.getAggregation("_oAlphaField"),this.getAggregation("_oAlphaField2"),this.getAggregation("_oValField"),this.getAggregation("_oSlider"),this.getAggregation("_oAlphaSlider"),this.oRGBorHSLRBUnifiedGroup,this.oCPBoxGD,this.icOne,this.icTwo,this.rbg,this.swatches,this.oAlphaInvisibleText,this.oHueInvisibleText,this.getAggregation("_oButton"),this.getAggregation("_oRGBorHSLRBUnifiedGroup"),this.oRGBorHSLRBGroup];e.forEach(function(e){if(e){e.destroy()}},this);this._bLayoutControlsCreated=false};b.prototype.exit=function(){this._cleanup()};b.prototype.onBeforeRendering=function(){this._cleanup();this._createLayout();this._updateControlVisualState();this._updateColorString()};b.prototype._updateColorString=function(){this._parseColorString(this.getColorString());this.oHexField.setValue(this.Color.hex.substr(1));this.oRedField.setValue(this.Color.r);this.oGreenField.setValue(this.Color.g);this.oBlueField.setValue(this.Color.b);this.oHueField.setValue(this.Color.h);this.oSatField.setValue(this.Color.s);if(this._bHSLMode){this.oLitField.setValue(this.Color.l);this.oAlphaField.setValue(this.Color.a);this.oAlphaField2.setValue(this.Color.a);this.oSlider.setValue(this.Color.h);this.oAlphaSlider.setValue(this.Color.a);if(this.bResponsive){this.oRGBorHSLRBUnifiedGroup.setSelectedIndex(this.Color.formatHSL?1:0)}else{this.oRGBorHSLRBGroup.setSelectedIndex(this.Color.formatHSL?1:0)}}else{this.oValField.setValue(this.Color.v);this.oSlider.setValue(this.Color.h);this.oAlphaSlider.setValue(this.Color.a);this.oAlphaField.setValue(this.Color.a);this.oAlphaField2.setValue(this.Color.a)}this._updateColorStringProperty(false,false)};b.prototype.isColor=function(e){return this._parseColorString(e,true)};b.prototype._handleSliderChange=function(e,t){var i=parseInt(this.oSlider.getValue());this.oHueField.setValue(i);this._processChanges();this._updateColorStringProperty(t==="change",t==="liveChange")};b.prototype._handleAlphaSliderChange=function(e,t){this.Color.a=this.oAlphaSlider.getValue();this.oAlphaField.setValue(this.Color.a);this.oAlphaField2.setValue(this.Color.a);this._updateSelColorBackground();this._updateColorStringProperty(t==="change",t==="liveChange")};b.prototype._getValueInRange=function(e,t,i){if(isNaN(e)){e=0}return Math.min(Math.max(e,t),i)};b.prototype._handleAlphaValueChange=function(e){var t=e.getParameter("id")=="cp-aF2"?parseFloat(this.oAlphaField2.getValue(),10):parseFloat(this.oAlphaField.getValue(),10);t=this._getValueInRange(t,0,1);this.Color.a=t;this.oAlphaField.setValue(t);this.oAlphaField2.setValue(t);this.oAlphaSlider.setValue(t);if(!this.Color.formatHSL){this._processRGBChanges()}else{this._processChanges()}this._updateColorStringProperty(true,true)};b.prototype._handleRGBorHSLValueChange=function(e){this.Color.formatHSL=e.getParameter("selectedIndex")===1;this._toggleInputsEnabled(this.Color.formatHSL);this._updateColorStringProperty(true,true)};b.prototype._toggleInputsEnabled=function(e){this.oRedField.setEnabled(!e);this.oGreenField.setEnabled(!e);this.oBlueField.setEnabled(!e);this.oHueField.setEnabled(!!e);this.oSatField.setEnabled(!!e);this.oLitField.setEnabled(!!e);this.oValField.setEnabled(!!e)};b.prototype._handleHueValueChange=function(){var e=parseInt(this.oHueField.getValue());e=this._getValueInRange(e,0,360);this.oHueField.setValue(e);this.oSlider.setValue(e);this._processChanges();this._updateColorStringProperty(true,true)};b.prototype._handleSatValueChange=function(){var e=parseInt(this.oSatField.getValue());e=this._getValueInRange(e,0,100);this.oSatField.setValue(e);this._processChanges();this._updateColorStringProperty(true,true)};b.prototype._handleValValueChange=function(){var e=parseInt(this.oValField.getValue());e=this._getValueInRange(e,0,100);this.oValField.setValue(e);this._processHSVChanges();this._updateColorStringProperty(true,true)};b.prototype._handleLitValueChange=function(){var e=parseInt(this.oLitField.getValue());e=this._getValueInRange(e,0,100);this.oLitField.setValue(e);this._processHSLChanges();this._updateColorStringProperty(true,true)};b.prototype._handleRedValueChange=function(){var e=parseInt(this.oRedField.getValue());e=this._getValueInRange(e,0,255);this.oRedField.setValue(e);this._processRGBChanges();this._updateColorStringProperty(true,true)};b.prototype._handleGreenValueChange=function(){var e=parseInt(this.oGreenField.getValue());e=this._getValueInRange(e,0,255);this.oGreenField.setValue(e);this._processRGBChanges();this._updateColorStringProperty(true,true)};b.prototype._handleBlueValueChange=function(){var e=parseInt(this.oBlueField.getValue());e=this._getValueInRange(e,0,255);this.oBlueField.setValue(e);this._processRGBChanges();this._updateColorStringProperty(true,true)};b.prototype._processHSVChanges=function(){var e=parseInt(this.oHueField.getValue());var t=parseInt(this.oSatField.getValue());var i=parseInt(this.oValField.getValue());this._calculateRGB(e,t,i);this.Color.r=this.RGB.r;this.Color.g=this.RGB.g;this.Color.b=this.RGB.b;this.oRedField.setValue(this.Color.r);this.oGreenField.setValue(this.Color.g);this.oBlueField.setValue(this.Color.b);this._calculateHEX(this.Color.r,this.Color.g,this.Color.b);this.oHexField.setValue(this.sHexString);this.Color.hex="#"+this.oHexField.getValue();this.Color.h=e;this.Color.s=t;this.Color.v=i;this.oHueField.setValue(this.Color.h);this.oSatField.setValue(this.Color.s);this.oValField.setValue(this.Color.v);this._updateGradientBoxBackground(this.Color.h);this._updateCursorPosition();this._updateSelColorBackground()};b.prototype._processHSLChanges=function(){var e=parseInt(this.oHueField.getValue()),t=parseInt(this.oSatField.getValue()),i=parseInt(this.oLitField.getValue());if(e>360){e%=360}this._calculateRGB(e,t,i);this.Color.r=this.RGB.r;this.Color.g=this.RGB.g;this.Color.b=this.RGB.b;this.oRedField.setValue(this.Color.r);this.oGreenField.setValue(this.Color.g);this.oBlueField.setValue(this.Color.b);this._calculateHEX(this.Color.r,this.Color.g,this.Color.b);this.oHexField.setValue(this.sHexString);this.Color.hex="#"+this.oHexField.getValue();this.Color.h=e;this.Color.s=t;this.Color.l=i;this.oHueField.setValue(this.Color.h);this.oSatField.setValue(this.Color.s);this.oLitField.setValue(this.Color.l);this._updateGradientBoxBackground(this.Color.h);this._updateCursorPosition();this._updateAlphaBackground();this._updateSelColorBackground()};b.prototype._processRGBChanges=function(){var e=Math.round(parseInt(this.oRedField.getValue())),t=Math.round(parseInt(this.oGreenField.getValue())),i=Math.round(parseInt(this.oBlueField.getValue())),s=e+t+i===765;this._calculateHEX(e,t,i);this.oHexField.setValue(this.sHexString);if(this._bHSLMode){this._calculateHSL(e,t,i);this.oLitField.setValue(this.Color.l)}else{if(!s){this._calculateHSV(e,t,i)}this.oValField.setValue(this.Color.v)}if(!s){this.oHueField.setValue(this.Color.h)}this.oSatField.setValue(this.Color.s);this.oSlider.setValue(parseInt(this.oHueField.getValue()));this.Color.r=e;this.Color.g=t;this.Color.b=i;this.Color.hex="#"+this.oHexField.getValue();this._updateGradientBoxBackground(this.Color.h);this._updateCursorPosition();this._updateAlphaBackground();this._updateSelColorBackground()};b.prototype._handleHexValueChange=function(){var e=this.oHexField.getValue().toLowerCase(),t=1,i;if(e.substr(0,1)==="#"){e=e.substr(1)}i=/^([0-9a-fA-F]{8})$/;if(i.test(e)!==false){t=Number((parseInt(e.substr(6,2),16)/255).toFixed(2));e=e.substr(0,6)}i=/^([0-9a-fA-F]{3}|[0-9a-fA-F]{6})$/;if(i.test(e)===false){this.oHexField.setValueState(g.Error);this.oSlider.setEnabled(false);this.oAlphaSlider.setEnabled(false);this.oHueField.setEnabled(false);this.oRedField.setEnabled(false);this.oGreenField.setEnabled(false);this.oBlueField.setEnabled(false);this.oSatField.setEnabled(false);this.oAlphaField.setEnabled(false);this.oAlphaField2.setEnabled(false);if(this._bHSLMode){this.oLitField.setEnabled(false)}else{this.oValField.setEnabled(false)}return}else if(this.oHexField.getValueState()===g.Error){this.oHexField.setValueState(g.None);this.oSlider.setEnabled(true);this.oAlphaSlider.setEnabled(true);this.oHueField.setEnabled(true);this.oRedField.setEnabled(true);this.oGreenField.setEnabled(true);this.oBlueField.setEnabled(true);this.oSatField.setEnabled(true);this.oAlphaField.setEnabled(true);this.oAlphaField2.setEnabled(true);if(this._bHSLMode){this.oLitField.setEnabled(true)}else{this.oValField.setEnabled(true)}}if(e.length===3){e=e.charAt(0)+e.charAt(0)+e.charAt(1)+e.charAt(1)+e.charAt(2)+e.charAt(2)}this._processHexChanges(e);this.oHexField.setValue(e);this.oRedField.setValue(this.Color.r);this.oGreenField.setValue(this.Color.g);this.oBlueField.setValue(this.Color.b);this.oHueField.setValue(this.Color.h);this.oSatField.setValue(this.Color.s);if(this._bHSLMode){this.oLitField.setValue(this.Color.l);this.oAlphaField.setValue(1);this.oAlphaField2.setValue(1)}else{this.oValField.setValue(this.Color.v)}this.oSlider.setValue(parseInt(this.oHueField.getValue()));this.oAlphaSlider.setValue(t);this.Color.a=t;if(this._bHSLMode){this.oAlphaField.setValue(t);this.oAlphaField2.setValue(t)}this._updateGradientBoxBackground(this.Color.h);this._updateCursorPosition();this._updateAlphaBackground();this._updateSelColorBackground();this._updateColorStringProperty(true,true)};b.prototype._processHexChanges=function(e){this._convertRGB(e);if(this._bHSLMode){this._calculateHSL(this.Color.r,this.Color.g,this.Color.b)}else{this._calculateHSV(this.Color.r,this.Color.g,this.Color.b)}this.Color.hex="#"+e.toLowerCase()};b.prototype._updateAlphaBackground=function(){var e=[this.Color.r,this.Color.g,this.Color.b].join(","),t=_+"(left,rgba("+e+",0),rgba("+e+",1)),url("+y+")";this.oAlphaSlider.$().find(this.bResponsive?".sapMSliderInner":".sapUiSliBar").css("background-image",t)};b.prototype._updateCursorPosition=function(){var e,t;if(!this._iCPBoxSize){return}if(this._bHSLMode){e=Math.round(this.oLitField.getValue()*this._iCPBoxSize/100)}else{e=Math.round(this.oValField.getValue()*this._iCPBoxSize/100)}if(c.getRTL()){e=this._iCPBoxSize-e}t=Math.round((1-this.oSatField.getValue()/100)*this._iCPBoxSize);e=Math.round(Math.max(e,0)-this._iCPCursorSize/2-1);t=Math.round(Math.max(t,0)-this._iCPCursorSize/2-1);this.$CPCur.css("left",e).css("top",t)};b.prototype._calculateRGB=function(e,t,i){var s,o,a,l,r,h,n;if(this._bHSLMode){this._calculateRGBAdvanced(e,t,i);return}e%=360;e/=60;t/=100;i/=100;h=i*t;r=h*(1-Math.abs(e%2-1));l=i-h;s=0;o=0;a=0;n=Math.floor(e);switch(n){case 0:s=h;o=r;break;case 1:s=r;o=h;break;case 2:o=h;a=r;break;case 3:o=r;a=h;break;case 4:s=r;a=h;break;case 5:s=h;a=r;break;default:s=0;a=0;o=0;break}this.RGB.r=Math.floor((s+l)*255);this.RGB.g=Math.floor((o+l)*255);this.RGB.b=Math.floor((a+l)*255)};b.prototype._calculateRGBAdvanced=function(e,t,i){var s,o,a,l,r,h,n,d,u;e=this._getValueInRange(e,0,360);e%=360;if(t>100){t=1}else if(t<0){t=0}else{t=t/100}if(i>100){i=1}else if(i<0){i=0}else{i=i/100}d=t*(1-Math.abs(2*i-1));n=255*(i-.5*d);h=d*(1-Math.abs(e/60%2-1));u=Math.floor(e/60);r=n+255*h;l=n+255*d;switch(u){case 0:s=l;o=r;a=n;break;case 1:s=r;o=l;a=n;break;case 2:s=n;o=l;a=r;break;case 3:s=n;o=r;a=l;break;case 4:s=r;o=n;a=l;break;case 5:s=l;o=n;a=r;break;default:s=0;o=0;a=0;break}this.RGB.r=Math.round(s);this.RGB.g=Math.round(o);this.RGB.b=Math.round(a)};b.prototype._getCSSColorString=function(){if(this.Color.formatHSL){if(this.Color.a<1){return"hsla("+this.Color.h+","+this.Color.s+"%,"+this.Color.l+"%, "+this.Color.a+")"}else{return"hsl("+this.Color.h+","+this.Color.s+"%,"+this.Color.l+"%)"}}if(this.Color.a<1){return"rgba("+this.Color.r+","+this.Color.g+","+this.Color.b+", "+this.Color.a+")"}else{return"rgb("+this.Color.r+","+this.Color.g+","+this.Color.b+")"}};b.prototype._calculateHEX=function(e,t,i){var s=e.toString(16),o=t.toString(16),a=i.toString(16);if(s.length===1){s="0"+s}if(o.length===1){o="0"+o}if(a.length===1){a="0"+a}this.sHexString=(s+o+a).toLowerCase()};b.prototype._calculateHSV=function(e,t,i){var s=Math.max(Math.max(e,t),i),o=Math.min(Math.min(e,t),i),a=s-o,l=Math.round(s*100/255),r=s===0?0:100*a/s,h=0;if(r===0){h=0}else if(e===s){h=60*(t-i)/a}else if(t===s){h=120+60*(i-e)/a}else if(i===s){h=240+60*(e-t)/a}if(h<0){h+=359.9}h=Math.round(h);r=Math.round(r);this.Color.h=h;this.Color.s=r;this.Color.v=l};b.prototype._calculateHSL=function(e,t,i){var s=Math.max(e,t,i),o=Math.min(e,t,i),a=(s-o)/255,l=(s+o)/510,r=1-Math.abs(2*l-1),h=l===0?0:a/r,n=r!==0?h:0,d=0;l=Math.round(l*100);n=Math.round(n*100);if(l===0||n===0||e+t+i===765){d=0}else{var u=s-o;if(s===e){d=(t-i)/u%6}if(s===t){d=(i-e)/u+2}if(s===i){d=(e-t)/u+4}if(u===0){d=0}d*=60;if(d<0){d+=360}}if(d!==0||this.Color.h!==360){this.Color.h=Math.round(d)}this.Color.s=n;this.Color.l=l};b.prototype._convertRGB=function(e){this.Color.r=parseInt(e.substr(0,2),16);this.Color.g=parseInt(e.substr(2,2),16);this.Color.b=parseInt(e.substr(4,2),16)};b.prototype._updateGradientBoxBackground=function(e){if(this._bHSLMode){this._calculateRGBAdvanced(e,100,50)}else{this._calculateRGB(e,100,100)}this._calculateHEX(this.RGB.r,this.RGB.g,this.RGB.b);this.$CPBox.css("background-color","rgb("+[this.RGB.r,this.RGB.g,this.RGB.b].join(",")+")")};b.prototype._updateSelColorBackground=function(){this.$().find(".sapUiColorPicker-ColorPickerNewColor").css("background-color",this._getCSSColorString())};b.prototype._parseColorString=function(e,t){var i;if(e.substr(0,1)==="#"){e=e.substr(1)}e=e.trim().toLowerCase();i=this._parseColorName(e);if(i){if(t){return true}if(i.length===8){this.Color.a=this.Color.oldA=Number((parseInt(i.substr(6,2),16)/255).toFixed(2));i=i.substring(0,6)}this._processHexChanges(i);this.Color.old=this.Color.hex;if(this._bHSLMode){this.Color.formatHSL=false}return true}if(/^([0-9a-fA-F]{3}|[0-9a-fA-F]{6})$/.test(e)){if(t){return true}if(e.length===3){i=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]}else{i=e}this._processHexChanges(i);this.Color.old=this.Color.hex;if(this._bHSLMode){this.Color.formatHSL=false}return true}if(e.substr(0,3)==="rgb"){return this._parseRGB(e,t)}if(this._bHSLMode){return this._parseHSL(e,t)}else if(e.substr(0,3)==="hsv"){return this._parseHSV(e,t)}return false};b.prototype._parseHSV=function(e,t){var i=/^(((\d{1,2})|([1,2]\d{2})|(3[0-5]\d)|(360)),)(((\d{1,2})|(100)),)((\d{1,2})|(100))$/,s,o,a,l;e=e.substr(3).replace("(","").replace(")","").split(" ").join("");if(i.test(e)===true){if(t){return true}s=e.split(",");o=parseInt(s[0]);a=parseInt(s[1]);l=parseInt(s[2]);this._calculateRGB(o,a,l);this._calculateHEX(this.RGB.r,this.RGB.g,this.RGB.b);this.Color.r=this.RGB.r;this.Color.g=this.RGB.g;this.Color.b=this.RGB.b;this.Color.h=o;this.Color.s=a;this.Color.v=l;this.Color.hex="#"+this.sHexString;this.Color.old=this.Color.hex;return true}return false};b.prototype._parseHSL=function(e,t){var i,s=e.substr(0,4),o,a,l,r,h;if(s==="hsla"){o=true}else if(s==="hsl("){o=false}else{return false}e=e.substr(o?4:3).replace("(","").replace(")","").split(" ").join("");i=e.split(",");a=parseInt(i[0]);l=parseFloat(i[1]);r=parseFloat(i[2]);if(o){h=parseFloat(i[3])}else{if(i[3]&&parseFloat(i[3])>=0){return false}h=1}l=l<1&&l>0?l*100:l;r=r<1&&r>0?r*100:r;if(a>=0&&a<=360&&(l>=0&&l<=100)&&(r>=0&&r<=100)&&(h>=0&&h<=1)){if(t){return true}this._calculateRGB(a,l,r);this._calculateHEX(this.RGB.r,this.RGB.g,this.RGB.b);this.Color.r=this.RGB.r;this.Color.g=this.RGB.g;this.Color.b=this.RGB.b;this.Color.h=a;this.Color.s=l;this.Color.l=r;this.Color.hex="#"+this.sHexString;this.Color.old=this.Color.hex;this.Color.a=this.Color.oldA=h;this.Color.formatHSL=true}else{return false}return true};b.prototype._parseRGB=function(e,t){var i,s,o,a;s=e.substring(0,4);if(s==="rgba"){a=/^(((\d{1,2})|(1\d{2})|(2[0-4]\d)|(25[0-5])),){2}(((\d{1,2})|(1\d{2})|(2[0-4]\d)|(25[0-5])),)([0]|([0]\.[0-9]+)|(\.[0-9]+)|[1])$/;o=true}else if(s.substring(0,3)==="rgb"){a=/^(((\d{1,2})|(1\d{2})|(2[0-4]\d)|(25[0-5])),){2}(((\d{1,2})|(1\d{2})|(2[0-4]\d)|(25[0-5])))$/;o=false}else{return false}e=e.substr(o?4:3).replace("(","").replace(")","").split(" ").join("");if(a.test(e)){if(t){return true}i=e.split(",");this._calculateHEX(parseInt(i[0]),parseInt(i[1]),parseInt(i[2]));this._processHexChanges(this.sHexString);this.Color.old=this.Color.hex;if(o){this.Color.a=this.Color.oldA=parseFloat(i[3])}return true}if(this._bHSLMode){this.Color.formatHSL=false}return false};b.prototype._parseColorName=function(e){return F.Colors[e]};b.prototype.onAfterRendering=function(){var e=this._getCSSColorString(),t=this.getParent();this.$CPBox=this.oCPBox.$();this.$CPCur=this.oCPBox.getHandle();this.$().find(".sapUiColorPicker-ColorPickerNewColor").css("background-color",e);this.$().find(".sapUiColorPicker-ColorPickerOldColor").css("background-color",e);this._updateGradientBoxBackground(this.Color.h);this._iCPBoxSize=this.oCPBox.getWidth();this._updateCursorPosition();this._updateAlphaBackground();this.oSlider.iShiftGrip=Math.round(jQuery(this.oSlider.oGrip).outerWidth()/2);this.oAlphaSlider.iShiftGrip=Math.round(jQuery(this.oAlphaSlider.oGrip).outerWidth()/2);if(t&&t.getMetadata().getName()==="sap.m.Dialog"){t.addStyleClass("sapUiCPDialog")}this.addStyleClass("sapUiCPDisplayRGB");if(d.system.phone){this._toggleFields()}};b.prototype.getRGB=function(){return{r:this.Color.r,g:this.Color.g,b:this.Color.b}};b.prototype._getConstants=function(){return F};b.prototype._createCommonsColorPicker=function(t,s){t=new o({containerQuery:true,content:[this.oCPBox.setLayoutData(this.oCPBoxGD),new l({content:[this._createRowFromInput(this.oRedField,"COLORPICKER_RED","R:"),this._createRowFromInput(this.oGreenField,"COLORPICKER_GREEN","G:"),this._createRowFromInput(this.oBlueField,"COLORPICKER_BLUE","B:"),this._createRowFromInput(this.oHexField,"COLORPICKER_HEX","#:")],layoutData:this.icOne}),new l({content:[this._createRowFromInput(this.oHueField,"COLORPICKER_HUE","H:"),this._createRowFromInput(this.oSatField,"COLORPICKER_SAT","S:","%"),this._createRowFromInput(this.oLitField,"COLORPICKER_LIGHTNESS","L:","%").addStyleClass(F.HideForHSVClass),this._createRowFromInput(this.oAlphaField,"COLORPICKER_ALPHA","A:").addStyleClass(F.HideForHSVClass),this._createRowFromInput(this.oAlphaField2,"COLORPICKER_ALPHA","A:").addStyleClass(F.HideForHSVClass),this._createRowFromInput(this.oValField,"COLORPICKER_VALUE","V:").addStyleClass(F.HideForHSLClass)],layoutData:this.icTwo}).addStyleClass(F.LastColumnClass),new r({content:[new i({content:["<div id='",s,"-ocBox' class='",F.OldColorClass,"'></div>"].join("")}),new i({content:["<div id='",s,"-ncBox' class='",F.NewColorClass,"'></div>"].join("")})],layoutData:this.swatches}).addStyleClass(F.SwatchesClass),new r({content:[e.ColorPickerHelper.factory.createLabel({text:"Output:",labelFor:this.oRGBorHSLRBGroup}),this.oRGBorHSLRBGroup],layoutData:this.rbg}).addStyleClass(F.HideForHSVClass).addStyleClass(F.OutputSelectorRowClass),this.oSlider.setLayoutData(new a({span:"L6 M6 S12",linebreak:true})),this.oAlphaSlider.setLayoutData(new a({span:"L6 M6 S12"}))]}).addStyleClass(F.CPMatrixClass);return t};b.prototype._createUnifiedColorPicker=function(t){var i=this;this.oRbRGB=e.ColorPickerHelper.factory.createRadioButtonItem({tooltip:R.getText("COLORPICKER_SELECT_RGB_TOOLTIP")});this.oRbRGB.addStyleClass("sapUiCPRB");this.oRbHSLV=e.ColorPickerHelper.factory.createRadioButtonItem({tooltip:R.getText("COLORPICKER_SELECT_HSL_TOOLTIP")});this.oRbHSLV.addStyleClass("sapUiCPRB");this.oButton=e.ColorPickerHelper.factory.createButton(t+"-toggleMode",{type:d.system.phone?"Default":"Transparent",tooltip:R.getText("COLORPICKER_TOGGLE_BTN_TOOLTIP"),icon:"sap-icon://source-code",press:function(e){i._toggleFields()}});this.setAggregation("_oButton",this.oButton,true);this.oRGBorHSLRBUnifiedGroup=e.ColorPickerHelper.factory.createRadioButtonGroup({select:this._handleRGBorHSLValueChange.bind(this),selectedIndex:this.Color.formatHSL?1:0});this.oRGBorHSLRBUnifiedGroup.addButton(this.oRbRGB);this.oRGBorHSLRBUnifiedGroup.addButton(this.oRbHSLV);this.setAggregation("_oRGBorHSLRBUnifiedGroup",this.oRGBorHSLRBUnifiedGroup,true);this.setAggregation("_oCPBox",this.oCPBox,true);this.setAggregation("_oHexField",this.oHexField,true);this.setAggregation("_oRedField",this.oRedField,true);this.setAggregation("_oGreenField",this.oGreenField,true);this.setAggregation("_oBlueField",this.oBlueField,true);this.setAggregation("_oHueField",this.oHueField,true);this.setAggregation("_oSatField",this.oSatField,true);this.setAggregation("_oLitField",this.oLitField,true);this.setAggregation("_oAlphaField",this.oAlphaField,true);this.setAggregation("_oAlphaField2",this.oAlphaField2,true);this.setAggregation("_oValField",this.oValField,true);this.setAggregation("_oSlider",this.oSlider,true);this.setAggregation("_oAlphaSlider",this.oAlphaSlider,true)};b.prototype._toggleFields=function(){if(!d.system.phone){this.toggleStyleClass("sapUiCPDisplayRGB",this.bPressed);this.bPressed=!this.bPressed}else{switch(this.sVisibleFiled){case"HSL":this.removeStyleClass("sapUiCPHexVisible");this.toggleStyleClass("sapUiCPDisplayRGB",false);this.addStyleClass("sapUiCPHideHex");this.sVisibleFiled="RGB";break;case"RGB":this.removeStyleClass("sapUiCPHexVisible");this.addStyleClass("sapUiCPHideHex");this.toggleStyleClass("sapUiCPDisplayRGB",true);this.sVisibleFiled="Hex";break;case"Hex":default:this.addStyleClass("sapUiCPHexVisible");this.removeStyleClass("sapUiCPHideHex");this.sVisibleFiled="HSL";break}}};return b});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/ColorPickerDisplayMode", [],function(){"use strict";var e={Default:"Default",Large:"Large",Simplified:"Simplified"};return e});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/ColorPickerRenderer", ["./ColorPickerDisplayMode","sap/ui/Device"],function(e,o){"use strict";var r={apiVersion:2};r.render=function(r,t){var n=t.getDisplayMode(),i=t.bResponsive;r.openStart("div",t);r.accessibilityState(t,{role:"group",roledescription:sap.ui.getCore().getLibraryResourceBundle("sap.ui.unified").getText("COLOR_PICKER_TITLE")});if(i){r.class("sapUiColorPicker-ColorPickerMatrix");r.class("sapUiColorPicker-"+n);r.class("sapUnifiedColorPicker");if(t._bHSLMode){r.class("sapUiColorPickerHSL")}}if(o.system.phone){r.class("sapUiCPPhone")}r.openEnd();if(!i){r.renderControl(t.getAggregation("_grid"))}else{switch(n){case e.Default:this.renderDefaultColorPicker(r,t);break;case e.Large:this.renderLargeColorPicker(r,t);break;case e.Simplified:this.renderSimplifiedColorPicker(r,t)}}r.close("div")};r.renderDefaultColorPicker=function(e,r){e.renderControl(r.getAggregation("_oCPBox"));if(o.system.phone){e.openStart("div");e.class("sapUiCPPhoneContent");e.openEnd();e.openStart("div");e.class("sapUiCPSlidersPhone");e.openEnd();e.renderControl(r.getAggregation("_oSlider"));e.renderControl(r.getAggregation("_oAlphaSlider"));e.close("div");this.renderMobileSwatches(e,r);e.close("div")}else{e.renderControl(r.getAggregation("_oSlider"));e.renderControl(r.getAggregation("_oAlphaSlider"));this.renderDesktopSwatchesAndHexFields(e,r)}e.openStart("div");e.class("sapUiCPDefaultWrapper");e.openEnd();if(o.system.phone){e.renderControl(r.getAggregation("_oHexField"));e.openStart("div");e.class("sapUiCPHexText");e.openEnd();e.text("Hex");e.close("div")}e.openStart("div");e.class("sapUiCPDefaultRGB");e.openEnd();e.renderControl(r.getAggregation("_oRedField"));this.renderEmptyDiv(e);e.renderControl(r.getAggregation("_oGreenField"));this.renderEmptyDiv(e);e.renderControl(r.getAggregation("_oBlueField"));this.renderEmptyDiv(e);e.renderControl(r.getAggregation("_oAlphaField"));e.close("div");e.openStart("div");e.class("sapUiCPDefaultHSLV");e.openEnd();e.renderControl(r.getAggregation("_oHueField"));this.renderEmptyDiv(e);e.renderControl(r.getAggregation("_oSatField"));e.openStart("div");e.class("sapUiCPPercentSymbol");e.openEnd();e.text("%");e.close("div");e.renderControl(r.getAggregation("_oLitField"));e.renderControl(r.getAggregation("_oValField"));if(r.getMode()==="HSL"){e.openStart("div");e.class("sapUiCPPercentSymbol");e.openEnd();e.text("%");e.close("div")}else{this.renderEmptyDiv(e)}e.renderControl(r.getAggregation("_oAlphaField2"));e.close("div");e.renderControl(r.getAggregation("_oButton"));this.renderRGBLabel(e,r);this.renderHSLVLabel(e,r);e.close("div")};r.renderLargeColorPicker=function(e,o){e.renderControl(o.getAggregation("_oCPBox"));e.renderControl(o.getAggregation("_oSlider"));e.renderControl(o.getAggregation("_oAlphaSlider"));this.renderDesktopSwatchesAndHexFields(e,o);e.renderControl(o.oRGBorHSLRBUnifiedGroup);e.openStart("div");e.class("sapUiCPRGBA");e.openEnd();e.renderControl(o.getAggregation("_oRedField"));this.renderEmptyDiv(e);e.renderControl(o.getAggregation("_oGreenField"));this.renderEmptyDiv(e);e.renderControl(o.getAggregation("_oBlueField"));this.renderEmptyDiv(e);e.renderControl(o.getAggregation("_oAlphaField"));e.close("div");this.renderRGBLabel(e,o);e.openStart("div");e.class("sapUiCPHSLV");e.openEnd();e.renderControl(o.getAggregation("_oHueField"));this.renderEmptyDiv(e);e.renderControl(o.getAggregation("_oSatField"));e.openStart("div");e.class("sapUiCPPercentSymbol");e.openEnd();e.text("%");e.close("div");o.getMode()==="HSL"?this.renderLFirst(e,o):this.renderVFirst(e,o);e.close("div");this.renderHSLVLabel(e,o)};r.renderSimplifiedColorPicker=function(e,r){e.renderControl(r.getAggregation("_oCPBox"));if(o.system.phone){e.openStart("div");e.class("sapUiCPPhoneContent");e.openEnd();e.openStart("div");e.class("sapUiCPSlidersPhone");e.openEnd();e.renderControl(r.getAggregation("_oSlider"));e.close("div");e.renderControl(r.getAggregation("_oHexField"));this.renderMobileSwatches(e,r);e.openStart("div");e.class("sapUiCPHexWrapper");e.openEnd();e.openStart("div");e.class("sapUiCPHexText");e.openEnd();e.text("Hex");e.close("div");e.close("div");e.close("div")}else{e.renderControl(r.getAggregation("_oSlider"));this.renderDesktopSwatchesAndHexFields(e,r)}};r.renderDesktopSwatchesAndHexFields=function(e,o){e.openStart("div");e.class("sapUiCPComparisonWrapper");e.openEnd();e.openStart("div",o.getId()+"-ocBox");e.class("sapUiColorPicker-ColorPickerOldColor");e.openEnd();e.close("div");e.openStart("div",o.getId()+"-ncBox");e.class("sapUiColorPicker-ColorPickerNewColor");e.openEnd();e.close("div");e.close("div");e.openStart("div");e.class("sapUiCPHexWrapper");e.openEnd();e.openStart("span");e.class("sapUiCPHexText");e.openEnd();e.text("Hex");e.close("span");e.close("div");e.renderControl(o.getAggregation("_oHexField"))};r.renderMobileSwatches=function(e,o){e.openStart("div");e.class("sapUiCPComparisonWrapper");e.class("sapUiCPComparisonWrapperPhone");e.openEnd();e.openStart("div",o.getId()+"-ocBox");e.class("sapUiColorPicker-ColorPickerOldColor");e.openEnd();e.close("div");e.openStart("div",o.getId()+"-ncBox");e.class("sapUiColorPicker-ColorPickerNewColor");e.openEnd();e.close("div");e.close("div")};r.renderLFirst=function(e,o){e.renderControl(o.getAggregation("_oLitField"));e.openStart("div");e.class("sapUiCPPercentSymbol");e.openEnd();e.text("%");e.close("div");e.renderControl(o.getAggregation("_oValField"))};r.renderVFirst=function(e,o){e.renderControl(o.getAggregation("_oValField"));this.renderEmptyDiv(e);e.renderControl(o.getAggregation("_oLitField"))};r.renderEmptyDiv=function(e){e.openStart("div");e.class("sapUiCPEmptyDiv");e.openEnd();e.close("div")};r.renderRGBLabel=function(e,o){e.openStart("div");e.class("sapUiCPRGBText");e.openEnd();e.openStart("span");e.class("sapUiCPText");e.openEnd();e.text("R");e.close("span");this.renderEmptyDiv(e);e.openStart("span");e.class("sapUiCPText");e.openEnd();e.text("G");e.close("span");this.renderEmptyDiv(e);e.openStart("span");e.class("sapUiCPText");e.openEnd();e.text("B");e.close("span");this.renderEmptyDiv(e);if(o.getDisplayMode()==="Default"){e.openStart("span");e.class("sapUiCPText");e.openEnd();e.text("A");e.close("span")}else{e.openStart("span");e.class("sapUiCPText");e.openEnd();e.close("span")}e.close("div")};r.renderHSLVLabel=function(e,o){e.openStart("div");e.class("sapUiCPHSLVText");e.openEnd();e.openStart("span");e.class("sapUiCPText");e.openEnd();e.text("H");e.close("span");this.renderEmptyDiv(e);e.openStart("span");e.class("sapUiCPText");e.openEnd();e.text("S");e.close("span");this.renderEmptyDiv(e);if(o.getMode()==="HSL"){e.openStart("span");e.class("sapUiCPText");e.openEnd();e.text("L");e.close("span")}else{e.openStart("span");e.class("sapUiCPText");e.openEnd();e.text("V");e.close("span")}this.renderEmptyDiv(e);e.openStart("span");e.class("sapUiCPText");e.openEnd();e.text("A");e.close("span");e.close("div")};return r},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/DateRange", ["sap/ui/core/Element","./library","sap/ui/unified/calendar/CalendarUtils"],function(e,t,a){"use strict";var r=e.extend("sap.ui.unified.DateRange",{metadata:{library:"sap.ui.unified",properties:{startDate:{type:"object",group:"Misc",defaultValue:null},endDate:{type:"object",group:"Misc",defaultValue:null}}}});r.prototype.setStartDate=function(e,t){if(e){a._checkJSDateObject(e);var r=e.getFullYear();a._checkYearInValidRange(r)}this.setProperty("startDate",e,t);return this};r.prototype.setEndDate=function(e,t){if(e){a._checkJSDateObject(e);var r=e.getFullYear();a._checkYearInValidRange(r)}this.setProperty("endDate",e,t);return this};return r});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/DateTypeRange", ["./DateRange","./library"],function(e,a){"use strict";var p=a.CalendarDayType;var r=e.extend("sap.ui.unified.DateTypeRange",{metadata:{library:"sap.ui.unified",properties:{type:{type:"sap.ui.unified.CalendarDayType",group:"Appearance",defaultValue:p.Type01},secondaryType:{type:"sap.ui.unified.CalendarDayType",group:"Appearance",defaultValue:p.None},color:{type:"sap.ui.core.CSSColor",group:"Appearance",defaultValue:null}}}});return r});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/FileUploader", ["sap/ui/core/Control","./library","sap/ui/core/LabelEnablement","sap/ui/core/InvisibleText","sap/ui/core/library","sap/ui/Device","./FileUploaderRenderer","sap/ui/dom/containsOrEquals","sap/ui/events/KeyCodes","sap/base/Log","sap/base/security/encodeXML","sap/ui/thirdparty/jquery","sap/ui/core/Configuration","sap/ui/dom/jquery/Aria"],function(e,t,i,s,o,r,a,l,n,p,h,jQuery,u){var d=o.ValueState;var f=t.FileUploaderHttpRequestMethod;var g=e.extend("sap.ui.unified.FileUploader",{metadata:{interfaces:["sap.ui.core.IFormContent","sap.ui.unified.IProcessableBlobs"],library:"sap.ui.unified",designtime:"sap/ui/unified/designtime/FileUploader.designtime",properties:{value:{type:"string",group:"Data",defaultValue:""},enabled:{type:"boolean",group:"Behavior",defaultValue:true},uploadUrl:{type:"sap.ui.core.URI",group:"Data",defaultValue:""},name:{type:"string",group:"Data",defaultValue:null},width:{type:"sap.ui.core.CSSSize",group:"Misc",defaultValue:""},uploadOnChange:{type:"boolean",group:"Behavior",defaultValue:false},additionalData:{type:"string",group:"Data",defaultValue:null},sameFilenameAllowed:{type:"boolean",group:"Behavior",defaultValue:false},buttonText:{type:"string",group:"Misc",defaultValue:null},fileType:{type:"string[]",group:"Data",defaultValue:null},multiple:{type:"boolean",group:"Behavior",defaultValue:false},maximumFileSize:{type:"float",group:"Data",defaultValue:null},mimeType:{type:"string[]",group:"Data",defaultValue:null},sendXHR:{type:"boolean",group:"Behavior",defaultValue:false},httpRequestMethod:{type:"sap.ui.unified.FileUploaderHttpRequestMethod",group:"Behavior",defaultValue:f.Post},placeholder:{type:"string",group:"Appearance",defaultValue:null},style:{type:"string",group:"Appearance",defaultValue:null},buttonOnly:{type:"boolean",group:"Appearance",defaultValue:false},useMultipart:{type:"boolean",group:"Behavior",defaultValue:true},maximumFilenameLength:{type:"int",group:"Data",defaultValue:null},valueState:{type:"sap.ui.core.ValueState",group:"Data",defaultValue:d.None},valueStateText:{type:"string",group:"Misc",defaultValue:null},icon:{type:"sap.ui.core.URI",group:"Appearance",defaultValue:""},iconHovered:{type:"sap.ui.core.URI",group:"Appearance",defaultValue:""},iconSelected:{type:"sap.ui.core.URI",group:"Appearance",defaultValue:""},iconFirst:{type:"boolean",group:"Appearance",defaultValue:true},iconOnly:{type:"boolean",group:"Appearance",defaultValue:false},directory:{type:"boolean",group:"Behavior",defaultValue:false}},aggregations:{parameters:{type:"sap.ui.unified.FileUploaderParameter",multiple:true,singularName:"parameter"},headerParameters:{type:"sap.ui.unified.FileUploaderParameter",multiple:true,singularName:"headerParameter"},xhrSettings:{type:"sap.ui.unified.FileUploaderXHRSettings",multiple:false}},associations:{ariaDescribedBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaDescribedBy"},ariaLabelledBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"}},events:{change:{parameters:{newValue:{type:"string"},files:{type:"object[]"}}},uploadComplete:{parameters:{fileName:{type:"string"},response:{type:"string"},readyStateXHR:{type:"string"},status:{type:"string"},responseRaw:{type:"string"},headers:{type:"object"},requestHeaders:{type:"object[]"}}},typeMissmatch:{parameters:{fileName:{type:"string"},fileType:{type:"string"},mimeType:{type:"string"}}},fileSizeExceed:{parameters:{fileName:{type:"string"},fileSize:{type:"string"}}},fileEmpty:{parameters:{fileName:{type:"string"}}},fileAllowed:{},uploadProgress:{parameters:{lengthComputable:{type:"boolean"},loaded:{type:"float"},total:{type:"float"},fileName:{type:"string"},requestHeaders:{type:"object[]"}}},uploadAborted:{parameters:{fileName:{type:"string"},requestHeaders:{type:"object[]"}}},filenameLengthExceed:{parameters:{fileName:{type:"string"}}},uploadStart:{parameters:{fileName:{type:"string"},requestHeaders:{type:"object[]"}}},beforeDialogOpen:{},afterDialogClose:{}}},renderer:a});g.prototype.init=function(){var e=this;this.oFilePath=t.FileUploaderHelper.createTextField(this.getId()+"-fu_input").addEventDelegate({onAfterRendering:function(){if(e.getWidth()){e._resizeDomElements()}}});this.oBrowse=t.FileUploaderHelper.createButton(this.getId()+"-fu_button");this.oFilePath.setParent(this);this.oBrowse.setParent(this);this.oFileUpload=null;this.bMobileLib=this.oBrowse.getMetadata().getName()=="sap.m.Button";if(u.getAccessibility()){if(!g.prototype._sAccText){var i=sap.ui.getCore().getLibraryResourceBundle("sap.ui.unified");g.prototype._sAccText=i.getText("FILEUPLOAD_ACC")}if(this.oBrowse.addAriaDescribedBy){this.oBrowse.addAriaDescribedBy(this.getId()+"-AccDescr")}if(this.oFilePath){this.oFilePath.addAriaLabelledBy(s.getStaticId("sap.ui.unified","FILEUPLOAD_FILENAME"))}}this._submitAfterRendering=false};g.prototype.setIcon=function(e){this.oBrowse.setIcon(e);this.setProperty("icon",e,false);return this};g.prototype.setIconHovered=function(e){this.setProperty("iconHovered",e,false);if(this.oBrowse.setIconHovered){this.oBrowse.setIconHovered(e)}return this};g.prototype.setIconSelected=function(e){this.setProperty("iconSelected",e,false);if(this.oBrowse.setIconSelected){this.oBrowse.setIconSelected(e)}else{this.oBrowse.setActiveIcon(e)}return this};g.prototype.setIconFirst=function(e){this.oBrowse.setIconFirst(e);this.setProperty("iconFirst",e,false);return this};g.prototype.getIdForLabel=function(){return this.oBrowse.getId()};g.prototype._ensureBackwardsReference=function(){var e=this.oBrowse,t=e.getAriaLabelledBy(),s=i.getReferencingLabels(this);if(t){s.forEach(function(i){if(t.indexOf(i)===-1){e.addAriaLabelledBy(i)}})}return this};g.prototype.setFileType=function(e){var t=this._convertTypesToArray(e);this.setProperty("fileType",t,false);this._rerenderInputField();return this};g.prototype.setMimeType=function(e){var t=this._convertTypesToArray(e);this.setProperty("mimeType",t,false);this._rerenderInputField();return this};g.prototype.setMultiple=function(e){this.setProperty("multiple",e,false);this._rerenderInputField();return this};g.prototype.setDirectory=function(e){this.setProperty("directory",e,false);this._rerenderInputField();return this};g.prototype._rerenderInputField=function(){if(this.oFileUpload){var e=this.oFileUpload.files;this._clearInputField();this._prepareFileUpload();jQuery(this.oFileUpload).on("change",this.handlechange.bind(this));this.oFileUpload.files=e;this._cacheDOMEls()}};g.prototype.setTooltip=function(t){var i;e.prototype.setTooltip.call(this,t);if(this.oFileUpload){i=this.getTooltip_AsString();if(i){this.oFileUpload.setAttribute("title",i)}else{this.oFileUpload.setAttribute("title",this.getValue()?this.getValue():this._getNoFileChosenText())}}return this};g.prototype.addAriaLabelledBy=function(e){this.addAssociation("ariaLabelledBy",e);this.oBrowse.addAriaLabelledBy(e);return this};g.prototype.removeAriaLabelledBy=function(e){var t=this.removeAssociation("ariaLabelledBy",e);this.oBrowse.removeAriaLabelledBy(t);return t};g.prototype.removeAllAriaLabelledBy=function(){var e=this.removeAllAssociation("ariaLabelledBy"),t=this.oBrowse.getAriaLabelledBy();e.forEach(function(e){if(t.indexOf(e)>=0){this.oBrowse.removeAriaLabelledBy(e)}}.bind(this));return e};g.prototype.addAriaDescribedBy=function(e){this.addAssociation("ariaDescribedBy",e);this.oBrowse.addAriaDescribedBy(e);return this};g.prototype.removeAriaDescribedBy=function(e){var t=this.removeAssociation("ariaDescribedBy",e);this.oBrowse.removeAriaDescribedBy(t);return t};g.prototype.removeAllAriaDescribedBy=function(){var e=this.removeAllAssociation("ariaDescribedBy"),t=this.oBrowse.getAriaDescribedBy();e.forEach(function(e){if(t.indexOf(e)>=0){this.oBrowse.removeAriaDescribedBy(e)}}.bind(this));return e};g.prototype._generateAccDescriptionText=function(){var e=this.getTooltip_AsString(),t=this.getPlaceholder(),s=this.getValue(),o=i.isRequired(this),r="";if(o){r+=sap.ui.getCore().getLibraryResourceBundle("sap.ui.unified").getText("FILEUPLOAD_REQUIRED")+" "}if(e){r+=e+" "}if(s){r+=s+" "}else if(t){r+=t+" "}r+=this._sAccText;return r};g.prototype._convertTypesToArray=function(e){if(typeof e==="string"){if(e===""){return[]}else{return e.split(",").map(function(e){return e.trim()})}}return e};g.prototype.exit=function(){this.oFilePath.destroy();this.oBrowse.destroy();if(this.oIFrameRef){jQuery(this.oIFrameRef).off();sap.ui.getCore().getStaticAreaRef().removeChild(this.oIFrameRef);this.oIFrameRef=null}if(this.oFileUpload){this._clearInputField()}if(this.FUEl){this.FUEl=null}if(this.FUDataEl){this.FUDataEl=null}};g.prototype._clearInputField=function(){jQuery(this.oFileUpload).off();this.oFileUpload.parentElement.removeChild(this.oFileUpload);this.oFileUpload=null};g.prototype.onBeforeRendering=function(){var e=sap.ui.getCore().getStaticAreaRef();jQuery(this.oFileUpload).appendTo(e);if(!this.getName()){p.warning("Name property is not set. Id would be used instead to identify the control on the server.",this)}jQuery(this.oFileUpload).off();if(this.getIconOnly()&&this.getButtonOnly()){this.oBrowse.setText("");this.oBrowse.setTooltip(this.getTooltip_AsString()||this.getBrowseText())}else if(this.getIconOnly()){this.oBrowse.setText("");this.oBrowse.setTooltip(this.getBrowseText())}else{this.oBrowse.setText(this.getButtonText()||this.getBrowseText());this.oBrowse.setTooltip("")}this.oFilePath.setPlaceholder(this.getPlaceholder())};g.prototype.onAfterRendering=function(){this.prepareFileUploadAndIFrame();this._cacheDOMEls();this._addLabelFeaturesToBrowse();jQuery(this.oFileUpload).on("change",this.handlechange.bind(this));if(!this.bMobileLib){this.oFilePath.$().attr("tabindex","-1")}else{this.oFilePath.$().find("input").attr("tabindex","-1")}setTimeout(this._recalculateWidth.bind(this),0);this.oFilePath.$().find("input").removeAttr("role").attr("aria-live","polite");if(this._submitAfterRendering){this._submitAndResetValue();this._submitAfterRendering=false}};g.prototype._cacheDOMEls=function(){this.FUEl=this.getDomRef("fu");this.FUDataEl=this.getDomRef("fu_data")};g.prototype.onfocusin=function(e){if(!this.oFilePath.shouldValueStateMessageBeOpened||this.oFilePath.shouldValueStateMessageBeOpened()){this.openValueStateMessage()}};g.prototype.onsapfocusleave=function(e){if(!e.relatedControlId||!l(this.getDomRef(),sap.ui.getCore().byId(e.relatedControlId).getFocusDomRef())){this.closeValueStateMessage()}};g.prototype._recalculateWidth=function(){if(this.getWidth()){if(this.getButtonOnly()&&this.oBrowse.getDomRef()){this.oBrowse.getDomRef().style.width=this.getWidth()}this._resizeDomElements()}};g.prototype.getFocusDomRef=function(){return this.oBrowse.getDomRef()};g.prototype._resizeDomElements=function(){var e=this.getId();this._oBrowseDomRef=this.oBrowse.getDomRef();var t=jQuery(this._oBrowseDomRef);var i=t.parent().outerWidth(true);this._oFilePathDomRef=this.oFilePath.getDomRef();var s=this._oFilePathDomRef;var o=this.getWidth();if(o.substr(-1)=="%"&&s){while(s.id!=e){s.style.width="100%";s=s.parentNode}s.style.width=o}else{if(s){s.style.width=o;var r=jQuery(this._oFilePathDomRef);var a=r.outerWidth()-i;if(a<0){this.oFilePath.getDomRef().style.width="0px";if(this.oFileUpload){this.oFileUpload.style.width=t.outerWidth(true)}}else{this.oFilePath.getDomRef().style.width=a+"px"}}}};g.prototype.onresize=function(){this._recalculateWidth()};g.prototype.onThemeChanged=function(){this._recalculateWidth()};g.prototype.setEnabled=function(e){var t=jQuery(this.oFileUpload);this.setProperty("enabled",e,false);this.oFilePath.setEnabled(e);this.oBrowse.setEnabled(e);if(this.getEnabled()){t.removeAttr("disabled")}else{t.attr("disabled","disabled")}return this};g.prototype.setValueState=function(e){this.setProperty("valueState",e,false);if(this.oFilePath.setValueState){this.oFilePath.setValueState(e)}else{p.warning("Setting the valueState property with the combination of libraries used is not supported.",this)}var t=l(this.getDomRef(),document.activeElement);switch(e){case d.Error:case d.Warning:case d.Success:this.oBrowse.addAssociation("ariaDescribedBy",this.oFilePath.getId()+"-message-sr");if(t){this.openValueStateMessage()}break;default:this.oBrowse.removeAssociation("ariaDescribedBy",this.oFilePath.getId()+"-message-sr");if(t){this.closeValueStateMessage()}}return this};g.prototype.setValueStateText=function(e){if(this.oFilePath.setValueStateText){this.oFilePath.setValueStateText(e)}else{p.warning("Setting the valueStateText property with the combination of libraries used is not supported.",this)}return this.setProperty("valueStateText",e,false)};g.prototype.setStyle=function(e){this.setProperty("style",e,true);if(e){if(e=="Transparent"){if(this.oBrowse.setLite){this.oBrowse.setLite(true)}else{this.oBrowse.setType("Transparent")}}else{if(this.oBrowse.setType){this.oBrowse.setType(e)}else{if(e=="Emphasized"){e="Emph"}this.oBrowse.setStyle(e)}}}return this};g.prototype.setValue=function(e,t,i){var s=this.getValue();var o;if(s!=e||this.getSameFilenameAllowed()){var r=this.getUploadOnChange()&&e;this.setProperty("value",e,r);if(this.oFileUpload&&!this.getTooltip_AsString()){this.oFileUpload.setAttribute("title",e?e:this._getNoFileChosenText())}if(this.oFilePath){this.oFilePath.setValue(e);if(this.oBrowse.getDomRef()&&!i&&l(this.getDomRef(),document.activeElement)){this.oBrowse.focus()}}var a=this.getDomRef("fu_form"),n=this.getDomRef("fu_input-inner");if(this.oFileUpload&&a&&!e){a.reset();this.getDomRef("fu_input").value="";if(n){n.value=""}jQuery(this.FUDataEl).val(this.getAdditionalData())}if(t){if(window.File){o=this.FUEl.files}if(!this.getSameFilenameAllowed()||e){this.fireChange({id:this.getId(),newValue:e,files:o})}}if(r){this.upload()}}return this};g.prototype.clear=function(){var e=this.getDomRef("fu_form");if(e){e.reset()}return this.setValue("",false,true)};g.prototype.onmousedown=function(e){if(!this.bMobileLib){this.oBrowse.onmousedown(e)}};g.prototype.onmouseup=function(e){if(!this.bMobileLib){this.oBrowse.onmouseup(e)}};g.prototype.onmouseover=function(e){if(!this.bMobileLib){jQuery(this.oBrowse.getDomRef()).addClass("sapUiBtnStdHover");this.oBrowse.onmouseover(e)}};g.prototype.onmouseout=function(e){if(!this.bMobileLib){jQuery(this.oBrowse.getDomRef()).removeClass("sapUiBtnStdHover");this.oBrowse.onmouseout(e)}};g.prototype.setAdditionalData=function(e){this.setProperty("additionalData",e,true);var t=this.FUDataEl;if(t){e=this.getAdditionalData()||"";t.value=e}return this};g.prototype.sendFiles=function(e,t){var i=this;var s=true;for(var o=0;o<e.length;o++){if(!e[o].bPosted){s=false;break}}if(s){if(this.getSameFilenameAllowed()&&this.getUploadOnChange()){i.setValue("",true)}return}var r=e[t];var a=r.file.name?r.file.name:"MultipartFile";var l=r.requestHeaders;var n=function(e){var t={lengthComputable:!!e.lengthComputable,loaded:e.loaded,total:e.total};i.fireUploadProgress({lengthComputable:t.lengthComputable,loaded:t.loaded,total:t.total,fileName:a,requestHeaders:l})};r.xhr.upload.addEventListener("progress",n);r.xhr.onreadystatechange=function(){var e;var t;var s={};var o;var n;var p;var h;h=r.xhr.readyState;var u=r.xhr.status;if(r.xhr.readyState==4){if(r.xhr.responseXML){e=r.xhr.responseXML.documentElement.textContent}t=r.xhr.response;o=r.xhr.getAllResponseHeaders();if(o){n=o.split("\r\n");for(var d=0;d<n.length;d++){if(n[d]){p=n[d].indexOf(": ");s[n[d].substring(0,p)]=n[d].substring(p+2)}}}i.fireUploadComplete({fileName:a,headers:s,response:e,responseRaw:t,readyStateXHR:h,status:u,requestHeaders:l})}i._bUploading=false};if(r.xhr.readyState===0||r.bPosted){t++;i.sendFiles(e,t)}else{r.xhr.send(r.file);r.bPosted=true;t++;i.sendFiles(e,t)}};g.prototype.upload=function(e){var t,i;if(!this.getEnabled()){return}t=this.getDomRef("fu_form");try{this._bUploading=true;if(this.getSendXHR()&&window.File){var s=this.FUEl.files;if(e){this._sendProcessedFilesWithXHR(s)}else{this._sendFilesWithXHR(s)}}else if(t){i=t.getAttribute("action");if(i!==this.getUploadUrl()){this._submitAfterRendering=true}else{this._submitAndResetValue()}}}catch(e){p.error("File upload failed:\n"+e.message)}};g.prototype._submitAndResetValue=function(){var e=this.getDomRef("fu_form");e.submit();this.fireUploadStart();this._resetValueAfterUploadStart()};g.prototype.abort=function(e,t){if(!this.getUseMultipart()){var i=this._aXhr.length-1;for(var s=i;s>-1;s--){if(e&&t){for(var o=0;o<this._aXhr[s].requestHeaders.length;o++){var r=this._aXhr[s].requestHeaders[o].name;var a=this._aXhr[s].requestHeaders[o].value;if(r==e&&a==t){this._aXhr[s].xhr.abort();this.fireUploadAborted({fileName:this._aXhr[s].fileName,requestHeaders:this._aXhr[s].requestHeaders});this._aXhr.splice(s,1);p.info("File upload aborted.");break}}}else{this._aXhr[s].xhr.abort();this.fireUploadAborted({fileName:this._aXhr[s].fileName,requestHeaders:this._aXhr[s].requestHeaders});this._aXhr.splice(s,1);p.info("File upload aborted.")}}}else if(this._uploadXHR&&this._uploadXHR.abort){this._uploadXHR.abort();this.fireUploadAborted({fileName:null,requestHeaders:null});p.info("File upload aborted.")}};g.prototype.onclick=function(e){if(this.getSameFilenameAllowed()&&this.getEnabled()){this.setValue("",true)}if(this.oBrowse.getDomRef()&&(r.browser.safari||l(this.getDomRef(),document.activeElement))){this.oBrowse.focus()}if(e.target.getAttribute("type")==="file"){this.fireBeforeDialogOpen();document.body.onfocus=function(){this.fireAfterDialogClose();document.body.onfocus=null}.bind(this)}};g.prototype.onkeydown=function(e){if(!this.getEnabled()){return}if(this.getSameFilenameAllowed()&&this.getUploadOnChange()){this.setValue("",true)}var t=e.keyCode;if(t===n.ENTER){if(this.oFileUpload){this.oFileUpload.click();e.preventDefault();e.stopPropagation()}}this.oBrowse._bPressedSpace=false};g.prototype.onkeyup=function(e){if(!this.getEnabled()){return}if(this.getSameFilenameAllowed()&&this.getUploadOnChange()){this.setValue("",true)}var t=e.keyCode,i=n;if(t===i.DELETE||t===i.BACKSPACE){if(this.oFileUpload){this.setValue("",true)}}else if(t===i.SPACE){this.oFileUpload.click();e.preventDefault();e.stopPropagation()}else if(t!==i.TAB&&t!==i.SHIFT&&t!==i.F6&&t!==i.PAGE_UP&&t!==i.PAGE_DOWN&&t!==i.ESCAPE&&t!==i.END&&t!==i.HOME&&t!==i.ARROW_LEFT&&t!==i.ARROW_UP&&t!==i.ARROW_RIGHT&&t!==i.ARROW_DOWN){e.preventDefault();e.stopPropagation()}this.oBrowse._bPressedSpace=false};g.prototype._isFilenameTooLong=function(e){var t=this.getMaximumFilenameLength();if(t!==0&&e.length>t){p.info("The filename of "+e+" ("+e.length+" characters)  is longer than the maximum of "+t+" characters.");return true}return false};g.prototype.handlechange=function(e){if(this.oFileUpload&&this.getEnabled()){var t=this.getFileType();var i="";var s,o,a,l;var n=this.getDomRef("fu_form");if(window.File){var h=e.target.files;if(this._areFilesAllowed(h)){this.fireFileAllowed();i=this._generateInputValue(h)}else{n.reset();this.setValue("",true,true);return}}else if(t&&t.length>0){s=true;o=this.oFileUpload.value||"";a=o.lastIndexOf(".");l=a===-1?"":o.substring(a+1);for(var u=0;u<t.length;u++){if(l==t[u]){s=false}}if(s){p.info("File: "+o+" is of type "+l+". Allowed types are: "+t+".");this.fireTypeMissmatch({fileName:o,fileType:l});n.reset();this.setValue("",true,true);return}if(this._isFilenameTooLong(o)){this.fireFilenameLengthExceed({fileName:o});n.reset();this.setValue("",true,true);return}if(o){this.fireFileAllowed()}}var d=this.oFileUpload.value||"";var f=d.lastIndexOf("\\");if(f>=0){d=d.substring(f+1)}if(this.getMultiple()||this.getDirectory()){d=i}if(d||r.browser.chrome){this.setValue(d,true)}}};g.prototype._sendFilesWithXHR=function(e){var t,i,s,o,r=this.getXhrSettings();if(e.length>0){if(this.getUseMultipart()){t=1}else{t=e.length}this._aXhr=this._aXhr||[];for(var a=0;a<t;a++){this._uploadXHR=new window.XMLHttpRequest;o={xhr:this._uploadXHR,requestHeaders:[]};this._aXhr.push(o);o.xhr.open(this.getHttpRequestMethod(),this.getUploadUrl(),true);if(r){o.xhr.withCredentials=r.getWithCredentials()}if(this.getHeaderParameters()){var l=this.getHeaderParameters();for(var n=0;n<l.length;n++){i=l[n].getName();s=l[n].getValue();o.requestHeaders.push({name:i,value:s})}}var p=e[a].name;var h=o.requestHeaders;o.fileName=p;o.file=e[a];this.fireUploadStart({fileName:p,requestHeaders:h});for(var u=0;u<h.length;u++){if(o.xhr.readyState===0){break}i=h[u].name;s=h[u].value;o.xhr.setRequestHeader(i,s)}}if(this.getUseMultipart()){var d=new window.FormData;var f=this.FUEl.name;for(var g=0;g<e.length;g++){this._appendFileToFormData(d,f,e[g])}d.append("_charset_","UTF-8");var c=this.FUDataEl.name;if(this.getAdditionalData()){var y=this.getAdditionalData();d.append(c,y)}else{d.append(c,"")}if(this.getParameters()){var m=this.getParameters();for(var F=0;F<m.length;F++){var b=m[F].getName();s=m[F].getValue();d.append(b,s)}}o.file=d;this.sendFiles(this._aXhr,0)}else{this.sendFiles(this._aXhr,0)}this._bUploading=false;this._resetValueAfterUploadStart()}return this};g.prototype._appendFileToFormData=function(e,t,i){if(i instanceof window.Blob&&i.name){e.append(t,i,i.name)}else{e.append(t,i)}};g.prototype._sendProcessedFilesWithXHR=function(e){this.getProcessedBlobsFromArray(e).then(function(e){this._sendFilesWithXHR(e)}.bind(this)).catch(function(e){p.error("File upload failed: "+e&&e.message?e.message:"no details available")});return this};g.prototype._areFilesAllowed=function(e){var t,i,s,o,r,a=this.getMaximumFileSize(),l=this.getMimeType(),n=this.getFileType();for(var h=0;h<e.length;h++){t=e[h].name;r=e[h].type||"unknown";var u=e[h].size/1024/1024;if(a&&u>a){p.info("File: "+t+" is of size "+u+" MB which exceeds the file size limit of "+a+" MB.");this.fireFileSizeExceed({fileName:t,fileSize:u});return false}if(u===0){p.info("File: "+t+" is empty!");this.fireFileEmpty({fileName:t})}if(this._isFilenameTooLong(t)){this.fireFilenameLengthExceed({fileName:t});return false}if(l&&l.length>0){var d=true;for(var f=0;f<l.length;f++){if(r==l[f]||l[f]=="*/*"||r.match(l[f])){d=false}}if(d&&r!=="unknown"){p.info("File: "+t+" is of type "+r+". Allowed types are: "+l+".");this.fireTypeMissmatch({fileName:t,mimeType:r});return false}}if(n&&n.length>0){i=true;s=t.lastIndexOf(".");o=s===-1?"":t.substring(s+1);for(var g=0;g<n.length;g++){if(o.toLowerCase()==n[g].toLowerCase()){i=false}}if(i){p.info("File: "+t+" is of type "+o+". Allowed types are: "+n+".");this.fireTypeMissmatch({fileName:t,fileType:o});return false}}}return true};g.prototype._sendFilesFromDragAndDrop=function(e){if(this._areFilesAllowed(e)){this._sendFilesWithXHR(e)}return this};g.prototype._generateInputValue=function(e){var t="";for(var i=0;i<e.length;i++){t=t+'"'+e[i].name+'" '}return t};g.prototype.getBrowseText=function(){if(!g.prototype._sBrowseText){var e=sap.ui.getCore().getLibraryResourceBundle("sap.ui.unified");g.prototype._sBrowseText=e.getText("FILEUPLOAD_BROWSE")}return g.prototype._sBrowseText?g.prototype._sBrowseText:"Browse..."};g.prototype._getNoFileChosenText=function(){if(!g.prototype._sNoFileChosenText){var e=sap.ui.getCore().getLibraryResourceBundle("sap.ui.unified");g.prototype._sNoFileChosenText=e.getText("FILEUPLOAD_NO_FILE_CHOSEN")}return g.prototype._sNoFileChosenText?g.prototype._sNoFileChosenText:"No file chosen"};g.prototype.getShortenValue=function(){return this.getValue()};g.prototype.prepareFileUploadAndIFrame=function(){this._prepareFileUpload();if(!this.oIFrameRef){var e=document.createElement("iframe");e.style.display="none";e.id=this.getId()+"-frame";sap.ui.getCore().getStaticAreaRef().appendChild(e);e.contentWindow.name=this.getId()+"-frame";this._bUploading=false;jQuery(e).on("load",function(e){if(this._bUploading){p.info("File uploaded to "+this.getUploadUrl());var t;try{t=this.oIFrameRef.contentWindow.document.body.innerHTML}catch(e){}this.fireUploadComplete({response:t});this._bUploading=false}}.bind(this));this.oIFrameRef=e}};g.prototype._prepareFileUpload=function(){if(!this.oFileUpload){var e=[];e.push("<input ");e.push('type="file" ');e.push('aria-hidden="true" ');if(this.getName()){if(this.getMultiple()||this.getDirectory()){e.push('name="'+h(this.getName())+'[]" ')}else{e.push('name="'+h(this.getName())+'" ')}}else{if(this.getMultiple()||this.getDirectory()){e.push('name="'+this.getId()+'[]" ')}else{e.push('name="'+this.getId()+'" ')}}e.push('id="'+this.getId()+'-fu" ');e.push('tabindex="-1" ');e.push('size="1" ');if(this.getTooltip_AsString()){e.push('title="'+h(this.getTooltip_AsString())+'" ')}else{e.push('title="'+h(this.getValue()?this.getValue():this._getNoFileChosenText())+'" ')}if(!this.getEnabled()){e.push('disabled="disabled" ')}if(this.getDirectory()){e.push("webkitdirectory ")}if(this.getMultiple()){e.push("multiple ")}if((this.getMimeType()||this.getFileType())&&window.File){var t=this._getAcceptedTypes();e.push('accept="'+h(t)+'" ')}e.push(">");this.oFileUpload=jQuery(e.join("")).prependTo(this.$().find(".sapUiFupInputMask")).get(0)}else{jQuery(this.oFileUpload).prependTo(this.$().find(".sapUiFupInputMask"))}};g.prototype.openValueStateMessage=function(){if(this.oFilePath.openValueStateMessage){this.oFilePath.openValueStateMessage()}};g.prototype.closeValueStateMessage=function(){if(this.oFilePath.closeValueStateMessage){this.oFilePath.closeValueStateMessage()}};g.prototype._getAcceptedTypes=function(){var e=this.getMimeType()||[],t=this.getFileType()||[];t=t.map(function(e){return e.indexOf(".")===0?e:"."+e});return t.concat(e).join(",")};g.prototype._resetValueAfterUploadStart=function(){p.info("File uploading to "+this.getUploadUrl());if(this.getSameFilenameAllowed()&&this.getUploadOnChange()&&this.getUseMultipart()){this.setValue("",true)}};g.prototype._addLabelFeaturesToBrowse=function(){var e;if(this.oBrowse&&this.oBrowse.$().length){e=this.oBrowse.$();e.attr("type', 'button");e.off("click").on("click",function(e){e.preventDefault();e.stopPropagation();this.FUEl.click()}.bind(this))}};g.prototype.getProcessedBlobsFromArray=function(e){return new Promise(function(t){t(e)})};g.prototype.checkFileReadable=function(){return new Promise(function(e,t){var i;if(window.File&&this.FUEl&&this.FUEl.files.length){var i=new FileReader;i.readAsArrayBuffer(this.FUEl.files[0].slice(0,1));i.onload=function(){e()};i.onerror=function(){t(i.error)}}else{e()}}.bind(this))};return g});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/FileUploaderHttpRequestMethod", [],function(){"use strict";var t={Post:"POST",Put:"PUT"};return t});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/FileUploaderParameter", ["sap/ui/core/Element","./library"],function(e,a){"use strict";var r=e.extend("sap.ui.unified.FileUploaderParameter",{metadata:{library:"sap.ui.unified",properties:{name:{type:"string",group:"Data",defaultValue:null},value:{type:"string",group:"Data",defaultValue:null}}}});return r});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/FileUploaderRenderer", ["sap/ui/unified/library","sap/ui/thirdparty/jquery"],function(t,jQuery){"use strict";var e={};e.apiVersion=2;e.render=function(e,a){var n=a.getEnabled();e.openStart("div",a);e.class("sapUiFup");if(a.getButtonOnly()){e.class("sapUiFupButtonOnly")}var r=t.FileUploaderHelper.addFormClass();if(r){e.class(r)}if(!n){e.class("sapUiFupDisabled")}e.openEnd();e.openStart("form",a.getId()+"-fu_form");e.style("display","inline-block");e.attr("enctype","multipart/form-data");e.attr("method",a.getHttpRequestMethod().toLowerCase());e.attr("action",a.getUploadUrl());e.attr("target",a.getId()+"-frame");e.openEnd();e.openStart("div");if(!a.bMobileLib){e.class("sapUiFupInp")}e.openEnd();e.openStart("div");e.class("sapUiFupGroup");e.style("border","0");e.style("cellPadding","0");e.style("cellSpacing","0");e.openEnd();e.openStart("div");e.openEnd();e.openStart("div");if(a.getButtonOnly()){e.style("display","none")}e.openEnd();e.renderControl(a.oFilePath);e.close("div");e.openStart("div");e.openEnd();a._ensureBackwardsReference();e.renderControl(a.oBrowse);e.openStart("span",a.getId()+"-AccDescr");e.class("sapUiInvisibleText");e.attr("aria-hidden","true");e.openEnd();e.text(a._generateAccDescriptionText());e.close("span");e.close("div");e.close("div");e.close("div");var i=a.getName()||a.getId();e.openStart("div");e.class("sapUiFupInputMask");e.openEnd();e.voidStart("input");e.attr("type","hidden");e.attr("name","_charset_");e.attr("aria-hidden","true");e.voidEnd();e.voidStart("input",a.getId()+"-fu_data");e.attr("type","hidden");e.attr("aria-hidden","true");e.attr("name",i+"-data");e.attr("value",a.getAdditionalData()||"");e.voidEnd();jQuery.each(a.getParameters(),function(t,a){e.voidStart("input");e.attr("type","hidden");e.attr("aria-hidden","true");e.attr("name",a.getName()||"");e.attr("value",a.getValue()||"");e.voidEnd()});e.close("div");e.close("div");e.close("form");e.close("div")};return e},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/Menu", ["sap/ui/core/Element","sap/ui/core/Control","sap/ui/Device","sap/ui/core/Popup","./MenuItemBase","./library","sap/ui/core/library","sap/ui/unified/MenuRenderer","sap/ui/dom/containsOrEquals","sap/ui/thirdparty/jquery","sap/ui/events/KeyCodes","sap/base/Log","sap/ui/events/ControlEvents","sap/ui/events/PseudoEvents","sap/ui/events/checkMouseEnterOrLeave","sap/ui/core/Configuration"],function(e,t,i,n,o,s,r,u,a,jQuery,p,h,f,l,d,c){"use strict";var g=n.Dock;var m=r.OpenState;var y=t.extend("sap.ui.unified.Menu",{metadata:{interfaces:["sap.ui.core.IContextMenu"],library:"sap.ui.unified",properties:{enabled:{type:"boolean",group:"Behavior",defaultValue:true},ariaDescription:{type:"string",group:"Accessibility",defaultValue:null,deprecated:true},maxVisibleItems:{type:"int",group:"Behavior",defaultValue:0},pageSize:{type:"int",group:"Behavior",defaultValue:5}},defaultAggregation:"items",aggregations:{items:{type:"sap.ui.unified.MenuItemBase",multiple:true,singularName:"item"}},associations:{ariaLabelledBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"}},events:{itemSelect:{parameters:{item:{type:"sap.ui.unified.MenuItemBase"}}}}},renderer:u});(function(s){y.prototype.bCozySupported=true;y._DELAY_SUBMENU_TIMER=300;y._DELAY_SUBMENU_TIMER_EXT=400;y.prototype.init=function(){var e=this;this.bOpen=false;this.oOpenedSubMenu=null;this.oHoveredItem=null;this.oPopup=null;this._bOpenedAsContextMenu=false;this.fAnyEventHandlerProxy=jQuery.proxy(function(e){var t=this.getRootMenu();if(t!=this||!this.bOpen||!this.getDomRef()||e.type!="mousedown"&&e.type!="touchstart"){return}t.handleOuterEvent(this.getId(),e)},this);this.fOrientationChangeHandler=function(){e.close()};this.bUseTopStyle=false};y.prototype._setCustomEnhanceAccStateFunction=function(e){this._fnCustomEnhanceAccStateFunction=e};y.prototype.enhanceAccessibilityState=function(e,t){var i=typeof this._fnCustomEnhanceAccStateFunction==="function";if(i){this._fnCustomEnhanceAccStateFunction(e,t)}};y.prototype.exit=function(){if(this.oPopup){this.oPopup.detachClosed(this._menuClosed,this);this.oPopup.destroy();delete this.oPopup}f.unbindAnyEvent(this.fAnyEventHandlerProxy);if(this._bOrientationChangeBound){jQuery(s).off("orientationchange",this.fOrientationChangeHandler);this._bOrientationChangeBound=false}this._resetDelayedRerenderItems();this._detachResizeHandler()};y.prototype.invalidate=function(e){if(e instanceof o&&this.getDomRef()){this._delayedRerenderItems()}else{t.prototype.invalidate.apply(this,arguments)}};y.prototype.onBeforeRendering=function(){this._resetDelayedRerenderItems();this.$().off("mousemove")};y.prototype.onAfterRendering=function(){if(this.$().parent().attr("id")!="sap-ui-static"){h.error("sap.ui.unified.Menu: The Menu is popup based and must not be rendered directly as content of the page.");this.close();this.$().remove()}var e=this.getItems();for(var t=0;t<e.length;t++){if(e[t].onAfterRendering&&e[t].getDomRef()){e[t].onAfterRendering()}}if(this.oHoveredItem){this.oHoveredItem.hover(true,this)}v(this);this.$().on("mousemove",this._focusMenuItem.bind(this))};y.prototype._focusMenuItem=function(e){if(!i.system.desktop){return}var t=this.getItemByDomRef(e.target);if(!this.bOpen||!t){return}if(this.oOpenedSubMenu&&a(this.oOpenedSubMenu.getDomRef(),e.target)){return}this.setHoveredItem(t);t&&t.focus(this);this._openSubMenuDelayed(t)};y.prototype.onThemeChanged=function(){if(this.getDomRef()&&this.getPopup().getOpenState()===m.OPEN){v(this);this.getPopup()._applyPosition(this.getPopup()._oLastPosition)}};y.prototype.addItem=function(e){this.addAggregation("items",e,!!this.getDomRef());this._delayedRerenderItems();return this};y.prototype.insertItem=function(e,t){this.insertAggregation("items",e,t,!!this.getDomRef());this._delayedRerenderItems();return this};y.prototype.removeItem=function(e){this.removeAggregation("items",e,!!this.getDomRef());this._delayedRerenderItems();return this};y.prototype.removeAllItems=function(){var e=this.removeAllAggregation("items",!!this.getDomRef());this._delayedRerenderItems();return e};y.prototype.destroyItems=function(){this.destroyAggregation("items",!!this.getDomRef());this._delayedRerenderItems();return this};y.prototype._delayedRerenderItems=function(){if(!this.getDomRef()){return}this._resetDelayedRerenderItems();this._discardOpenSubMenuDelayed();this._itemRerenderTimer=setTimeout(function(){var e=this.getDomRef();if(e){var t=sap.ui.getCore().createRenderManager();u.renderItems(t,this);t.flush(e);t.destroy();this.onAfterRendering();this.getPopup()._applyPosition(this.getPopup()._oLastPosition)}}.bind(this),0)};y.prototype._resetDelayedRerenderItems=function(){if(this._itemRerenderTimer){clearTimeout(this._itemRerenderTimer);delete this._itemRerenderTimer}};y.prototype._detachResizeHandler=function(){if(this._hasResizeListener){i.resize.detachHandler(this._handleResizeChange,this);this._hasResizeListener=false}};y.prototype.open=function(e,t,n,o,r,u,a){var p;if(this.bOpen){return}b(this,true);this.oOpenerRef=t;this.bIgnoreOpenerDOMRef=false;this.getPopup().open(0,n,o,r,u||"0 0",a||"flipfit flipfit",function(e){var t=this.getPopup()._getOfDom(r);if(!t||!jQuery(t).is(":visible")||!I(t)){this.close()}else{this.getPopup()._applyPosition(e.lastPosition)}}.bind(this));this.bOpen=true;i.resize.attachHandler(this._handleResizeChange,this);this._hasResizeListener=true;if(e||this.getRootMenu().getId()===this.getId()){p=this.getNextSelectableItem(-1);this.setHoveredItem(p);p&&p.focus(this)}f.bindAnyEvent(this.fAnyEventHandlerProxy);if(i.support.orientation&&this.getRootMenu()===this){jQuery(s).on("orientationchange",this.fOrientationChangeHandler);this._bOrientationChangeBound=true}};y.prototype._handleResizeChange=function(){this.getPopup()._applyPosition(this.getPopup()._oLastPosition)};y.prototype.openAsContextMenu=function(t,i){var n,o,s,r,u;i=i instanceof e?i.getDomRef():i;if(t instanceof jQuery.Event){u=jQuery(i).offset();n=t.pageX-u.left;o=t.pageY-u.top;this._iX=t.clientX;this._iY=t.clientY}else{n=t.offsetX||0;o=t.offsetY||0;this._iX=t.left||0;this._iY=t.top||0}s=c.getRTL();r=g;if(s){n=i.clientWidth-n}this._bOpenedAsContextMenu=true;this.open(true,i,r.BeginTop,r.BeginTop,i,n+" "+o,"fit")};y.prototype._handleOpened=function(){var e,t,i,n,o,r,u,a,p,h;if(!this._bOpenedAsContextMenu){return}e=this.$();t=jQuery(s);i=this._iX;n=this._iY;o=t.scrollLeft()+t.width();r=t.scrollTop()+t.height();u=c.getRTL();a=false;p=e.width();h=e.height();if(n+h>r){n=n-h;a=true}if(u){if(o-i+p>o){i=o-(i+p);a=true}else{i=o-i;a=true}}else{if(i+p>o){i=i-p;a=true}}this._bOpenedAsContextMenu=false;a&&this.oPopup.setPosition("begin top","begin top",t,i+" "+n,"flipfit")};y.prototype.close=function(e){if(!this.bOpen||y._dbg){return}this._discardOpenSubMenuDelayed();b(this,false);delete this._bFixed;f.unbindAnyEvent(this.fAnyEventHandlerProxy);if(this._bOrientationChangeBound){jQuery(s).off("orientationchange",this.fOrientationChangeHandler);this._bOrientationChangeBound=false}this.bOpen=false;this.closeSubmenu();this.setHoveredItem();if(!e){this.bIgnoreOpenerDOMRef=true}this.getPopup().close(0);this._detachResizeHandler();this._resetDelayedRerenderItems();this.$().remove();this.bOutput=false;if(this.isSubMenu()){this.getParent().getParent().oOpenedSubMenu=null}};y.prototype._menuClosed=function(){if(this.oOpenerRef){if(!this.bIgnoreOpenerDOMRef){try{this.oOpenerRef.focus()}catch(e){h.warning("Menu.close cannot restore the focus on opener "+this.oOpenerRef+", "+e)}}this.oOpenerRef=undefined}};y.prototype.onclick=function(e){this.selectItem(this.getItemByDomRef(e.target),false,!!(e.metaKey||e.ctrlKey));e.preventDefault();e.stopPropagation()};y.prototype.onsapnext=function(e){var t,i,n=this.oHoveredItem?this.oHoveredItem.getSubmenu():undefined;if(e.keyCode!==p.ARROW_DOWN&&!e.metaKey&&!e.altKey){if(n&&this.checkEnabled(this.oHoveredItem)){if(n.bOpen){i=n.getNextSelectableItem(-1);n.setHoveredItem(i);i&&i.focus(this)}else{this.openSubmenu(this.oHoveredItem,true)}}return}if(n&&n.bOpen){this.closeSubmenu(false,true)}t=this.oHoveredItem?this.indexOfAggregation("items",this.oHoveredItem):-1;i=this.getNextSelectableItem(t);this.setHoveredItem(i);i&&i.focus(this);if(!e.metaKey&&!e.altKey){e.preventDefault();e.stopPropagation()}};y.prototype.onsapnextmodifiers=y.prototype.onsapnext;y.prototype.onsapprevious=function(e){var t=this.oHoveredItem?this.indexOfAggregation("items",this.oHoveredItem):-1,i=this.getPreviousSelectableItem(t),n=this.oHoveredItem?this.oHoveredItem.getSubmenu():null;if(e.keyCode!==p.ARROW_UP&&!e.metaKey&&!e.altKey){if(this.isSubMenu()){this.close(true)}e.preventDefault();e.stopPropagation();return}if(n&&n.bOpen){this.closeSubmenu(false,true)}this.setHoveredItem(i);i&&i.focus(this);if(!e.metaKey&&!e.altKey){e.preventDefault();e.stopPropagation()}};y.prototype.onsappreviousmodifiers=y.prototype.onsapprevious;y.prototype.onsaphome=function(e){var t=this.getNextSelectableItem(-1);this.setHoveredItem(t);t&&t.focus(this);e.preventDefault();e.stopPropagation()};y.prototype.onsapend=function(e){var t=this.getPreviousSelectableItem(this.getItems().length);this.setHoveredItem(t);t&&t.focus(this);e.preventDefault();e.stopPropagation()};y.prototype.onsappagedown=function(e){var t=this.oHoveredItem?this.indexOfAggregation("items",this.oHoveredItem):-1,i;if(this.getPageSize()<1){this.onsapend(e);return}t+=this.getPageSize();if(t>=this.getItems().length){this.onsapend(e);return}i=this.getNextSelectableItem(t-1);this.setHoveredItem(i);i&&i.focus(this);e.preventDefault();e.stopPropagation()};y.prototype.onsappageup=function(e){var t=this.oHoveredItem?this.indexOfAggregation("items",this.oHoveredItem):-1,i;if(this.getPageSize()<1){this.onsaphome(e);return}t-=this.getPageSize();if(t<0){this.onsaphome(e);return}i=this.getPreviousSelectableItem(t+1);this.setHoveredItem(i);i&&i.focus(this);e.preventDefault();e.stopPropagation()};y.prototype.onsapselect=function(e){this._sapSelectOnKeyDown=true;e.preventDefault();e.stopPropagation()};y.prototype.onkeyup=function(e){if(this.oHoveredItem&&jQuery(e.target).prop("tagName")!="INPUT"){var t=this.oHoveredItem.getDomRef();jQuery(t).trigger("focus")}if(!this._sapSelectOnKeyDown&&(e.key!==p.Space||!i.os.macintosh&&s.navigator.maxTouchPoints<=1)){return}else{this._sapSelectOnKeyDown=false}if(!l.events.sapselect.fnCheck(e)&&e.key!=="Enter"){return}this.selectItem(this.oHoveredItem,true,false);e.preventDefault();e.stopPropagation()};y.prototype.onsapbackspace=function(e){if(jQuery(e.target).prop("tagName")!="INPUT"){e.preventDefault()}};y.prototype.onsapbackspacemodifiers=y.prototype.onsapbackspace;y.prototype.onsapescape=function(e){this.close(true);e.preventDefault();e.stopPropagation()};y.prototype.onsaptabnext=function(e){if(this.isSubMenu()){e.preventDefault()}this.close(true);e.stopPropagation()};y.prototype.onsaptabprevious=y.prototype.onsaptabnext;y.prototype._openSubMenuDelayed=function(e){if(!e){return}this._discardOpenSubMenuDelayed();this._delayedSubMenuTimer=setTimeout(function(){this.checkEnabled(e)&&this.closeSubmenu(false,true);if(this.checkEnabled(e)&&e.getSubmenu()){this.setHoveredItem(e);e&&e.focus(this);this.openSubmenu(e,false,true)}}.bind(this),e.getSubmenu()&&this.checkEnabled(e)?y._DELAY_SUBMENU_TIMER:y._DELAY_SUBMENU_TIMER_EXT)};y.prototype._discardOpenSubMenuDelayed=function(e){if(this._delayedSubMenuTimer){clearTimeout(this._delayedSubMenuTimer);this._delayedSubMenuTimer=null}};y.prototype.onmouseout=function(e){if(!i.system.desktop){return}if(d(e,this.getDomRef())){this.setHoveredItem(null);if(!this.oOpenedSubMenu||!(this.oOpenedSubMenu.getParent()===this.oHoveredItem)){this.setHoveredItem(this.oHoveredItem)}this._discardOpenSubMenuDelayed()}};y.prototype.onsapfocusleave=function(e){if(this.oOpenedSubMenu||!this.bOpen){return}this.getRootMenu().handleOuterEvent(this.getId(),e)};y.prototype.handleOuterEvent=function(e,t){var n=false,o=i.support.touch||i.system.combi;this.bIgnoreOpenerDOMRef=false;if(t.type=="mousedown"||t.type=="touchstart"){if(o&&(t.isMarked("delayedMouseEvent")||t.isMarked("cancelAutoClose"))){return}var s=this;while(s&&!n){if(a(s.getDomRef(),t.target)){n=true}s=s.oOpenedSubMenu}}else if(t.type=="sapfocusleave"){if(o){return}if(t.relatedControlId){var s=this;while(s&&!n){if(s.oOpenedSubMenu&&s.oOpenedSubMenu.getId()==t.relatedControlId||a(s.getDomRef(),jQuery(document.getElementById(t.relatedControlId)).get(0))){n=true}s=s.oOpenedSubMenu}}if(!n){this.bIgnoreOpenerDOMRef=true}}if(!n){this.close()}};y.prototype.getItemByDomRef=function(e){var t=this.getItems(),i=t.length;for(var n=0;n<i;n++){var o=t[n],s=o.getDomRef();if(a(s,e)){return o}}return null};y.prototype.selectItem=function(e,t,n){if(!e||!(e instanceof o&&this.checkEnabled(e))){return}var s=e.getSubmenu();if(!s){this.getRootMenu().close(true)}else{if(!i.system.desktop&&this.oOpenedSubMenu===s){this.closeSubmenu()}else{this.openSubmenu(e,t)}}e.fireSelect({item:e,ctrlKey:n});this.getRootMenu().fireItemSelect({item:e})};y.prototype.isSubMenu=function(){return this.getParent()&&this.getParent().getParent&&this.getParent().getParent()instanceof y};y.prototype.getRootMenu=function(){var e=this;while(e.isSubMenu()){e=e.getParent().getParent()}return e};y.prototype.getMenuLevel=function(){var e=1;var t=this;while(t.isSubMenu()){t=t.getParent().getParent();e++}return e};y.prototype.getPopup=function(){if(!this.oPopup){this.oPopup=new n(this,false,true,false);this.oPopup.setDurations(0,0);this.oPopup.attachClosed(this._menuClosed,this);this.oPopup.attachOpened(this._handleOpened,this)}return this.oPopup};y.prototype.setHoveredItem=function(e){if(this.oHoveredItem){this.oHoveredItem.hover(false,this)}if(!e){this.oHoveredItem=null;return}this.oHoveredItem=e;e.hover(true,this);this.scrollToItem(this.oHoveredItem)};y.prototype.openSubmenu=function(e,t,i){var o=e.getSubmenu();if(!o){return}if(this.oOpenedSubMenu&&this.oOpenedSubMenu!==o){this.closeSubmenu()}if(this.oOpenedSubMenu){this.oOpenedSubMenu._bFixed=i&&this.oOpenedSubMenu._bFixed||!i&&!this.oOpenedSubMenu._bFixed;this.oOpenedSubMenu._bringToFront()}else{this.oOpenedSubMenu=o;var s=n.Dock;o.open(t,e,s.BeginTop,s.EndTop,e,"-4 4")}};y.prototype.closeSubmenu=function(e,t){if(this.oOpenedSubMenu){if(e&&this.oOpenedSubMenu._bFixed){return}if(t){this.oOpenedSubMenu.bIgnoreOpenerDOMRef=true}this.oOpenedSubMenu.close();this.oOpenedSubMenu=null}};y.prototype.scrollToItem=function(e){var t=this.getDomRef(),i=e?e.getDomRef():null;if(!i||!t){return}var n=t.scrollTop,o=i.offsetTop,s=jQuery(t).height(),r=jQuery(i).height();if(n>o){t.scrollTop=o}else if(o+r>n+s){t.scrollTop=Math.ceil(o+r-s)}};y.prototype._bringToFront=function(){jQuery(document.getElementById(this.getPopup().getId())).mousedown()};y.prototype.checkEnabled=function(e){return e&&e.getEnabled()&&this.getEnabled()};y.prototype.getNextSelectableItem=function(e){var t=null;var i=this.getItems();for(var n=e+1;n<i.length;n++){if(i[n].getVisible()&&this.checkEnabled(i[n])){t=i[n];break}}if(!t){for(var n=0;n<=e;n++){if(i[n].getVisible()&&this.checkEnabled(i[n])){t=i[n];break}}}return t};y.prototype.getPreviousSelectableItem=function(e){var t=null;var i=this.getItems();for(var n=e-1;n>=0;n--){if(i[n].getVisible()&&this.checkEnabled(i[n])){t=i[n];break}}if(!t){for(var n=i.length-1;n>=e;n--){if(i[n].getVisible()&&this.checkEnabled(i[n])){t=i[n];break}}}return t};y.prototype.setRootMenuTopStyle=function(e){this.getRootMenu().bUseTopStyle=e;y.rerenderMenu(this.getRootMenu())};y.rerenderMenu=function(e){var t=e.getItems();for(var i=0;i<t.length;i++){var n=t[i].getSubmenu();if(n){y.rerenderMenu(n)}}e.invalidate();e.rerender()};y.prototype.focus=function(){if(this.bOpen){t.prototype.focus.apply(this,arguments)}};y.prototype.isCozy=function(){if(!this.bCozySupported){return false}if(this.hasStyleClass("sapUiSizeCozy")){return true}if(r(this.oOpenerRef)){return true}if(r(this.getParent())){return true}return false};function r(e){if(!e){return false}e=e.$?e.$():jQuery(e);return e.closest(".sapUiSizeCompact,.sapUiSizeCondensed,.sapUiSizeCozy").hasClass("sapUiSizeCozy")}function b(e,t){var i=e.getParent();if(i&&i instanceof o){i.onSubmenuToggle(t)}}function v(e){var t=e.getMaxVisibleItems(),i=document.documentElement.clientHeight-10,n=e.$();if(t>0){var o=e.getItems();for(var s=0;s<o.length;s++){if(o[s].getDomRef()){i=Math.min(i,o[s].$().outerHeight(true)*t);break}}}if(n.outerHeight(true)>i){n.css("max-height",i+"px").toggleClass("sapUiMnuScroll",true)}else{n.css("max-height","").toggleClass("sapUiMnuScroll",false)}}function I(e){var t;if(!e){return false}if(e instanceof jQuery){e=e.get(0)}t=e.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom<=(s.innerHeight||document.documentElement.clientHeight)&&t.right<=(s.innerWidth||document.documentElement.clientWidth)}})(window);return y});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/MenuItem", ["sap/ui/core/IconPool","./MenuItemBase","./library","sap/ui/core/library"],function(t,e,i,s){"use strict";var a=e.extend("sap.ui.unified.MenuItem",{metadata:{library:"sap.ui.unified",properties:{text:{type:"string",group:"Appearance",defaultValue:""},icon:{type:"sap.ui.core.URI",group:"Appearance",defaultValue:""}},associations:{ariaLabelledBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"}}}});t.insertFontFaceStyle();a.prototype.render=function(t,e,i,a){var n=t,o=e.getSubmenu(),l=e.getEnabled();n.openStart("li",e);if(e.getVisible()&&l){n.attr("tabindex","0")}n.class("sapUiMnuItm");if(a.iItemNo==1){n.class("sapUiMnuItmFirst")}else if(a.iItemNo==a.iTotalItems){n.class("sapUiMnuItmLast")}if(!i.checkEnabled(e)){n.class("sapUiMnuItmDsbl")}if(e.getStartsSection()){n.class("sapUiMnuItmSepBefore")}if(!l){n.attr("disabled","disabled")}if(e.getTooltip_AsString()){n.attr("title",e.getTooltip_AsString())}if(a.bAccessible){n.accessibilityState(e,{role:"menuitem",disabled:null,posinset:a.iItemNo,setsize:a.iTotalItems,labelledby:{value:this.getId()+"-txt",append:true}});if(o){n.attr("aria-haspopup",s.aria.HasPopup.Menu.toLowerCase());n.attr("aria-owns",o.getId())}}n.openEnd();n.openStart("div");n.class("sapUiMnuItmL");n.openEnd();n.close("div");if(e.getIcon()){n.openStart("div");n.class("sapUiMnuItmIco");n.openEnd();n.icon(e.getIcon(),null,{title:null});n.close("div")}n.openStart("div",this.getId()+"-txt");n.class("sapUiMnuItmTxt");n.openEnd();n.text(e.getText());n.close("div");n.openStart("div",this.getId()+"-scuttxt");n.class("sapUiMnuItmSCut");n.openEnd();n.close("div");n.openStart("div");n.class("sapUiMnuItmSbMnu");n.openEnd();if(o){n.openStart("div");n.class("sapUiIconMirrorInRTL");n.openEnd();n.close("div")}n.close("div");n.openStart("div");n.class("sapUiMnuItmR");n.openEnd();n.close("div");n.close("li")};a.prototype.hover=function(t,e){this.$().toggleClass("sapUiMnuItmHov",t)};a.prototype.focus=function(t){if(this.getEnabled()&&this.getVisible()){this.$().trigger("focus")}else{t.focus()}};return a});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/MenuItemBase", ["sap/ui/core/Element","./library"],function(e,t){"use strict";var n=e.extend("sap.ui.unified.MenuItemBase",{metadata:{library:"sap.ui.unified",properties:{enabled:{type:"boolean",group:"Behavior",defaultValue:true},visible:{type:"boolean",group:"Behavior",defaultValue:true},startsSection:{type:"boolean",group:"Behavior",defaultValue:false}},defaultAggregation:"submenu",aggregations:{submenu:{type:"sap.ui.unified.Menu",multiple:false}},events:{select:{parameters:{item:{type:"sap.ui.unified.MenuItemBase"}}}}}});n.prototype.init=function(){};n.prototype.render=function(e,t,n){var o=e;o.openStart("li",t);o.openEnd();o.openStart("div",this.getId()+"-txt");o.style("white-space","nowrap");o.style("display","inline-block");o.style("padding","1px");o.style("color","black");o.openEnd();o.text(t.getId());if(this.getSubmenu()){o.text("&nbsp;&nbsp;->")}o.close("div");o.close("li")};n.prototype.hover=function(e,t){this.$("txt").attr("style",e?"white-space:nowrap;display:inline-block;padding:1px;color:red;":"white-space:nowrap;display:inline-block;padding:1px;color:black;")};n.prototype.focus=function(){};n.prototype.onSubmenuToggle=function(e){this.$().toggleClass("sapUiMnuItmSubMnuOpen",e)};n.prototype.onAfterRendering=function(){};n.prototype.onsapshow=function(e){if(this.getParent()&&this.getParent().close){this.getParent().close(true)}e.preventDefault()};n.prototype.onsaphide=n.prototype.onsapshow;return n});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/MenuRenderer", ["sap/ui/core/Configuration"],function(e){"use strict";var i={apiVersion:2};i.render=function(t,s){var n=e.getAccessibility(),o=s.getRootMenu();if(s.oHoveredItem&&s.indexOfItem(s.oHoveredItem)<0){s.oHoveredItem=null}t.openStart("div",s);t.attr("tabindex",-1);t.attr("hideFocus",true);if(s.getTooltip_AsString()){t.attr("title",s.getTooltip_AsString())}if(n){t.accessibilityState(s,{disabled:null})}t.class("sapUiMnu");if(s.isSubMenu()){t.class("sapUiSubmenu")}if(o.bUseTopStyle){t.class("sapUiMnuTop")}if(o.isCozy()){t.class("sapUiSizeCozy")}if(s.bCozySupported){t.class("sapUiMnuCozySupport")}t.openEnd();i.renderItems(t,s);t.close("div")};i.renderItems=function(i,t){var s=t.getItems(),n=e.getAccessibility(),o=false,r=false,a=0,l=0,u,c;i.openStart("ul");i.attr("role","menu");i.class("sapUiMnuLst");for(u=0;u<s.length;u++){if(s[u].getIcon&&s[u].getIcon()){o=true}if(s[u].getSubmenu()){r=true}}if(!o){i.class("sapUiMnuNoIco")}if(!r){i.class("sapUiMnuNoSbMnu")}i.openEnd();a=0;for(u=0;u<s.length;u++){if(s[u].getVisible()&&s[u].render){a++}}for(u=0;u<s.length;u++){c=s[u];if(c.getVisible()&&c.render){l++;if(c.getStartsSection()){i.openStart("li");if(n){i.attr("role","separator")}i.class("sapUiMnuDiv");i.openEnd();i.openStart("div");i.class("sapUiMnuDivL");i.openEnd();i.close("div");i.voidStart("hr").voidEnd();i.openStart("div");i.class("sapUiMnuDivR");i.openEnd();i.close("div");i.close("li")}c.render(i,c,t,{bAccessible:n,iItemNo:l,iTotalItems:a})}}i.close("ul")};return i},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/calendar/CalendarDate", ["sap/ui/base/Object","sap/ui/core/date/UniversalDate"],function(t,e){"use strict";var a=t.extend("sap.ui.unified.calendar.CalendarDate",{constructor:function(){var t=arguments,e,r,o;switch(t.length){case 0:r=new Date;return a.call(this,r.getFullYear(),r.getMonth(),r.getDate());case 1:case 2:if(!(t[0]instanceof a)){throw"Invalid arguments: the first argument must be of type sap.ui.unified.calendar.CalendarDate."}o=t[1]?t[1]:t[0]._oUDate.sCalendarType;e=new Date(t[0].valueOf());e.setFullYear(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate());e.setHours(e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds());this._oUDate=n(e,o);break;case 3:case 4:i(t[0],"Invalid year: "+t[0]);i(t[1],"Invalid month: "+t[1]);i(t[2],"Invalid date: "+t[2]);e=new Date(0,0,1);e.setFullYear(t[0],t[1],t[2]);if(t[3]){o=t[3]}this._oUDate=n(e,o);break;default:throw"Invalid arguments. Accepted arguments are: 1) oCalendarDate, (optional)calendarType"+"or 2) year, month, date, (optional) calendarType"+t}}});a.prototype.getYear=function(){return this._oUDate.getUTCFullYear()};a.prototype.setYear=function(t){i(t,"Invalid year: "+t);this._oUDate.setUTCFullYear(t);return this};a.prototype.getMonth=function(){return this._oUDate.getUTCMonth()};a.prototype.setMonth=function(t,e){i(t,"Invalid month: "+t);if(e||e===0){i(e,"Invalid date: "+e);this._oUDate.setUTCMonth(t,e)}else{this._oUDate.setUTCMonth(t)}return this};a.prototype.getDate=function(){return this._oUDate.getUTCDate()};a.prototype.setDate=function(t){i(t,"Invalid date: "+t);this._oUDate.setUTCDate(t);return this};a.prototype.getDay=function(){return this._oUDate.getUTCDay()};a.prototype.getCalendarType=function(){return this._oUDate.sCalendarType};a.prototype.getEra=function(){return this._oUDate.getUTCEra()};a.prototype.isBefore=function(t){o(t);return this.valueOf()<t.valueOf()};a.prototype.isAfter=function(t){o(t);return this.valueOf()>t.valueOf()};a.prototype.isSameOrBefore=function(t){o(t);return this.valueOf()<=t.valueOf()};a.prototype.isSameOrAfter=function(t){o(t);return this.valueOf()>=t.valueOf()};a.prototype.isSame=function(t){o(t);return this.valueOf()===t.valueOf()};a.prototype.toLocalJSDate=function(){var t=new Date(this._oUDate.getTime());t.setFullYear(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate());t.setHours(0,0,0,0);return t};a.prototype.toUTCJSDate=function(){var t=new Date(this._oUDate.getTime());t.setUTCHours(0,0,0,0);return t};a.prototype.toString=function(){return this._oUDate.sCalendarType+": "+this.getYear()+"/"+(this.getMonth()+1)+"/"+this.getDate()};a.prototype.valueOf=function(){return this._oUDate.getTime()};a.fromLocalJSDate=function(t,e){if(!t||Object.prototype.toString.call(t)!=="[object Date]"||isNaN(t)){throw new Error("Date parameter must be a JavaScript Date object: ["+t+"].")}return new a(t.getFullYear(),t.getMonth(),t.getDate(),e)};a.fromUTCDate=function(t,e){if(!t||Object.prototype.toString.call(t)!=="[object Date]"||isNaN(t)){throw new Error("Date parameter must be a JavaScript Date object: ["+t+"].")}return new a(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),e)};function n(t,a){if(a){return e.getInstance(r(t),a)}else{return new e(r(t).getTime())}}function r(t){var e=new Date(Date.UTC(0,0,1));e.setUTCFullYear(t.getFullYear(),t.getMonth(),t.getDate());return e}function o(t){if(!(t instanceof a)){throw"Invalid calendar date: ["+t+"]. Expected: sap.ui.unified.calendar.CalendarDate"}}function i(t,e){if(t==undefined||t===Infinity||isNaN(t)){throw e}}return a});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/calendar/CalendarUtils", ["sap/ui/core/date/UniversalDate","./CalendarDate","sap/ui/core/Locale","sap/ui/core/LocaleData","sap/ui/core/format/TimezoneUtil","sap/ui/core/Configuration"],function(e,t,a,n,r,i){"use strict";var s={};s.MAX_MILLISECONDS=864e13;s.HOURS24=1e3*3600*24;s._createLocalDate=function(t,a){var n;if(t){var r;if(t instanceof e){r=t.getJSDate()}else{r=t}n=new Date(r.getUTCFullYear(),r.getUTCMonth(),r.getUTCDate());if(r.getFullYear()<1e3){n.setFullYear(r.getFullYear())}if(a){n.setHours(r.getUTCHours());n.setMinutes(r.getUTCMinutes());n.setSeconds(r.getUTCSeconds());n.setMilliseconds(r.getUTCMilliseconds())}}return n};s._createUTCDate=function(t,a){var n;if(t){var r;if(t instanceof e){r=t.getJSDate()}else{r=t}n=new Date(Date.UTC(r.getFullYear(),r.getMonth(),r.getDate()));if(r.getFullYear()<1e3){n.setUTCFullYear(r.getFullYear())}if(a){n.setUTCHours(r.getHours());n.setUTCMinutes(r.getMinutes());n.setUTCSeconds(r.getSeconds());n.setUTCMilliseconds(r.getMilliseconds())}}return n};s._createUniversalUTCDate=function(t,a,n){var r;if(a){r=e.getInstance(this._createUTCDate(t,n),a)}else{r=new e(this._createUTCDate(t,n).getTime())}return r};s.calculateWeekNumber=function(t,a,n,r){var i=0;var s=0;var u=r.getFirstDayOfWeek();var g=r.firstDayStartsFirstWeek();if(g){var l=new e(t.getTime());l.setUTCFullYear(a,0,1);s=l.getUTCDay();var o=new e(t.getTime());o.setUTCDate(o.getUTCDate()-o.getUTCDay()+s);i=Math.round((o.getTime()-l.getTime())/864e5/7)+1}else{var T=new e(t.getTime());T.setUTCDate(T.getUTCDate()-u);s=T.getUTCDay();T.setUTCDate(T.getUTCDate()-s+4);var C=new e(T.getTime());C.setUTCMonth(0,1);s=C.getUTCDay();var D=0;if(s>4){D=7}var c=new e(C.getTime());c.setUTCDate(1-s+4+D);i=Math.round((T.getTime()-c.getTime())/864e5/7)+1}return i};s.getFirstDateOfWeek=function(t,a){var r=new e(t.getTime()),s,u,g=n.getInstance(i.getFormatSettings().getFormatLocale()),l=i.getLocale(),o=g.getFirstDayOfWeek(),T;if(!a||(a.firstDayOfWeek===-1||a.firstDayOfWeek===undefined)){a={firstDayOfWeek:g.getFirstDayOfWeek(),minimalDaysInFirstWeek:g.getMinimalDaysInFirstWeek()}}T=e.getWeekByDate(r.getCalendarType(),r.getUTCFullYear(),r.getUTCMonth(),r.getUTCDate(),l,a);s=e.getFirstDateOfWeek(r.getCalendarType(),T.year,T.week,l,a);u=new e(e.UTC(s.year,s.month,s.day));if(a&&(a.firstDayOfWeek===-1||a.firstDayOfWeek===undefined)){while(u.getUTCDay()!==o){u.setUTCDate(u.getUTCDate()-1)}}return new e(e.UTC(u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds())).getJSDate()};s.getFirstDateOfMonth=function(t){var a=new e(t.getTime());a.setUTCDate(1);return a};s._getNumberOfWeeksForYear=function(e){var t=i.getFormatLocale(),r=n.getInstance(new a(t)),s=new Date(Date.UTC(e,0,1)),u=s.getUTCDay(),g=52;if(r.getFirstDayOfWeek()===0){if(u===5||u===6){g=53}}else{if(u===3||u===4){g=53}}return g};s.monthsDiffer=function(e,t){return e.getMonth()!==t.getMonth()||e.getFullYear()!==t.getFullYear()};s.isDateLastInMonth=function(e){var t=new Date(e.getTime()+24*60*60*1e3);return t.getUTCDate()<e.getUTCDate()};s._updateUTCDate=function(e,t,a,n,r,i,s,u){if(t!=null){e.setUTCFullYear(t)}if(a!=null){e.setUTCMonth(a)}if(n!=null){e.setUTCDate(n)}if(r!=null){e.setUTCHours(r)}if(i!=null){e.setUTCMinutes(i)}if(s!=null){e.setUTCSeconds(s)}if(u!=null){e.setUTCMilliseconds(u)}};s._checkJSDateObject=function(e){if(!e||Object.prototype.toString.call(e)!=="[object Date]"||isNaN(e)){throw new Error("Date must be a JavaScript date object.")}};s._checkYearInValidRange=function(e){if(typeof e!=="number"||e<1||e>9999){throw new Error("Year must be in valid range (between year 0001 and year 9999).")}};s._isNextMonth=function(e,t){return e.getMonth()>t.getMonth()&&e.getFullYear()===t.getFullYear()||e.getFullYear()>t.getFullYear()};s._minutesBetween=function(e,t){var a=(t.getTime()-e.getTime())/1e3;a=a/60;return Math.abs(Math.round(a))};s._areCurrentMinutesLessThan=function(e){var t=(new Date).getMinutes();return e>=t};s._areCurrentMinutesMoreThan=function(e){var t=(new Date).getMinutes();return e<=t};s._monthsBetween=function(e,t,a){var n=new Date(Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate())),r=new Date(Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate())),i;n.setUTCFullYear(e.getUTCFullYear());r.setUTCFullYear(t.getUTCFullYear());i=r.getUTCFullYear()*12+r.getUTCMonth()-(n.getUTCFullYear()*12+n.getUTCMonth());if(!a){i=Math.abs(i)}return i};s._hoursBetween=function(e,t){var a=new Date(Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours()));var n=new Date(Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours()));a.setUTCFullYear(e.getUTCFullYear());n.setUTCFullYear(t.getUTCFullYear());return Math.abs((a.getTime()-n.getTime())/(1e3*60*60))};s._isMidnight=function(e){return e.getHours()===0&&e.getMinutes()===0&&e.getSeconds()===0&&e.getMilliseconds()===0};s._daysInMonth=function(e){this._checkCalendarDate(e);e=new t(e);e.setDate(1);e.setMonth(e.getMonth()+1);e.setDate(0);return e.getDate()};s._isLastDateInMonth=function(e){return e.getDate()===s._daysInMonth(e)};s._getFirstDateOfWeek=function(e,a){var r=n.getInstance(i.getFormatSettings().getFormatLocale());this._checkCalendarDate(e);if(!a||(a.firstDayOfWeek===-1||a.firstDayOfWeek===undefined)){a={firstDayOfWeek:r.getFirstDayOfWeek(),minimalDaysInFirstWeek:r.getMinimalDaysInFirstWeek()}}if(e.getDay()!==a.firstDayOfWeek){var u=s.getFirstDateOfWeek(e.toUTCJSDate(),a);u.setFullYear(u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate());return t.fromLocalJSDate(u,e.getCalendarType())}return e};s._getFirstDateOfMonth=function(e){this._checkCalendarDate(e);var a=new t(e,e.getCalendarType());a.setDate(1);return a};s._minDate=function(e){var a=new t(1,0,1,e);a.setYear(1);a.setMonth(0);a.setDate(1);return a};s._maxDate=function(e){var a=new t(9999,11,1,e);a.setYear(9999);a.setMonth(11);a.setDate(this._daysInMonth(a));return new t(a)};s._isBetween=function(e,t,a,n){this._checkCalendarDate(e);this._checkCalendarDate(t);this._checkCalendarDate(a);if(n){return e.isSameOrAfter(t)&&e.isSameOrBefore(a)}else{return e.isAfter(t)&&e.isBefore(a)}};s._daysBetween=function(e,t){this._checkCalendarDate(e);this._checkCalendarDate(t);return Math.ceil((e.valueOf()-t.valueOf())/this.HOURS24)};s._isOutside=function(e,t,a){return!this._isBetween(e,t,a,true)};s._isSameMonthAndYear=function(e,t){this._checkCalendarDate(e);this._checkCalendarDate(t);return e.getEra()===t.getEra()&&e.getYear()===t.getYear()&&e.getMonth()===t.getMonth()};s._checkCalendarDate=function(e){if(!e||!(e instanceof t)){throw"Invalid calendar date: ["+e+"]. Expected: sap.ui.unified.calendar.CalendarDate"}};s._getWeek=function(t){this._checkCalendarDate(t);return e.getWeekByDate(t.getCalendarType(),t.getYear(),t.getMonth(),t.getDate())};s._isWeekend=function(e,t){var a=e.getDay();return a===t.getWeekendStart()||a===t.getWeekendEnd()};s._convertToTimezone=function(e,t){var a=new Date(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds());a.setUTCFullYear(e.getUTCFullYear());a=r.convertToTimezone(a,t);return a};return s},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/calendar/CustomMonthPicker", ["sap/ui/core/Renderer","sap/ui/unified/Calendar","sap/ui/unified/CalendarRenderer","sap/ui/unified/calendar/Header","sap/ui/unified/DateRange"],function(e,t,i,r,a){"use strict";var n=e.extend(i);n.apiVersion=2;var s=t.extend("sap.ui.unified.internal.CustomMonthPicker",{metadata:{library:"sap.ui.unified"},renderer:n});s.prototype._initializeHeader=function(){var e=new r(this.getId()+"--Head",{visibleButton1:false});e.attachEvent("pressPrevious",this._handlePrevious,this);e.attachEvent("pressNext",this._handleNext,this);e.attachEvent("pressButton2",this._handleButton2,this);this._afterHeaderRenderAdjustCSS=this._createOnAfterRenderingDelegate(e);e.addDelegate(this._afterHeaderRenderAdjustCSS);this.setAggregation("header",e)};s.prototype.init=function(){t.prototype.init.apply(this,arguments);this.setProperty("_currentPicker","monthPicker");this._bNamesLengthChecked=true};s.prototype.onBeforeRendering=function(){var e=this.getSelectedDates(),i=this._getYearPicker().getDate(),r,a;t.prototype.onBeforeRendering.apply(this,arguments);if(this._iMode===1){if(e.length&&e[0].getStartDate()&&(!i||e[0].getStartDate().getFullYear()===i.getFullYear())){r=this._getMonthPicker();a=e[0].getStartDate();r.setMonth(a.getMonth());r._iYear=a.getFullYear()}}};s.prototype._closePickers=function(){this.setProperty("_currentPicker","monthPicker");this._togglePrevNext(this._getFocusedDate(),true)};s.prototype._selectYear=function(){var e=this._getMonthPicker(),t=this._getYearPicker(),i=this._getFocusedDate();i.setYear(t.getYear());e._setYear(i.getYear());e._setDate(i);this._focusDate(i,true);this._showMonthPicker()};s.prototype._selectMonth=function(){var e=this._getMonthPicker(),t=this.getSelectedDates()[0],i=this._getFocusedDate();if(!t){t=new a}if(!e.getIntervalSelection()){i.setMonth(e.getMonth(),1);t.setStartDate(i.toLocalJSDate());this.addSelectedDate(t)}this.fireSelect()};s.prototype.onsapescape=function(e){this.fireCancel()};s.prototype._hideMonthPicker=function(){this._hideOverlay();this._togglePrevNext(this._getFocusedDate(),true);this._bActionTriggeredFromSecondHeader=false};s.prototype.setShowCurrentDateButton=function(e){return this};return s});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/calendar/CustomYearPicker", ["sap/ui/core/Renderer","sap/ui/unified/Calendar","sap/ui/unified/CalendarRenderer","sap/ui/unified/calendar/CalendarDate","sap/ui/unified/calendar/Header","sap/ui/unified/DateRange"],function(e,t,i,r,a,n){"use strict";var s=e.extend(i);s.apiVersion=2;var o=t.extend("sap.ui.unified.internal.CustomYearPicker",{metadata:{library:"sap.ui.unified"},renderer:s});o.prototype.init=function(){t.prototype.init.apply(this,arguments);this.setProperty("_currentPicker","yearPicker");this._bNamesLengthChecked=true};o.prototype.onBeforeRendering=function(){var e=this.getSelectedDates(),i=e.length?e[0].getStartDate():undefined,a=this._getYearPicker(),n,s;if(i){n=r.fromLocalJSDate(i);n.setMonth(0,1);s=new r(this._getFocusedDate());s.setMonth(0,1);if(s.isSame(n)){a.setDate(i)}}else{a.setProperty("_middleDate",this._getFocusedDate());a.setDate(this._getFocusedDate().toLocalJSDate())}t.prototype.onBeforeRendering.call(this,arguments)};o.prototype.exit=function(){t.prototype.exit.apply(this,arguments);if(this._fnYPDelegate){this.getAggregation("yearPicker").removeDelegate(this._fnYPDelegate)}};o.prototype._initializeHeader=function(){var e=new a(this.getId()+"--Head",{visibleButton1:false});e.attachEvent("pressPrevious",this._handlePrevious,this);e.attachEvent("pressNext",this._handleNext,this);e.attachEvent("pressButton2",this._handleButton2,this);this._afterHeaderRenderAdjustCSS=this._createOnAfterRenderingDelegate(e);e.addDelegate(this._afterHeaderRenderAdjustCSS);this.setAggregation("header",e)};o.prototype._closePickers=function(){this.setProperty("_currentPicker","yearPicker");this._togglePrevNexYearPicker()};o.prototype._selectYear=function(){var e=this.getSelectedDates()[0],t=this._getYearPicker();if(!e){e=new n}if(!t.getIntervalSelection()){e.setStartDate(this._getYearPicker().getDate());this.addSelectedDate(e)}this.fireSelect()};o.prototype.onsapescape=function(e){this.fireCancel()};o.prototype.setShowCurrentDateButton=function(e){return this};return o});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/calendar/DatesRow", ["sap/ui/unified/calendar/CalendarUtils","sap/ui/unified/calendar/CalendarDate","sap/ui/unified/calendar/Month","sap/ui/unified/library","./DatesRowRenderer","sap/ui/thirdparty/jquery"],function(e,t,a,r,i,jQuery){"use strict";var s=a.extend("sap.ui.unified.calendar.DatesRow",{metadata:{library:"sap.ui.unified",properties:{startDate:{type:"object",group:"Data"},days:{type:"int",group:"Appearance",defaultValue:7},showDayNamesLine:{type:"boolean",group:"Appearance",defaultValue:true}}},renderer:i});s.prototype.init=function(){a.prototype.init.apply(this,arguments);this._iColumns=1;this._aWeekNumbers=[];this._bAlwaysShowSpecialDates=true};s.prototype._setAriaRole=function(e){this._ariaRole=e;return this};s.prototype._getAriaRole=function(){return this._ariaRole?this._ariaRole:"gridcell"};s.prototype.setStartDate=function(a){e._checkJSDateObject(a);var r=a.getFullYear();e._checkYearInValidRange(r);this.setProperty("startDate",a);this._oStartDate=t.fromLocalJSDate(a,this.getPrimaryCalendarType());if(this.getDomRef()){var i=this._getDate().toLocalJSDate();this._bNoRangeCheck=true;this.displayDate(a);this._bNoRangeCheck=false;if(i&&this.checkDateFocusable(i)){this.displayDate(i)}}return this};s.prototype._getStartDate=function(){if(!this._oStartDate){this._oStartDate=t.fromLocalJSDate(new Date,this.getPrimaryCalendarType())}return this._oStartDate};s.prototype.setDate=function(e){if(!this._bNoRangeCheck&&!this.checkDateFocusable(e)){throw new Error("Date must be in visible date range; "+this)}a.prototype.setDate.apply(this,arguments);return this};s.prototype.displayDate=function(e){if(!this._bNoRangeCheck&&!this.checkDateFocusable(e)){throw new Error("Date must be in visible date range; "+this)}a.prototype.displayDate.apply(this,arguments);return this};s.prototype._setTopPosition=function(e){this._iTopPosition=e};s.prototype.setPrimaryCalendarType=function(e){a.prototype.setPrimaryCalendarType.apply(this,arguments);if(this._oStartDate){this._oStartDate=new t(this._oStartDate,e)}return this};s.prototype._handleBorderReached=function(e){var a=e.getParameter("event");var r=this._getRelativeInfo?this.getDays()*this._getRelativeInfo().iIntervalSize:this.getDays();var i=this._getRelativeInfo?this._getRelativeInfo().iIntervalSize:1;var s=this._getDate();var n=new t(s,this.getPrimaryCalendarType());if(a.type){switch(a.type){case"sapnext":case"sapnextmodifiers":n.setDate(n.getDate()+i);break;case"sapprevious":case"sappreviousmodifiers":n.setDate(n.getDate()-i);break;case"sappagedown":n.setDate(n.getDate()+r);break;case"sappageup":n.setDate(n.getDate()-r);break;default:break}this.fireFocus({date:n.toLocalJSDate(),otherMonth:true,_outsideBorder:true})}};s.prototype.checkDateFocusable=function(a){e._checkJSDateObject(a);if(this._bNoRangeCheck){return false}var r=this._getStartDate();var i=new t(r,this.getPrimaryCalendarType());var s=this.getDays();if(this._getRelativeInfo&&this._getRelativeInfo().bIsRelative){s=this.getDays()*this._getRelativeInfo().iIntervalSize}i.setDate(i.getDate()+s);var n=t.fromLocalJSDate(a,this.getPrimaryCalendarType());return n.isSameOrAfter(r)&&n.isBefore(i)};s.prototype._renderHeader=function(){var e=this._getStartDate();var t=e.getDay();var a=this._getLocaleData();var r=this.$("Names").children();var i=[];if(this._bLongWeekDays||!this._bNamesLengthChecked){i=a.getDaysStandAlone("abbreviated")}else{i=a.getDaysStandAlone("narrow")}var s=a.getDaysStandAlone("wide");var n=0;for(n=0;n<r.length;n++){var o=jQuery(r[n]);o.text(i[(n+t)%7]);o.attr("aria-label",s[(n+t)%7])}if(this._getShowHeader()){var h=this.$("Head");if(h.length>0){var p=sap.ui.getCore().createRenderManager();this.getRenderer().renderHeaderLine(p,this,a,e);p.flush(h[0]);p.destroy()}}};s.prototype._getFirstWeekDay=function(){return this._getStartDate().getDay()};s.prototype.getWeekNumbers=function(){var a=this.getDays(),r=this._getLocale(),i=this._getLocaleData(),s=this.getPrimaryCalendarType(),n=this._getStartDate(),o=new t(n,s),h=new t(n,s).setDate(o.getDate()+a),p=[];while(o.isBefore(h)){p.push(new t(o,s));o.setDate(o.getDate()+1)}this._aWeekNumbers=p.reduce(function(t,a){var s=e.calculateWeekNumber(a.toUTCJSDate(),a.getYear(),r,i);if(!t.length||t[t.length-1].number!==s){t.push({len:0,number:s})}t[t.length-1].len++;return t},[]);return this._aWeekNumbers};s.prototype._getCachedWeekNumbers=function(){return this._aWeekNumbers};return s});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/calendar/DatesRowRenderer", ["sap/ui/core/Renderer","sap/ui/unified/calendar/CalendarDate","./MonthRenderer","sap/ui/core/CalendarType"],function(e,a,t,r){"use strict";var n=e.extend(t);n.apiVersion=2;n.getStartDate=function(e){return e._getStartDate()};n.getClass=function(e,a){var t=["sapUiCalDatesRow","sapUiCalRow"];if(!a.getShowDayNamesLine()){t.push("sapUiCalNoNameLine")}return t};n.addWrapperAdditionalStyles=function(e,a){if(a._iTopPosition){e.style("top",a._iTopPosition+"px")}};n.renderMonth=function(e,a,r){if(a.isRelative&&a.isRelative()){n.renderCustomIntervals(e,a)}else{t.renderMonth.apply(this,arguments);this.renderWeekNumbers(e,a)}};n.renderCustomIntervals=function(e,a){var t;e.openStart("div",a.getId()+"-customintervals");e.openEnd();var r=a.getDays();t=100/r;var n=a._getRelativeInfo()._getIndexFromDate(a.getStartDate());for(var i=0;i<r;i++){e.openStart("div");e.class("sapUiCalItem");if(a._getRelativeInfo&&a._getRelativeInfo().bIsRelative){e.class("sapUiRelativeCalItem");e.attr("data-sap-ui-index",n+i);e.attr("tabindex","-1");var s=a._getRelativeInfo()._getDateFromIndex(n+i+1);e.attr("data-sap-day",a._oFormatYyyymmdd.format(s,true))}e.style("width",t+"%");e.openEnd();e.openStart("span");e.class("sapUiCalItemText");e.openEnd();e.text(a._getRelativeInfo?a._getRelativeInfo().intervalLabelFormatter(n+i):n+i);e.close("span");e.close("div")}e.close("div")};n.renderWeekNumbers=function(e,a){var t,n,i,s;if(a.getShowWeekNumbers()&&a.getPrimaryCalendarType()===r.Gregorian){t=sap.ui.getCore().getLibraryResourceBundle("sap.ui.unified");e.openStart("div",a.getId()+"-weeks");e.class("sapUiCalRowWeekNumbers");e.openEnd();n=a.getDays();i=100/n;s=a.getWeekNumbers();s.forEach(function(r){e.openStart("div",a.getId()+"-week-"+r.number+"-text");e.class("sapUiCalRowWeekNumber");e.style("width",r.len*i+"%");e.attr("data-sap-ui-week",r.number);e.openEnd();e.text(t.getText("CALENDAR_DATES_ROW_WEEK_NUMBER",[r.number]));e.close("div")});e.close("div")}};n.renderDummyCell=function(){};n.renderHeader=function(e,a,t){var r=a._getLocaleData();var n=a.getId();var i=a.getDays();var s="";if(a._getShowHeader()){e.openStart("div",n+"-Head");e.openEnd();this.renderHeaderLine(e,a,r,t);e.close("div")}s=100/i+"%";if(a.getShowDayNamesLine()){e.openStart("div",n+"-Names");e.style("display","inline");e.attr("role","row");e.openEnd();this.renderDayNames(e,a,r,t.getDay(),i,false,s);e.close("div")}};n.renderHeaderLine=function(e,t,r,n){var i=t.getId();var s=t.getDays();var o=new a(n,t.getPrimaryCalendarType());var d="";var l=0;var v=[];var p=0;for(p=0;p<s;p++){l=o.getMonth();if(v.length>0&&v[v.length-1].iMonth==l){v[v.length-1].iDays++}else{v.push({iMonth:l,iDays:1})}o.setDate(o.getDate()+1)}var g=r.getMonthsStandAlone("wide",t.getPrimaryCalendarType());for(p=0;p<v.length;p++){var u=v[p];d=100/s*u.iDays+"%";e.openStart("div",i+"-Head"+p);e.class("sapUiCalHeadText");e.style("width",d);e.openEnd();e.text(g[u.iMonth]);e.close("div")}};n.renderDays=function(e,t,r){var n=t.getDays();var i=100/n+"%";var s=t.getShowDayNamesLine();var o=t.getPrimaryCalendarType();if(!r){r=t._getFocusedDate()}var d=this.getDayHelper(t,r);if(!s){if(t._bLongWeekDays||!t._bNamesLengthChecked){d.aWeekDays=d.oLocaleData.getDaysStandAlone("abbreviated",o)}else{d.aWeekDays=d.oLocaleData.getDaysStandAlone("narrow",o)}d.aWeekDaysWide=d.oLocaleData.getDaysStandAlone("wide",o)}var l=new a(r,o);e.openStart("div");e.attr("role","row");e.openEnd();for(var v=0;v<n;v++){this.renderDay(e,t,l,d,false,false,v,i,!s);l.setDate(l.getDate()+1)}e.close("div")};return n},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/calendar/Header", ["sap/ui/core/Control","sap/ui/unified/library","./HeaderRenderer","sap/ui/dom/containsOrEquals"],function(t,e,i,n){"use strict";var r=t.extend("sap.ui.unified.calendar.Header",{metadata:{library:"sap.ui.unified",properties:{textButton0:{type:"string",group:"Appearance"},additionalTextButton0:{type:"string",group:"Appearance"},ariaLabelButton0:{type:"string",group:"Misc"},visibleButton0:{type:"boolean",group:"Appearance",defaultValue:false},textButton1:{type:"string",group:"Appearance"},additionalTextButton1:{type:"string",group:"Appearance"},ariaLabelButton1:{type:"string",group:"Misc"},visibleButton1:{type:"boolean",group:"Appearance",defaultValue:true},textButton2:{type:"string",group:"Appearance"},additionalTextButton2:{type:"string",group:"Appearance"},ariaLabelButton2:{type:"string",group:"Misc"},visibleButton2:{type:"boolean",group:"Appearance",defaultValue:true},enabledPrevious:{type:"boolean",group:"Behavior",defaultValue:true},enabledNext:{type:"boolean",group:"Behavior",defaultValue:true},visibleCurrentDateButton:{type:"boolean",group:"Appearance",defaultValue:false}},events:{pressPrevious:{},pressNext:{},pressCurrentDate:{},pressButton0:{},pressButton1:{},pressButton2:{}}},renderer:i});r.prototype._setVisibleButton3=function(t){this._visibleButton3=t;this.invalidate();return this};r.prototype._getVisibleButton3=function(){return this._visibleButton3};r.prototype._setTextButton3=function(t){o.call(this,3,t);return this};r.prototype._getTextButton3=function(){return this._textButton3};r.prototype._setAdditionalTextButton3=function(t){s.call(this,3,t);return this};r.prototype._getAdditionalTextButton3=function(){return this._additionalTextButton3};r.prototype._setAriaLabelButton3=function(t){u.call(this,3,t);return this};r.prototype._getAriaLabelButton3=function(){return this._ariaLabelButton3};r.prototype._setVisibleButton4=function(t){this._visibleButton4=t;this.invalidate();return this};r.prototype._getVisibleButton4=function(){return this._visibleButton4};r.prototype._setTextButton4=function(t){o.call(this,4,t);return this};r.prototype._getTextButton4=function(){return this._textButton4};r.prototype._setAdditionalTextButton4=function(t){s.call(this,4,t);return this};r.prototype._getAdditionalTextButton4=function(){return this._additionalTextButton4};r.prototype._setAriaLabelButton4=function(t){u.call(this,4,t);return this};r.prototype._getAriaLabelButton4=function(){return this._ariaLabelButton4};r.prototype.onclick=function(t){if(t.isMarked("delayedMouseEvent")){return}if(n(this.getDomRef("prev"),t.target)&&this.getEnabledPrevious()){this.firePressPrevious()}else if(n(this.getDomRef("next"),t.target)&&this.getEnabledNext()){this.firePressNext()}else if(n(this.getDomRef("today"),t.target)&&this.getVisibleCurrentDateButton()){this.firePressCurrentDate()}else if(n(this.getDomRef("B0"),t.target)){this.firePressButton0()}else if(n(this.getDomRef("B1"),t.target)){this.firePressButton1()}else if(n(this.getDomRef("B2"),t.target)){this.firePressButton2()}else if(n(this.getDomRef("B3"),t.target)){this.fireEvent("pressButton3")}else if(n(this.getDomRef("B4"),t.target)){this.fireEvent("pressButton4")}};r.prototype.onsapnext=function(t){t.preventDefault()};function o(t,e){this["_textButton"+t]=e;if(this.isActive()&&this["_getVisibleButton"+t]()){if(this.$("B"+t+"-Text").get(0)){this.$("B"+t+"-Text").text(e)}else{this.$("B"+t).text(e)}}}function s(t,e){var i=false;var n=this["_getAdditionalTextButton"+t]();if(n==e){return}if(!n&&e||n&&!e){i=true}this["_additionalTextButton"+t]=e;if(!i&&this.isActive()&&this["_getVisibleButton"+t]()){this.$("B"+t+"-AddText").text(e)}if(i){this.invalidate()}}function u(t,e){this["_ariaLabelButton"+t]=e;if(this.isActive()&&this["_getVisibleButton"+t]()){if(e){this.$("B"+t).attr("aria-label",e)}else{this.$("B"+t).removeAttr("aria-label")}}}return r});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/calendar/HeaderRenderer", ["sap/ui/core/Configuration"],function(t){"use strict";var e=5;var a={apiVersion:2};a.render=function(a,i){var n=t.getLocale().getLanguage();var s=i.getTooltip_AsString();var l=i.getId();var o=sap.ui.getCore().getLibraryResourceBundle("sap.ui.unified");var r=o.getText("CALENDAR_BTN_NEXT");var u=o.getText("CALENDAR_BTN_PREV");var d=o.getText("CALENDAR_BTN_TODAY");a.openStart("div",i);a.class("sapUiCalHead");if(i.getVisibleCurrentDateButton()){a.class("sapUiCalHeaderWithTodayButton")}if(s){a.attr("title",s)}a.accessibilityState(i);a.openEnd();a.openStart("button",l+"-prev");a.attr("title",u);a.accessibilityState(null,{label:u});a.class("sapUiCalHeadPrev");if(!i.getEnabledPrevious()){a.class("sapUiCalDsbl");a.attr("disabled","disabled")}a.attr("tabindex","-1");a.openEnd();a.icon("sap-icon://slim-arrow-left",null,{title:null});a.close("button");var c=-1;var b=-1;var g=0;var B;for(g=0;g<e;g++){if(this.getVisibleButton(i,g)){if(c<0){c=g}b=g}}for(g=0;g<e;g++){if(n.toLowerCase()==="ja"||n.toLowerCase()==="zh"){B=e-1-g;if(this._isTwoMonthsCalendar(i)){switch(g){case 0:B=2;break;case 2:B=4;break;case 1:B=1;break;case 3:B=3;break}}}else{B=g}if(this._isTwoMonthsCalendar(i)){c=2;b=3}this.renderCalendarButtons(a,i,l,c,b,B)}if(!i.getVisibleButton0()&&!i.getVisibleButton1()&&!i.getVisibleButton2()&&!i._getVisibleButton3()&&!i._getVisibleButton4()){a.openStart("div",l+"-B"+"-Placeholder");a.class("sapUiCalHeadBPlaceholder");a.openEnd();a.close("span")}a.openStart("button",l+"-next");a.attr("title",r);a.accessibilityState(null,{label:r});a.class("sapUiCalHeadNext");if(!i.getEnabledNext()){a.class("sapUiCalDsbl");a.attr("disabled","disabled")}a.attr("tabindex","-1");a.openEnd();a.icon("sap-icon://slim-arrow-right",null,{title:null});a.close("button");if(i.getVisibleCurrentDateButton()){a.openStart("button",l+"-today");a.attr("title",d);a.accessibilityState(null,{label:d});a.class("sapUiCalHeadB");a.class("sapUiCalHeadToday");a.openEnd();a.icon("sap-icon://appointment",null,{title:null});a.close("button")}a.close("div")};a.renderCalendarButtons=function(t,e,a,i,n,s){var l={};if(this.getVisibleButton(e,s)){t.openStart("button",a+"-B"+s);t.class("sapUiCalHeadB");t.class("sapUiCalHeadB"+s);if(i===s){t.class("sapUiCalHeadBFirst")}if(n===s){t.class("sapUiCalHeadBLast")}if(this.getAriaLabelButton(e,s)){l["label"]=this.getAriaLabelButton(e,s)}t.accessibilityState(null,l);l={};t.openEnd();var o=this.getTextButton(e,s)||"";var r=this.getAdditionalTextButton(e,s)||"";if(r){t.openStart("span",a+"-B"+s+"-Text");t.class("sapUiCalHeadBText");t.openEnd();t.text(o);t.close("span");t.openStart("span",a+"-B"+s+"-AddText");t.class("sapUiCalHeadBAddText");t.openEnd();t.text(r);t.close("span")}else{t.text(o)}t.close("button")}};a.getVisibleButton=function(t,e){var a=false;if(t["getVisibleButton"+e]){a=t["getVisibleButton"+e]()}else if(t["_getVisibleButton"+e]){a=t["_getVisibleButton"+e]()}return a};a.getAriaLabelButton=function(t,e){var a;if(t["getAriaLabelButton"+e]){a=t["getAriaLabelButton"+e]()}else if(t["_getAriaLabelButton"+e]){a=t["_getAriaLabelButton"+e]()}return a};a.getTextButton=function(t,e){var a;if(t["getTextButton"+e]){a=t["getTextButton"+e]()}else if(t["_getTextButton"+e]){a=t["_getTextButton"+e]()}return a};a.getAdditionalTextButton=function(t,e){var a;if(t["getAdditionalTextButton"+e]){a=t["getAdditionalTextButton"+e]()}else if(t["_getAdditionalTextButton"+e]){a=t["_getAdditionalTextButton"+e]()}return a};a._isTwoMonthsCalendar=function(t){return t.getParent()instanceof sap.ui.unified.Calendar&&t.getParent().getMonths()>=2};return a},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/calendar/IndexPicker", ["sap/ui/core/Control","sap/ui/unified/calendar/Header","sap/ui/unified/calendar/IndexPickerRenderer","sap/ui/core/delegate/ItemNavigation","sap/ui/events/KeyCodes"],function(e,t,i,a,n){"use strict";var s=e.extend("sap.ui.unified.calendar.IndexPicker",{metadata:{library:"sap.ui.unified",properties:{startIndex:{type:"int",group:"Data",defaultValue:0},selectedIndex:{type:"int",group:"Data",defaultValue:0},formatter:{type:"object",group:"Data"},rows:{type:"int",group:"Data",defaultValue:4},columns:{type:"int",group:"Data",defaultValue:3},periodSize:{type:"int",group:"Data",defaultValue:1}},aggregations:{header:{type:"sap.ui.unified.calendar.Header",multiple:false}},events:{select:{},focus:{}}},renderer:i});s.prototype.init=function(){this._initializeHeader();this.iCurrentIndex=0};s.prototype.onBeforeRendering=function(){this.getHeader().setEnabledPrevious(this.getStartIndex()>0)};s.prototype.onAfterRendering=function(){r.call(this)};s.prototype._initializeHeader=function(){var e=new t(this.getId()+"--Head",{visibleButton1:false,visibleButton2:false});e.attachEvent("pressPrevious",this._handlePrevious,this);e.attachEvent("pressNext",this._handleNext,this);this.setAggregation("header",e)};s.prototype._handlePrevious=function(){this.goToPreviousPage()};s.prototype.goToPreviousPage=function(){var e=this.getStartIndex()-this.getRows()*this.getColumns();e=Math.max(0,e);this.setStartIndex(e)};s.prototype._handleNext=function(){this.goToNextPage()};s.prototype.goToNextPage=function(){var e=this.getStartIndex()+this.getRows()*this.getColumns();this.setStartIndex(e)};s.prototype.onmouseup=function(e){var t=e.target.getAttribute("data-sap-ui-index");if(!t){return}this._selectIndex(parseInt(t))};s.prototype.onkeydown=function(e){if(e.keyCode===n.ENTER){var t=e.target.getAttribute("data-sap-ui-index");if(!t){return}this._selectIndex(parseInt(t))}};s.prototype.onkeyup=function(e){if(e.keyCode===n.SPACE){e.preventDefault();var t=e.target.getAttribute("data-sap-ui-index");if(!t){return}this._selectIndex(parseInt(t))}};s.prototype._selectIndex=function(e){this.setSelectedIndex(e);this.iCurrentIndex=0;this.fireSelect({index:e})};s.prototype._getFormatter=function(){return this.getFormatter()||o};function o(e){return(e+1).toString()}function r(){var e=0,t=false,i=this.getDomRef(),n=i.querySelectorAll(".sapMIPItem"),s=this.getColumns();for(var o=0;o<n.length;o++){if(n[o].getAttribute("data-sap-ui-index")===this.getSelectedIndex()){e=o;t=true;break}}if(!this._oItemNavigation){this._oItemNavigation=new a;this._oItemNavigation.attachEvent(a.Events.AfterFocus,u,this);this._oItemNavigation.attachEvent(a.Events.BorderReached,this._handleBorderReached,this);this.addDelegate(this._oItemNavigation);if(s>1){this._oItemNavigation.setHomeEndColumnMode(true,true)}this._oItemNavigation.setDisabledModifiers({sapnext:["alt"],sapprevious:["alt"],saphome:["alt"],sapend:["alt"]});this._oItemNavigation.setCycling(false);this._oItemNavigation.setColumns(s,true)}this._oItemNavigation.setRootDomRef(i);this._oItemNavigation.setItemDomRefs(n);if(!t){e=this.iCurrentIndex%n.length}this._oItemNavigation.setFocusedIndex(e);this._oItemNavigation.focusItem(e);this._oItemNavigation.setPageSize(n.length)}function u(e){var t=e.getParameter("index");var i=e.getParameter("event");if(!i){return}var a=e.getParameter("index");var n=this._oItemNavigation.getItemDomRefs();var s=n[t];this.iCurrentIndex=a;a=s.getAttribute("data-sap-ui-index");this.fireFocus({index:a})}s.prototype._handleBorderReached=function(e){var t=e.getParameter("event");var i=parseInt(t.target.getAttribute("data-sap-ui-index"));var a=e.getParameter("index");if(t.type){switch(t.type){case"sapnext":case"sapnextmodifiers":if(t.keyCode===n.ARROW_DOWN){i+=this.getColumns();a+=this.getColumns()}else{i+=1;a+=1}this.goToNextPage();break;case"sapprevious":case"sappreviousmodifiers":if(t.keyCode===n.ARROW_UP){i-=this.getColumns();a-=this.getColumns()}else{i-=1;a-=1}this.goToPreviousPage();break;default:break}var s=this._oItemNavigation.getItemDomRefs();a=Math.abs(s.length-Math.abs(a));this.iCurrentIndex=a;this._oItemNavigation.focusItem(s[a]);this.fireFocus({index:i})}};return s});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/calendar/IndexPickerRenderer", [],function(){"use strict";var e={apiVersion:2};e.render=function(e,t){var s,a={role:"gridcell",selected:false,label:"",describedby:""};e.openStart("div",t);e.class("sapMIP");e.openEnd();var l=t.getAggregation("header");e.renderControl(l);e.openStart("div");e.class("sapMIPContent");e.attr("role","grid");e.openEnd();for(var d=0;d<t.getRows();d++){e.openStart("div",t.getId()+"-"+d);e.class("sapMIPRow");e.attr("role","row");e.openEnd();var r=t.getSelectedIndex()+t.getPeriodSize()-1;for(var i=0;i<t.getColumns();i++){s=t.getStartIndex()+t.getColumns()*d+i;e.openStart("div");e.class("sapMIPItem");if(s===t.getSelectedIndex()){e.class("sapUiCalItemSel");e.class("sapUiCalItemSelStart");a["selected"]=true;a["describedby"]=a["describedby"]+" "+t.sId+"-Start"}else if(s===r){e.class("sapUiCalItemSel");e.class("sapUiCalItemSelEnd");a["selected"]=true;a["describedby"]=a["describedby"]+" "+t.sId+"-End"}else if(s>t.getSelectedIndex()&&s<r){e.class("sapUiCalItemSel");e.class("sapUiCalItemSelBetween");a["selected"]=true}else{a["selected"]=false}e.accessibilityState(null,a);e.class("sapUiCalItem");e.class("customWidth");e.attr("tabindex","-1");e.attr("data-sap-ui-index",s);e.openEnd();e.text(t._getFormatter()(s));e.close("div")}e.close("div")}e.close("div");e.close("div")};return e},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/calendar/Month", ["sap/ui/core/Control","sap/ui/Device","sap/ui/core/LocaleData","sap/ui/core/delegate/ItemNavigation","sap/ui/unified/calendar/CalendarUtils","sap/ui/unified/calendar/CalendarDate","sap/ui/unified/DateRange","sap/ui/unified/DateTypeRange","sap/ui/unified/library","sap/ui/core/format/DateFormat","sap/ui/core/library","sap/ui/core/Locale","./MonthRenderer","sap/ui/dom/containsOrEquals","sap/ui/events/KeyCodes","sap/ui/thirdparty/jquery","sap/ui/core/InvisibleMessage","sap/ui/core/Configuration","sap/ui/core/date/CalendarWeekNumbering","sap/ui/core/date/CalendarUtils","sap/base/Log"],function(e,t,a,i,s,r,o,n,l,h,g,d,u,c,p,jQuery,f,y,D,m,_){"use strict";var v=g.InvisibleMessageMode;var S=g.CalendarType;var C=l.CalendarDayType;var b=e.extend("sap.ui.unified.calendar.Month",{metadata:{library:"sap.ui.unified",properties:{date:{type:"object",group:"Data"},intervalSelection:{type:"boolean",group:"Behavior",defaultValue:false},singleSelection:{type:"boolean",group:"Behavior",defaultValue:true},showHeader:{type:"boolean",group:"Appearance",defaultValue:false},firstDayOfWeek:{type:"int",group:"Appearance",defaultValue:-1},nonWorkingDays:{type:"int[]",group:"Appearance",defaultValue:null},primaryCalendarType:{type:"sap.ui.core.CalendarType",group:"Appearance"},secondaryCalendarType:{type:"sap.ui.core.CalendarType",group:"Appearance"},width:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:null},showWeekNumbers:{type:"boolean",group:"Appearance",defaultValue:true},_focusedDate:{type:"object",group:"Data",visibility:"hidden",defaultValue:null},calendarWeekNumbering:{type:"sap.ui.core.date.CalendarWeekNumbering",group:"Appearance",defaultValue:null}},aggregations:{selectedDates:{type:"sap.ui.unified.DateRange",multiple:true,singularName:"selectedDate"},specialDates:{type:"sap.ui.unified.DateTypeRange",multiple:true,singularName:"specialDate"},disabledDates:{type:"sap.ui.unified.DateRange",multiple:true,singularName:"disabledDate"}},associations:{ariaLabelledBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"},legend:{type:"sap.ui.unified.CalendarLegend",multiple:false}},events:{select:{},focus:{parameters:{date:{type:"object"},otherMonth:{type:"boolean"},restoreOldDate:{type:"boolean"}}},weekNumberSelect:{allowPreventDefault:true,parameters:{weekNumber:{type:"int"},weekDays:{type:"sap.ui.unified.DateRange"}}}}},renderer:u});b.prototype.init=function(){var e=y.getCalendarType();this.setProperty("primaryCalendarType",e);this.setProperty("secondaryCalendarType",e);this._oFormatYyyymmdd=h.getInstance({pattern:"yyyyMMdd",calendarType:S.Gregorian});this._oFormatLong=h.getInstance({style:"long",calendarType:e});this._mouseMoveProxy=this._handleMouseMove.bind(this);this._iColumns=7;this._oMinDate=s._minDate(this.getPrimaryCalendarType());this._oMaxDate=s._maxDate(this.getPrimaryCalendarType());this._aVisibleDays=[];this._bAlwaysShowSpecialDates=false;this._oUnifiedRB=sap.ui.getCore().getLibraryResourceBundle("sap.ui.unified")};b.prototype._getAriaRole=function(){return"gridcell"};b.prototype.exit=function(){if(this._oItemNavigation){this.removeDelegate(this._oItemNavigation);this._oItemNavigation.destroy();delete this._oItemNavigation}if(this._sInvalidateMonth){clearTimeout(this._sInvalidateMonth)}this._aVisibleDays=null;this._bAlwaysShowSpecialDates=null};b.prototype.getFocusDomRef=function(){return this.getDomRef()&&this._oItemNavigation.getItemDomRefs()[this._oItemNavigation.getFocusedIndex()]};b.prototype.onBeforeRendering=function(){if(this.getFirstDayOfWeek()!==-1&&this.getCalendarWeekNumbering()!=="Default"){_.warning("Both properties firstDayOfWeek and calendarWeekNumbering should not be used at the same time!")}};b.prototype.onAfterRendering=function(){this.bSpaceButtonPressed=false;T.call(this);L.call(this);this._oInvisibleMessage=f.getInstance()};b.prototype.onmouseover=function(e){var t=jQuery(e.target),a=this.getSelectedDates()[0],i,s;if(!this._isMarkingUnfinishedRangeAllowed()){return}if(!t.hasClass("sapUiCalItemText")&&!t.hasClass("sapUiCalItem")){return}if(t.hasClass("sapUiCalItemText")){t=t.parent()}i=parseInt(this._oFormatYyyymmdd.format(a.getStartDate()));s=t.data("sapDay");if(this.hasListeners("datehovered")){this.fireEvent("datehovered",{date1:i,date2:s})}else{this._markDatesBetweenStartAndHoveredDate(i,s)}};b.prototype._markDatesBetweenStartAndHoveredDate=function(e,t){var a,i,s,r;a=this.$().find(".sapUiCalItem");if(e>t){e=e+t;t=e-t;e=e-t}for(r=0;r<a.length;r++){i=jQuery(a[r]);s=i.data("sapDay");if(s>e&&s<t&&this._isInAllowedRange(s)){i.addClass("sapUiCalItemSelBetween")}else{i.removeClass("sapUiCalItemSelBetween");if(s!=e&&s!=t){i.removeClass("sapUiCalItemSel")}}}};b.prototype._isInAllowedRange=function(e){return this._oFormatYyyymmdd.parse(e).getTime()>this._oMinDate.toLocalJSDate().getTime()&&this._oFormatYyyymmdd.parse(e).getTime()<this._oMaxDate.toLocalJSDate().getTime()};b.prototype.onsapfocusleave=function(e){if(!e.relatedControlId||!c(this.getDomRef(),sap.ui.getCore().byId(e.relatedControlId).getFocusDomRef())){if(this._bMouseMove){this._unbindMousemove(true);var t=this._selectDay(this._getDate());if(!t&&this._oMoveSelectedDate){this._selectDay(this._oMoveSelectedDate)}this._bMoveChange=false;this._bMousedownChange=false;this._oMoveSelectedDate=undefined;I.call(this)}if(this._bMousedownChange){this._bMousedownChange=false;I.call(this)}}};b.prototype.removeAllSelectedDates=function(){this._bDateRangeChanged=true;var e=this.removeAllAggregation("selectedDates");return e};b.prototype.destroySelectedDates=function(){this._bDateRangeChanged=true;var e=this.destroyAggregation("selectedDates");return e};b.prototype.removeAllSpecialDates=function(){this._bDateRangeChanged=true;var e=this.removeAllAggregation("specialDates");return e};b.prototype.destroySpecialDates=function(){this._bDateRangeChanged=true;var e=this.destroyAggregation("specialDates");return e};b.prototype.removeAllDisabledDates=function(){this._bDateRangeChanged=true;var e=this.removeAllAggregation("disabledDates");return e};b.prototype.destroyDisabledDates=function(){this._bDateRangeChanged=true;var e=this.destroyAggregation("disabledDates");return e};b.prototype.setDate=function(e){if(e){var t=r.fromLocalJSDate(e,this.getPrimaryCalendarType());w.call(this,t)}return this.setProperty("date",e)};b.prototype._getDate=function(){if(!this._oDate){this._oDate=r.fromLocalJSDate(new Date,this.getPrimaryCalendarType())}return this._oDate};b.prototype.displayDate=function(e){var t=r.fromLocalJSDate(e,this.getPrimaryCalendarType());w.call(this,t);return this};b.prototype.setPrimaryCalendarType=function(e){this.setProperty("primaryCalendarType",e);this._oFormatLong=h.getInstance({style:"long",calendarType:e});if(this._oDate){this._oDate=new r(this._oDate,e)}return this};b.prototype.setSecondaryCalendarType=function(e){this._bSecondaryCalendarTypeSet=true;this.setProperty("secondaryCalendarType",e);this._oFormatSecondaryLong=h.getInstance({style:"long",calendarType:e});return this};b.prototype._getSecondaryCalendarType=function(){var e;if(this._bSecondaryCalendarTypeSet){e=this.getSecondaryCalendarType();var t=this.getPrimaryCalendarType();if(e===t){e=undefined}}return e};b.prototype._getLocale=function(){var e=this.getParent();if(e&&e.getLocale){return e.getLocale()}else if(!this._sLocale){this._sLocale=y.getFormatSettings().getFormatLocale().toString()}return this._sLocale};b.prototype._getLocaleData=function(){var e=this.getParent();if(e&&e._getLocaleData){return e._getLocaleData()}else if(!this._oLocaleData){var t=this._getLocale();var i=new d(t);this._oLocaleData=a.getInstance(i)}return this._oLocaleData};b.prototype._getFormatLong=function(){var e=this._getLocale();if(this._oFormatLong.oLocale.toString()!==e){var t=new d(e);this._oFormatLong=h.getInstance({style:"long",calendarType:this.getPrimaryCalendarType()},t);if(this._oFormatSecondaryLong){this._oFormatSecondaryLong=h.getInstance({style:"long",calendarType:this._getSecondaryCalendarType()},t)}}return this._oFormatLong};b.prototype.getIntervalSelection=function(){var e=this.getParent();if(e&&e.getIntervalSelection){return e.getIntervalSelection()}else{return this.getProperty("intervalSelection")}};b.prototype.getSingleSelection=function(){var e=this.getParent();if(e&&e.getSingleSelection){return e.getSingleSelection()}else{return this.getProperty("singleSelection")}};b.prototype.getSelectedDates=function(){var e=this.getParent();if(e&&e.getSelectedDates){return e.getSelectedDates()}else{return this.getAggregation("selectedDates",[])}};b.prototype.getSpecialDates=function(){var e=this.getParent();if(e&&e.getSpecialDates){return e.getSpecialDates()}else{return this.getAggregation("specialDates",[])}};b.prototype.getDisabledDates=function(){var e=this.getParent();if(e&&e.getDisabledDates){return e.getDisabledDates()}else{return this.getAggregation("disabledDates",[])}};b.prototype.getPrimaryCalendarType=function(){var e=this.getParent();if(e&&e.getPrimaryCalendarType){return e.getPrimaryCalendarType()}return this.getProperty("primaryCalendarType")};b.prototype._getShowHeader=function(){var e=this.getParent();if(e&&e._getShowMonthHeader){return e._getShowMonthHeader()}else{return this.getProperty("showHeader")}};b.prototype.getAriaLabelledBy=function(){var e=this.getParent();if(e&&e.getAriaLabelledBy){return e.getAriaLabelledBy()}else{return this.getAssociation("ariaLabelledBy",[])}};b.prototype.getLegend=function(){var e=this.getParent();if(e&&e.getLegend){return e.getLegend()}else{return this.getAssociation("legend",[])}};b.prototype._getFirstDayOfWeek=function(){var e=this.getParent();var t=0;if(e&&e.getFirstDayOfWeek){t=e.getFirstDayOfWeek()}else{t=this.getProperty("firstDayOfWeek")}if(t<0||t>6){var a=m.getWeekConfigurationValues(this.getCalendarWeekNumbering(),new d(this._getLocale()));if(a){t=a.firstDayOfWeek}else{var i=this._getLocaleData();t=i.getFirstDayOfWeek()}}return t};b.prototype._getNonWorkingDays=function(){var e=this.getParent();var t;if(e&&e.getNonWorkingDays){t=e.getNonWorkingDays()}else{t=this.getProperty("nonWorkingDays")}if(t&&!Array.isArray(t)){t=[]}return t};b.prototype._isSpecialDateMarkerEnabled=function(e){var t;if(this.getStartDate){t=this.getStartDate()}else if(this.getDate()){t=this.getDate()}else{t=new Date}return this._bAlwaysShowSpecialDates||s._isSameMonthAndYear(e,r.fromLocalJSDate(t))};b.prototype._checkDateSelected=function(e){s._checkCalendarDate(e);var t=0,a=this.getSelectedDates(),i=this.getPrimaryCalendarType(),o=0,n=this.getProperty("_focusedDate"),l=false,h;for(o=0;o<a.length;o++){var g=a[o],d=g.getStartDate()?r.fromLocalJSDate(g.getStartDate(),i):undefined,u=g.getEndDate()?r.fromLocalJSDate(g.getEndDate(),i):undefined;if(d&&u){h=this._arrangeStartAndEndDates(d,u);d=h.startDate;u=h.endDate}l=this._isMarkingUnfinishedRangeAllowed()&&n&&(s._isBetween(e,d,n,true)||s._isBetween(e,n,d,true));if(d&&!u&&e.isSame(d)){t=1;break}else if(u&&e.isSame(d)){t=2;if(e.isSame(u)){t=5}break}else if(u&&e.isSame(u)){t=3;break}else if(u&&e.isAfter(d)&&e.isBefore(u)||l){t=4;break}if(this.getSingleSelection()){break}}return t};b.prototype._getDateTypes=function(e){s._checkCalendarDate(e);var t,a,i,r=[];var o=this._getSpecialDates();var n=e.toUTCJSDate().getTime();var l=new Date(Date.UTC(0,0,1));for(var h=0;h<o.length;h++){var g=o[h];var d=g.getStartDate();var u=s.MAX_MILLISECONDS;if(d){l.setUTCFullYear(d.getFullYear(),d.getMonth(),d.getDate());u=l.getTime()}var c=g.getEndDate();var p=-s.MAX_MILLISECONDS;if(c){l.setUTCFullYear(c.getFullYear(),c.getMonth(),c.getDate());p=l.getTime()}i=g.getType()===C.NonWorking;if(n===u&&!c||n>=u&&n<=p){if(!i&&!t){t={type:g.getType(),tooltip:g.getTooltip_AsString(),color:g.getColor()};r.push(t)}else if(i&&!a){a={type:g.getType(),tooltip:g.getTooltip_AsString()};r.push(a)}if(t&&a){break}}}return r};b.prototype._checkDateEnabled=function(e){s._checkCalendarDate(e);var t=true;var a=this.getDisabledDates();var i=e.toUTCJSDate().getTime();var o=this.getPrimaryCalendarType();var n=this.getParent();if(n&&n._oMinDate&&n._oMaxDate){if(i<n._oMinDate.valueOf()||i>n._oMaxDate.valueOf()){return false}}for(var l=0;l<a.length;l++){var h=a[l];var g=h.getStartDate();var d=0;if(g){g=r.fromLocalJSDate(g,o);d=g.toUTCJSDate().getTime()}var u=h.getEndDate();var c=0;if(u){u=r.fromLocalJSDate(u,o);c=u.toUTCJSDate().getTime()}if(u){if(i>d&&i<c){t=false;break}}else if(i===d){t=false;break}}return t};b.prototype._handleMouseMove=function(e){if(!this.$().is(":visible")){this._unbindMousemove(true)}var t=jQuery(e.target);if(t.hasClass("sapUiCalItemText")){t=t.parent()}if(this._sLastTargetId&&this._sLastTargetId===t.attr("id")){return}this._sLastTargetId=t.attr("id");if(t.hasClass("sapUiCalItem")){var a=this._getDate();if(c(this.getDomRef(),e.target)){var i=r.fromUTCDate(this._oFormatYyyymmdd.parse(t.attr("data-sap-day"),true),this.getPrimaryCalendarType());if(!i.isSame(a)){this._oDate=i;var s=this._selectDay(i,true);if(s){this._oMoveSelectedDate=new r(i,this.getPrimaryCalendarType())}this._bMoveChange=true}}}};b.prototype.onmousedown=function(e){this._oMousedownPosition={clientX:e.clientX,clientY:e.clientY};if(e.button||t.support.touch||!this._isWeekSelectionAllowed()||!e.target.classList.contains("sapUiCalWeekNum")){return}var a=jQuery(e.target),i=a.siblings().eq(0).attr("data-sap-day"),s=this._oFormatYyyymmdd.parse(i,true),o=r.fromUTCDate(s,this.getPrimaryCalendarType());this._handleWeekSelection(o,true)};b.prototype.onmouseup=function(e){var a=e.button!==2;if(this._bMouseMove){this._unbindMousemove(true);var i=this._getDate();var s=this._oItemNavigation.getItemDomRefs();for(var r=0;r<s.length;r++){var o=jQuery(s[r]);if(!o.hasClass("sapUiCalItemOtherMonth")){if(o.attr("data-sap-day")===this._oFormatYyyymmdd.format(i.toUTCJSDate(),true)){o.trigger("focus");break}}}if(this._bMoveChange){var n=this._selectDay(i);if(!n&&this._oMoveSelectedDate){this._selectDay(this._oMoveSelectedDate)}this._bMoveChange=false;this._bMousedownChange=false;this._oMoveSelectedDate=undefined;I.call(this)}}if(this._bMousedownChange){this._bMousedownChange=false;I.call(this)}else if(t.support.touch&&a&&this._areMouseEventCoordinatesInThreshold(e.clientX,e.clientY,10)){var l=e.target.classList,h=l.contains("sapUiCalItemText")||l.contains("sapUiCalDayName"),g=l.contains("sapUiCalWeekNum"),d=this._getSelectedDateFromEvent(e);if(g&&this._isWeekSelectionAllowed()){this._handleWeekSelection(d,true)}else if(h&&e.shiftKey&&this._isConsecutiveDaysSelectionAllowed()){this._handleConsecutiveDaysSelection(d)}else if(h){this._selectDay(d,false,false);I.call(this)}}};b.prototype.onsapselect=function(e){if(this.bSpaceButtonPressed){return}var t=this._selectDay(this._getSelectedDateFromEvent(e));if(t){I.call(this)}e.stopPropagation();e.preventDefault()};b.prototype.onkeydown=function(e){if(e.which===p.SPACE){this.bSpaceButtonPressed=true}};b.prototype.onkeyup=function(e){if(e.which===p.SPACE){this.bSpaceButtonPressed=false}};b.prototype.onsapselectmodifiers=function(e){var t=this._getSelectedDateFromEvent(e),a;if(this._isWeekSelectionAllowed()&&e.shiftKey&&e.keyCode===p.SPACE){a=s._getFirstDateOfWeek(t);this._handleWeekSelection(a,false)}else if(this._isConsecutiveDaysSelectionAllowed()&&e.shiftKey&&e.keyCode===p.ENTER){this._handleConsecutiveDaysSelection(t)}e.preventDefault()};b.prototype.onsappageupmodifiers=function(e){var t=new r(this._getDate(),this.getPrimaryCalendarType());var a=t.getYear();if(e.metaKey||e.ctrlKey){t.setYear(a-10)}else{t.setYear(a-1)}this.fireFocus({date:t.toLocalJSDate(),otherMonth:true});e.preventDefault()};b.prototype.onsappagedownmodifiers=function(e){var t=new r(this._getDate(),this.getPrimaryCalendarType());var a=t.getYear();if(e.metaKey||e.ctrlKey){t.setYear(a+10)}else{t.setYear(a+1)}this.fireFocus({date:t.toLocalJSDate(),otherMonth:true});e.preventDefault()};b.prototype._isValueInThreshold=function(e,t,a){var i=e-a,s=e+a;return t>=i&&t<=s};b.prototype._areMouseEventCoordinatesInThreshold=function(e,t,a){return this._oMousedownPosition&&this._isValueInThreshold(this._oMousedownPosition.clientX,e,a)&&this._isValueInThreshold(this._oMousedownPosition.clientY,t,a)?true:false};b.prototype._bindMousemove=function(e){jQuery(window.document).on("mousemove",this._mouseMoveProxy);this._bMouseMove=true;if(e){this.fireEvent("_bindMousemove")}};b.prototype._unbindMousemove=function(e){jQuery(window.document).off("mousemove",this._mouseMoveProxy);this._bMouseMove=undefined;this._sLastTargetId=undefined;if(e){this.fireEvent("_unbindMousemove")}};b.prototype.onThemeChanged=function(){if(this._bNoThemeChange||!this.getDomRef()){return}var e=this.getDomRef().querySelectorAll(".sapUiCalWH:not(.sapUiCalDummy)"),t=this._getLocaleData(),a=this._getFirstWeekDay(),i=t.getDaysStandAlone("abbreviated",this.getPrimaryCalendarType()),s,r;this._bNamesLengthChecked=undefined;this._bLongWeekDays=undefined;for(r=0;r<e.length;r++){s=e[r];s.textContent=i[(r+a)%7]}L.call(this)};b.prototype._handleBorderReached=function(e){var t=e.getParameter("event");var a=0;var i=this._getDate();var s=new r(i,this.getPrimaryCalendarType());if(t.type){switch(t.type){case"sapnext":case"sapnextmodifiers":if(t.keyCode===p.ARROW_DOWN){s.setDate(s.getDate()+7)}else{s.setDate(s.getDate()+1)}break;case"sapprevious":case"sappreviousmodifiers":if(t.keyCode===p.ARROW_UP){s.setDate(s.getDate()-7)}else{s.setDate(s.getDate()-1)}break;case"sappagedown":a=s.getMonth()+1;s.setMonth(a);if(a%12!==s.getMonth()){while(a!==s.getMonth()){s.setDate(s.getDate()-1)}}break;case"sappageup":a=s.getMonth()-1;s.setMonth(a);if(a<0){a=11}if(a!==s.getMonth()){while(a!==s.getMonth()){s.setDate(s.getDate()-1)}}break;default:break}this.fireFocus({date:s.toLocalJSDate(),otherMonth:true})}};b.prototype.checkDateFocusable=function(e){s._checkJSDateObject(e);var t=this._getDate();var a=r.fromLocalJSDate(e,this.getPrimaryCalendarType());return s._isSameMonthAndYear(a,t)};b.prototype.applyFocusInfo=function(e){return this};b.prototype._getFirstWeekDay=function(){return this._getFirstDayOfWeek()};b.prototype._isMonthNameLong=function(e){var t;var a;for(t=0;t<e.length;t++){a=e[t];if(Math.abs(a.clientWidth-a.scrollWidth)>1){return true}}return false};b.prototype._getVisibleDays=function(e,t){var a,i,s,o,n,l,h;if(!e){return this._aVisibleDays}this._aVisibleDays=[];l=this._getFirstDayOfWeek();n=new r(e,this.getPrimaryCalendarType());n.setDate(1);o=n.getDay()-l;if(o<0){o=7+o}if(o>0){n.setDate(1-o)}i=new r(n);a=(e.getMonth()+1)%12;do{h=i.getYear();s=new r(i,this.getPrimaryCalendarType());if(t&&h<1){s._bBeforeFirstYear=true;this._aVisibleDays.push(s)}else if(h>0&&h<1e4){this._aVisibleDays.push(s)}i.setDate(i.getDate()+1)}while(i.getMonth()!==a||i.getDay()!==l);return this._aVisibleDays};b.prototype._handleMousedown=function(e,a){var i=e.target.classList.contains("sapUiCalWeekNum"),s=!e.button,o=this._getSelectedDateFromEvent(e);if(!s||t.support.touch){return this}if(i){this._isWeekSelectionAllowed()&&this._handleWeekSelection(o,true);return this}else if(e.shiftKey&&this._isConsecutiveDaysSelectionAllowed()){this._handleConsecutiveDaysSelection(o);return this}var n=this._selectDay(a);if(n){this._bMousedownChange=true}if(this._bMouseMove){this._unbindMousemove(true);this._bMoveChange=false;this._oMoveSelectedDate=undefined}else if(n&&this.getIntervalSelection()&&this.$().is(":visible")){this._bindMousemove(true);this._oMoveSelectedDate=new r(a,this.getPrimaryCalendarType())}e.preventDefault();e.setMark("cancelAutoClose")};b.prototype._getSelectedDateFromEvent=function(e){var t=e.target,a,i;if(t.classList.contains("sapUiCalWeekNum")){a=t.nextSibling.getAttribute("data-sap-day")}else{a=t.getAttribute("data-sap-day")||t.parentNode.getAttribute("data-sap-day")}i=this._oFormatYyyymmdd.parse(a,true);return i?r.fromUTCDate(i,this.getPrimaryCalendarType()):null};b.prototype._handleWeekSelection=function(e,t){var a=this._calculateWeekNumber(e),i=this._getLastWeekDate(e),s=this.getSingleSelection(),o=this.getIntervalSelection(),n=this._checkDateEnabled(e)?e:null,l=this._checkDateEnabled(i)?i:null;if(e.isAfter(this._oMaxDate)||i.isBefore(this._oMinDate)){return this}if(!n){n=new r(this._oMinDate)}if(!l){l=new r(this._oMaxDate)}if(!s&&!o){this._handleWeekSelectionByMultipleDays(a,n,l)}else if(s&&o){this._handleWeekSelectionBySingleInterval(a,n,l)}t&&this._focusDate(n);return this};b.prototype._handleConsecutiveDaysSelection=function(e){var t=this.getSelectedDates(),a=t.length&&t[t.length-1].getStartDate(),i=a?r.fromLocalJSDate(a):e,s;s=this._areAllDaysBetweenSelected(i,e);this._toggleDaysBetween(i,e,!s);return this};b.prototype._calculateWeekNumber=function(e){var t=new d(this._getLocale());var a=this._getLastWeekDate(e);var i=this._getLocaleData();var s;var r;s=h.getInstance({pattern:"w",calendarType:this.getPrimaryCalendarType(),calendarWeekNumbering:this.getCalendarWeekNumbering()},t);var o=i.firstDayStartsFirstWeek();if(a.getMonth()===0&&this._oDate.getMonth()===0&&o){r=s.format(a.toUTCJSDate(),true)}else{r=s.format(e.toUTCJSDate(),true)}return r};b.prototype._isWeekSelectionAllowed=function(){var e=this.getSingleSelection(),t=this.getIntervalSelection(),a=this.getPrimaryCalendarType(),i=this.getFirstDayOfWeek()!==-1,s=!e&&!t,r=e&&t,o=r||s;return a===S.Gregorian&&!i&&o};b.prototype._isConsecutiveDaysSelectionAllowed=function(){var e=this.getSingleSelection(),t=this.getIntervalSelection();return!e&&!t};b.prototype._isMarkingUnfinishedRangeAllowed=function(){var e=this.getSelectedDates()[0],t=!!(e&&e.getStartDate()&&!e.getEndDate());return this.getIntervalSelection()&&t};b.prototype._handleWeekSelectionByMultipleDays=function(e,t,a){var i,s,r;i=this._areAllDaysBetweenSelected(t,a)?new o({startDate:t.toLocalJSDate()}):new o({startDate:t.toLocalJSDate(),endDate:a.toLocalJSDate()});s=this.fireWeekNumberSelect({weekNumber:e,weekDays:i});r=i.getEndDate()?true:false;if(s){this._toggleDaysBetween(t,a,r)}return this};b.prototype._handleWeekSelectionBySingleInterval=function(e,t,a){var i=new o({startDate:t.toLocalJSDate(),endDate:a.toLocalJSDate()}),s=this.getParent(),r=this,n;if(s&&s.getSelectedDates){r=s}if(this._isIntervalSelected(i)){i=null}n=this.fireWeekNumberSelect({weekNumber:e,weekDays:i});if(n){r.removeAllSelectedDates();r.addSelectedDate(i)}return this};b.prototype._isIntervalSelected=function(e){var t=this.getSelectedDates(),a=t.length&&t[0],i=a&&a.getEndDate();return a&&a.getStartDate()&&a.getStartDate().getTime()===e.getStartDate().getTime()&&i&&a.getEndDate()&&a.getEndDate().getTime()===e.getEndDate().getTime()};b.prototype._getLastWeekDate=function(e){return new r(e).setDate(e.getDate()+6)};b.prototype._toggleDaysBetween=function(e,t,a){var i=this._arrangeStartAndEndDates(e,t),s=new r(i.startDate),o;do{o=this._checkDateSelected(s);if(!o&&a||o&&!a){this._selectDay(s);I.call(this)}s.setDate(s.getDate()+1)}while(s.isSameOrBefore(i.endDate));return this};b.prototype._areAllDaysBetweenSelected=function(e,t){var a=this._arrangeStartAndEndDates(e,t),i=new r(a.startDate),s=true;do{if(!this._checkDateSelected(i)){s=false;break}i.setDate(i.getDate()+1)}while(i.isSameOrBefore(a.endDate));return s};b.prototype._arrangeStartAndEndDates=function(e,t){var a=e.isSameOrBefore(t);return{startDate:a?e:t,endDate:a?t:e}};b.prototype._selectDay=function(e,t){if(!this._checkDateEnabled(e)){return false}var a=this.getSelectedDates();var i;var s=this._oItemNavigation.getItemDomRefs();var n;var l;var h=0;var g=this.getParent();var d=this;var u;var c=this.getPrimaryCalendarType();if(g&&g.getSelectedDates){d=g}if(this.getSingleSelection()){if(a.length>0){i=a[0];u=i.getStartDate();if(u){u=r.fromLocalJSDate(u,c)}}else{i=new o;d.addAggregation("selectedDates",i,true)}if(this.getIntervalSelection()&&(!i.getEndDate()||t)&&u){var p;if(e.isBefore(u)){p=u;u=e;if(!t){i.setProperty("startDate",u.toLocalJSDate());i.setProperty("endDate",p.toLocalJSDate())}}else if(e.isSameOrAfter(u)){p=e;if(!t){i.setProperty("endDate",p.toLocalJSDate())}}}else{i.setProperty("startDate",e.toLocalJSDate());i.setProperty("endDate",undefined)}this._oInvisibleMessage.announce(this._oUnifiedRB.getText("APPOINTMENT_SELECTED"),v.Assertive)}else{if(this.getIntervalSelection()){throw new Error("Calender don't support multiple interval selection")}else{var f=this._checkDateSelected(e);if(f>0){for(h=0;h<a.length;h++){u=a[h].getStartDate();if(u&&e.isSame(r.fromLocalJSDate(u,c))){d.removeAggregation("selectedDates",h,true);break}}}else{this._oInvisibleMessage.announce(this._oUnifiedRB.getText("APPOINTMENT_SELECTED"),v.Assertive);i=new o({startDate:e.toLocalJSDate()});d.addAggregation("selectedDates",i,true)}l=this._oFormatYyyymmdd.format(e.toUTCJSDate(),true);for(h=0;h<s.length;h++){n=jQuery(s[h]);if(n.attr("data-sap-day")===l){if(f>0){n.removeClass("sapUiCalItemSel");n.attr("aria-selected","false")}else{n.addClass("sapUiCalItemSel");n.attr("aria-selected","true")}}}}}return true};b.prototype._getSpecialDates=function(){var e=this.getParent();if(e&&e._getSpecialDates){return e._getSpecialDates()}else{var t=this.getSpecialDates();for(var a=0;a<t.length;a++){var i=t[a].getSecondaryType()===l.CalendarDayType.NonWorking&&t[a].getType()!==l.CalendarDayType.NonWorking;if(i){var s=new n;s.setType(l.CalendarDayType.NonWorking);s.setStartDate(t[a].getStartDate());if(t[a].getEndDate()){s.setEndDate(t[a].getEndDate())}t.push(s)}}return t}};function T(){var e=this._oFormatYyyymmdd.format(this._getDate().toUTCJSDate(),true),t=0,a=this.getDomRef(),s=a.querySelectorAll(".sapUiCalItem");for(var r=0;r<s.length;r++){if(s[r].getAttribute("data-sap-day")===e){t=r;break}}if(!this._oItemNavigation){this._oItemNavigation=new i;this._oItemNavigation.attachEvent(i.Events.AfterFocus,M,this);this._oItemNavigation.attachEvent(i.Events.FocusAgain,k,this);this._oItemNavigation.attachEvent(i.Events.BorderReached,this._handleBorderReached,this);this.addDelegate(this._oItemNavigation);if(this._iColumns>1){this._oItemNavigation.setHomeEndColumnMode(true,true)}this._oItemNavigation.setDisabledModifiers({sapnext:["alt"],sapprevious:["alt"],saphome:["alt"],sapend:["alt"]});this._oItemNavigation.setCycling(false);this._oItemNavigation.setColumns(this._iColumns,true)}this._oItemNavigation.setRootDomRef(a);this._oItemNavigation.setItemDomRefs(s);this._oItemNavigation.setFocusedIndex(t);this._oItemNavigation.setPageSize(s.length)}function M(e){var t=e.getParameter("index"),a=e.getParameter("event"),i=this._getDate(),s=new r(i,this.getPrimaryCalendarType()),o=false,n=true,l=this._oItemNavigation.getItemDomRefs(),h=l[t],g=h.getAttribute("data-sap-day"),d;if(!a){return}if(h.classList.contains("sapUiCalItemOtherMonth")||h.classList.contains("sapUiCalItemDsbl")){if(a.type==="saphomemodifiers"&&(a.metaKey||a.ctrlKey)){for(var u=0;u<l.length;++u){d=l[u];if(!(d.classList.contains("sapUiCalItemOtherMonth")||d.classList.contains("sapUiCalItemDsbl"))){s=r.fromUTCDate(this._oFormatYyyymmdd.parse(d.getAttribute("data-sap-day"),true),this.getPrimaryCalendarType());break}}this._focusDate(s)}else if(a.type==="sapendmodifiers"&&(a.metaKey||a.ctrlKey)){for(var u=l.length-1;u>0;--u){d=l[u];if(!(d.classList.contains("sapUiCalItemOtherMonth")||d.classList.contains("sapUiCalItemDsbl"))){s=r.fromUTCDate(this._oFormatYyyymmdd.parse(d.getAttribute("data-sap-day"),true),this.getPrimaryCalendarType());break}}this._focusDate(s)}else{o=true;s=r.fromUTCDate(this._oFormatYyyymmdd.parse(g,true),this.getPrimaryCalendarType());if(!s){s=new r(i)}this._focusDate(i);if(a.type==="mousedown"||this._sTouchstartYyyyMMdd&&a.type==="focusin"&&this._sTouchstartYyyyMMdd===g||h.classList.contains("sapUiCalItemDsbl")){n=false;this.fireFocus({date:i.toLocalJSDate(),otherMonth:false,restoreOldDate:true})}this._sTouchstartYyyyMMdd=a.originalEvent&&a.originalEvent.type==="touchstart"?g:undefined}}else{if(a.target.classList.contains("sapUiCalWeekNum")){this._focusDate(s)}else{s=r.fromUTCDate(this._oFormatYyyymmdd.parse(g,true),this.getPrimaryCalendarType());this._oDate=s}this._sTouchstartYyyyMMdd=undefined}if(a.type==="mousedown"&&this.getIntervalSelection()){this._sLastTargetId=h.id}if(n){this.fireFocus({date:s.toLocalJSDate(),otherMonth:o})}if(a.type==="mousedown"){this._handleMousedown(a,s,t)}}function k(e){var t=e.getParameter("index");var a=e.getParameter("event");if(!a){return}if(a.type==="mousedown"){var i=this._getDate();if(this.getIntervalSelection()){var s=this._oItemNavigation.getItemDomRefs();this._sLastTargetId=s[t].id}this._handleMousedown(a,i,t)}}function w(e){s._checkCalendarDate(e);var t=e.getYear();s._checkYearInValidRange(t);if(!this.getDate()||!e.isSame(r.fromLocalJSDate(this.getDate(),e.getCalendarType()))){var a=new r(e);this.setProperty("date",e.toLocalJSDate());this._oDate=a}else{this.invalidate()}}b.prototype._focusDate=function(e,a,i){if(!a){this.setDate(e.toLocalJSDate())}var s=this._oFormatYyyymmdd.format(e.toUTCJSDate(),true),r=this._oItemNavigation.getItemDomRefs(),o;for(var n=0;n<r.length;n++){o=r[n];if(o.getAttribute("data-sap-day")===s){if(document.activeElement!==r[n]){if(i||t.system.phone){this._oItemNavigation.setFocusedIndex(n)}else{this._oItemNavigation.focusItem(n)}}break}}};function I(){if(this._bMouseMove){this._unbindMousemove(true)}this.fireSelect()}function L(){if(!this._bNamesLengthChecked){var e,t=this.getDomRef().querySelectorAll(".sapUiCalWH:not(.sapUiCalDummy)"),a=this._isMonthNameLong(t),i,s,r,o;if(a){this._bLongWeekDays=false;i=this._getLocaleData();s=this._getFirstWeekDay();r=i.getDaysStandAlone("narrow",this.getPrimaryCalendarType());for(o=0;o<t.length;o++){e=t[o];e.textContent=r[(o+s)%7]}}else{this._bLongWeekDays=true}this._bNamesLengthChecked=true}}return b});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/calendar/MonthPicker", ["sap/ui/core/Control","sap/ui/Device","sap/ui/core/LocaleData","sap/ui/core/delegate/ItemNavigation","sap/ui/unified/library","sap/ui/core/Locale","./MonthPickerRenderer","sap/ui/thirdparty/jquery","sap/ui/events/KeyCodes","sap/ui/unified/DateRange","sap/ui/unified/calendar/CalendarUtils","sap/ui/unified/calendar/CalendarDate","sap/ui/core/Configuration"],function(t,e,a,i,s,o,n,jQuery,r,h,l,g,f){"use strict";var c=12,d=2,u={OneYearBackward:-1,OneYearForward:1};var p=t.extend("sap.ui.unified.calendar.MonthPicker",{metadata:{library:"sap.ui.unified",properties:{month:{type:"int",group:"Data",defaultValue:0},months:{type:"int",group:"Appearance",defaultValue:12},intervalSelection:{type:"boolean",group:"Behavior",defaultValue:false},columns:{type:"int",group:"Appearance",defaultValue:3},primaryCalendarType:{type:"sap.ui.core.CalendarType",group:"Appearance"},secondaryCalendarType:{type:"sap.ui.core.CalendarType",group:"Appearance"},_firstMonth:{type:"int",group:"Data",visibility:"hidden",defaultValue:0},_focusedMonth:{type:"int",group:"Data",visibility:"hidden"}},aggregations:{selectedDates:{type:"sap.ui.unified.DateRange",multiple:true,singularName:"selectedDate"}},associations:{ariaLabelledBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"}},events:{select:{},pageChange:{}}},renderer:n});p.prototype.init=function(){var t=f.getCalendarType();this.setProperty("primaryCalendarType",t);this._iMinMonth=0;this._iMaxMonth=11};p.prototype.onAfterRendering=function(){var t,e=this.getMonth(),a=this.getMonths(),i=this.getProperty("_firstMonth"),s=this.getProperty("_focusedMonth"),o=this._oItemNavigation?this._oItemNavigation.getFocusedIndex():0;_.call(this);D.call(this);if(this.getColumns()>0){t=s%a;var n=parseInt(c/a),r=n*a;if(s>=r){t=12-r+1+t}}else if(e<i||e>i+a-1){t=o}else{t=e-i}this._oItemNavigation.focusItem(t)};p.prototype.setMonth=function(t){var e=Math.floor(t/this.getMonths())*this.getMonths();if(e+this.getMonths()>12){e=12-this.getMonths()}this.setProperty("month",t);this.setProperty("_focusedMonth",t);this.setProperty("_firstMonth",e);t=this.getProperty("month");if(t<0||t>11){throw new Error("Property month must be between 0 and 11; "+this)}if(this.getIntervalSelection()){this._oItemNavigation&&this._oItemNavigation.focusItem(t);return this}if(this.getDomRef()){if(this.getMonths()<12){var a=this.getStartMonth();if(t>=a&&t<=a+this.getMonths()-1){this._selectMonth(t,true);this._oItemNavigation.focusItem(t-a)}else{y.call(this,t)}}else{this._selectMonth(t,true);this._oItemNavigation.focusItem(t)}}return this};p.prototype.getSelectedDates=function(){if(this._oSelectedDatesControlOrigin){return this._oSelectedDatesControlOrigin.getSelectedDates()}return this.getAggregation("selectedDates")};p.prototype._getSelectedDates=function(){var t=this.getSelectedDates(),e;if(t){return t}else if(!this._aMPSelectedDates||!this._aMPSelectedDates.length){this._aMPSelectedDates=[new h];e=g.fromLocalJSDate(new Date,this.getPrimaryCalendarType());e.setMonth(this.getMonth(),1);this._iYear&&e.setYear(this._iYear);this._aMPSelectedDates[0].setStartDate(e.toLocalJSDate());return this._aMPSelectedDates}else{return this._aMPSelectedDates}};p.prototype.exit=function(){if(this._aMPSelectedDates&&this._aMPSelectedDates.length){this._aMPSelectedDates.forEach(function(t){t.destroy()});this._aMPSelectedDates=undefined}};p.prototype.getFocusDomRef=function(){return this.getDomRef()&&this._oItemNavigation.getItemDomRefs()[this._oItemNavigation.getFocusedIndex()]};p.prototype._setSelectedDatesControlOrigin=function(t){this._oSelectedDatesControlOrigin=t};p.prototype._setYear=function(t){this._iYear=t};p.prototype._setDate=function(t){this._oDate=t};p.prototype._getLocale=function(){var t=this._oSelectedDatesControlOrigin;if(t&&t._getLocale){return t._getLocale()}else if(!this._sLocale){this._sLocale=f.getFormatSettings().getFormatLocale().toString()}return this._sLocale};p.prototype._getLocaleData=function(){var t=this._oSelectedDatesControlOrigin;if(t&&t._getLocaleData){return t._getLocaleData()}else if(!this._oLocaleData){var e=this._getLocale();var i=new o(e);this._oLocaleData=a.getInstance(i)}return this._oLocaleData};p.prototype.onsapspace=function(t){t.preventDefault()};p.prototype.onsapselect=function(t){var e=this._oItemNavigation.getFocusedIndex();var a=e+this.getStartMonth();if(a>=this._iMinMonth&&a<=this._iMaxMonth){this._selectMonth(a);this.fireSelect()}};p.prototype.onmousedown=function(t){this._oMousedownPosition={clientX:t.clientX,clientY:t.clientY}};p.prototype.onmouseup=function(t){var a=t.target,i=this._getSelectedDates()[0],s,o,n;if(this._bMousedownChange){this._bMousedownChange=false;if(this.getIntervalSelection()&&a.classList.contains("sapUiCalItem")&&i){s=g.fromLocalJSDate(i.getStartDate(),this.getPrimaryCalendarType());o=i.getEndDate();n=this._extractMonth(a);if(n!==s.getMonth()&&!o&&n>=this._iMinMonth&&n<=this._iMaxMonth){this._selectMonth(n);this._oItemNavigation.focusItem(n)}}this.fireSelect()}else if(e.support.touch&&this._isValueInThreshold(this._oMousedownPosition.clientX,t.clientX,10)&&this._isValueInThreshold(this._oMousedownPosition.clientY,t.clientY,10)){n=this._oItemNavigation.getFocusedIndex()+this.getStartMonth();if(n>=this._iMinMonth&&n<=this._iMaxMonth){this._selectMonth(n);this.fireSelect()}}};p.prototype.onmouseover=function(t){var e=t.target,a=this._getSelectedDates()[0],i,s;if(!a){return}if(a.getStartDate()){i=g.fromLocalJSDate(a.getStartDate(),this.getPrimaryCalendarType());i.setDate(1)}if(e.classList.contains("sapUiCalItem")){s=g.fromLocalJSDate(new Date,this.getPrimaryCalendarType());s.setMonth(this._extractMonth(e),1);this._iYear&&s.setYear(this._iYear);if(this._isSelectionInProgress()){this._markInterval(i,s)}}};p.prototype.onThemeChanged=function(){if(this._bNoThemeChange){return}if(!this.getDomRef()){return}var t=this._oItemNavigation.getItemDomRefs(),e=this._getLocaleData(),a=e.getMonthsStandAlone("wide",this.getPrimaryCalendarType()),i,s;this._bNamesLengthChecked=undefined;this._bLongMonth=false;for(i=0;i<t.length;i++){s=jQuery(t[i]);s.text(a[i])}D.call(this)};p.prototype.nextPage=function(){var t=this.getStartMonth(),e=this._oItemNavigation.getFocusedIndex(),a=e+t,i=this.getMonths();a=a+i;if(a>c-1){a=c-1}y.call(this,a);var s=Math.floor(this.getStartMonth()+this.getMonths())%c;if(s+this.getMonths()>12){s=12-this.getMonths()}this.setProperty("_firstMonth",s);return this};p.prototype.previousPage=function(){var t=this.getStartMonth(),e=this._oItemNavigation.getFocusedIndex(),a=e+t,i=this.getMonths();a=a-i;if(a<0){a=0}y.call(this,a);var s=Math.floor(this.getStartMonth()-this.getMonths())%c;if(s<0){s=0}this.setProperty("_firstMonth",s);return this};p.prototype.setMinMax=function(t,e){var a,i,s,o;if(t==this._iMinMonth&&e==this._iMaxMonth){return this}t=parseInt(t);if(isNaN(t)||t<0||t>11){t=0}e=parseInt(e);if(isNaN(e)||e<0||e>11){e=11}if(t<=e){this._iMinMonth=t;this._iMaxMonth=e}else{this._iMaxMonth=t;this._iMinMonth=e}if(this.getDomRef()){a=this._oItemNavigation.getItemDomRefs();for(o=0;o<a.length;o++){i=jQuery(a[o]);s=this._extractMonth(a[o]);if(s<this._iMinMonth||s>this._iMaxMonth){i.addClass("sapUiCalItemDsbl");i.attr("aria-disabled",true)}else{i.removeClass("sapUiCalItemDsbl");i.removeAttr("aria-disabled")}}}return this};p.prototype.getStartMonth=function(){return this.getProperty("_firstMonth")};p.prototype._isValueInThreshold=function(t,e,a){var i=t-a,s=t+a;return e>=i&&e<=s};p.prototype._getSecondaryCalendarType=function(){return this.getSecondaryCalendarType()===this.getPrimaryCalendarType()?undefined:this.getSecondaryCalendarType()};p.prototype._getDisplayedSecondaryDates=function(t){var e=this.getSecondaryCalendarType(),a=new g(this._oDate?this._oDate:g.fromLocalJSDate(new Date),this.getPrimaryCalendarType()),i,s;a.setMonth(t);a.setDate(1);i=new g(a,e);a.setDate(l._daysInMonth(a));s=new g(a,e);return{start:i,end:s}};function _(){var t=this.getDomRef(),e=this.$().find(".sapUiCalItem"),a=this.getColumns();if(!this._oItemNavigation){this._oItemNavigation=new i;this._oItemNavigation.attachEvent(i.Events.AfterFocus,this._handleAfterFocus,this);this._oItemNavigation.attachEvent(i.Events.FocusAgain,m,this);this._oItemNavigation.attachEvent(i.Events.BorderReached,M,this);this.addDelegate(this._oItemNavigation);this._oItemNavigation.setHomeEndColumnMode(true,true);this._oItemNavigation.setDisabledModifiers({sapnext:["alt","meta"],sapprevious:["alt","meta"],saphome:["alt","meta"],sapend:["meta"]})}this._oItemNavigation.setRootDomRef(t);this._oItemNavigation.setItemDomRefs(e);this._oItemNavigation.setCycling(false);this._oItemNavigation.setColumns(a,true);var s=this.getMonth()-this.getStartMonth();this._oItemNavigation.setFocusedIndex(s);this._oItemNavigation.setPageSize(e.length)}p.prototype._handleAfterFocus=function(t){var e=t.getParameter("index"),a=t.getParameter("event"),i=this._oItemNavigation.aItemDomRefs[e],s=this._getSelectedDates()[0],o,n;if(!a){return}if(a.type==="mousedown"){this._handleMousedown(a,e)}else if(a.type==="sapnext"||a.type==="sapprevious"){if(!s){return}if(s.getStartDate()){o=g.fromLocalJSDate(s.getStartDate(),this.getPrimaryCalendarType());o.setDate(1)}n=g.fromLocalJSDate(new Date,this.getPrimaryCalendarType());n.setMonth(this._extractMonth(i),1);this._iYear&&n.setYear(this._iYear);if(this._isSelectionInProgress()){this._markInterval(o,n)}}};function m(t){this._handleAfterFocus(t)}p.prototype._isSelectionInProgress=function(){var t=this._getSelectedDates()[0];if(!t){return false}return this.getIntervalSelection()&&t.getStartDate()&&!t.getEndDate()};p.prototype._extractMonth=function(t){var e=this.getId().length+d;return parseInt(t.id.slice(e))};p.prototype._markInterval=function(t,e){var a=this._oItemNavigation.getItemDomRefs(),i=g.fromLocalJSDate(new Date,this.getPrimaryCalendarType()),s;if(t.isAfter(e)){e=[t,t=e][0]}if(this._bMousedownChange){if(e.getMonth()>this._iMinMonth&&e.getMonth()<this._iMaxMonth){jQuery(a[e.getMonth()]).addClass("sapUiCalItemSel")}if(t.getMonth()>this._iMinMonth&&t.getMonth()<this._iMaxMonth){jQuery(a[t.getMonth()]).addClass("sapUiCalItemSel")}}for(s=0;s<a.length;++s){i.setMonth(this._extractMonth(a[s]),1);this._iYear&&i.setYear(this._iYear);if(l._isBetween(i,t,e)&&i.getMonth()>this._iMinMonth&&i.getMonth()<this._iMaxMonth){jQuery(a[s]).addClass("sapUiCalItemSelBetween")}else{jQuery(a[s]).removeClass("sapUiCalItemSelBetween")}if(this._bMousedownChange&&!i.isSame(t)&&!i.isSame(e)){jQuery(a[s]).removeClass("sapUiCalItemSel")}}};p.prototype._handleMousedown=function(t,a){if(t.button||e.support.touch&&!e.system.combi){return}var i=a+this.getStartMonth();if(i>=this._iMinMonth&&i<=this._iMaxMonth){this._selectMonth(i);this._bMousedownChange=true}t.preventDefault();t.setMark("cancelAutoClose")};function M(t){var e=t.getParameter("event"),a=this._oItemNavigation.getFocusedIndex()+this.getStartMonth(),i=this.getMonths(),s=this.getColumns(),o=this._getSelectedDates()[0],n,h=g.fromLocalJSDate(new Date,this.getPrimaryCalendarType()),l=s===0&&i<c;this._iYear&&h.setYear(this._iYear);if(o&&o.getStartDate()){n=g.fromLocalJSDate(o.getStartDate(),this.getPrimaryCalendarType());n.setDate(1)}if(e.type){switch(e.type){case"sapnext":case"sapnextmodifiers":if(l){this._oneRowChangePage(a,true)}else if(e.keyCode===r.ARROW_DOWN&&s<=i){if(a<c-i){y.call(this,a+s,false,u.OneYearForward)}else if(i===c){this.firePageChange({offset:u.OneYearForward});this._oItemNavigation.focusItem(a%s);h.setMonth(a%s,1);this.setProperty("_focusedMonth",a%s);this._isSelectionInProgress()&&this._markInterval(n,h)}else{if(s===0){s=i}y.call(this,a%s,true,u.OneYearForward)}}else{if(a<c-i){y.call(this,a+1,false,u.OneYearForward)}else if(i===c){this.firePageChange({offset:u.OneYearForward});this._oItemNavigation.focusItem(0);h.setMonth(0,1);this._isSelectionInProgress()&&this._markInterval(n,h)}else{y.call(this,0,true,u.OneYearForward)}}break;case"sapprevious":case"sappreviousmodifiers":if(l){this._oneRowChangePage(a)}else if(e.keyCode===r.ARROW_UP&&s<=i){if(a>=i){y.call(this,a-s,false,u.OneYearBackward)}else if(i===c){this.firePageChange({offset:u.OneYearBackward});this._oItemNavigation.focusItem(i-s+a);h.setMonth(i-s+a,1);this.setProperty("_focusedMonth",i-s+a);this._isSelectionInProgress()&&this._markInterval(n,h)}else{y.call(this,c-s+a,true,u.OneYearBackward)}}else{if(a>=i){y.call(this,a-1,false,u.OneYearBackward)}else if(i===c){this.firePageChange({offset:u.OneYearBackward});this._oItemNavigation.focusItem(i-1);h.setMonth(i-1,1);this._isSelectionInProgress()&&this._markInterval(n,h)}else{y.call(this,c-1,true,u.OneYearBackward)}}break;case"sappagedown":if(a<c-i){y.call(this,a+i,false,u.OneYearForward)}else if(i===c){this.firePageChange({offset:u.OneYearForward})}else{y.call(this,a,true,u.OneYearForward)}break;case"sappageup":if(a>i){y.call(this,a-i,false,u.OneYearBackward)}else if(i===c){this.firePageChange({offset:u.OneYearBackward})}else{y.call(this,a,true,u.OneYearBackward)}break;default:break}}}p.prototype._oneRowChangePage=function(t,e){var a=this.getProperty("_firstMonth"),i=this.getMonths(),s=e?a+i<c:a>0,o=e?1:-1;if(s){e&&this.nextPage()||this.previousPage();this.firePageChange({offset:0});this.setMonth(t+o)}};p.prototype._selectMonth=function(t,e){var a=this._getSelectedDates()[0],i=this.getAggregation("selectedDates"),s,o;this.setProperty("_focusedMonth",t);if(!a){return}!e&&this.setProperty("month",t);o=g.fromLocalJSDate(new Date,this.getPrimaryCalendarType());o.setMonth(t,1);this._iYear&&o.setYear(this._iYear);if(!this._oSelectedDatesControlOrigin){if(!i||!i.length){this.addAggregation("selectedDates",a,true)}!this.getIntervalSelection()&&a.setStartDate(o.toLocalJSDate())}if(this.getIntervalSelection()&&!e){if(!a.getStartDate()){a.setStartDate(o.toLocalJSDate())}else if(!a.getEndDate()){s=g.fromLocalJSDate(a.getStartDate(),this.getPrimaryCalendarType());if(o.isBefore(s)){a.setEndDate(s.toLocalJSDate());a.setStartDate(o.toLocalJSDate())}else{a.setEndDate(o.toLocalJSDate())}}else{a.setStartDate(o.toLocalJSDate());a.setEndDate(undefined)}}};function D(){if(!this._bNamesLengthChecked){var t=0,e=this._oItemNavigation.getItemDomRefs(),a=false,i=this.getMonths(),s=Math.ceil(c/i),o=i-1;for(var n=0;n<s;n++){if(i<c){y.call(this,o);o=o+i;if(o>c-1){o=c-1}}for(t=0;t<e.length;t++){var r=e[t];if(Math.abs(r.clientWidth-r.scrollWidth)>1){a=true;break}}if(a){break}}if(i<c){o=this.getMonth();y.call(this,o)}if(a){this._bLongMonth=false;var h=this._getLocaleData(),l=this.getPrimaryCalendarType(),g=h.getMonthsStandAlone("abbreviated",l),f=h.getMonthsStandAlone("wide",l);for(t=0;t<e.length;t++){var d=jQuery(e[t]);d.text(g[t]);d.attr("aria-label",f[t])}}else{this._bLongMonth=true}this._bNamesLengthChecked=true}}function y(t,e,a){var i=this._getSelectedDates()[0],s,o;this.setProperty("_focusedMonth",t);if(i&&i.getStartDate()){s=g.fromLocalJSDate(i.getStartDate(),this.getPrimaryCalendarType());s.setDate(1)}if(i&&i.getEndDate()){o=g.fromLocalJSDate(i.getEndDate(),this.getPrimaryCalendarType());o.setDate(1)}else{o=g.fromLocalJSDate(new Date,this.getPrimaryCalendarType());this._iYear&&o.setYear(this._iYear);o.setMonth(t,1)}this._isSelectionInProgress()&&this._markInterval(s,o);if(e){this.firePageChange({offset:a})}}p.prototype._fnShouldApplySelection=function(t){var e=this._getSelectedDates()[0],a,i;if(!e){return false}a=e.getStartDate();i=e.getEndDate();if(a){a=g.fromLocalJSDate(a,this.getPrimaryCalendarType());a.setDate(1)}if(this.getIntervalSelection()&&a&&i){i=g.fromLocalJSDate(i,this.getPrimaryCalendarType());i.setDate(1);if(t.isSame(a)||t.isSame(i)){return true}}else if(a&&t.isSame(a)){return true}return false};p.prototype._fnShouldApplySelectionBetween=function(t){var e=this._getSelectedDates()[0],a,i;if(!e){return false}a=e.getStartDate();i=e.getEndDate();if(this.getIntervalSelection()&&a&&i){a=g.fromLocalJSDate(a,this.getPrimaryCalendarType());a.setDate(1);i=g.fromLocalJSDate(i,this.getPrimaryCalendarType());i.setDate(1);if(l._isBetween(t,a,i)){return true}}return false};return p});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/calendar/MonthPickerRenderer", ["sap/ui/unified/calendar/CalendarDate","sap/ui/core/format/DateFormat","sap/ui/core/InvisibleText"],function(e,t,a){"use strict";var n={apiVersion:2};n.render=function(n,r){var i=r.getProperty("_firstMonth")!==undefined?r.getProperty("_firstMonth"):r.getMonth(),l=r.getMonths(),o=0,s=r.getColumns(),d=r.getTooltip_AsString(),c=r._getLocaleData(),p=r.getId(),g="",f=[],u=[],y=r.getPrimaryCalendarType(),S=r._getSecondaryCalendarType(),h=t.getDateInstance({format:"y",calendarType:r.getPrimaryCalendarType()}),C=r._iYear?r._iYear:(new Date).getFullYear(),b=h.format(new Date(Date.UTC(C,0,1)),true),_,m,M;if(r._bLongMonth||!r._bNamesLengthChecked){f=c.getMonthsStandAlone("wide",y)}else{f=c.getMonthsStandAlone("abbreviated",y);u=c.getMonthsStandAlone("wide",y)}n.openStart("div",r);n.class("sapUiCalMonthPicker");if(S){n.class("sapUiCalMonthSecType")}if(d){n.attr("tooltip",d)}n.accessibilityState(r,{role:"grid",readonly:"true",multiselectable:r.getIntervalSelection(),roledescription:sap.ui.getCore().getLibraryResourceBundle("sap.ui.unified").getText("MONTH_PICKER"),describedby:r._bCalendar?a.getStaticId("sap.ui.unified","CALENDAR_YEAR_PICKER_OPEN_HINT"):""});n.openEnd();var v;if(l>12){l=12}else if(l<12){o=i}if(s>0){g=100/s+"%"}else{g=100/l+"%"}for(_=0;_<l;_++){var T=_+o,D=e.fromLocalJSDate(new Date,r.getPrimaryCalendarType());D.setMonth(T,1);r._iYear&&D.setYear(r._iYear);v={role:"gridcell"};if(!r._bLongMonth&&r._bNamesLengthChecked){v["label"]=u[T]}if(s>0&&_%s===0){n.openStart("div");n.accessibilityState(null,{role:"row"});n.openEnd()}n.openStart("div",p+"-m"+T);n.class("sapUiCalItem");m=r._fnShouldApplySelection(D);M=r._fnShouldApplySelectionBetween(D);if(m){n.class("sapUiCalItemSel");v["selected"]=true}if(M){n.class("sapUiCalItemSelBetween");v["selected"]=true}if(!m&&!M){v["selected"]=false}if(T<r._iMinMonth||T>r._iMaxMonth){n.class("sapUiCalItemDsbl");v["disabled"]=true}v["label"]=f[T]+" "+b;if(S){var I=r.getSecondaryCalendarType(),U=c.getMonthsStandAlone("abbreviated",I),A=t.getDateInstance({format:"y",calendarType:I}),P=r._getDisplayedSecondaryDates(T),w,E,L;if(P.start.getMonth()===P.end.getMonth()){w=U[P.start.getMonth()];E=A.format(P.start.toUTCJSDate(),true)}else{L=c.getIntervalPattern();w=L.replace(/\{0\}/,U[P.start.getMonth()]).replace(/\{1\}/,U[P.end.getMonth()]);E=L.replace(/\{0\}/,A.format(P.start.toUTCJSDate(),true)).replace(/\{1\}/,A.format(P.end.toUTCJSDate(),true))}v["label"]=v["label"]+" "+w+" "+E}n.attr("tabindex","-1");n.style("width",g);n.accessibilityState(null,v);n.openEnd();n.text(f[T]);if(S){n.openStart("div",p+"-m"+T+"-secondary");n.class("sapUiCalItemSecText");n.openEnd();n.text(w);n.close("div")}n.close("div");if(s>0&&(_+1)%s===0){n.close("div")}}n.close("div")};return n},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/calendar/MonthRenderer", ["sap/ui/unified/calendar/CalendarUtils","sap/ui/unified/calendar/CalendarDate","sap/ui/unified/CalendarLegend","sap/ui/unified/CalendarLegendRenderer","sap/ui/core/library","sap/ui/unified/library","sap/base/Log","sap/ui/core/InvisibleText","sap/ui/core/Configuration"],function(e,a,t,i,n,r,s,d,l){"use strict";var o=r.CalendarDayType;var c=n.CalendarType;var p={apiVersion:2};p.render=function(e,a){var t=this.getStartDate(a),i=a.getTooltip_AsString(),n=sap.ui.getCore().getLibraryResourceBundle("sap.ui.unified"),r=a.getId(),s={value:"",append:true},l="",o=a.getWidth();e.openStart("div",a);this.getClass(e,a).forEach(function(a){e.class(a)});if(a._getSecondaryCalendarType()){e.class("sapUiCalMonthSecType")}this.addWrapperAdditionalStyles(e,a);if(i){e.attr("title",i)}if(a._getShowHeader()){s.value=s.value+" "+r+"-Head"}if(a._bCalendar){l+=" "+d.getStaticId("sap.ui.unified","CALENDAR_MONTH_PICKER_OPEN_HINT")+" "+d.getStaticId("sap.ui.unified","CALENDAR_YEAR_PICKER_OPEN_HINT")}if(o){e.style("width",o)}e.accessibilityState(a,{role:"grid",roledescription:n.getText("CALENDAR_DIALOG"),multiselectable:!a.getSingleSelection()||a.getIntervalSelection(),labelledby:s,describedby:l});e.openEnd();if(a.getIntervalSelection()){e.openStart("span",r+"-Start");e.style("display","none");e.openEnd();e.text(n.getText("CALENDAR_START_DATE"));e.close("span");e.openStart("span",r+"-End");e.style("display","none");e.openEnd();e.text(n.getText("CALENDAR_END_DATE"));e.close("span")}this.renderMonth(e,a,t);e.close("div")};p.addWrapperAdditionalStyles=function(){};p.getStartDate=function(e){return e._getDate()};p.getClass=function(e,a){var t=["sapUiCalMonthView"],i=a.getPrimaryCalendarType(),n=a.getShowWeekNumbers();if(i===c.Islamic||!n){t.push("sapUiCalNoWeekNum")}return t};p.renderMonth=function(e,a,t){this.renderHeader(e,a,t);this.renderDays(e,a,t)};p.renderHeader=function(e,a,t){var i=a._getLocaleData();var n=a._getFirstDayOfWeek();this.renderHeaderLine(e,a,i,t);e.openStart("div");e.accessibilityState(null,{role:"row"});e.style("overflow","hidden");e.openEnd();this.renderDayNames(e,a,i,n,7,true,undefined);e.close("div")};p.renderHeaderLine=function(a,t,i,n){e._checkCalendarDate(n);if(t._getShowHeader()){var r=t.getId();var s=t.getPrimaryCalendarType();var d=i.getMonthsStandAlone("wide",s);a.openStart("div",r+"-Head");a.class("sapUiCalHeadText");a.openEnd();a.text(d[n.getMonth()]);a.close("div")}};p.renderDayNames=function(e,a,t,i,n,r,s){var d=a._getFirstDayOfWeek();var l=a.getId();var o="";var p=a.getPrimaryCalendarType();var y=[];if(a._bLongWeekDays||!a._bNamesLengthChecked){y=t.getDaysStandAlone("abbreviated",p)}else{y=t.getDaysStandAlone("narrow",p)}var g=t.getDaysStandAlone("wide",p);if(a.getShowWeekNumbers()&&p!==c.Islamic){this.renderDummyCell(e,"sapUiCalWH",true,"columnheader")}for(var f=0;f<n;f++){if(r){o=l+"-WH"+(f+d)%7}else{o=l+"-WH"+f}e.openStart("div",o);e.class("sapUiCalWH");if(f===0){e.class("sapUiCalFirstWDay")}if(s){e.style("width",s)}e.accessibilityState(null,{role:"columnheader",label:g[(f+i)%7],hidden:true});e.openEnd();e.text(y[(f+i)%7]);e.close("div")}};p.renderDays=function(a,t,i){var n,r,s,d,l,o,p;e._checkCalendarDate(i);if(!i){i=t._getFocusedDate()}o=i.toUTCJSDate().getTime();if(!o&&o!==0){throw new Error("Date is invalid "+t)}d=this.getDayHelper(t,i);r=t._getVisibleDays(i,true);p=t.getShowWeekNumbers();n=t.getPrimaryCalendarType()!==c.Islamic&&p;s=r.length;for(l=0;l<s;l++){if(l%7===0){a.openStart("div");a.attr("role","row");a.openEnd();if(n){this._renderWeekNumber(a,r[l],d,t)}}this.renderDay(a,t,r[l],d,true,n,-1);if(l%7===6||l===s-1){a.close("div")}}if(s===28){this.renderDummyCell(a,"sapUiCalItem",false,"")}};p.renderDummyCell=function(e,a,t,i){e.openStart("div");e.class(a);e.class("sapUiCalDummy");e.style("visibility",t?"visible":"hidden");e.attr("role",i);e.attr("aria-label",sap.ui.getCore().getLibraryResourceBundle("sap.ui.unified").getText("CALENDAR_WEEK"));e.openEnd();e.close("div")};p.getDayHelper=function(i,n){var r,d,o=i._getLocaleData(),c={sLocale:i._getLocale(),oLocaleData:o,iMonth:n.getMonth(),iYear:n.getYear(),iFirstDayOfWeek:i._getFirstDayOfWeek(),iWeekendStart:o.getWeekendStart(),iWeekendEnd:o.getWeekendEnd(),aNonWorkingDays:i._getNonWorkingDays(),sToday:o.getRelativeDay(0),oToday:a.fromLocalJSDate(e._convertToTimezone(new Date,l.getTimezone()),i.getPrimaryCalendarType()),sId:i.getId(),oFormatLong:i._getFormatLong(),sPrimaryCalendarType:i.getPrimaryCalendarType(),sSecondaryCalendarType:i._getSecondaryCalendarType(),oLegend:undefined};d=i.getLegend();if(d&&typeof d==="string"){r=sap.ui.getCore().byId(d);if(r){if(!(r instanceof t)){throw new Error(r+" is not an sap.ui.unified.CalendarLegend. "+i)}c.oLegend=r}else{s.warning("CalendarLegend "+d+" does not exist!",i)}}return c};p.renderDay=function(t,n,r,s,d,l,c,p,y){e._checkCalendarDate(r);var g=new a(r,s.sSecondaryCalendarType),f={role:n._getAriaRole(),selected:false,label:"",describedby:""},u=r._bBeforeFirstYear,D="",C=s.oLegend,b;var S=n._oFormatYyyymmdd.format(r.toUTCJSDate(),true);var m=r.getDay();var h=n._checkDateSelected(r);var v=n._getDateTypes(r);var W=s&&s.oLegend?s.oLegend._getSpecialDateTypeFilter():"";var _=n._checkDateEnabled(r);var E=0;var k=n._isSpecialDateMarkerEnabled(r);if(u){_=false}if(!y){f["describedby"]=c<0?s.sId+"-WH"+m:s.sId+"-WH"+c}t.openStart("div",s.sId+"-"+S);t.class("sapUiCalItem");t.class("sapUiCalWDay"+m);if(p){t.style("width",p)}if(m===s.iFirstDayOfWeek){t.class("sapUiCalFirstWDay")}if(d&&s.iMonth!==r.getMonth()){t.class("sapUiCalItemOtherMonth");f["disabled"]=true}if(r.isSame(s.oToday)){t.class("sapUiCalItemNow");f["label"]=s.sToday+" "}if(h>0){t.class("sapUiCalItemSel");f["selected"]=true}else{f["selected"]=false}if(h===2){t.class("sapUiCalItemSelStart");f["describedby"]=f["describedby"]+" "+s.sId+"-Start"}else if(h===3){t.class("sapUiCalItemSelEnd");f["describedby"]=f["describedby"]+" "+s.sId+"-End"}else if(h===4){t.class("sapUiCalItemSelBetween")}else if(h===5){t.class("sapUiCalItemSelStart");t.class("sapUiCalItemSelEnd");f["describedby"]=f["describedby"]+" "+s.sId+"-Start";f["describedby"]=f["describedby"]+" "+s.sId+"-End"}if(this.renderWeekNumbers&&n._oDate){f["describedby"]=f["describedby"]+" "+n.getId()+"-week-"+n._calculateWeekNumber(r)+"-text"}if(k){v.forEach(function(e){if(e.type!==o.None){if(e.type===o.NonWorking){t.class("sapUiCalItemWeekEnd");b=this._addNonWorkingDayText(f);return}if(W===""||W===o.None||W===e.type){t.class("sapUiCalItem"+e.type);D=e.type;if(e.tooltip){t.attr("title",e.tooltip)}}}}.bind(this))}if(!b){if(s.aNonWorkingDays){s.aNonWorkingDays.forEach(function(e){if(r.getDay()===e){this._addNonWorkingDayText(f)}}.bind(this))}else if(r.getDay()===s.iWeekendStart||r.getDay()===s.iWeekendEnd){this._addNonWorkingDayText(f)}}if((n.getParent()&&n.getParent().getMetadata().getName()==="sap.ui.unified.CalendarOneMonthInterval"||n.getMetadata().getName()==="sap.ui.unified.calendar.OneMonthDatesRow")&&n.getStartDate()&&s.iMonth!==r.getMonth()){t.class("sapUiCalItemOtherMonth")}if(!_){t.class("sapUiCalItemDsbl");f["disabled"]=true}if(s.aNonWorkingDays){for(E=0;E<s.aNonWorkingDays.length;E++){if(m===s.aNonWorkingDays[E]){t.class("sapUiCalItemWeekEnd");break}}}else if(m>=s.iWeekendStart&&m<=s.iWeekendEnd||s.iWeekendEnd<s.iWeekendStart&&(m>=s.iWeekendStart||m<=s.iWeekendEnd)){t.class("sapUiCalItemWeekEnd")}t.attr("tabindex","-1");t.attr("data-sap-day",S);if(y){f["label"]=f["label"]+s.aWeekDaysWide[m]+" "}f["label"]=f["label"]+s.oFormatLong.format(r.toUTCJSDate(),true);if(D!==""){i.addCalendarTypeAccInfo(f,D,C)}if(s.sSecondaryCalendarType){f["label"]=f["label"]+" "+n._oFormatSecondaryLong.format(g.toUTCJSDate(),true)}t.accessibilityState(null,f);t.openEnd();if(v[0]&&k){t.openStart("div");t.class("sapUiCalSpecialDate");if(v[0].color&&(W===""||W===o.None)){t.style("background-color",v[0].color)}t.openEnd();t.close("div")}t.openStart("span");t.class("sapUiCalItemText");if(v[0]&&v[0].color){t.class("sapUiCalItemTextCustomColor")}t.openEnd();if(!u){t.text(r.getDate())}t.close("span");if(y){t.openStart("span");t.class("sapUiCalDayName");t.openEnd();t.text(s.aWeekDays[m]);t.close("span")}if(s.sSecondaryCalendarType){t.openStart("span");t.class("sapUiCalItemSecText");t.openEnd();t.text(g.getDate());t.close("span")}t.close("div")};p._addNonWorkingDayText=function(e){var a=sap.ui.getCore().getLibraryResourceBundle("sap.ui.unified").getText("LEGEND_NON_WORKING_DAY")+" ";e["label"]+=a;return a};p._renderWeekNumber=function(e,a,t,i){var n=i._calculateWeekNumber(a);var r=t.sId+"-WNum-"+n;e.openStart("div",r);e.class("sapUiCalWeekNum");e.accessibilityState(null,{role:"rowheader",labelledby:d.getStaticId("sap.ui.unified","CALENDAR_WEEK")+" "+r});e.openEnd();e.text(n);e.close("div")};return p},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/calendar/MonthsRow", ["sap/ui/core/Control","sap/ui/core/LocaleData","sap/ui/core/delegate/ItemNavigation","sap/ui/unified/calendar/CalendarUtils","sap/ui/unified/calendar/CalendarDate","sap/ui/unified/library","sap/ui/core/format/DateFormat","sap/ui/core/library","sap/ui/core/Locale","./MonthsRowRenderer","sap/ui/dom/containsOrEquals","sap/ui/thirdparty/jquery","sap/ui/unified/DateRange","sap/ui/core/Configuration"],function(e,t,a,i,r,o,s,n,l,h,g,jQuery,c,p){"use strict";var u=e.extend("sap.ui.unified.calendar.MonthsRow",{metadata:{library:"sap.ui.unified",properties:{date:{type:"object",group:"Data"},startDate:{type:"object",group:"Data"},months:{type:"int",group:"Appearance",defaultValue:12},intervalSelection:{type:"boolean",group:"Behavior",defaultValue:false},singleSelection:{type:"boolean",group:"Behavior",defaultValue:true},showHeader:{type:"boolean",group:"Appearance",defaultValue:false},primaryCalendarType:{type:"sap.ui.core.CalendarType",group:"Appearance",defaultValue:null}},aggregations:{selectedDates:{type:"sap.ui.unified.DateRange",multiple:true,singularName:"selectedDate"},specialDates:{type:"sap.ui.unified.DateTypeRange",multiple:true,singularName:"specialDate"}},associations:{ariaLabelledBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"},legend:{type:"sap.ui.unified.CalendarLegend",multiple:false}},events:{select:{},focus:{parameters:{date:{type:"object"},notVisible:{type:"boolean"}}}}},renderer:h});u.prototype.init=function(){var e=this.getProperty("primaryCalendarType");this._oFormatYyyymm=s.getInstance({pattern:"yyyyMMdd",calendarType:e});this._oFormatLong=s.getInstance({pattern:"MMMM y",calendarType:e});this._mouseMoveProxy=jQuery.proxy(this._handleMouseMove,this);this._rb=sap.ui.getCore().getLibraryResourceBundle("sap.ui.unified")};u.prototype.exit=function(){if(this._oItemNavigation){this.removeDelegate(this._oItemNavigation);this._oItemNavigation.destroy();delete this._oItemNavigation}if(this._sInvalidateMonths){clearTimeout(this._sInvalidateMonths)}};u.prototype.onAfterRendering=function(){f.call(this);C.call(this)};u.prototype.onsapfocusleave=function(e){if(!e.relatedControlId||!g(this.getDomRef(),sap.ui.getCore().byId(e.relatedControlId).getFocusDomRef())){if(this._bMouseMove){L.call(this,true);S.call(this,this._getDate());this._bMoveChange=false;this._bMousedownChange=false;b.call(this)}if(this._bMousedownChange){this._bMousedownChange=false;b.call(this)}}};u.prototype.removeAllSelectedDates=function(){this._bDateRangeChanged=true;var e=this.removeAllAggregation("selectedDates");return e};u.prototype.destroySelectedDates=function(){this._bDateRangeChanged=true;var e=this.destroyAggregation("selectedDates");return e};u.prototype.removeAllSpecialDates=function(){this._bDateRangeChanged=true;var e=this.removeAllAggregation("specialDates");return e};u.prototype.destroySpecialDates=function(){this._bDateRangeChanged=true;var e=this.destroyAggregation("specialDates");return e};u.prototype.setDate=function(e){if(e){var t=r.fromLocalJSDate(e,this.getProperty("primaryCalendarType"));this._oDate=t;v.call(this,t,false)}return this.setProperty("date",e)};u.prototype._getDate=function(){if(!this._oDate){this._oDate=r.fromLocalJSDate(new Date,this.getProperty("primaryCalendarType"))}return this._oDate};u.prototype.setStartDate=function(e){i._checkJSDateObject(e);var t,a,o;a=e.getFullYear();i._checkYearInValidRange(a);t=r.fromLocalJSDate(e,this.getProperty("primaryCalendarType"));this.setProperty("startDate",e,true);this._oStartDate=t;this._oStartDate.setDate(1);if(this.getDomRef()){o=this._getDate().toLocalJSDate();this._bNoRangeCheck=true;this.displayDate(e);this._bNoRangeCheck=false;if(o&&this.checkDateFocusable(o)){this.setDate(o)}}return this};u.prototype._getStartDate=function(){if(!this._oStartDate){this._oStartDate=r.fromLocalJSDate(new Date,this.getProperty("primaryCalendarType"));this._oStartDate.setDate(1)}return this._oStartDate};u.prototype.displayDate=function(e){v.call(this,r.fromLocalJSDate(e,this.getProperty("primaryCalendarType")),true);return this};u.prototype._getLocale=function(){var e=this.getParent();if(e&&e.getLocale){return e.getLocale()}else if(!this._sLocale){this._sLocale=p.getFormatSettings().getFormatLocale().toString()}return this._sLocale};u.prototype._getLocaleData=function(){var e=this.getParent();if(e&&e._getLocaleData){return e._getLocaleData()}else if(!this._oLocaleData){var a=this._getLocale();var i=new l(a);this._oLocaleData=t.getInstance(i)}return this._oLocaleData};u.prototype._getFormatLong=function(){var e=this._getLocale();if(this._oFormatLong.oLocale.toString()!=e){var t=new l(e);this._oFormatLong=s.getInstance({style:"long",calendarType:this.getProperty("primaryCalendarType")},t)}return this._oFormatLong};u.prototype.getIntervalSelection=function(){var e=this.getParent();if(e&&e.getIntervalSelection){return e.getIntervalSelection()}else{return this.getProperty("intervalSelection")}};u.prototype.getSingleSelection=function(){var e=this.getParent();if(e&&e.getSingleSelection){return e.getSingleSelection()}else{return this.getProperty("singleSelection")}};u.prototype.getSelectedDates=function(){var e=this.getParent();if(e&&e.getSelectedDates){return e.getSelectedDates()}else{return this.getAggregation("selectedDates",[])}};u.prototype.getSpecialDates=function(){var e=this.getParent();if(e&&e.getSpecialDates){return e.getSpecialDates()}else{return this.getAggregation("specialDates",[])}};u.prototype._getShowHeader=function(){var e=this.getParent();if(e&&e._getShowItemHeader){return e._getShowItemHeader()}else{return this.getProperty("showHeader")}};u.prototype.getAriaLabelledBy=function(){var e=this.getParent();if(e&&e.getAriaLabelledBy){return e.getAriaLabelledBy()}else{return this.getAssociation("ariaLabelledBy",[])}};u.prototype._setLegendControlOrigin=function(e){this._oLegendControlOrigin=e};u.prototype.getLegend=function(){var e=this.getParent();if(this._oLegendControlOrigin){return this._oLegendControlOrigin.getLegend()}if(e&&e.getLegend){return e.getLegend()}else{return this.getAssociation("ariaLabelledBy",[])}};u.prototype._setAriaRole=function(e){this._ariaRole=e;return this};u.prototype._getAriaRole=function(){return this._ariaRole?this._ariaRole:"gridcell"};u.prototype._checkDateSelected=function(e){var t,a,o,s,n=0,l=0,h=0,g=this.getProperty("primaryCalendarType"),c,p,u;i._checkCalendarDate(e);p=this.getSelectedDates();u=new r(e);u.setDate(1);s=u.toUTCJSDate().getTime();for(c=0;c<p.length;c++){t=p[c];a=t.getStartDate();n=0;if(a){a=r.fromLocalJSDate(a,g);a.setDate(1);n=a.toUTCJSDate().getTime()}o=t.getEndDate();l=0;if(o){o=r.fromLocalJSDate(o,g);o.setDate(1);l=o.toUTCJSDate().getTime()}if(s==n&&!o){h=1;break}else if(s==n&&o){h=2;if(o&&s==l){h=5}break}else if(o&&s==l){h=3;break}else if(o&&s>n&&s<l){h=4;break}if(this.getSingleSelection()){break}}return h};u.prototype._getDateType=function(e){i._checkCalendarDate(e);var t,a,o,s,n=0,l,h=0,g,c=this.getSpecialDates(),p=new r(e),u=this.getProperty("primaryCalendarType");p.setDate(1);g=p.toUTCJSDate().getTime();for(o=0;o<c.length;o++){a=c[o];s=a.getStartDate();n=0;if(s){s=r.fromLocalJSDate(s,u);s.setDate(1);n=s.toUTCJSDate().getTime()}l=a.getEndDate();h=0;if(l){l=r.fromLocalJSDate(l,u);l.setDate(i._daysInMonth(l));h=l.toUTCJSDate().getTime()}if(g==n&&!l||g>=n&&g<=h){t={type:a.getType(),tooltip:a.getTooltip_AsString()};break}}return t};u.prototype._checkMonthEnabled=function(e){i._checkCalendarDate(e);var t=this.getParent();if(t&&t._oMinDate&&t._oMaxDate){if(i._isOutside(e,t._oMinDate,t._oMaxDate)){return false}}return true};u.prototype._handleMouseMove=function(e){if(!this.$().is(":visible")){L.call(this,true)}var t=jQuery(e.target);if(t.hasClass("sapUiCalItemText")){t=t.parent()}if(t.hasClass("sapUiCalItem")){var a=this._getDate();var i=r.fromLocalJSDate(this._oFormatYyyymm.parse(t.attr("data-sap-month"),this.getProperty("primaryCalendarType")));i.setDate(1);if(!i.isSame(a)){this.setDate(i.toLocalJSDate());S.call(this,i,true);this._bMoveChange=true}}};u.prototype.onmouseup=function(e){if(this._bMouseMove){L.call(this,true);var t=this._getDate();var a=this._oItemNavigation.getItemDomRefs();for(var i=0;i<a.length;i++){var o=jQuery(a[i]);if(o.attr("data-sap-month")==this._oFormatYyyymm.format(t.toUTCJSDate(),true)){o.trigger("focus");break}}if(this._bMoveChange){var s=jQuery(e.target);if(s.hasClass("sapUiCalItemText")){s=s.parent()}if(s.hasClass("sapUiCalItem")){t=r.fromLocalJSDate(this._oFormatYyyymm.parse(s.attr("data-sap-month")));t.setDate(1)}S.call(this,t);this._bMoveChange=false;this._bMousedownChange=false;b.call(this)}}if(this._bMousedownChange){this._bMousedownChange=false;b.call(this)}};u.prototype.onsapselect=function(e){var t=S.call(this,this._getDate());if(t){b.call(this)}e.stopPropagation();e.preventDefault()};u.prototype.onsapselectmodifiers=function(e){this.onsapselect(e)};u.prototype.onsappageupmodifiers=function(e){var t=new r(this._getDate());var a=t.getYear();if(e.metaKey||e.ctrlKey){t.setYear(a-10)}else{var i=this.getMonths();if(i<=12){t.setYear(a-1)}else{t.setMonth(t.getMonth()-i)}}this.fireFocus({date:t.toLocalJSDate(),notVisible:true});e.preventDefault()};u.prototype.onsappagedownmodifiers=function(e){var t=new r(this._getDate());var a=t.getYear();if(e.metaKey||e.ctrlKey){t.setYear(a+10)}else{var i=this.getMonths();if(i<=12){t.setYear(a+1)}else{t.setMonth(t.getMonth()+i)}}this.fireFocus({date:t.toLocalJSDate(),notVisible:true});e.preventDefault()};u.prototype.onThemeChanged=function(){if(this._bNoThemeChange){return}this._bNamesLengthChecked=undefined;this._bLongWeekDays=undefined;var e=this._getLocaleData();var t=e.getMonthsStandAlone("wide",this.getProperty("primaryCalendarType"));var a=this.$("months").children();var i=this._getStartDate().getMonth();for(var r=0;r<a.length;r++){var o=jQuery(jQuery(a[r]).children(".sapUiCalItemText"));o.text(t[(r+i)%12])}C.call(this)};u.prototype.checkDateFocusable=function(e){i._checkJSDateObject(e);if(this._bNoRangeCheck){return false}var t=this._getStartDate();var a=new r(t);a.setDate(1);a.setMonth(a.getMonth()+this.getMonths());var o=r.fromLocalJSDate(e,this.getProperty("primaryCalendarType"));return o.isSameOrAfter(t)&&o.isBefore(a)};u.prototype.applyFocusInfo=function(e){this._oItemNavigation.focusItem(this._oItemNavigation.getFocusedIndex());return this};function f(){var e=this._getDate();var t=this._oFormatYyyymm.format(e.toUTCJSDate(),true);var i=0;var r=this.$("months").get(0);var o=this.$("months").children(".sapUiCalItem");for(var s=0;s<o.length;s++){var n=jQuery(o[s]);if(n.attr("data-sap-month")===t){i=s;break}}if(!this._oItemNavigation){this._oItemNavigation=new a;this._oItemNavigation.attachEvent(a.Events.AfterFocus,d,this);this._oItemNavigation.attachEvent(a.Events.FocusAgain,m,this);this._oItemNavigation.attachEvent(a.Events.BorderReached,D,this);this.addDelegate(this._oItemNavigation);this._oItemNavigation.setDisabledModifiers({sapnext:["alt"],sapprevious:["alt"],saphome:["alt"],sapend:["alt"]});this._oItemNavigation.setCycling(false);this._oItemNavigation.setColumns(1,true)}this._oItemNavigation.setRootDomRef(r);this._oItemNavigation.setItemDomRefs(o);this._oItemNavigation.setFocusedIndex(i);this._oItemNavigation.setPageSize(o.length)}function d(e){var t=e.getParameter("index");var a=e.getParameter("event");if(!a){return}var i=this._getDate();var o=new r(i);var s=this._oItemNavigation.getItemDomRefs();var n=jQuery(s[t]);o=r.fromLocalJSDate(this._oFormatYyyymm.parse(n.attr("data-sap-month")));o.setDate(1);this.setDate(o.toLocalJSDate());this.fireFocus({date:o.toLocalJSDate(),notVisible:false});if(a.type=="mousedown"){y.call(this,a,o,t)}}function m(e){var t=e.getParameter("index");var a=e.getParameter("event");if(!a){return}if(a.type=="mousedown"){var i=this._getDate();y.call(this,a,i,t)}}function D(e){var t=e.getParameter("event");var a=this.getMonths();var i=this._getDate();var o=new r(i);if(t.type){switch(t.type){case"sapnext":case"sapnextmodifiers":o.setMonth(o.getMonth()+1);break;case"sapprevious":case"sappreviousmodifiers":o.setMonth(o.getMonth()-1);break;case"sappagedown":o.setMonth(o.getMonth()+a);break;case"sappageup":o.setMonth(o.getMonth()-a);break;default:break}this.fireFocus({date:o.toLocalJSDate(),notVisible:true})}}function y(e,t,a){if(e.button){return}var i=S.call(this,t);if(i){this._bMousedownChange=true}if(this._bMouseMove){L.call(this,true);this._bMoveChange=false}else if(i&&this.getIntervalSelection()&&this.$().is(":visible")){M.call(this,true)}e.preventDefault();e.setMark("cancelAutoClose")}function v(e,t){i._checkCalendarDate(e);var a=e.getYear();i._checkYearInValidRange(a);var o=true;if(!this.getDate()||!e.isSame(r.fromLocalJSDate(this.getDate(),this.getProperty("primaryCalendarType")))){var s=new r(e);s.setDate(1);o=this.checkDateFocusable(e.toLocalJSDate());if(!this._bNoRangeCheck&&!o){throw new Error("Date must be in visible date range; "+this)}this.setProperty("date",e.toLocalJSDate());this._oDate=s}if(this.getDomRef()){if(o){_.call(this,this._oDate,t)}}}function _(e,t){var a=this._oFormatYyyymm.format(e.toUTCJSDate(),true);var i=this._oItemNavigation.getItemDomRefs();var r;for(var o=0;o<i.length;o++){r=jQuery(i[o]);if(r.attr("data-sap-month")==a){if(document.activeElement!=i[o]){if(t){this._oItemNavigation.setFocusedIndex(o)}else{this._oItemNavigation.focusItem(o)}}break}}}function S(e,t){if(!this._checkMonthEnabled(e)){return false}var a=this.getSelectedDates();var i;var o=0;var s=this.getParent();var n=this;var l;if(s&&s.getSelectedDates){n=s}if(this.getSingleSelection()){if(a.length>0){i=a[0];l=i.getStartDate();if(l){l=r.fromLocalJSDate(l,this.getProperty("primaryCalendarType"));l.setDate(1)}}else{i=new c;n.addAggregation("selectedDates",i)}if(this.getIntervalSelection()&&(!i.getEndDate()||t)&&l){var h;if(e.isBefore(l)){h=l;l=e;if(!t){i.setProperty("startDate",l.toLocalJSDate());i.setProperty("endDate",h.toLocalJSDate())}}else if(e.isSameOrAfter(l)){h=e;if(!t){i.setProperty("endDate",h.toLocalJSDate())}}}else{i.setProperty("startDate",e.toLocalJSDate());i.setProperty("endDate",undefined)}}else{if(this.getIntervalSelection()){throw new Error("Calender don't support multiple interval selection")}else{var g=this._checkDateSelected(e);if(g>0){for(o=0;o<a.length;o++){l=a[o].getStartDate();if(l){l=r.fromLocalJSDate(l,this.getProperty("primaryCalendarType"));l.setDate(1);if(e.isSame(l)){n.removeAggregation("selectedDates",o);break}}}}else{i=new c({startDate:e.toLocalJSDate()});n.addAggregation("selectedDates",i)}}}return true}function b(){if(this._bMouseMove){L.call(this,true)}this.fireSelect()}function C(){if(!this._bNamesLengthChecked){var e=0;var t=this.$("months").children();var a=false;var i=this.getMonths();var r=Math.ceil(12/i);var o=0;var s=this._getLocaleData();var n=s.getMonthsStandAlone("wide",this.getProperty("primaryCalendarType"));var l;for(var h=0;h<r;h++){if(i<12){for(e=0;e<t.length;e++){l=jQuery(jQuery(t[e]).children(".sapUiCalItemText"));l.text(n[(e+o)%12])}o=o+i;if(o>11){o=11}}for(e=0;e<t.length;e++){var g=t[e];if(Math.abs(g.clientWidth-g.scrollWidth)>1){a=true;break}}if(a){break}}if(i<12){o=this._getStartDate().getMonth();for(e=0;e<t.length;e++){l=jQuery(jQuery(t[e]).children(".sapUiCalItemText"));l.text(n[(e+o)%12])}}if(a){this._bLongMonth=false;var c=s.getMonthsStandAlone("abbreviated",this.getProperty("primaryCalendarType"));o=this._getStartDate().getMonth();for(e=0;e<t.length;e++){l=jQuery(jQuery(t[e]).children(".sapUiCalItemText"));l.text(c[(e+o)%12])}}else{this._bLongMonth=true}this._bNamesLengthChecked=true}}function M(){jQuery(window.document).on("mousemove",this._mouseMoveProxy);this._bMouseMove=true}function L(){jQuery(window.document).off("mousemove",this._mouseMoveProxy);this._bMouseMove=undefined}return u});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/calendar/MonthsRowRenderer", ["sap/ui/unified/calendar/CalendarUtils","sap/ui/unified/calendar/CalendarDate","sap/ui/unified/CalendarLegendRenderer","sap/ui/unified/library","sap/base/Log"],function(e,a,t,n,r){"use strict";var s=n.CalendarDayType;var o={apiVersion:2};o.render=function(e,a){var t=a._getStartDate();var n=a.getTooltip_AsString();var r=a.getId();var s={value:r+"-Descr",append:true};e.openStart("div",a);e.class("sapUiCalMonthsRow");e.class("sapUiCalRow");if(n){e.attr("title",n)}e.accessibilityState(a,{role:"grid",readonly:"true",multiselectable:!a.getSingleSelection()||a.getIntervalSelection(),labelledby:s});e.openEnd();e.openStart("span",r+"-Descr");e.style("display","none");e.openEnd();e.text(a._rb.getText("CALENDAR_DIALOG"));e.close("span");if(a.getIntervalSelection()){e.openStart("span",r+"-Start");e.style("display","none");e.openEnd();e.text(a._rb.getText("CALENDAR_START_MONTH"));e.close("span");e.openStart("span",r+"-End");e.style("display","none");e.openEnd();e.text(a._rb.getText("CALENDAR_END_MONTH"));e.close("span")}this.renderRow(e,a,t);e.close("div")};o.renderRow=function(e,a,t){var n=a.getId();this.renderHeader(e,a,t);e.openStart("div",n+"-months");e.class("sapUiCalItems");e.attr("role","row");e.openEnd();this.renderMonths(e,a,t);e.close("div")};o.renderHeader=function(a,t,n){e._checkCalendarDate(n);if(t._getShowHeader()){var r=t._getLocaleData();var s=t.getId();a.openStart("div",s+"-Head");a.openEnd();this.renderHeaderLine(a,t,r,n);a.close("div")}};o.renderHeaderLine=function(t,n,r,s){e._checkCalendarDate(s);var o=n.getId();var i=n.getMonths();var l=new a(s);var d="";var c=0;var p=[];var g=0;for(g=0;g<i;g++){c=l.getYear();if(p.length>0&&p[p.length-1].iYear==c){p[p.length-1].iMonths++}else{p.push({iYear:c,iMonths:1})}l.setMonth(l.getMonth()+1)}for(g=0;g<p.length;g++){var h=p[g];d=100/i*h.iMonths+"%";t.openStart("div",o+"-Head"+g);t.class("sapUiCalHeadText");t.style("width",d);t.openEnd();t.text(h.iYear);t.close("div")}};o.renderMonths=function(e,t,n){var r=this.getHelper(t,n);var s=t.getMonths();var o=100/s+"%";var i=new a(n);i.setDate(1);for(var l=0;l<s;l++){this.renderMonth(e,t,i,r,o);i.setMonth(i.getMonth()+1)}};o.getHelper=function(t,n){e._checkCalendarDate(n);var s={};var o=t.getProperty("primaryCalendarType");s.sLocale=t._getLocale();s.oLocaleData=t._getLocaleData();s.oToday=a.fromLocalJSDate(new Date,o);s.sCurrentMonth=t._rb.getText("CALENDAR_CURRENT_MONTH");s.sId=t.getId();s.oFormatLong=t._getFormatLong();if(t._bLongMonth||!t._bNamesLengthChecked){s.aMonthNames=s.oLocaleData.getMonthsStandAlone("wide",o)}else{s.aMonthNames=s.oLocaleData.getMonthsStandAlone("abbreviated",o);s.aMonthNamesWide=s.oLocaleData.getMonthsStandAlone("wide",o)}var i=t.getLegend();if(i){var l=sap.ui.getCore().byId(i);if(l){if(!(l instanceof sap.ui.unified.CalendarLegend)){throw new Error(l+" is not an sap.ui.unified.CalendarLegend. "+t)}s.oLegend=l}else{r.warning("CalendarLegend "+i+" does not exist!",t)}}return s};o.renderMonth=function(a,n,r,o,i){e._checkCalendarDate(r);var l={role:n._getAriaRole(),selected:false,label:"",describedby:""};if(!n._bLongMonth&&n._bNamesLengthChecked){l["label"]=o.aMonthNamesWide[r.getMonth()]}var d=n._oFormatYyyymm.format(r.toUTCJSDate(),true);var c=n._checkDateSelected(r);var p=n._getDateType(r);var g=n._checkMonthEnabled(r);a.openStart("div",o.sId+"-"+d);a.class("sapUiCalItem");if(i){a.style("width",i)}if(e._isSameMonthAndYear(r,o.oToday)){a.class("sapUiCalItemNow");l["label"]=o.sCurrentMonth+" "}if(c>0){a.class("sapUiCalItemSel");l["selected"]=true}if(c==2){a.class("sapUiCalItemSelStart");l["describedby"]=l["describedby"]+" "+o.sId+"-Start"}else if(c==3){a.class("sapUiCalItemSelEnd");l["describedby"]=l["describedby"]+" "+o.sId+"-End"}else if(c==4){a.class("sapUiCalItemSelBetween")}else if(c==5){a.class("sapUiCalItemSelStart");a.class("sapUiCalItemSelEnd");l["describedby"]=l["describedby"]+" "+o.sId+"-Start";l["describedby"]=l["describedby"]+" "+o.sId+"-End"}if(p&&p.type!=s.None){a.class("sapUiCalItem"+p.type);if(p.tooltip){a.attr("title",p.tooltip)}}if(!g){a.class("sapUiCalItemDsbl");l["disabled"]=true}a.attr("tabindex","-1");a.attr("data-sap-month",d);l["label"]=l["label"]+o.oFormatLong.format(r.toUTCJSDate(),true);if(p&&p.type!=s.None){t.addCalendarTypeAccInfo(l,p.type,o.oLegend)}a.accessibilityState(null,l);a.openEnd();a.openStart("span");a.class("sapUiCalItemText");a.openEnd();a.text(o.aMonthNames[r.getMonth()]);a.close("span");a.close("div")};return o},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/calendar/OneMonthDatesRow", ["sap/ui/unified/calendar/DatesRow","sap/ui/unified/calendar/CalendarUtils","sap/ui/unified/calendar/CalendarDate","sap/ui/unified/library","./OneMonthDatesRowRenderer"],function(t,e,a,i,o){"use strict";var s=t.extend("sap.ui.unified.calendar.OneMonthDatesRow",{metadata:{library:"sap.ui.unified"},renderer:o});s.prototype.init=function(){t.prototype.init.apply(this,arguments);this.iMode=2};s.prototype.setMode=function(t){var e=this.getSelectedDates(),a,i=this.iMode!==t;this.iMode=t;if(i&&e.length){if(this.iMode<2){a=this.getStartDate()}e[0].setProperty("startDate",a)}this.iMode<2?this._bAlwaysShowSpecialDates=false:this._bAlwaysShowSpecialDates=true;return this};s.prototype.getMode=function(){return this.iMode};s.prototype.selectDate=function(t){if(this.iMode<2&&this.getSelectedDates().length){this.getSelectedDates()[0].setStartDate(t)}return this};s.prototype.setDate=function(e){if(!this._bNoRangeCheck&&!this.checkDateFocusable(e)){return this}t.prototype.setDate.apply(this,arguments);return this};s.prototype.getDays=function(){if(this.iMode===2){return 31}else{return e._daysInMonth(a.fromLocalJSDate(this.getStartDate(),this.getPrimaryCalendarType()))}};s.prototype.displayDate=function(e){if(!this._bNoRangeCheck&&!this.checkDateFocusable(e)){return this}t.prototype.displayDate.apply(this,arguments);return this};s.prototype.onsaphome=function(t){var e=a.fromLocalJSDate(this.getStartDate());r(t);this.setDate(e.toLocalJSDate());this._focusDate(e);this.fireFocus({date:e.toLocalJSDate(),otherMonth:false})};s.prototype.onsapend=function(t){var i=this.getStartDate(),o;o=a.fromLocalJSDate(i);o.setDate(e._daysInMonth(o));r(t);this.setDate(o.toLocalJSDate());this._focusDate(o);this.fireFocus({date:o.toLocalJSDate(),otherMonth:false})};function r(t){t.stopPropagation();t.preventDefault();t.stopImmediatePropagation(true)}return s});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/calendar/OneMonthDatesRowRenderer", ["sap/ui/core/Renderer","./MonthRenderer","./DatesRowRenderer"],function(e,r,a){"use strict";var n=e.extend(a);n.apiVersion=2;["getClass","renderMonth","renderDays","renderHeader"].forEach(function(e){n[e]=function(n,s){if(s.iMode<2){return r[e].apply(r,arguments)}else{if(e==="getClass"){var t=["sapUiCalDatesRow","sapUiCalRow","sapUiCalOneMonthDatesRow"];if(!s.getShowDayNamesLine()){t.push("sapUiCalNoNameLine")}return t}return a[e].apply(a,arguments)}}});return n},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/calendar/TimesRow", ["sap/ui/core/Control","sap/ui/core/LocaleData","sap/ui/core/delegate/ItemNavigation","sap/ui/unified/calendar/CalendarUtils","sap/ui/core/date/UniversalDate","sap/ui/unified/library","sap/ui/core/format/DateFormat","sap/ui/core/Locale","./TimesRowRenderer","sap/ui/dom/containsOrEquals","sap/base/util/deepEqual","sap/ui/thirdparty/jquery","sap/ui/unified/DateRange","sap/ui/core/Configuration"],function(e,t,a,i,r,s,n,o,l,g,u,jQuery,h,c){"use strict";var p=e.extend("sap.ui.unified.calendar.TimesRow",{metadata:{library:"sap.ui.unified",properties:{date:{type:"object",group:"Data"},startDate:{type:"object",group:"Data"},items:{type:"int",group:"Appearance",defaultValue:12},intervalMinutes:{type:"int",group:"Appearance",defaultValue:60},intervalSelection:{type:"boolean",group:"Behavior",defaultValue:false},singleSelection:{type:"boolean",group:"Behavior",defaultValue:true},showHeader:{type:"boolean",group:"Appearance",defaultValue:false},primaryCalendarType:{type:"sap.ui.core.CalendarType",group:"Appearance",defaultValue:null}},aggregations:{selectedDates:{type:"sap.ui.unified.DateRange",multiple:true,singularName:"selectedDate"},specialDates:{type:"sap.ui.unified.DateTypeRange",multiple:true,singularName:"specialDate"}},associations:{ariaLabelledBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"},legend:{type:"sap.ui.unified.CalendarLegend",multiple:false}},events:{select:{},focus:{parameters:{date:{type:"object"},notVisible:{type:"boolean"}}}}},renderer:l});p.prototype.init=function(){this._oFormatYyyyMMddHHmm=n.getInstance({pattern:"yyyyMMddHHmm",calendarType:this.getProperty("primaryCalendarType")});this._oFormatLong=n.getDateTimeInstance({style:"long/short",calendarType:this.getProperty("primaryCalendarType")});this._oFormatDate=n.getDateInstance({style:"medium",calendarType:this.getProperty("primaryCalendarType")});this._mouseMoveProxy=jQuery.proxy(this._handleMouseMove,this);this._rb=sap.ui.getCore().getLibraryResourceBundle("sap.ui.unified")};p.prototype.exit=function(){if(this._oItemNavigation){this.removeDelegate(this._oItemNavigation);this._oItemNavigation.destroy();delete this._oItemNavigation}};p.prototype.onAfterRendering=function(){f.call(this)};p.prototype.onsapfocusleave=function(e){if(!e.relatedControlId||!g(this.getDomRef(),sap.ui.getCore().byId(e.relatedControlId).getFocusDomRef())){if(this._bMouseMove){I.call(this,true);T.call(this,this._getDate());this._bMoveChange=false;this._bMousedownChange=false;C.call(this)}if(this._bMousedownChange){this._bMousedownChange=false;C.call(this)}}};p.prototype.removeAllSelectedDates=function(){this._bDateRangeChanged=true;var e=this.removeAllAggregation("selectedDates");return e};p.prototype.destroySelectedDates=function(){this._bDateRangeChanged=true;var e=this.destroyAggregation("selectedDates");return e};p.prototype.removeAllSpecialDates=function(){this._bDateRangeChanged=true;var e=this.removeAllAggregation("specialDates");return e};p.prototype.destroySpecialDates=function(){this._bDateRangeChanged=true;var e=this.destroyAggregation("specialDates");return e};p.prototype.setIntervalMinutes=function(e){if(e>=720){throw new Error("Only intervals < 720 minutes are allowed; "+this)}if(1440%e>0){throw new Error("A day must be divisible by the interval size; "+this)}this.setProperty("intervalMinutes",e,false);this._oFormatTime=undefined;return this};p.prototype.setDate=function(e){D.call(this,e,false);return this.setProperty("date",e)};p.prototype._getDate=function(){if(!this._oUTCDate){this._oUTCDate=i._createUniversalUTCDate(new Date,undefined,true)}return this._oUTCDate};p.prototype.setStartDate=function(e){i._checkJSDateObject(e);var t=e.getFullYear();i._checkYearInValidRange(t);var a=i._createUniversalUTCDate(e,undefined,true);this.setProperty("startDate",e);this._oUTCStartDate=this._getIntervalStart(a);if(this.getDomRef()){var r=i._createLocalDate(this._getDate(),true);this._bNoRangeCheck=true;this.displayDate(e);this._bNoRangeCheck=false;if(r&&this.checkDateFocusable(r)){this.displayDate(r)}}return this};p.prototype._getStartDate=function(){if(!this._oUTCStartDate){this._oUTCStartDate=i._createUniversalUTCDate(new Date,undefined,true);this._oUTCStartDate=this._getIntervalStart(this._oUTCStartDate)}return this._oUTCStartDate};p.prototype.displayDate=function(e){D.call(this,e,true);return this};p.prototype._getLocale=function(){var e=this.getParent();if(e&&e.getLocale){return e.getLocale()}else if(!this._sLocale){this._sLocale=c.getFormatSettings().getFormatLocale().toString()}return this._sLocale};p.prototype._getLocaleData=function(){var e=this.getParent();if(e&&e._getLocaleData){return e._getLocaleData()}else if(!this._oLocaleData){var a=this._getLocale();var i=new o(a);this._oLocaleData=t.getInstance(i)}return this._oLocaleData};p.prototype._getFormatLong=function(){var e=this._getLocale();if(this._oFormatLong.oLocale.toString()!=e){var t=new o(e);this._oFormatLong=n.getInstance({style:"long/short",calendarType:this.getProperty("primaryCalendarType")},t)}return this._oFormatLong};p.prototype._getFormatTime=function(){var e=this._getLocale();if(!this._oFormatTime||this._oFormatTime.oLocale.toString()!=e){var t=new o(e);var a=this.getIntervalMinutes();var i=this._getLocaleData();var r;var s=i.getTimePattern("short");this._oFormatTimeAmPm=undefined;if(a%60==0){r=M(s);if(s.search("a")>=0){this._oFormatTimeAmPm=n.getTimeInstance({pattern:"a",calendarType:this.getProperty("primaryCalendarType")},t)}}else{r=s;r=r.replace("HH","H");r=r.replace("hh","h");if(r.search("a")>=0){this._oFormatTimeAmPm=n.getTimeInstance({pattern:"a",calendarType:this.getProperty("primaryCalendarType")},t);r=r.replace("a","").trim()}}this._oFormatTime=n.getTimeInstance({pattern:r,calendarType:this.getProperty("primaryCalendarType")},t)}return this._oFormatTime};p.prototype._getFormatDate=function(){var e=this._getLocale();if(this._oFormatDate.oLocale.toString()!=e){var t=new o(e);this._oFormatDate=n.getDateInstance({style:"medium",calendarType:this.getProperty("primaryCalendarType")},t)}return this._oFormatDate};p.prototype.getIntervalSelection=function(){var e=this.getParent();if(e&&e.getIntervalSelection){return e.getIntervalSelection()}else{return this.getProperty("intervalSelection")}};p.prototype.getSingleSelection=function(){var e=this.getParent();if(e&&e.getSingleSelection){return e.getSingleSelection()}else{return this.getProperty("singleSelection")}};p.prototype.getSelectedDates=function(){var e=this.getParent();if(e&&e.getSelectedDates){return e.getSelectedDates()}else{return this.getAggregation("selectedDates",[])}};p.prototype.getSpecialDates=function(){var e=this.getParent();if(e&&e.getSpecialDates){return e.getSpecialDates()}else{return this.getAggregation("specialDates",[])}};p.prototype._getShowHeader=function(){var e=this.getParent();if(e&&e._getShowItemHeader){return e._getShowItemHeader()}else{return this.getProperty("showHeader")}};p.prototype.getIntervalMinutes=function(){var e=this.getParent();if(e&&e.getIntervalMinutes){return e.getIntervalMinutes()}else{return this.getProperty("intervalMinutes")}};p.prototype.getAriaLabelledBy=function(){var e=this.getParent();if(e&&e.getAriaLabelledBy){return e.getAriaLabelledBy()}else{return this.getAssociation("ariaLabelledBy",[])}};p.prototype._setLegendControlOrigin=function(e){this._oLegendControlOrigin=e};p.prototype.getLegend=function(){var e=this.getParent();if(this._oLegendControlOrigin){return this._oLegendControlOrigin.getLegend()}if(e&&e.getLegend){return e.getLegend()}else{return this.getAssociation("ariaLabelledBy",[])}};p.prototype._checkDateSelected=function(e){if(!(e instanceof r)){throw new Error("Date must be a UniversalDate object "+this)}var t=0;var a=this.getSelectedDates();var s=new r(e.getTime());s=this._getIntervalStart(s);var n=s.getTime();for(var o=0;o<a.length;o++){var l=a[o];var g=l.getStartDate();var u=0;if(g){g=i._createUniversalUTCDate(g,undefined,true);g=this._getIntervalStart(g);u=g.getTime()}var h=l.getEndDate();var c=0;if(h){h=i._createUniversalUTCDate(h,undefined,true);h=this._getIntervalStart(h);c=h.getTime()}if(n==u&&!h){t=1;break}else if(n==u&&h){t=2;if(h&&n==c){t=5}break}else if(h&&n==c){t=3;break}else if(h&&n>u&&n<c){t=4;break}if(this.getSingleSelection()){break}}return t};p.prototype._getDateType=function(e){if(!(e instanceof r)){throw new Error("Date must be a UniversalDate object "+this)}var t;var a=this.getSpecialDates();var s=new r(e.getTime());s=this._getIntervalStart(s);var n=s.getTime();for(var o=0;o<a.length;o++){var l=a[o];var g=l.getStartDate();var u=0;if(g){g=i._createUniversalUTCDate(g,undefined,true);g=this._getIntervalStart(g);u=g.getTime()}var h=l.getEndDate();var c=0;if(h){h=i._createUniversalUTCDate(h,undefined,true);h=this._getIntervalStart(h);h.setUTCMinutes(h.getUTCMinutes()+this.getIntervalMinutes()-1);c=h.getTime()}else if(g.getUTCHours()==0&&g.getUTCMinutes()==0&&g.getUTCSeconds()==0&&g.getUTCMilliseconds()==0){h=new r(g.getTime());h.setUTCDate(h.getUTCDate()+1);c=h.getTime()}if(n==u&&!h||n>=u&&n<=c){t={type:l.getType(),tooltip:l.getTooltip_AsString(),color:l.getColor()};break}}return t};p.prototype._checkTimeEnabled=function(e){if(!(e instanceof r)){throw new Error("Date must be a UniversalDate object "+this)}var t=e.getTime();var a=this.getParent();if(a&&a._oMinDate&&a._oMaxDate){if(t<a._oMinDate.getTime()||t>a._oMaxDate.getTime()){return false}}return true};p.prototype._handleMouseMove=function(e){if(!this.$().is(":visible")){I.call(this,true)}var t=jQuery(e.target);if(t.hasClass("sapUiCalItemText")){t=t.parent()}if(t.hasClass("sapUiCalItem")){var a=this._getDate();var i=new r(this._oFormatYyyyMMddHHmm.parse(t.attr("data-sap-time"),true).getTime());if(i.getTime()!=a.getTime()){this._oUTCDate=i;T.call(this,i,true);this._bMoveChange=true}}};p.prototype.onmouseup=function(e){if(this._bMouseMove){I.call(this,true);var t=this._getDate();var a=this._oItemNavigation.getItemDomRefs();for(var i=0;i<a.length;i++){var s=jQuery(a[i]);if(s.attr("data-sap-time")==this._oFormatYyyyMMddHHmm.format(t.getJSDate(),true)){s.trigger("focus");break}}if(this._bMoveChange){var n=jQuery(e.target);if(n.hasClass("sapUiCalItemText")){n=n.parent()}if(n.hasClass("sapUiCalItem")){t=new r(this._oFormatYyyyMMddHHmm.parse(n.attr("data-sap-time"),true).getTime())}T.call(this,t);this._bMoveChange=false;this._bMousedownChange=false;C.call(this)}}if(this._bMousedownChange){this._bMousedownChange=false;C.call(this)}};p.prototype.onsapselect=function(e){var t=T.call(this,this._getDate());if(t){C.call(this)}e.stopPropagation();e.preventDefault()};p.prototype.onsapselectmodifiers=function(e){this.onsapselect(e)};p.prototype.onsappageupmodifiers=function(e){var t=new r(this._getDate().getTime());var a=t.getUTCDate();if(e.metaKey||e.ctrlKey){t.setUTCDate(a-7)}else{t.setUTCDate(a-1)}this.fireFocus({date:i._createLocalDate(t,true),notVisible:true});e.preventDefault()};p.prototype.onsappagedownmodifiers=function(e){var t=new r(this._getDate().getTime());var a=t.getUTCDate();if(e.metaKey||e.ctrlKey){t.setUTCDate(a+7)}else{t.setUTCDate(a+1)}this.fireFocus({date:i._createLocalDate(t,true),notVisible:true});e.preventDefault()};p.prototype.checkDateFocusable=function(e){i._checkJSDateObject(e);if(this._bNoRangeCheck){return false}var t=this._getStartDate();var a=new r(t.getTime());a.setUTCMinutes(a.getUTCMinutes()+this.getItems()*this.getIntervalMinutes());var s=i._createUniversalUTCDate(e,undefined,true);if(s.getTime()>=t.getTime()&&s.getTime()<a.getTime()){return true}else{return false}};p.prototype.applyFocusInfo=function(e){this._oItemNavigation.focusItem(this._oItemNavigation.getFocusedIndex());return this};p.prototype._getIntervalStart=function(e){var t=e.getTime();var a=new r(e.getTime());a.setUTCHours(0);a.setUTCMinutes(0);a.setUTCSeconds(0);a.setUTCMilliseconds(0);var i=this.getIntervalMinutes();while(a.getTime()<=t){a.setUTCMinutes(a.getUTCMinutes()+i)}var s=new r(a.getTime());s.setUTCMinutes(s.getUTCMinutes()-i);return s};p.prototype._setAriaRole=function(e){this._ariaRole=e;return this};p.prototype._getAriaRole=function(){return this._ariaRole?this._ariaRole:"gridcell"};p.prototype._updateItemARIASelected=function(e,t){var a=this._getAriaRole();if(a==="gridcell"){e.attr("aria-selected",t)}return this};function f(){var e=this._getDate();var t=this._oFormatYyyyMMddHHmm.format(e.getJSDate(),true);var i=0;var r=this.$("times").get(0);var s=this.$("times").children(".sapUiCalItem");for(var n=0;n<s.length;n++){var o=jQuery(s[n]);if(o.attr("data-sap-time")===t){i=n;break}}if(!this._oItemNavigation){this._oItemNavigation=new a;this._oItemNavigation.attachEvent(a.Events.AfterFocus,d,this);this._oItemNavigation.attachEvent(a.Events.FocusAgain,m,this);this._oItemNavigation.attachEvent(a.Events.BorderReached,v,this);this.addDelegate(this._oItemNavigation);this._oItemNavigation.setDisabledModifiers({sapnext:["alt"],sapprevious:["alt"],saphome:["alt"],sapend:["alt"]});this._oItemNavigation.setCycling(false);this._oItemNavigation.setColumns(1,true)}this._oItemNavigation.setRootDomRef(r);this._oItemNavigation.setItemDomRefs(s);this._oItemNavigation.setFocusedIndex(i);this._oItemNavigation.setPageSize(s.length)}function d(e){var t=e.getParameter("index");var a=e.getParameter("event");if(!a){return}var s=this._getDate();var n=new r(s.getTime());var o=this._oItemNavigation.getItemDomRefs();var l=jQuery(o[t]);n=new r(this._oFormatYyyyMMddHHmm.parse(l.attr("data-sap-time"),true).getTime());this._oUTCDate=n;this.fireFocus({date:i._createLocalDate(n,true),notVisible:false});if(a.type=="mousedown"){_.call(this,a,n,t)}}function m(e){var t=e.getParameter("index");var a=e.getParameter("event");if(!a){return}if(a.type=="mousedown"){var i=this._getDate();_.call(this,a,i,t)}}function v(e){var t=e.getParameter("event");var a=this.getItems();var s=this.getIntervalMinutes();var n=this._getDate();var o=new r(n.getTime());if(t.type){switch(t.type){case"sapnext":case"sapnextmodifiers":o.setUTCMinutes(o.getUTCMinutes()+s);break;case"sapprevious":case"sappreviousmodifiers":o.setUTCMinutes(o.getUTCMinutes()-s);break;case"sappagedown":o.setUTCMinutes(o.getUTCMinutes()+s*a);break;case"sappageup":o.setUTCMinutes(o.getUTCMinutes()-s*a);break;default:break}this.fireFocus({date:i._createLocalDate(o,true),notVisible:true})}}function _(e,t,a){if(e.button){return}var i=T.call(this,t);if(i){this._bMousedownChange=true}if(this._bMouseMove){I.call(this,true);this._bMoveChange=false}else if(this.getIntervalSelection()&&this.$().is(":visible")){b.call(this,true)}e.preventDefault();e.setMark("cancelAutoClose")}function D(e,t){i._checkJSDateObject(e);var a=e.getFullYear();i._checkYearInValidRange(a);var r=true;if(!u(this.getDate(),e)){var s=i._createUniversalUTCDate(e,undefined,true);s=this._getIntervalStart(s);r=this.checkDateFocusable(e);if(!this._bNoRangeCheck&&!r){throw new Error("Date must be in visible date range; "+this)}this.setProperty("date",e);this._oUTCDate=s}if(this.getDomRef()){if(r){y.call(this,this._oUTCDate,t)}else{this.setDate(e)}}}function y(e,t){var a=this._oFormatYyyyMMddHHmm.format(e.getJSDate(),true);var i=this._oItemNavigation.getItemDomRefs();var r;for(var s=0;s<i.length;s++){r=jQuery(i[s]);if(r.attr("data-sap-time")==a){if(document.activeElement!=i[s]){if(t){this._oItemNavigation.setFocusedIndex(s)}else{this._oItemNavigation.focusItem(s)}}break}}}function T(e,t){if(!this._checkTimeEnabled(e)){return false}var a=this.getSelectedDates();var r;var s=0;var n=this.getParent();var o=this;var l;if(n&&n.getSelectedDates){o=n}if(this.getSingleSelection()){if(a.length>0){r=a[0];l=r.getStartDate();if(l){l=i._createUniversalUTCDate(l,undefined,true);l=this._getIntervalStart(l)}}else{r=new h;o.addAggregation("selectedDates",r)}if(this.getIntervalSelection()&&(!r.getEndDate()||t)&&l){var g;if(e.getTime()<l.getTime()){g=l;l=e;if(!t){r.setProperty("startDate",i._createLocalDate(new Date(l.getTime()),true));r.setProperty("endDate",i._createLocalDate(new Date(g.getTime()),true))}}else if(e.getTime()>=l.getTime()){g=e;if(!t){r.setProperty("endDate",i._createLocalDate(new Date(g.getTime()),true))}}}else{r.setProperty("startDate",i._createLocalDate(new Date(e.getTime()),true));r.setProperty("endDate",undefined)}}else{if(this.getIntervalSelection()){throw new Error("Calender don't support multiple interval selection")}else{var u=this._checkDateSelected(e);if(u>0){for(s=0;s<a.length;s++){l=a[s].getStartDate();if(l){l=i._createUniversalUTCDate(l,undefined,true);l=this._getIntervalStart(l);if(e.getTime()==l.getTime()){o.removeAggregation("selectedDates",s);break}}}}else{r=new h({startDate:i._createLocalDate(new Date(e.getTime()),true)});o.addAggregation("selectedDates",r)}}}return true}function C(){if(this._bMouseMove){I.call(this,true)}this.fireSelect()}function b(){jQuery(window.document).on("mousemove",this._mouseMoveProxy);this._bMouseMove=true}function I(){jQuery(window.document).off("mousemove",this._mouseMoveProxy);this._bMouseMove=undefined}function M(e){var t;if(e.toUpperCase().indexOf("K")>-1){t=e.indexOf("k")>-1?"k":"K"}else{t=e.indexOf("h")>-1?"h":"H"}return t}return p});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/calendar/TimesRowRenderer", ["sap/ui/unified/calendar/CalendarUtils","sap/ui/core/format/TimezoneUtil","sap/ui/core/Core","sap/ui/core/date/UniversalDate","sap/ui/unified/CalendarLegendRenderer","sap/ui/unified/library","sap/base/Log"],function(e,t,a,r,i,n,s){"use strict";var o=n.CalendarDayType;var l={apiVersion:2};l.render=function(e,t){var a=t._getStartDate();var r=t.getTooltip_AsString();var i=t.getId();var n={value:i+"-Descr",append:true};e.openStart("div",t);e.class("sapUiCalTimesRow");e.class("sapUiCalRow");if(r){e.attr("title",r)}if(t._getShowHeader()){n.value=n.value+" "+i+"-Head"}e.accessibilityState(t,{role:"grid",readonly:"true",multiselectable:!t.getSingleSelection()||t.getIntervalSelection(),labelledby:n});e.openEnd();e.openStart("span",i+"-Descr");e.style("display","none");e.openEnd();e.text(t._rb.getText("CALENDAR_DIALOG"));e.close("span");if(t.getIntervalSelection()){e.openStart("span",i+"-Start");e.style("display","none");e.openEnd();e.text(t._rb.getText("CALENDAR_START_TIME"));e.close("span");e.openStart("span",i+"-End");e.style("display","none");e.openEnd();e.text(t._rb.getText("CALENDAR_END_TIME"));e.close("span")}this.renderRow(e,t,a);e.close("div")};l.renderRow=function(e,t,a){var r=t.getId();this.renderHeader(e,t,a);e.openStart("div",r+"-times");e.class("sapUiCalItems");e.attr("role","row");e.openEnd();this.renderTimes(e,t,a);e.close("div")};l.renderHeader=function(e,t,a){if(t._getShowHeader()){var r=t._getLocaleData();var i=t.getId();e.openStart("div",i+"-Head");e.openEnd();this.renderHeaderLine(e,t,r,a);e.close("div")}};l.renderHeaderLine=function(e,t,a,r){var i=t._getFormatDate();var n=t.getId();var s=t.getItems();var o=t._getIntervalStart(r);var l=t.getIntervalMinutes();var d="";var c=0;var p=[];var m=0;for(m=0;m<s;m++){c=i.format(o,true);if(p.length>0&&p[p.length-1].sDay==c){p[p.length-1].iItems++}else{p.push({sDay:c,iItems:1})}o.setUTCMinutes(o.getUTCMinutes()+l)}for(m=0;m<p.length;m++){var g=p[m];d=100/s*g.iItems+"%";e.openStart("div",n+"-Head"+m);e.class("sapUiCalHeadText");e.style("width",d);e.openEnd();e.text(g.sDay);e.close("div")}};l._convertToTimezone=function(r){var i=a.getConfiguration().getTimezone();var n=e._createUniversalUTCDate(r,undefined,true);n=new Date(r.getUTCFullYear(),r.getUTCMonth(),r.getUTCDate(),r.getUTCHours(),r.getUTCMinutes(),r.getUTCSeconds());n.setUTCFullYear(r.getUTCFullYear());n=t.convertToTimezone(n,i);return n};l.renderTimes=function(e,t,a){var r=this.getHelper(t,a);var i=t.getItems();var n=100/i+"%";var s=t._getIntervalStart(a);var o="";var l="";for(var d=0;d<i;d++){if(r.oFormatTimeAmPm){l=r.oFormatTimeAmPm.format(s,true);if(o==l){l=""}else{o=l}}this.renderTime(e,t,s,r,n,l);s.setUTCMinutes(s.getUTCMinutes()+r.iMinutes)}};l.getHelper=function(t,a){var r={};r.sLocale=t._getLocale();r.oLocaleData=t._getLocaleData();r.oNow=e._createUniversalUTCDate(new Date,undefined,true);r.sCurrentTime=t._rb.getText("CALENDAR_CURRENT_TIME");r.sId=t.getId();r.oFormatLong=t._getFormatLong();r.oFormatTime=t._getFormatTime();r.oFormatTimeAmPm=t._oFormatTimeAmPm;r.iMinutes=t.getIntervalMinutes();var i=t.getLegend();if(i){var n=sap.ui.getCore().byId(i);if(n){if(!(n instanceof sap.ui.unified.CalendarLegend)){throw new Error(n+" is not an sap.ui.unified.CalendarLegend. "+t)}r.oLegend=n}else{s.warning("CalendarLegend "+i+" does not exist!",t)}}r.oNow=this._convertToTimezone(new Date);return r};l.renderTime=function(e,t,a,n,s,l){var d=t._getAriaRole();var c={role:d,selected:d!=="gridcell"?null:false,label:"",describedby:""};var p=t._oFormatYyyyMMddHHmm.format(a.getJSDate(),true);var m=t._checkDateSelected(a);var g=t._getDateType(a);var u=t._checkTimeEnabled(a);e.openStart("div",n.sId+"-"+p);e.class("sapUiCalItem");if(s){e.style("width",s)}var v=new r(a.getTime());v.setUTCMinutes(v.getUTCMinutes()+n.iMinutes);if(a.getTime()<=n.oNow.getTime()&&v.getTime()>n.oNow.getTime()){e.class("sapUiCalItemNow");c["label"]=n.sCurrentTime+" "}if(m>0){e.class("sapUiCalItemSel");if(d==="gridcell"){c["selected"]=true}}if(m==2){e.class("sapUiCalItemSelStart");c["describedby"]=c["describedby"]+" "+n.sId+"-Start"}else if(m==3){e.class("sapUiCalItemSelEnd");c["describedby"]=c["describedby"]+" "+n.sId+"-End"}else if(m==4){e.class("sapUiCalItemSelBetween")}else if(m==5){e.class("sapUiCalItemSelStart");e.class("sapUiCalItemSelEnd");c["describedby"]=c["describedby"]+" "+n.sId+"-Start";c["describedby"]=c["describedby"]+" "+n.sId+"-End"}if(g&&g.type!=o.None){e.class("sapUiCalItem"+g.type);if(g.tooltip){e.attr("title",g.tooltip)}}if(!u){e.class("sapUiCalItemDsbl");c["disabled"]=true}e.attr("tabindex","-1");e.attr("data-sap-time",p);c["label"]=c["label"]+n.oFormatLong.format(a,true);if(g&&g.type!=o.None){i.addCalendarTypeAccInfo(c,g.type,n.oLegend)}e.accessibilityState(null,c);e.openEnd();if(g&&g.type!=o.None){e.openStart("div");e.class("sapUiCalSpecialDate");if(g.color){e.style("background-color",g.color)}e.openEnd();e.close("div")}e.openStart("span");e.class("sapUiCalItemText");e.openEnd();e.text(n.oFormatTime.format(a,true));if(l){e.openStart("span");e.class("sapUiCalItemTextAmPm");e.openEnd();e.text(l);e.close("span")}e.close("span");e.close("div")};return l},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/calendar/YearPicker", ["sap/ui/core/Control","sap/ui/Device","sap/ui/core/delegate/ItemNavigation","sap/ui/unified/calendar/CalendarUtils","sap/ui/unified/calendar/CalendarDate","sap/ui/unified/DateRange","sap/ui/unified/library","sap/ui/core/format/DateFormat","sap/ui/core/library","sap/ui/core/Locale","sap/ui/core/LocaleData","./YearPickerRenderer","sap/ui/events/KeyCodes","sap/ui/thirdparty/jquery","sap/ui/core/Configuration"],function(e,t,a,r,i,s,o,n,l,h,d,p,g,jQuery,y){"use strict";var u=l.CalendarType;var c=e.extend("sap.ui.unified.calendar.YearPicker",{metadata:{library:"sap.ui.unified",properties:{year:{type:"int",group:"Data",defaultValue:2e3,deprecated:true},years:{type:"int",group:"Appearance",defaultValue:20},intervalSelection:{type:"boolean",group:"Behavior",defaultValue:false},columns:{type:"int",group:"Appearance",defaultValue:4},date:{type:"object",group:"Data"},primaryCalendarType:{type:"sap.ui.core.CalendarType",group:"Appearance"},secondaryCalendarType:{type:"sap.ui.core.CalendarType",group:"Appearance"},_middleDate:{type:"object",group:"Data",visibility:"hidden"}},aggregations:{selectedDates:{type:"sap.ui.unified.DateRange",multiple:true,singularName:"selectedDate"}},events:{select:{},pageChange:{}}},renderer:p});c.prototype.init=function(){var e=y.getCalendarType();this.setProperty("primaryCalendarType",e);this._oYearFormat=n.getDateInstance({format:"y",calendarType:e});this._oFormatYyyymmdd=n.getInstance({pattern:"yyyyMMdd",calendarType:u.Gregorian});this._oMinDate=r._minDate(this.getPrimaryCalendarType());this._oMaxDate=r._maxDate(this.getPrimaryCalendarType())};c.prototype.onAfterRendering=function(){m.call(this);this.focus()};c.prototype.exit=function(){if(this._aMPSelectedDates&&this._aMPSelectedDates.length){this._aMPSelectedDates.forEach(function(e){e.destroy()});this._aMPSelectedDates=undefined}};c.prototype.getFocusDomRef=function(){return this.getDomRef()&&this._oItemNavigation.getItemDomRefs()[this._iSelectedIndex]};c.prototype.setYear=function(e){this.setProperty("year",e);e=this.getProperty("year");var t=new i(e,0,1,this.getPrimaryCalendarType()),a=this._getSelectedDates()[0],r=this.getAggregation("selectedDates");if(!a||this.getIntervalSelection()){return this}if(!this._oSelectedDatesControlOrigin){if(!r||!r.length){this.addAggregation("selectedDates",a)}!this.getIntervalSelection()&&a.setStartDate(t.toLocalJSDate())}this.setDate(t.toLocalJSDate());return this};c.prototype.setDate=function(e){var t=r._maxDate(this.getProperty("primaryCalendarType")).getYear(),a,s,o,n;e&&r._checkJSDateObject(e);s=e.getFullYear();r._checkYearInValidRange(s);a=i.fromLocalJSDate(e,this.getPrimaryCalendarType());a.setMonth(0,1);this.setProperty("date",e);this.setProperty("year",a.getYear());this._oDate=a;o=this.getYears();n=Math.floor(o/2);if(e.getFullYear()<n){this._iSelectedIndex=e.getFullYear()-1}else if(e.getFullYear()>t-n){this._iSelectedIndex=t+o-e.getFullYear()-1}else{this._iSelectedIndex=n}this.setProperty("_middleDate",a);return this};c.prototype._getDate=function(){if(!this._oDate){var e=this.getYear();this._oDate=new i(e,0,1,this.getPrimaryCalendarType())}return this._oDate};c.prototype._setSelectedDatesControlOrigin=function(e){this._oSelectedDatesControlOrigin=e};c.prototype.getSelectedDates=function(){if(this._oSelectedDatesControlOrigin){return this._oSelectedDatesControlOrigin.getSelectedDates()}return this.getAggregation("selectedDates")};c.prototype._getSelectedDates=function(){var e=this.getSelectedDates();if(e){return e}else if(!this._aMPSelectedDates||!this._aMPSelectedDates.length){this._aMPSelectedDates=[new s];this._aMPSelectedDates[0].setStartDate(this._getDate().toLocalJSDate());return this._aMPSelectedDates}else{return this._aMPSelectedDates}};c.prototype.setPrimaryCalendarType=function(e){this.setProperty("primaryCalendarType",e);this._oYearFormat=n.getDateInstance({format:"y",calendarType:e});if(this._oDate){this._oDate=new i(this._oDate,e);this._oDate.setMonth(0,1)}this._oMinDate=new i(this._oMinDate,e);this._oMaxDate=new i(this._oMaxDate,e);if(this._getSecondaryCalendarType()){this.setColumns(2);this.setYears(8)}return this};c.prototype.nextPage=function(){this._updatePage(true,this._oItemNavigation.getFocusedIndex());return this};c.prototype.previousPage=function(){this._updatePage(false,this._oItemNavigation.getFocusedIndex());return this};c.prototype.onsapspace=function(e){e.preventDefault()};c.prototype.onsapselect=function(e){var t=this._oItemNavigation.getFocusedIndex();var a=this._selectYear(t);if(a){this.fireSelect()}};c.prototype.onmouseover=function(e){var t=e.target,a=this._getSelectedDates()[0],r,s,o;if(!a){return}if(a.getStartDate()){r=i.fromLocalJSDate(a.getStartDate(),this.getPrimaryCalendarType());r.setMonth(0,1)}if(t.classList.contains("sapUiCalItem")){o=t.getAttribute("data-sap-year-start");s=i.fromUTCDate(this._oFormatYyyymmdd.parse(o,true),this.getPrimaryCalendarType());if(this._isSelectionInProgress()){this._markInterval(r,s)}}};c.prototype.onmousedown=function(e){this._oMousedownPosition={clientX:e.clientX,clientY:e.clientY}};c.prototype.onmouseup=function(e){var a=e.target,r=this._getSelectedDates()[0],s,o,n,l,h=this._oItemNavigation.getItemDomRefs();if(this._bMousedownChange){this._bMousedownChange=false;if(this.getIntervalSelection()&&a.classList.contains("sapUiCalItem")&&r){o=a.getAttribute("data-sap-year-start");l=i.fromUTCDate(this._oFormatYyyymmdd.parse(o,true),this.getPrimaryCalendarType());n=i.fromLocalJSDate(r.getStartDate(),this.getPrimaryCalendarType());n.setMonth(0,1);if(!l.isSame(n)&&!r.getEndDate()){s=h.index(a);this._selectYear.call(this,s);this._oItemNavigation.focusItem(s)}}this.fireSelect()}else if(t.support.touch&&this._isValueInThreshold(this._oMousedownPosition.clientX,e.clientX,10)&&this._isValueInThreshold(this._oMousedownPosition.clientY,e.clientY,10)){s=this._oItemNavigation.getFocusedIndex();if(!h[s].classList.contains("sapUiCalItemDsbl")){this._selectYear(s);this.fireSelect()}}};c.prototype._markInterval=function(e,t){var a=this._oItemNavigation.getItemDomRefs(),s,o,n;if(e.isAfter(t)){t=[e,e=t][0]}for(n=0;n<a.length;++n){o=a[n].getAttribute("data-sap-year-start");s=i.fromUTCDate(this._oFormatYyyymmdd.parse(o,true),this.getPrimaryCalendarType());if(this._bMousedownChange){if((s.isSame(e)||s.isSame(t))&&!r._isOutside(s,this._oMinDate,this._oMaxDate)){jQuery(a[n]).addClass("sapUiCalItemSel")}else{jQuery(a[n]).removeClass("sapUiCalItemSel")}}if(r._isBetween(s,e,t)&&r._isBetween(s,this._oMinDate,this._oMaxDate)){jQuery(a[n]).addClass("sapUiCalItemSelBetween")}else{jQuery(a[n]).removeClass("sapUiCalItemSelBetween")}}};c.prototype.getFirstRenderedDate=function(){var e;if(this.getDomRef()){var t=this._oItemNavigation.getItemDomRefs();e=i.fromUTCDate(this._oFormatYyyymmdd.parse(jQuery(t[0]).attr("data-sap-year-start"),true),this.getPrimaryCalendarType()).toLocalJSDate()}return e};c.prototype._isValueInThreshold=function(e,t,a){var r=e-a,i=e+a;return t>=r&&t<=i};c.prototype.setSecondaryCalendarType=function(e){this.setProperty("secondaryCalendarType",e);if(this._getSecondaryCalendarType()){this.setColumns(2);this.setYears(8)}return this};c.prototype._getSecondaryCalendarType=function(){return this.getSecondaryCalendarType()===this.getPrimaryCalendarType()?undefined:this.getSecondaryCalendarType()};c.prototype._getDisplayedSecondaryDates=function(e){var t=this.getSecondaryCalendarType(),a=new i(e,e.getCalendarType()),r=new i(e,e.getCalendarType());a.setMonth(0,1);a=new i(a,t);r.setYear(r.getYear()+1);r.setMonth(0,1);r.setDate(r.getDate()-1);r=new i(r,t);return{start:a,end:r}};c.prototype._getLocale=function(){var e=this._oSelectedDatesControlOrigin;if(e&&e._getLocale){return e._getLocale()}else if(!this._sLocale){this._sLocale=y.getFormatSettings().getFormatLocale().toString()}return this._sLocale};c.prototype._getLocaleData=function(){var e=this._oSelectedDatesControlOrigin;if(e&&e._getLocaleData){return e._getLocaleData()}else if(!this._oLocaleData){var t=this._getLocale();var a=new h(t);this._oLocaleData=d.getInstance(a)}return this._oLocaleData};c.prototype._checkFirstDate=function(e){var t=this.getYears(),a=new i(this._oMaxDate,this.getPrimaryCalendarType());if(!a.isSame(r._maxDate(this.getPrimaryCalendarType()))){return e}a.setYear(a.getYear()-t+1);if(e.isAfter(a)&&e.getYear()!=a.getYear()){e=new i(a,this.getPrimaryCalendarType());e.setMonth(0,1)}else if(e.isBefore(this._oMinDate)&&e.getYear()!=this._oMinDate.getYear()){e=new i(this._oMinDate,this.getPrimaryCalendarType());e.setMonth(0,1)}return e};c.prototype._checkDateEnabled=function(e){var t=true;if(e.isAfter(this._oMaxDate)&&e.getYear()!=this._oMaxDate.getYear()||e.isBefore(this._oMinDate)&&e.getYear()!=this._oMinDate.getYear()){t=false}return t};c.prototype._updatePage=function(e,t,a){var r=this._oItemNavigation.getItemDomRefs();var s=i.fromUTCDate(this._oFormatYyyymmdd.parse(jQuery(r[0]).attr("data-sap-year-start"),true),this.getPrimaryCalendarType());var o=this.getYears();if(e){var n=new i(this._oMaxDate,this.getPrimaryCalendarType());n.setYear(n.getYear()-o+1);if(s.isBefore(n)){s.setYear(s.getYear()+o);if(s.isAfter(n)){t=t+(s.getYear()-n.getYear());if(t>o-1){t=o-1}s=new i(this._oMaxDate,this.getPrimaryCalendarType());this._oDate.setMonth(0,1)}}else{return}}else{if(s.isAfter(this._oMinDate)){s.setYear(s.getYear()-o);if(s.isBefore(this._oMinDate)){t=t-(this._oMinDate.getYear()-s.getYear());if(t<0){t=0}s=new i(this._oMinDate,this.getPrimaryCalendarType())}}else{return}}s.setYear(s.getYear()+Math.floor(o/2));this._iSelectedIndex=t;this.setProperty("_middleDate",s);if(a){this.firePageChange()}};c.prototype._selectYear=function(e){var t=this._oItemNavigation.getItemDomRefs(),a=jQuery(t[e]),r=a.attr("data-sap-year-start"),s=i.fromUTCDate(this._oFormatYyyymmdd.parse(r,true),this.getPrimaryCalendarType()),o=this._getSelectedDates()[0],n=this.getAggregation("selectedDates"),l;if(a.hasClass("sapUiCalItemDsbl")){return false}if(!this._isSelectionInProgress()){var h=true}this.setProperty("year",s.getYear(),h);this.setProperty("date",s.toLocalJSDate(),h);if(!o){return true}if(!this._oSelectedDatesControlOrigin){if(!n||!n.length){this.addAggregation("selectedDates",o)}!this.getIntervalSelection()&&o.setStartDate(s.toLocalJSDate(),h)}if(this.getIntervalSelection()){if(!o.getStartDate()){o.setStartDate(s.toLocalJSDate(),h)}else if(!o.getEndDate()){l=i.fromLocalJSDate(o.getStartDate(),this.getPrimaryCalendarType());if(s.isBefore(l)){o.setEndDate(l.toLocalJSDate(),h);o.setStartDate(s.toLocalJSDate(),h)}else{o.setEndDate(s.toLocalJSDate(),h)}}else{o.setStartDate(s.toLocalJSDate(),h);o.setEndDate(undefined,h)}}if(h){for(var d=0;d<t.length;d++){a=jQuery(t[d]);r=a.attr("data-sap-year-start");var p=i.fromUTCDate(this._oFormatYyyymmdd.parse(r,true),this.getPrimaryCalendarType());var g=this._fnShouldApplySelection(p);var y=this._fnShouldApplySelectionBetween(p);if(g){a.addClass("sapUiCalItemSel");a.removeClass("sapUiCalItemSelBetween");a.attr("aria-selected","true")}if(y){a.addClass("sapUiCalItemSelBetween");a.attr("aria-selected","true")}if(!g&&!y){a.removeClass("sapUiCalItemSel");a.removeClass("sapUiCalItemSelBetween");a.attr("aria-selected","false")}}}return true};c.prototype._isSelectionInProgress=function(){var e=this._getSelectedDates()[0];if(!e){return false}return this.getIntervalSelection()&&e.getStartDate()&&!e.getEndDate()};function m(){var e=this.getDate()?i.fromLocalJSDate(this.getDate(),this.getPrimaryCalendarType()):this._getDate(),t=this.getDomRef(),s=this.$().find(".sapUiCalItem"),o,n,l,h;for(h=0;h<s.length;++h){n=s[h].getAttribute("data-sap-year-start");l=i.fromUTCDate(this._oFormatYyyymmdd.parse(n,true),this.getPrimaryCalendarType());if(l.isSame(e)){o=h;break}}if(!this._oItemNavigation){this._oItemNavigation=new a;this._oItemNavigation.attachEvent(a.Events.AfterFocus,f,this);this._oItemNavigation.attachEvent(a.Events.FocusAgain,D,this);this._oItemNavigation.attachEvent(a.Events.BorderReached,_,this);this.addDelegate(this._oItemNavigation);this._oItemNavigation.setHomeEndColumnMode(true,true);this._oItemNavigation.setDisabledModifiers({sapnext:["alt","meta"],sapprevious:["alt","meta"],saphome:["alt","meta"],sapend:["meta"]})}this._oItemNavigation.setRootDomRef(t);this._oItemNavigation.setItemDomRefs(s);this._oItemNavigation.setCycling(false);this._oItemNavigation.setColumns(this.getColumns(),true);if(r._isBetween(e,this._oMinDate,this._oMaxDate,true)){this._oItemNavigation.setFocusedIndex(o)}this._oItemNavigation.setPageSize(s.length)}function f(e){var t=e.getParameter("index"),a=e.getParameter("event"),r=this._oItemNavigation.aItemDomRefs[t],s=this._getSelectedDates()[0],o,n,l;if(!a){return}if(a.type==="mousedown"){this._handleMousedown(a,t)}else if(a.type==="sapnext"||a.type==="sapprevious"){if(!s){return}if(s.getStartDate()){o=i.fromLocalJSDate(s.getStartDate(),this.getPrimaryCalendarType());o.setMonth(0,1)}l=r.getAttribute("data-sap-year-start");n=i.fromUTCDate(this._oFormatYyyymmdd.parse(l,true),this.getPrimaryCalendarType());if(this._isSelectionInProgress()){this._markInterval(o,n)}}}function D(e){f.call(this,e)}c.prototype._handleMousedown=function(e,a){if(e.button||t.support.touch&&!t.system.combi){return}var r=this._selectYear(a);if(r){this._bMousedownChange=true}e.preventDefault();e.setMark("cancelAutoClose")};function _(e){var t=e.getParameter("event"),a=this._oItemNavigation.getFocusedIndex(),r=this.getYears(),s=this.getColumns(),o=this._getSelectedDates()[0],n=this._oItemNavigation.getItemDomRefs(),l,h,d;if(o&&o.getStartDate()){l=i.fromLocalJSDate(o.getStartDate(),this.getPrimaryCalendarType());l.setMonth(0,1)}if(t.type){if(s===0){s=r}switch(t.type){case"sapnext":case"sapnextmodifiers":if(t.keyCode===g.ARROW_DOWN&&s<r){d=n[a-r+s].getAttribute("data-sap-year-start");h=i.fromUTCDate(this._oFormatYyyymmdd.parse(d,true),this.getPrimaryCalendarType());this._updatePage(true,a-r+s,true);this._iSelectedIndex=a-r+s}else{d=n[0].getAttribute("data-sap-year-start");h=i.fromUTCDate(this._oFormatYyyymmdd.parse(d,true),this.getPrimaryCalendarType());this._updatePage(true,0,true)}break;case"sapprevious":case"sappreviousmodifiers":if(t.keyCode===g.ARROW_UP&&s<r){d=n[r-s+a].getAttribute("data-sap-year-start");h=i.fromUTCDate(this._oFormatYyyymmdd.parse(d,true),this.getPrimaryCalendarType());this._updatePage(false,r-s+a,true);this._iSelectedIndex=r-s+a}else{d=n[r-1].getAttribute("data-sap-year-start");h=i.fromUTCDate(this._oFormatYyyymmdd.parse(d,true),this.getPrimaryCalendarType());this._updatePage(false,r-1,true)}break;case"sappagedown":d=n[a].getAttribute("data-sap-year-start");h=i.fromUTCDate(this._oFormatYyyymmdd.parse(d,true),this.getPrimaryCalendarType());this._updatePage(true,a,true);break;case"sappageup":d=n[a].getAttribute("data-sap-year-start");h=i.fromUTCDate(this._oFormatYyyymmdd.parse(d,true),this.getPrimaryCalendarType());this._updatePage(false,a,true);break;default:break}}this._isSelectionInProgress()&&this._markInterval(l,h)}c.prototype._fnShouldApplySelection=function(e){var t=this._getSelectedDates()[0],a,r;if(!t){return false}a=t.getStartDate();r=t.getEndDate();if(a){a=i.fromLocalJSDate(a,this.getPrimaryCalendarType());a.setMonth(0,1)}if(this.getIntervalSelection()&&a&&r){r=i.fromLocalJSDate(r,this.getPrimaryCalendarType());r.setMonth(0,1);if(e.isSame(a)||e.isSame(r)){return true}}else if(a&&e.isSame(a)){return true}return false};c.prototype._fnShouldApplySelectionBetween=function(e){var t=this._getSelectedDates()[0],a,s;if(!t){return false}a=t.getStartDate();s=t.getEndDate();if(this.getIntervalSelection()&&a&&s){a=i.fromLocalJSDate(a,this.getPrimaryCalendarType());a.setMonth(0,1);s=i.fromLocalJSDate(s,this.getPrimaryCalendarType());s.setMonth(0,1);if(r._isBetween(e,a,s)){return true}}return false};return c});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/calendar/YearPickerRenderer", ["sap/ui/unified/calendar/CalendarDate","sap/ui/unified/calendar/CalendarUtils","sap/ui/core/date/UniversalDate","sap/ui/core/format/DateFormat","sap/ui/core/InvisibleText"],function(e,t,a,r,i){"use strict";var l={apiVersion:2};l.render=function(e,t){var a=t.getTooltip_AsString();e.openStart("div",t);e.class("sapUiCalYearPicker");if(t._getSecondaryCalendarType()){e.class("sapUiCalMonthSecType")}if(a){e.attr("title",a)}e.accessibilityState(t,this.getAccessibilityState(t));e.openEnd();this.renderCells(e,t);e.close("div")};l.getAccessibilityState=function(e){return{role:"grid",readonly:"true",multiselectable:e.getIntervalSelection(),roledescription:sap.ui.getCore().getLibraryResourceBundle("sap.ui.unified").getText("YEAR_PICKER"),describedby:e._bCalendar?i.getStaticId("sap.ui.unified","CALENDAR_YEAR_RANGE_PICKER_OPEN_HINT"):""}};l.renderCells=function(i,l){var s=l.getProperty("_middleDate")?l.getProperty("_middleDate"):l._getDate(),n=new e(s,l.getPrimaryCalendarType()),d=t._minDate(l.getProperty("primaryCalendarType")).getYear(),o=t._maxDate(l.getProperty("primaryCalendarType")).getYear(),c=l.getYears(),p=l.getId(),y=l.getColumns(),u=l._getSecondaryCalendarType(),g="",f=false,C=l._getLocaleData(),S,m,_,D,T,b;n.setYear(n.getYear()-Math.floor(c/2));if(n.getYear()<d){n.setYear(d)}else if(n.getYear()+c>o){n.setYear(o-c+1)}if(y>0){g=100/y+"%"}else{g=100/c+"%"}for(b=0;b<c;b++){T=l._oFormatYyyymmdd.format(n.toUTCJSDate(),true);D={role:"gridcell"};f=l._checkDateEnabled(n);if(y>0&&b%y==0){i.openStart("div");i.accessibilityState(null,{role:"row"});i.openEnd()}i.openStart("div",p+"-y"+T);i.class("sapUiCalItem");m=l._fnShouldApplySelection(n);_=l._fnShouldApplySelectionBetween(n);if(m){i.class("sapUiCalItemSel");D["selected"]=true}if(_){i.class("sapUiCalItemSelBetween");D["selected"]=true}if(!m&&!_){D["selected"]=false}if(!f){i.class("sapUiCalItemDsbl");D["disabled"]=true}S=l._oYearFormat.format(a.getInstance(n.toUTCJSDate(),n.getCalendarType()),true);D["label"]=S;if(u){var Y=l._getDisplayedSecondaryDates(n),v=r.getDateInstance({format:"y",calendarType:l.getSecondaryCalendarType()}),I,U;if(Y.start.getYear()===Y.end.getYear()){I=v.format(Y.start.toUTCJSDate(),true)}else{U=C.getIntervalPattern();I=U.replace(/\{0\}/,v.format(Y.start.toUTCJSDate()),true).replace(/\{1\}/,v.format(Y.end.toUTCJSDate(),true))}D["label"]=D["label"]+" "+I}i.attr("tabindex","-1");i.attr("data-sap-year-start",T);i.style("width",g);i.accessibilityState(null,D);i.openEnd();i.text(S);if(u){i.openStart("div",p+"-y"+T+"-secondary");i.class("sapUiCalItemSecText");i.openEnd();i.text(I);i.close("div")}i.close("div");n.setYear(n.getYear()+1);if(y>0&&(b+1)%y==0){i.close("div")}}};return l},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/calendar/YearRangePicker", ["./YearPicker","./YearRangePickerRenderer","./CalendarDate","./CalendarUtils","sap/ui/thirdparty/jquery"],function(e,t,a,r,jQuery){"use strict";var i=e.extend("sap.ui.unified.calendar.YearRangePicker",{metadata:{library:"sap.ui.unified",properties:{years:{type:"int",group:"Appearance",defaultValue:9},columns:{type:"int",group:"Appearance",defaultValue:3},rangeSize:{type:"int",group:"Appearance",defaultValue:20}}},renderer:t});i.prototype.setDate=function(e){var t,i,s,n,o;e&&r._checkJSDateObject(e);i=e.getFullYear();r._checkYearInValidRange(i);t=a.fromLocalJSDate(e,this.getPrimaryCalendarType());t.setMonth(0,1);this.setProperty("date",e);this.setProperty("year",t.getYear());this._oDate=t;s=this.getYears();o=Math.floor(s/2);n=new a(this._oDate,this.getPrimaryCalendarType());n=this._checkFirstDate(n);this._iSelectedIndex=o;this.setProperty("_middleDate",n);return this};i.prototype._checkFirstDate=function(e){var t=this.getYears();var i=new a(this._oMaxDate,this.getPrimaryCalendarType());if(!i.isSame(r._maxDate(this.getPrimaryCalendarType()))){return e}i.setYear(i.getYear()-Math.floor(t/2)*this.getRangeSize()+1-Math.floor(this.getRangeSize()/2));if(e.isAfter(i)&&e.getYear()!=i.getYear()){e=new a(i,this.getPrimaryCalendarType());e.setMonth(0,1)}else if(e.isBefore(this._oMinDate)&&e.getYear()!=this._oMinDate.getYear()){e=new a(this._oMinDate,this.getPrimaryCalendarType());e.setMonth(0,1)}return e};i.prototype._updatePage=function(e,t,r){var i=this._oItemNavigation.getItemDomRefs(),s=a.fromUTCDate(this._oFormatYyyymmdd.parse(jQuery(i[0]).attr("data-sap-year-start"),true),this.getPrimaryCalendarType()),n=this.getYears(),o=this.getRangeSize();if(e){var h=new a(this._oMaxDate,this.getPrimaryCalendarType());h.setYear(h.getYear()-n*o+1);if(s.isBefore(h)){s.setYear(s.getYear()+n*o+Math.floor(o/2)+Math.floor(n/2)*o);s=this._checkFirstDate(s)}else{return}}else{if(s.isAfter(this._oMinDate)){s.setYear(s.getYear()-n*o);if(s.isBefore(this._oMinDate)){s=new a(this._oMinDate,this.getPrimaryCalendarType())}s.setYear(s.getYear()+Math.floor(n/2)*o+Math.floor(o/2));s=this._checkFirstDate(s)}else{return}}this._iSelectedIndex=t;this.setProperty("_middleDate",s);if(r){this.firePageChange()}};i.prototype._checkDateEnabled=function(e,t){if(r._isBetween(this._oMinDate,e,t,true)||r._isBetween(this._oMaxDate,e,t,true)||this._oMinDate.isBefore(e)&&this._oMaxDate.isAfter(t)){return true}return false};i.prototype._selectYear=function(e){var t=this._oItemNavigation.getItemDomRefs(),r=jQuery(t[e]),i=r.attr("data-sap-year-start"),s=a.fromUTCDate(this._oFormatYyyymmdd.parse(i,true),this.getPrimaryCalendarType());if(r.hasClass("sapUiCalItemDsbl")){return false}this.setProperty("date",s.toLocalJSDate());this.setProperty("year",s.getYear());return true};i.prototype._getDisplayedSecondaryDates=function(e){var t=this.getSecondaryCalendarType(),r=new a(e,e.getCalendarType()),i=new a(e,e.getCalendarType());r.setMonth(0,1);r=new a(r,t);i.setYear(i.getYear()+this.getRangeSize());i.setMonth(0,1);i.setDate(i.getDate()-1);i=new a(i,t);return{start:r,end:i}};i.prototype.setSecondaryCalendarType=function(e){this.setProperty("secondaryCalendarType",e);if(this._getSecondaryCalendarType()){this.setColumns(2);this.setYears(8);this.setRangeSize(8)}return this};return i});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/calendar/YearRangePickerRenderer", ["sap/ui/core/Renderer","./YearPickerRenderer","./CalendarDate","sap/ui/core/format/DateFormat","sap/ui/core/date/UniversalDate","sap/ui/unified/calendar/CalendarUtils"],function(e,t,a,r,i,l){"use strict";var n=e.extend(t);n.apiVersion=2;n.getAccessibilityState=function(){return{role:"grid",readonly:"true",multiselectable:false,roledescription:sap.ui.getCore().getLibraryResourceBundle("sap.ui.unified").getText("YEAR_RANGE_PICKER")}};n.renderCells=function(e,t){var n=t.getProperty("_middleDate")?t.getProperty("_middleDate"):t._getDate(),o=new a(n,t.getPrimaryCalendarType()),s=new a(o,t.getPrimaryCalendarType()),d=l._minDate(t.getProperty("primaryCalendarType")).getYear(),g=l._maxDate(t.getProperty("primaryCalendarType")).getYear(),c,p="",y="",u="",f=t.getId(),m=t.getColumns(),C=t.getYears(),Y=t._getSecondaryCalendarType(),S=t._getLocaleData(),D=S.getIntervalPattern(),T="",_,b,v;s.setYear(s.getYear()-Math.floor(t.getRangeSize()/2));s.setYear(s.getYear()-Math.floor(C/2)*t.getRangeSize());if(s.getYear()<d){s.setYear(d)}else if(s.getYear()>g-C){s.setYear(g-Math.floor(C)*t.getRangeSize()+1)}c=new a(s,t.getPrimaryCalendarType());c.setYear(c.getYear()+t.getRangeSize()-1);if(m>0){T=100/m+"%"}else{T=100/C+"%"}for(v=0;v<C;v++){b=t._oFormatYyyymmdd.format(s.toUTCJSDate(),true);_={role:"gridcell"};if(m>0&&v%m==0){e.openStart("div");e.accessibilityState(null,{role:"row"});e.openEnd()}e.openStart("div",f+"-y"+b);e.class("sapUiCalItem");if(!t._checkDateEnabled(s,c)){e.class("sapUiCalItemDsbl");_["disabled"]=true}p=t._oYearFormat.format(i.getInstance(s.toUTCJSDate(),s.getCalendarType()),true);y=t._oYearFormat.format(i.getInstance(c.toUTCJSDate(),c.getCalendarType()),true);u=D.replace(/\{0\}/,p).replace(/\{1\}/,y);_["label"]=u;if(Y){var R=t._getDisplayedSecondaryDates(s),U=r.getDateInstance({format:"y",calendarType:t.getSecondaryCalendarType()}),I;if(R.start.getYear()===R.end.getYear()){I=U.format(R.start.toUTCJSDate(),true)}else{I=D.replace(/\{0\}/,U.format(R.start.toUTCJSDate(),true)).replace(/\{1\}/,U.format(R.end.toUTCJSDate(),true))}_["label"]=_["label"]+" "+I}e.attr("tabindex","-1");e.attr("data-sap-year-start",b);e.style("width",T);e.accessibilityState(null,_);e.openEnd();if(l._isBetween(t._oDate,s,c,true)){t._iSelectedIndex=v}e.text(u);if(Y){e.openStart("div",f+"-y"+b+"-secondary");e.class("sapUiCalItemSecText");e.openEnd();e.text(I);e.close("div")}e.close("div");if(m>0&&(v+1)%m==0){e.close("div")}s.setYear(c.getYear()+1);c.setYear(c.getYear()+t.getRangeSize())}};return n},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/library", ["sap/ui/core/Core","sap/ui/base/Object","./ColorPickerDisplayMode","./FileUploaderHttpRequestMethod","sap/ui/core/library"],function(e,i,n,a){"use strict";var t=sap.ui.getCore().initLibrary({name:"sap.ui.unified",version:"1.108.8",dependencies:["sap.ui.core"],designtime:"sap/ui/unified/designtime/library.designtime",types:["sap.ui.unified.CalendarAppointmentVisualization","sap.ui.unified.CalendarDayType","sap.ui.unified.CalendarIntervalType","sap.ui.unifief.CalendarAppointmentHeight","sap.ui.unifief.CalendarAppointmentRoundWidth","sap.ui.unified.ColorPickerDisplayMode","sap.ui.unified.ColorPickerMode","sap.ui.unified.ContentSwitcherAnimation","sap.ui.unified.GroupAppointmentsMode","sap.ui.unified.FileUploaderHttpRequestMethod","sap.ui.unified.StandardCalendarLegendItem"],interfaces:["sap.ui.unified.IProcessableBlobs"],controls:["sap.ui.unified.calendar.DatesRow","sap.ui.unified.calendar.Header","sap.ui.unified.calendar.Month","sap.ui.unified.calendar.MonthPicker","sap.ui.unified.calendar.MonthsRow","sap.ui.unified.calendar.TimesRow","sap.ui.unified.calendar.YearPicker","sap.ui.unified.calendar.YearRangePicker","sap.ui.unified.Calendar","sap.ui.unified.CalendarDateInterval","sap.ui.unified.CalendarWeekInterval","sap.ui.unified.CalendarMonthInterval","sap.ui.unified.CalendarTimeInterval","sap.ui.unified.CalendarLegend","sap.ui.unified.CalendarRow","sap.ui.unified.ContentSwitcher","sap.ui.unified.ColorPicker","sap.ui.unified.ColorPickerPopover","sap.ui.unified.Currency","sap.ui.unified.FileUploader","sap.ui.unified.Menu","sap.ui.unified.Shell","sap.ui.unified.ShellLayout","sap.ui.unified.ShellOverlay","sap.ui.unified.SplitContainer"],elements:["sap.ui.unified.CalendarAppointment","sap.ui.unified.CalendarLegendItem","sap.ui.unified.DateRange","sap.ui.unified.DateTypeRange","sap.ui.unified.FileUploaderParameter","sap.ui.unified.FileUploaderXHRSettings","sap.ui.unified.MenuItem","sap.ui.unified.MenuItemBase","sap.ui.unified.MenuTextFieldItem","sap.ui.unified.ShellHeadItem","sap.ui.unified.ShellHeadUserItem"],extensions:{"sap.ui.support":{publicRules:true}}});t.CalendarDayType={None:"None",NonWorking:"NonWorking",Type01:"Type01",Type02:"Type02",Type03:"Type03",Type04:"Type04",Type05:"Type05",Type06:"Type06",Type07:"Type07",Type08:"Type08",Type09:"Type09",Type10:"Type10",Type11:"Type11",Type12:"Type12",Type13:"Type13",Type14:"Type14",Type15:"Type15",Type16:"Type16",Type17:"Type17",Type18:"Type18",Type19:"Type19",Type20:"Type20"};t.StandardCalendarLegendItem={Today:"Today",WorkingDay:"WorkingDay",NonWorkingDay:"NonWorkingDay",Selected:"Selected"};t.CalendarIntervalType={Hour:"Hour",Day:"Day",Month:"Month",Week:"Week",OneMonth:"One Month"};t.CalendarAppointmentHeight={HalfSize:"HalfSize",Regular:"Regular",Large:"Large",Automatic:"Automatic"};t.CalendarAppointmentRoundWidth={HalfColumn:"HalfColumn",None:"None"};t.GroupAppointmentsMode={Collapsed:"Collapsed",Expanded:"Expanded"};t.FileUploaderHttpRequestMethod=a;t.CalendarAppointmentVisualization={Standard:"Standard",Filled:"Filled"};t.ContentSwitcherAnimation={None:"None",Fade:"Fade",ZoomIn:"ZoomIn",ZoomOut:"ZoomOut",Rotate:"Rotate",SlideRight:"SlideRight",SlideOver:"SlideOver"};t.ColorPickerMode={HSV:"HSV",HSL:"HSL"};t.ColorPickerDisplayMode=n;t._ContentRenderer=i.extend("sap.ui.unified._ContentRenderer",{constructor:function(e,n,a,t){i.apply(this);this._id=n;this._cntnt=a;this._ctrl=e;this._rm=sap.ui.getCore().createRenderManager();this._cb=t||function(){}},destroy:function(){this._rm.destroy();delete this._rm;delete this._id;delete this._cntnt;delete this._cb;delete this._ctrl;if(this._rerenderTimer){clearTimeout(this._rerenderTimer);delete this._rerenderTimer}i.prototype.destroy.apply(this,arguments)},render:function(){if(!this._rm){return}if(this._rerenderTimer){clearTimeout(this._rerenderTimer)}this._rerenderTimer=setTimeout(function(){var e=document.getElementById(this._id);if(e){if(typeof this._cntnt==="string"){var i=this._ctrl.getAggregation(this._cntnt,[]);for(var n=0;n<i.length;n++){this._rm.renderControl(i[n])}}else{this._cntnt(this._rm)}this._rm.flush(e)}this._cb(!!e)}.bind(this),0)}});t._iNumberOfOpenedShellOverlays=0;if(!t.ColorPickerHelper){t.ColorPickerHelper={isResponsive:function(){return false},factory:{createLabel:function(){throw new Error("no Label control available")},createInput:function(){throw new Error("no Input control available")},createSlider:function(){throw new Error("no Slider control available")},createRadioButtonGroup:function(){throw new Error("no RadioButtonGroup control available")},createRadioButtonItem:function(){throw new Error("no RadioButtonItem control available")}},bFinal:false}}if(!t.FileUploaderHelper){t.FileUploaderHelper={createTextField:function(e){throw new Error("no TextField control available!")},setTextFieldContent:function(e,i){throw new Error("no TextField control available!")},createButton:function(e){throw new Error("no Button control available!")},addFormClass:function(){return null},bFinal:false}}t.calendar=t.calendar||{};return t});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/util/Mobile", ["sap/ui/Device","sap/base/Log","sap/base/util/extend","sap/ui/dom/_ready"],function(e,t,o,n){"use strict";var i={};var a=false;function r(e,t){t=t||{};var o=document.createElement(e);for(var n in t){if(t[n]){o.setAttribute(n,t[n])}}document.head.appendChild(o)}function c(e){var t=document.head.querySelectorAll(e);for(var o=0,n=t.length;o<n;o++){t[o].remove(t[o])}}i.init=function(t){if(!a){a=true;t=o({},{viewport:true,statusBar:"default",hideBrowser:true,preventScroll:true,preventPhoneNumberDetection:true,useFullScreenHeight:true,homeIconPrecomposed:false,mobileWebAppCapable:"default"},t);if(t.preventPhoneNumberDetection){r("meta",{name:"format-detection",content:"telephone=no"})}if(t.viewport){var c;var l=e.resize.height;var p=e.resize.width;c="width=device-width, initial-scale=1.0";if(e.os.ios){c+=", maximum-scale=1.0, user-scalable=no"}r("meta",{name:"viewport",content:c});if((l!==window.innerHeight||p!==window.innerWidth)&&e.resize._update){e.resize._update()}}if(t.useFullScreenHeight){n().then(function(){document.documentElement.style.height="100%"})}if(t.preventScroll&&(e.os.ios||e.os.mac&&e.browser.mobile)){n().then(function(){document.documentElement.style.position="fixed";document.documentElement.style.overflow="hidden";document.documentElement.style.height="100%";document.documentElement.style.width="100%"})}}if(t){if(t.homeIcon){var s;if(typeof t.homeIcon==="string"){s={phone:t.homeIcon,favicon:t.homeIcon}}else{s=Object.assign({},t.homeIcon);s.phone=t.homeIcon.phone||t.homeIcon.icon||s.favicon;s.favicon=s.favicon||t.homeIcon.icon||t.homeIcon.phone;s.icon=undefined}s.precomposed=t.homeIconPrecomposed||s.precomposed;i.setIcons(s)}if(t.hasOwnProperty("mobileWebAppCapable")){i.setWebAppCapable(t.mobileWebAppCapable,t.statusBar)}}};i.setIcons=function(e){if(!e||typeof e!=="object"){t.warning("Call to sap/ui/util/Mobile.setIcons() has been ignored because there were no icons given or the argument was not an object.");return}var o=e.precomposed?"-precomposed":"",n=function(t){return e[t]||e["tablet@2"]||e["phone@2"]||e["phone"]||e["tablet"]},i={phone:"",tablet:"76x76","phone@2":"120x120","tablet@2":"152x152"};if(e["favicon"]){c("link[rel=icon]");r("link",{rel:"icon",href:e["favicon"]})}if(n("phone")){c("[rel=apple-touch-icon]");c("[rel=apple-touch-icon-precomposed]")}for(var a in i){e[a]=e[a]||n(a);if(e[a]){r("link",{rel:"apple-touch-icon"+o,href:e[a],sizes:i[a]})}}};i.setWebAppCapable=function(t,o){if(!e.system.tablet&&!e.system.phone){return}var n=["","apple"],i="mobile-web-app-capable",a=t?"yes":"no",c,l,p;for(c=0;c<n.length;c++){l=n[c]?n[c]+"-"+i:i;p=document.head.querySelector('meta[name="'+l+'"]');if(p){p.setAttribute("content",a)}else{r("meta",{name:l,content:a});if(n[c]==="apple"){r("meta",{name:"apple-mobile-web-app-status-bar-style",content:o?o:"default"})}}}};return i});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/util/_FeatureDetection", [],function(){"use strict";var i={};function t(){var t=document.createElement("div");t.innerHTML='<div dir="rtl"><div><span></span><span></span></div></div>';t.firstChild.style="width: 1px; height: 1px; position: fixed; top: 0px; left: 0px; overflow: hidden";t.firstChild.firstChild.style="width: 2px";t.firstChild.firstChild.firstChild.style="display: inline-block; width: 1px";t.firstChild.firstChild.lastChild.style="display: inline-block; width: 1px";document.documentElement.appendChild(t);var e=t.firstChild;i.initialZero=e.scrollLeft==0;document.documentElement.removeChild(t)}t();var e={initialScrollPositionIsZero:function(){return i.initialZero}};return e});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/util/defaultLinkTypes", [],function(){"use strict";var r=function r(e,n){e=typeof e==="string"?e.trim():e;if(!e&&n&&n!=="_self"){return"noopener noreferrer"}return e};return r});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/util/isCrossOriginURL", [],function(){"use strict";function n(n){var i=new URL(n,document.baseURI);return i.origin==="null"||window.location.origin==="null"||i.origin!==window.location.origin}return n});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/util/openWindow", [],function(){"use strict";var n=function n(r,e){var o="noopener,noreferrer";return window.open(r,e,o)};return n});
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ApplicationType", ["sap/ui/thirdparty/URI","sap/base/Log","sap/ushell/utils","sap/ushell/URLTemplateProcessor","sap/ushell/_ApplicationType/utils","sap/ushell/_ApplicationType/systemAlias","sap/ushell/_ApplicationType/wdaResolution","sap/ushell/_ApplicationType/guiResolution","sap/ushell/Config","sap/base/util/deepExtend","sap/ui/core/routing/History","sap/base/util/ObjectPath","sap/ushell/User","sap/ui/thirdparty/jquery"],function(e,t,n,a,s,r,i,o,p,u,l,c,f,jQuery){"use strict";var m=new e(document.URL).search(true)["iframe-url"];function d(e,t,n){var a=e.inbound,s=a&&a.resolutionResult,r;if(!(!a||!s||!s["sap.wda"])){r=i.constructFullWDAResolutionResult(e,t,n)}else if(!(!a||!s)){r=i.constructWDAResolutionResult(e,t,n)}if(r){r.then(function(t){L(e,t);return t})}return r}function h(e,t,n){return o.generateTRResolutionResult(e,t,n).then(function(t){L(e,t);return t})}function y(t,n,a){var i=new e(n),o=t.inbound,p=o&&o.resolutionResult,l=u({},t.mappedIntentParamsPlusSimpleDefaults),c,f;if(l["sap-system"]){c=l["sap-system"][0];delete l["sap-system"]}if(l["sap-system-src"]){f=l["sap-system-src"][0];delete l["sap-system-src"]}return new Promise(function(e,n){r.spliceSapSystemIntoURI(i,p.systemAlias,c,f,"WCF",p.systemAliasSemantics||r.SYSTEM_ALIAS_SEMANTICS.applied,a).done(function(n){var a=s.getURLParsing().paramsToString(l),r=s.appendParametersToUrl(a,n.toString());var i={url:r,text:p.text||"",additionalInformation:p.additionalInformation||"",applicationType:"WCF",fullWidth:true};L(t,i);T(i,"WCF");e(i)}).fail(function(e){n(e)})})}function g(e,n,a){var r=e.inbound,i,o,p,l,c={};["applicationType","additionalInformation","applicationDependencies"].forEach(function(e){if(r.resolutionResult.hasOwnProperty(e)){c[e]=r.resolutionResult[e]}});c.url=n;if(c.applicationDependencies&&typeof c.url==="undefined"){c.url=""}if(typeof c.url==="undefined"){c.url="";t.warning("The component url is undefined. We set it to empty string avoid rejection of the promise")}l=u({},e.mappedIntentParamsPlusSimpleDefaults);c.reservedParameters={};var f={"sap-ui-fl-max-layer":true,"sap-ui-fl-control-variant-id":true,"sap-ui-fl-version":true};Object.keys(f).forEach(function(e){var t=l[e];if(t){delete l[e];c.reservedParameters[e]=t}});e.mappedDefaultedParamNames=e.mappedDefaultedParamNames.filter(function(e){return!f[e]});if(e.mappedDefaultedParamNames.length>0){l["sap-ushell-defaultedParameterNames"]=[JSON.stringify(e.mappedDefaultedParamNames)]}o=l["sap-system"]&&l["sap-system"][0];p=l["sap-system-src"]&&l["sap-system-src"][0];c["sap-system"]=o;if(typeof p==="string"){c["sap-system-src"]=p}e.effectiveParameters=l;i=s.getURLParsing().paramsToString(l);if(i){c.url=c.url+(c.url.indexOf("?")<0?"?":"&")+i}if(typeof r.resolutionResult.ui5ComponentName!=="undefined"){c.ui5ComponentName=r.resolutionResult.ui5ComponentName}c.text=r.title;return Promise.resolve(c)}function v(e){var n=undefined,a=window.hasher.getHash(),s=a.lastIndexOf("&/"),r=1;if(s>0){if(e&&e.capabilities&&e.capabilities.appFrameworkId==="UI5"){r=2}n=a.substring(s+r);try{if(n&&n.length>0){n=decodeURIComponent(n)}}catch(e){t.warning("inner route should be double encoded",e,"sap.ushell.sap.ushell.ApplicationType.getInnerAppRoute")}}return n}function P(e){var t=e.targetNavigationMode;if(t===undefined||t===""){t="inplace"}return t}function S(){var e=window.hasher&&window.hasher.getHash(),t="",n;if(e&&e.length>0&&e.indexOf("sap-iapp-state=")>0){n=/(?:sap-iapp-state=)([^&/\\]+)/.exec(e);if(n&&n.length===2){t=n[1]}}return t}function A(){return new Promise(function(e){Promise.all([sap.ushell.Container.getServiceAsync("UserInfo"),sap.ushell.Container.getServiceAsync("PluginManager"),n.getUi5VersionAsync()]).then(function(t){var n=t[0],a=t[1],s=t[2];var r=n.getUser();var i=sap.ui.getCore().getConfiguration();var o=r.getContentDensity()||(jQuery("body").hasClass("sapUiSizeCompact")?"compact":"cozy");var u=r.getTheme();if(u.indexOf("sap_")!==0){var c=f.prototype.constants.themeFormat.THEME_NAME_PLUS_URL;u=r.getTheme(c)}var m;var d;if(i){d=i.getLanguage&&i.getLanguage();m=i.getSAPLogonLanguage&&i.getSAPLogonLanguage()}var h=window.location.protocol+"//"+window.location.host+"/comsapuitheming.runtime/themeroot/v1";var y=0;if(p.last("/core/shell/sessionTimeoutIntervalInMinutes")>0){y=p.last("/core/shell/sessionTimeoutIntervalInMinutes")}e({language:d,logonLanguage:m,theme:u,themeServiceRoot:h,isDebugMode:!!window["sap-ui-debug"],ui5Version:s,contentDensity:o,sapPlugins:a._getNamesOfPluginsWithAgents(),innerAppState:S(),sessionTimeout:y,historyDirection:l.getInstance().getDirection()||""})})})}function R(e){var t;switch(e){case"inplace":t="embedded";break;case"explace":t="newWindow";break;default:t=e||"newWindow"}return t}function I(e,a){var s=R(e);var r=n.getMember(a,"sap|integration.navMode");switch(r){case"inplace":return"embedded";case"explace":if(s==="embedded"){return"newWindowThenEmbedded"}if(["newWindowThenEmbedded","newWindow"].indexOf(s)>=0){return s}t.error("App-defined navigation mode was ignored","Application requests to be opened in a new window but no expected navigation mode was defined on the template","sap.ushell.ApplicationType");default:return s}}function w(e,t,a){var s=n.clone(e);s.navigationMode=I(e.navigationMode,t);s.appId=a(e.appId||"");s.technicalAppComponentId=a(e.technicalAppComponentId||"");s.appSupportInfo=t["sap.app"]&&t["sap.app"].ach;s.appFrameworkId=e.appFrameworkId;delete s.urlTransformation;return s}function b(e,t,a){var s={appParams:{},system:undefined},r;if(a.mappedIntentParamsPlusSimpleDefaults){s.appParams=JSON.parse(JSON.stringify(a.mappedIntentParamsPlusSimpleDefaults))}r=n.getMember(t,"sap|app.destination");if(typeof r==="string"&&r.length>0){s.system=e.systemAliases[r]&&JSON.parse(JSON.stringify(e.systemAliases[r]));if(typeof s.system==="object"){s.system.alias=r}}return s}function U(t,n,a){return new Promise(function(s,r){var i=new e(t);var o=i.query(true);var p=true;var u=["sap-language","sap-theme","sap-shell","sap-ui-app-id","transaction","sap-iframe-hint","sap-keep-alive","sap-ui-versionedLibCss","sap-wd-configId"];if(a&&a.mandatoryUrlParams){u=u.concat(a.mandatoryUrlParams.split(","));u=u.filter(function(e,t){return u.indexOf(e)===t})}if(n==="explace"){p=false}sap.ushell.Container.getServiceAsync("ShellNavigation").then(function(e){e.compactParams(o,u,undefined,p).done(function(e){if(!e.hasOwnProperty("sap-intent-param")){s(t);return}var n;if(e["sap-theme"]){var a="sap-theme="+e["sap-theme"];e["sap-theme"]="sap-theme-temp-placeholder";i.query(e);n=i.toString();n=n.replace("sap-theme=sap-theme-temp-placeholder",a)}else{i.query(e);n=i.toString()}s(n)}).fail(function(e){r(e)})})})}function T(e,t){if(t){D(e,"sap-iframe-hint",t)}}function L(e,t){var n=e.intentParamsPlusAllDefaults;if(n&&n["sap-post"]&&n["sap-post"][0]==="false"){t.openWithPostByAppParam=false}}function C(e){var t=e.extendedInfo.appParams["sap-keep-alive"];if(t!==undefined){D(e,"sap-keep-alive",t[0])}}function M(e){var t=p.last("/core/spaces/enabled");if(t===true){D(e,"sap-spaces",t)}}function x(e,t,a){var s=n.getMember(t,"sap|integration.urlTemplateId");if(s==="urltemplate.url-dynamic"&&e.url.indexOf("sap-language=")===-1){D(e,"sap-language",a.env.language)}}function D(e,t,n){if(e.url){var a=e.url.indexOf("#"),s=e.url,r="";if(a>0){s=e.url.slice(0,a);r=e.url.slice(a)}e.url=s+(s.indexOf("?")>=0?"&":"?")+t+"="+n+r}}function O(e,s,r){return new Promise(function(s){var r=e.inbound,i=r.templateContext,o=i.payload.capabilities||{};if(e.mappedIntentParamsPlusSimpleDefaults&&e.mappedIntentParamsPlusSimpleDefaults.hasOwnProperty("sap-ushell-innerAppRoute")){var p=window.hasher.getHash();if(e.mappedIntentParamsPlusSimpleDefaults["sap-ushell-innerAppRoute"].length>0&&p.indexOf("&/")===-1){p+="&/"+e.mappedIntentParamsPlusSimpleDefaults["sap-ushell-innerAppRoute"];window.hasher.replaceHash(p)}}var u={innerAppRoute:v(i.payload)||e.parsedIntent.appSpecificRoute,targetNavMode:P(e),defaultParameterNames:e.mappedDefaultedParamNames,startupParameter:e.mappedIntentParamsPlusSimpleDefaults};A().then(function(p){u.env=p;if(o.appFrameworkId==="UI5"&&u.startupParameter){for(var l in u.startupParameter){if(l!=="sap-ushell-innerAppRoute"){u.startupParameter[l][0]=encodeURIComponent(u.startupParameter[l][0])}}if(e.mappedDefaultedParamNames&&e.mappedDefaultedParamNames.length>0){u.startupParameter["sap-ushell-defaultedParameterNames"]=[JSON.stringify(e.mappedDefaultedParamNames)]}}var c="/universal_search/search?query=",f=u.innerAppRoute&&u.innerAppRoute.indexOf(c),d;if(f===0){d=u.innerAppRoute.substring(c.length);u.innerAppRoute="/JAMSEARCHPATHH?JAMSEARCHVALUEE=VALUEE"}var h=a.expand(i.payload,i.site,u,i.siteAppSection,"startupParameter");if(f===0){h=h.replace("/JAMSEARCHPATHH?JAMSEARCHVALUEE=VALUEE",c+encodeURIComponent(d))}if(o.appFrameworkId==="UI5"&&document.URL.indexOf("#")>0){var y=h.split("#"),g=y[1].split("&/"),v=sap.ushell.Container.getFLPUrl(true).split("#"),P=v[1].split("&/");h=y[0]+"#"+P[0]+(g.length>1?"&/"+g[1]:"");t.debug("- created URL with fixed hash: "+h,"sap.ushell.ApplicationType")}var S=function(e){var t=n.clone(i.payload);t.urlTemplate=e;return a.expand(t,i.site,u,i.siteAppSection,"startupParameter")};var A={applicationType:"URL",text:r.title,appCapabilities:w(o,i.siteAppSection,S),url:h,extendedInfo:b(i.site,i.siteAppSection,e),contentProviderId:r.contentProviderId||"",systemAlias:i.siteAppSection["sap.app"]&&i.siteAppSection["sap.app"].destination||i.siteAppSection.destination||""};T(A,A.appCapabilities.appFrameworkId);C(A);M(A);x(A,i.siteAppSection,u);var R=new Promise(function(e){sap.ushell.Container.getServiceAsync("URLTemplate").then(function(t){sap.ui.require(["sap/ushell/components/applicationIntegration/application/BlueBoxesCache"],function(n){var a=n.get(A.url)===undefined;t.handlePostTemplateProcessing(A.url,i.siteAppSection,a).then(e)})})});R.then(function(e){if(m&&e.indexOf("ui5appruntime.html")>0){var t=e.split("?");t[0]=m;e=t.join("?")}A.url=e;E(A.url,o,i).then(function(e){A.url=e;if(A.url&&typeof A.url==="string"&&A.url.indexOf("sap-iframe-hint=GUI")>0){s(A)}else{U(A.url,u.targetNavMode,o).then(function(e){A.url=e;s(A)},function(){s(A)})}})})})})}function E(n,s,r){return new Promise(function(i){var o=s.urlTransformation||{enabled:false},p,u,l;var f=W(o,r);if(f===true){l=new e(n);p=o.transformations[0].service.uri;var m=a.prepareExpandData({urlTemplate:"",parameters:{names:p.queryOptions}},{},{urlComponent:{query:l.query(),fragment:l.fragment()}},r.siteAppSection,"");u=e.expand("{+rootPath}/{+resourcePath}{?queryParams*}",{rootPath:p.rootPath,resourcePath:p.resourcePath,queryParams:m.oResolvedParameters}).toString();sap.ui.require(["sap/ui/thirdparty/datajs"],function(e){e.read({requestUri:u,headers:{"Cache-Control":"no-cache, no-store, must-revalidate",Pragma:"no-cache",Expires:"0"}},function(e){var a=c.get("transformAppLaunchQueryString.value",e);if(a===undefined){a=c.get("transformAppLaunchIntent.value",e)}if(a===undefined){a=c.get("transformAppLaunchQueryString.queryString",e)}t.info("URL Transformation Succeeded",JSON.stringify({URLBeforeTransformation:n,URLAfterTransformation:a}),"sap.ushell.ApplicationType");if(o.transformations[0].sourceURLComponent===undefined){o.transformations[0].sourceURLComponent="query"}if(o.transformations[0].sourceURLComponent==="query"||o.transformations[0].sourceURLComponent==="fragment"){n=l[o.transformations[0].sourceURLComponent].apply(l,[a]).toString()}else{t.error("The "+o.transformations[0].sourceURLComponent+" component of the URL in URI.js is not transformed","","sap.ushell.ApplicationType")}i(n)},function(e){t.error("URL Transformation Failed",JSON.stringify(e),"sap.ushell.ApplicationType");i(n)})})}else{i(n)}})}function W(e,t){if(typeof e.enabled==="boolean"){return e.enabled}var n=a.prepareExpandData({urlTemplate:"",parameters:{names:{enabled:e.enabled}}},{},{},t.siteAppSection,"");return typeof n.oResolvedParameters.enabled==="boolean"?n.oResolvedParameters.enabled:false}function N(t,n,a){var i=t.inbound,o=i&&i.resolutionResult,l={};var c=new e(n);var f=u({},t.mappedIntentParamsPlusSimpleDefaults);if(t.inbound&&t.inbound.action==="launchURL"&&t.inbound.semanticObject==="Shell"){delete f["sap-external-url"]}var m=f["sap-system"]&&f["sap-system"][0];var d=f["sap-system-src"]&&f["sap-system-src"][0];l["sap-system"]=m;delete f["sap-system"];if(typeof d==="string"){l["sap-system-src"]=d;delete f["sap-system-src"]}return new Promise(function(e,t){if(s.absoluteUrlDefinedByUser(c,o.systemAlias,o.systemAliasSemantics)){e(n)}else{r.spliceSapSystemIntoURI(c,o.systemAlias,m,d,"URL",o.systemAliasSemantics||r.SYSTEM_ALIAS_SEMANTICS.applied,a).fail(t).done(function(t){var n=t.toString();e(n)})}}).then(function(e){var t=false,n,a=p.last("/core/navigation/flpURLDetectionPattern"),r=new RegExp(a);if(f&&f.hasOwnProperty("sap-params-append")){delete f["sap-params-append"];t=true}n=s.getURLParsing().paramsToString(f);return r.test(e)||t===true?s.appendParametersToIntentURL(f,e):s.appendParametersToUrl(n,e)},Promise.reject.bind(Promise)).then(function(e){["additionalInformation","applicationDependencies","systemAlias"].forEach(function(e){if(i.resolutionResult.hasOwnProperty(e)){l[e]=i.resolutionResult[e]}});l.url=e;l.text=i.title;l.applicationType="URL";return Promise.resolve(l)},Promise.reject.bind(Promise))}var F={URL:{type:"URL",defaultFullWidthSetting:true,generateResolutionResult:function(e){var t=e.inbound.hasOwnProperty("templateContext");return t?O.apply(null,arguments):N.apply(null,arguments)},easyAccessMenu:{intent:"Shell-startURL",resolver:null,showSystemSelectionInUserMenu:true,showSystemSelectionInSapMenu:false,systemSelectionPriority:1}},WDA:{type:"WDA",defaultFullWidthSetting:true,enableWdaCompatibilityMode:p.last("/core/navigation/enableWdaCompatibilityMode"),generateResolutionResult:d,easyAccessMenu:{intent:"Shell-startWDA",resolver:i.resolveEasyAccessMenuIntentWDA,showSystemSelectionInUserMenu:true,showSystemSelectionInSapMenu:true,systemSelectionPriority:2}},TR:{type:"TR",defaultFullWidthSetting:true,generateResolutionResult:h,easyAccessMenu:{intent:"Shell-startGUI",resolver:o.resolveEasyAccessMenuIntentWebgui,showSystemSelectionInUserMenu:true,showSystemSelectionInSapMenu:true,systemSelectionPriority:3}},NWBC:{type:"NWBC",defaultFullWidthSetting:true},WCF:{type:"WCF",generateResolutionResult:y,defaultFullWidthSetting:true},SAPUI5:{type:"SAPUI5",generateResolutionResult:g,defaultFullWidthSetting:false}};function j(){return Object.keys(F).map(function(e){return F[e]}).filter(function(e){return typeof e.easyAccessMenu==="object"})}function q(){var e={};j().forEach(function(t){e[t.easyAccessMenu.intent]=t.easyAccessMenu.resolver});return function(t,n){if(e[t]&&(!n||n!=="SAPUI5")){return e[t]}return null}}function k(e){if(!F[e]){return false}return F[e].defaultFullWidthSetting}Object.defineProperty(F,"enum",{value:Object.keys(F).reduce(function(e,t){if(F[t].type){e[t]=F[t].type}return e},{})});var H={getEasyAccessMenuResolver:q(),getEasyAccessMenuDefinitions:j,getDefaultFullWidthSetting:k,handleURLTransformation:E};Object.keys(H).forEach(function(e){Object.defineProperty(F,e,{value:H[e]})});return F},false);
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/Config", ["sap/ushell/EventHub","sap/ushell/bootstrap/common/common.create.configcontract.core","sap/ushell/_Config/utils"],function(e,n,t){"use strict";var r=n.createConfigContract(window["sap-ushell-config"]);var a=e.createChannel(r);var c=Object.keys(a).reduce(function(n,t){n[t]=function(){if(!a){a=e.createChannel(r)}return a[t].apply(a,arguments)};return n},{_reset:function(){a=null},registerConfiguration:function(e,n){r=n},createModel:function(n,c){if(!a){a=e.createChannel(r)}return t.createModel(a,r,n,c)}});return c},false);
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/Container", ["sap/ushell/utils/UrlParsing","sap/ushell/utils","sap/ushell/System","sap/ushell/Ui5ServiceFactory","sap/ushell/Ui5NativeServiceFactory","sap/ui/base/EventProvider","sap/ui/core/service/ServiceFactoryRegistry","sap/ui/core/Control","sap/ui/performance/Measurement","sap/ui/thirdparty/URI","sap/ui/util/Mobile","sap/base/util/uid","sap/base/assert","sap/base/Log","sap/ui/thirdparty/jquery","sap/ushell/EventHub","sap/ushell/User"],function(e,t,r,n,i,o,a,s,u,l,c,f,d,g,jQuery,h,p){"use strict";var v="sap.ushell.services.Container",m="sap.ushell.Container.dirtyState.",y={},S,w,C,D=[];function P(){close()}function b(){document.location="about:blank"}function E(e){if(w&&w[e]){return w[e]}return"sap.ushell.adapters."+e}function L(e){return S.services&&S.services[e]||{}}function A(e,t,r,n,i){var o=L(e).adapter||{},a;function s(e){var n=sap.ui.requireSync(e);return new n(t,r,{config:o.config||{}})}function u(e){return new Promise(function(n,i){sap.ui.require([e],function(e){var i=new e(t,r,{config:o.config||{}});n(i)},i)})}if(i===true){a=o.module;if(a===undefined){return n?Promise.resolve():undefined}}else{a=o.module||E(t.getPlatform())+"."+e+"Adapter"}var l=a.replace(/\./g,"/");if(n){return u(l)}return s(l)}function I(n){var i=new o,a=false,c=[],p={},w="sap.ushell.Container."+n.getSystem().getPlatform()+".remoteSystem.",C={},E,I,R=t.getLocalStorage(),F=new t.Map,U=new t.Map,N="sap.ushell.Container."+n.getSystem().getPlatform()+".sessionTermination",M=this;this.cancelLogon=function(){if(this.oFrameLogonManager){this.oFrameLogonManager.cancelLogon()}};this.createRenderer=function(e,r){if(typeof e==="boolean"){r=e;e=undefined}var n={async:!!r};var o;var a;u.start("FLP:Container.InitLoading","Initial Loading","FLP");t.setPerformanceMark("FLP - renderer created");e=e||S.defaultRenderer;if(!e){throw new Error("Missing renderer name")}a=S.renderers&&S.renderers[e]||{};o=a.module||(e.indexOf(".")<0?"sap.ushell.renderers."+e+".Renderer":e);if(a.componentData&&a.componentData.config){n.config=a.componentData.config}function l(t){var r=sap.ui.requireSync(t);var o=new r({componentData:n});var a;var u=sap.ui.require("sap/ui/core/UIComponent");if(o instanceof u){a=new sap.ui.core.ComponentContainer({component:o,height:"100%",width:"100%"})}else{a=o}if(!(a instanceof s)){throw new Error("Unsupported renderer type for name "+e)}f(a);p[e]=o;i.fireEvent("rendererCreated",{renderer:o});return a}function c(t){return new Promise(function(r,o){sap.ui.require([t,"sap/ui/core/ComponentContainer","sap/ui/core/UIComponent","sap/ui/core/routing/Router"],function(t,a,u){var l=new t({componentData:n});if(l instanceof u){var c=new a({component:l,height:"100%",width:"100%",async:true});f(c);p[e]=l;l.rootControlLoaded().then(function(){i.fireEvent("rendererCreated",{renderer:l});r(c)})}else if(l instanceof s){f(l);p[e]=l;i.fireEvent("rendererCreated",{renderer:l});r(l)}else{o(new Error("Unsupported renderer type!"))}})})}function f(e){e.placeAt=function(e,t){var r=e,n="canvas",i=document.body;if(e===i.id){r=document.createElement("div");r.setAttribute("id",n);r.classList.add("sapUShellFullHeight");switch(t){case"first":if(i.firstChild){i.insertBefore(r,i.firstChild);break}case"only":i.innerHTML="";default:i.appendChild(r)}e=n;t=""}s.prototype.placeAt.call(this,e,t)}}var d=o.replace(/\./g,"/");if(r){return c(d)}g.error("sap.ushell.Container.createRenderer() should always be called with bAsync:true.");return l(d)};this.getRenderer=function(e){var t,r;e=e||S.defaultRenderer;if(e){t=p[e]}else{r=Object.keys(p);if(r.length===1){t=p[r[0]]}else{g.warning("getRenderer() - cannot determine renderer, because no default renderer is configured and multiple instances exist.",null,v)}}if(t&&t.isA("sap.ui.core.ComponentContainer")){return t.getComponentInstance()}return t};this.DirtyState={CLEAN:"CLEAN",DIRTY:"DIRTY",MAYBE_DIRTY:"MAYBE_DIRTY",PENDING:"PENDING",INITIAL:"INITIAL"};this.getGlobalDirty=function(){var e,r=new jQuery.Deferred,n=f(),i,o=0,a=this.DirtyState.CLEAN;function s(){if(o===0||a===M.DirtyState.DIRTY){r.resolve(a);g.debug("getGlobalDirty() Resolving: "+a,null,"sap.ushell.Container")}}function u(e){if(e.key.indexOf(m)===0&&e.newValue!==M.DirtyState.INITIAL&&e.newValue!==M.DirtyState.PENDING){g.debug("getGlobalDirty() Receiving event key: "+e.key+" value: "+e.newValue,null,"sap.ushell.Container");if(e.newValue===M.DirtyState.DIRTY||e.newValue===M.DirtyState.MAYBE_DIRTY){a=e.newValue}o-=1;s()}}try{R.setItem(n,"CHECK");R.removeItem(n)}catch(e){g.warning("Error calling localStorage.setItem(): "+e,null,"sap.ushell.Container");return r.resolve(this.DirtyState.MAYBE_DIRTY).promise()}if(E){throw new Error("getGlobalDirty already called!")}E=r;window.addEventListener("storage",u);r.always(function(){window.removeEventListener("storage",u);E=undefined});for(e=R.length-1;e>=0;e-=1){i=R.key(e);if(i.indexOf(m)===0){if(R.getItem(i)==="PENDING"){R.removeItem(i);g.debug("getGlobalDirty() Cleanup of unresolved 'PENDINGS':"+i,null,"sap.ushell.Container")}else{o+=1;t.localStorageSetItem(i,this.DirtyState.PENDING,true);g.debug("getGlobalDirty() Requesting status for: "+i,null,"sap.ushell.Container")}}}s();setTimeout(function(){if(r.state()!=="resolved"){r.resolve("MAYBE_DIRTY");g.debug("getGlobalDirty() Timeout reached, - resolved 'MAYBE_DIRTY'",null,"sap.ushell.Container")}},o*2e3);return r.promise()};this.getLogonSystem=function(){return n.getSystem()};this.getUser=function(){return n.getUser()};this.getDirtyFlag=function(){var e=a;var t=this._oShellNavigationService.getNavigationContext();for(var r=0;r<c.length;r++){e=e||c[r](t)}return e};this.fnAsyncDirtyStateProvider=null;this.getDirtyFlagsAsync=function(){if(!this.fnAsyncDirtyStateProvider){return Promise.resolve(this.getDirtyFlag())}var e=this._oShellNavigationService.getNavigationContext();return this.fnAsyncDirtyStateProvider(e).then(function(e){return e||this.getDirtyFlag()}.bind(this))};this.isAsyncDirtyStateProviderSet=function(){return typeof this.fnAsyncDirtyStateProvider==="function"};this.setAsyncDirtyStateProvider=function(e){this.fnAsyncDirtyStateProvider=e};this.setDirtyFlag=function(e){a=e};this.sessionKeepAlive=function(){if(n.sessionKeepAlive){n.sessionKeepAlive()}};this.extendSession=function(){h.emit("nwbcUserIsActive",Date.now())};this.registerDirtyStateProvider=function(e){if(typeof e!=="function"){throw new Error("fnDirty must be a function")}c.push(e)};this.deregisterDirtyStateProvider=function(e){if(typeof e!=="function"){throw new Error("fnDirty must be a function")}var t=-1;for(var r=c.length-1;r>=0;r--){if(c[r]===e){t=r;break}}if(t===-1){return}c.splice(t,1)};this.getService=function(e,t,r){return M._getService.apply(M,arguments)};this.getServiceAsync=function(e,t){return M._getService(e,t,true)};this._getService=function(e,t,r){var i={},o,a,s,u,l,c;function f(r){var n=new jQuery.Deferred;if(!r){throw new Error("Missing system")}n.resolve(A(e,r,t));sap.ushell.Container.addRemoteSystem(r);return n.promise()}if(!e){throw new Error("Missing service name")}if(e.indexOf(".")>=0){throw new Error("Unsupported service name")}l=L(e);o=l.module||"sap.ushell.services."+e;a=o+"/"+(t||"");c={config:l.config||{}};function d(e,r){i.createAdapter=f;return new e(r,i,t,c)}function h(r,o){var s;if(F.containsKey(a)){s=F.get(a)}else if(r.hasNoAdapter){s=new r(i,t,c)}else{u=A(e,n.getSystem(),t,o,r.useConfiguredAdapterOnly);if(o){return u.then(function(e){var t=d(r,e);F.put(a,t);return t})}s=d(r,u)}F.put(a,s);return o?Promise.resolve(s):s}if(!F.containsKey(a)){if(r){if(!U.containsKey(a)){var p=new Promise(function(e,t){sap.ui.require([o.replace(/[.]/g,"/")],function(t){e(h(t,true))},t)});U.put(a,p);return p}return U.get(a)}g.error("Deprecated API call of 'sap.ushell.Container.getService'. Please use 'getServiceAsync' instead",null,"sap.ushell.services.Container");s=sap.ui.requireSync(o.replace(/[.]/g,"/"));return h(s)}if(r){return Promise.resolve(F.get(a))}return F.get(a)};function T(){var e,t,n,i;for(n=R.length-1;n>=0;n-=1){i=R.key(n);if(i.indexOf(w)===0){try{e=i.substring(w.length);t=JSON.parse(R.getItem(i));C[e]=new r(t)}catch(e){R.removeItem(i)}}}return C}function _(){if(typeof OData==="undefined"){return}function e(e,t,r){g.warning(e,null,"sap.ushell.Container");if(r){setTimeout(r.bind(null,e),5e3)}return{abort:function(){return}}}OData.read=function(t,r,n){return e("OData.read('"+(t&&t.Uri?t.requestUri:t)+"') disabled during logout processing",r,n)};OData.request=function(t,r,n){return e("OData.request('"+(t?t.requestUri:"")+"') disabled during logout processing",r,n)}}this.addRemoteSystem=function(e){var r=e.getAlias(),n=C[r];if(this._isLocalSystem(e)){return}if(n){if(n.toString()===e.toString()){return}g.warning("Replacing "+n+" by "+e,null,"sap.ushell.Container")}else{g.debug("Added "+e,null,"sap.ushell.Container")}C[r]=e;t.localStorageSetItem(w+r,e)};this._isLocalSystem=function(e){var r=e.getAlias();if(r&&r.toUpperCase()==="LOCAL"){return true}var n=new l(t.getLocationHref()),i=this.getLogonSystem().getClient()||"";if(e.getBaseUrl()===n.origin()&&e.getClient()===i){return true}return false};this.addRemoteSystemForServiceUrl=function(e){var t,n={baseUrl:";o="};if(!e||e.charAt(0)!=="/"||e.indexOf("//")===0){return}t=/^[^?]*;o=([^/;?]*)/.exec(e);if(t&&t.length>=2){n.alias=t[1]}e=e.replace(/;[^/?]*/g,"");if(/^\/sap\/(bi|hana|hba)\//.test(e)){n.platform="hana";n.alias=n.alias||"hana"}else if(/^\/sap\/opu\//.test(e)){n.platform="abap"}if(n.alias&&n.platform){this.addRemoteSystem(new r(n))}};this.attachLogoutEvent=function(e,t){var r=false;if(t===true){d(typeof e==="function","Container.attachLogoutEvent: fnFunction must be a function");for(var n=0;n<D.length;n++){if(D[n]===e){r=true;break}}if(!r){D.push(e)}}else{i.attachEvent("Logout",e)}};this.detachLogoutEvent=function(e){i.detachEvent("Logout",e);for(var t=0;t<D.length;t++){if(D[t]===e){D.splice(t,1);break}}};this.attachRendererCreatedEvent=function(e){i.attachEvent("rendererCreated",e)};this.detachRendererCreatedEvent=function(e){i.detachEvent("rendererCreated",e)};this.defaultLogout=function(){var e=new jQuery.Deferred;function r(){n.logout(true).always(function(){R.removeItem(N);e.resolve()})}function o(){var e=new jQuery.Deferred,t=e.promise(),n=[];if(D.length>0){for(var o=0;o<D.length;o++){n.push(D[o]())}Promise.all(n).then(e.resolve);setTimeout(e.resolve,4e3)}else{e.resolve()}t.done(function(){if(i.fireEvent("Logout",true)){r()}else{setTimeout(r,1e3)}})}function a(){var e,r=[];if(I){window.removeEventListener("storage",I)}t.localStorageSetItem(N,"pending");M._suppressOData();e=M._getRemoteSystems();Object.keys(e).forEach(function(t){try{r.push(A("Container",e[t]).logout(false))}catch(e){g.warning("Could not create adapter for "+t,e.toString(),"sap.ushell.Container")}R.removeItem(w+t)});jQuery.when.apply(jQuery,r).done(o)}if(typeof n.addFurtherRemoteSystems==="function"){n.addFurtherRemoteSystems().always(a)}else{a()}return e.promise()};this.logout=this.defaultLogout;this.registerLogout=function(e){this.logout=e};this.setLogonFrameProvider=function(e){if(this.oFrameLogonManager){this.oFrameLogonManager.logonFrameProvider=e}};this.setXhrLogonTimeout=function(e,t){if(this.oFrameLogonManager){this.oFrameLogonManager.setTimeout(e,t)}};this.getFLPConfig=function(){var e=new Promise(function(e,t){var r={URL:this.getFLPUrl()};if(y.CDMPromise){y.CDMPromise.then(function(t){t.getSiteWithoutPersonalization().then(function(t){r.scopeId=t.site.identification.id;e(r)})})}else{e(r)}}.bind(this));return e};this.getFLPUrl=function(r){var n=t.getLocationHref(),i=n.indexOf(e.getShellHash(n));if(i===-1||r===true){return n}return n.substr(0,i-1)};this.getFLPUrlAsync=function(e){return(new jQuery.Deferred).resolve(M.getFLPUrl(e)).promise()};this.inAppRuntime=function(){return false};this.runningInIframe=this.inAppRuntime;this._getAdapter=function(){return n};this.getFLPPlatform=function(e){if(e===true){return S.flpPlatform}return Promise.resolve(S.flpPlatform)};this._closeWindow=P;this._redirectWindow=b;this._getRemoteSystems=T;this._suppressOData=_;sap.ui.getCore().getEventBus().subscribe("sap.ushell.Container","addRemoteSystemForServiceUrl",function(e,t,r){M.addRemoteSystemForServiceUrl(r)});if(typeof n.logoutRedirect==="function"){I=function(e){function r(){M._closeWindow();M._redirectWindow()}if(sap.ushell.Container!==M){return}if(e.key.indexOf(w)===0&&e.newValue&&e.newValue!==R.getItem(e.key)){t.localStorageSetItem(e.key,e.newValue)}if(e.key===N){if(e.newValue==="pending"){M._suppressOData();if(i.fireEvent("Logout",true)){r()}else{setTimeout(r,1e3)}}}};window.addEventListener("storage",I)}this._getFunctionsForUnitTest=function(){return{createAdapter:A}}}function R(e,t){e.forEach(function(e){var r=n.createServiceFactory(e,t);a.register("sap.ushell.ui5service."+e,r)})}function F(e){e.forEach(function(e){var t=i.createServiceFactory(e);a.register("sap.ushell.ui5service."+e,t)})}sap.ushell=sap.ushell||{};sap.ushell.bootstrap=function(e,n){var i,o=new jQuery.Deferred;c.init();if(sap.ushell.Container!==undefined){i=new Error("Unified shell container is already initialized - cannot initialize twice.\nStacktrace of first initialization:"+C);g.error(i,i.stack,v);throw i}C=(new Error).stack;S=jQuery.extend({},true,window["sap-ushell-config"]||{});w=n;if(typeof window["sap.ushell.bootstrap.callback"]==="function"){setTimeout(window["sap.ushell.bootstrap.callback"])}R(["Personalization","URLParsing","CrossApplicationNavigation"],true);R(["Configuration"],false);F(["CardNavigation","CardUserRecents","CardUserFrequents"]);var a=new r({alias:"",platform:S.platform||e});A("Container",a,null,true).then(function(e){e.load().then(function(){function t(){var e,t;var r=window["sap-ushell-config"];if(!r||!r.services){return false}e=r.services.PluginManager;t=e&&e.config;return t&&t.loadPluginsFromSite}sap.ushell.Container=new I(e);var i=[sap.ushell.Container.getServiceAsync("PluginManager")];if(t()){y.CDMPromise=sap.ushell.Container.getServiceAsync("CommonDataModel");i.push(y.CDMPromise)}Promise.all(i).then(function(e){r(e)}).then(n);var a=[];if(S.preloadServices!==undefined&&Array.isArray(S.preloadServices)){S.preloadServices.forEach(function(e){a.push(sap.ushell.Container.getServiceAsync(e))});g.error("Ushell Config's preloadServices should not be used!")}var s=sap.ushell.Container.getServiceAsync("ShellNavigation").then(function(e){sap.ushell.Container._oShellNavigationService=e});a.push(s);Promise.all(a).then(function(){o.resolve()})});function r(e){var t=e[0];var r=e[1];var n=r?r.getPlugins():jQuery.when({});n.then(function(e){var r=jQuery.extend(true,{},S.bootstrapPlugins,e);t.registerPlugins(r);try{t.loadPlugins("EarlyLoading").catch(function(){g.error("Error loading S/4's my home plugin")})}catch(e){g.error("Error loading S/4's my home plugin")}})}function n(){i();sap.ui.require(["sap/ushell/Config"],function(e){a(e)})}function i(){if(t.hasFLPReady2NotificationCapability()){sap.ui.require(["sap/ushell/NWBCInterface"],function(e){t.getPrivateEpcm().doEventFlpReady2(e)})}else if(t.hasFLPReadyNotificationCapability()){t.getPrivateEpcm().doEventFlpReady()}}function a(e){if(e.last("/core/darkMode/enabled")){sap.ushell.Container.getServiceAsync("DarkModeSupport").then(function(e){if(e&&e.setup){e.setup()}})}}});return o.promise()}});
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/EventHub", [],function(){"use strict";var e={pendingEvents:{},subscribers:{},dispatchOperations:{},store:n(),dispatchTimeoutIds:new window.Set};function n(){return{nextKey:0,objectToKey:new window.WeakMap,keyToObject:{}}}function t(e,n,t){var r=sap.ui.require("sap/base/Log");if(r){r.error(e,n,"sap.ushell.EventHub");return}}function r(e){var n="An exception was raised while executing a registered callback on event '"+e.eventName+"'",r="Data passed to the event were: '"+e.eventData+"'";if(e.error.stack){r+=" Error details: "+e.error.stack}t(n,r,e.fnCausedBy)}function i(e,n,t){var i;try{i=n(t)}catch(i){r({eventName:e,eventData:t,fnCausedBy:n,error:i})}return i}function u(e){if(typeof arguments[2]==="function"){return P(e,arguments[2])}return arguments[2]}function o(e){if(typeof arguments[2]==="string"&&arguments[2].indexOf("<function")===0){return E(e,arguments[2])}return arguments[2]}function a(e,n,r){if(typeof n==="object"||typeof n==="function"){try{var i=[n,u.bind(null,e)];if(r){i.push(3)}return JSON.stringify.apply(JSON,i)}catch(e){t(""+e,e.stack,a)}}return n}function c(e,n){try{return JSON.parse(n,o.bind(null,e))}catch(e){return n}}function s(e,n,t){if(!e.subscribers[n]){e.subscribers[n]=[]}e.subscribers[n].push(t)}function f(e,n,t){e.subscribers[n]=(e.subscribers[n]||[]).map(function(e){return e.filter(function(e){return e.fn!==t})}).filter(function(e){return e.length>0})}function l(){var e,n=new Promise(function(n){e=n}),t={dispatching:n,cancelled:false,cancel:function(){t.cancelled=true},complete:function(){e()}};return t}function d(e,n){if(!e.subscribers.hasOwnProperty(n)){return null}var t=l(),r=e.subscribers[n],i=r.map(function(r){return p(e,n,r,t,0)});Promise.all(i).then(t.complete,t.complete);return t}function p(e,n,t,r,i){var u=t.length,o=t.slice(i);return o.reduce(function(i,u){return i.then(function(i){if(r.cancelled){if(i){f(e,n,u.fn)}return i}return h(e,n,u,t).then(function(e){if(e){r.cancelled=true}return e})})},Promise.resolve(false)).then(function(i){if(!i&&u<t.length){return p(e,n,t,r,u)}return i})}function h(e,n,t,r){return new Promise(function(u){var o=c(e,e.pendingEvents[n]);var a=setTimeout(function(){e.dispatchTimeoutIds.delete(a);if(t.called&&r.offed){u(false);return}t.called=true;var c=r.offed;i(n,t.fn,o);var s=r.offed;if(s){f(e,n,t.fn)}u(!c&&s)},0);e.dispatchTimeoutIds.add(a)})}function v(e,n,t){return function(){t.forEach(function(t){if(t.called){f(e,n,t.fn)}});t.offed=true;return{off:v(e,n,[])}}}function b(e,n,t){return function(r){var i={fn:r,called:false};t.push(i);if(e.pendingEvents.hasOwnProperty(n)){var u=e.dispatchOperations[n];if(!u){h(e,n,i,t)}else{u.dispatching.then(function(){if(!i.called){h(e,n,i,t)}})}}return{do:b(e,n,t),off:v(e,n,t)}}}function y(e,n){var t=[];s(e,n,t);return{do:b(e,n,t),off:v(e,n,t)}}function m(e,n){var t=y(e,n);t.off();return t}function w(e,n,t,r){var i=a(e,t);if(!r&&e.pendingEvents.hasOwnProperty(n)&&e.pendingEvents[n]===i){return this}e.pendingEvents[n]=i;var u=e.dispatchOperations[n];if(u){u.cancel()}var o=d(e,n);e.dispatchOperations[n]=o;return this}function g(e,n){return c(e,e.pendingEvents[n])}function O(){var e=Array.prototype.slice.call(arguments);e.shift();var n=0,t=new Array(e.length).join(",").split(",").map(function(){return 1}),r=[],i={do:function(u){e.forEach(function(i,o){i.do(function(i,o){r[i]=o;n+=t[i];t[i]=0;if(n===e.length){u.apply(null,r)}}.bind(null,o))});return{off:i.off}},off:function(){var n=e.reduce(function(e,n){return n.off()},function(){});return{off:n}}};return i}function j(e,n){var t=e.dispatchOperations[n];return t?t.dispatching:Promise.resolve()}function P(e,n){if(e.store.objectToKey.has(n)){return e.store.objectToKey.get(n)}e.store.nextKey++;var t="<"+typeof n+">#"+e.store.nextKey;e.store.keyToObject[t]=n;e.store.objectToKey.set(n,t);return t}function E(e,n){return e.store.keyToObject[n]}function k(e){var t={};t.emit=w.bind(t,e);t.on=y.bind(null,e);t.once=m.bind(null,e);t.last=g.bind(null,e);t.join=O.bind(null,e);t.wait=j.bind(null,e);t._reset=function(e){e.pendingEvents={};e.subscribers={};e.dispatchOperations={};e.store=n();e.dispatchTimeoutIds.forEach(clearTimeout);e.dispatchTimeoutIds=new window.Set}.bind(null,e);return t}function T(e){var t={pendingEvents:{},subscribers:{},dispatchOperations:{},store:n(),dispatchTimeoutIds:new window.Set},r=k(t),i=c(t,a(t,e));function u(e){var n=e.charAt(0);if(n.match(/[a-zA-Z0-9]/)){throw new Error("Invalid path separator '"+n+"'. Please ensure path starts with a non alphanumeric character")}var t=e.split(n);t.shift();return t}function o(e,n){var t=e,r="";if(arguments.length===2){t=n;r=e}return r+"/"+t.join("/")}function s(e){return Object.prototype.toString.apply(e)==="[object Array]"}function f(e){return Object(e)!==e}function l(e){return(s(e)?e.length:Object.keys(e).length)===0}function d(e,n,r,i){var u="",c=e,l=[];r.reduce(function(e,n,d){u=o(u,[n]);c=c[n];if(d===r.length-1){if(!f(i)&&!f(c)&&Object.keys(c).length>0){var p,h=Object.keys(c).reduce(function(e,n){e[n]=true;return e},{}),v=Object.keys(i).some(function(e){p=e;var n=h.hasOwnProperty(e);delete h[e];var t=!f(c[e])&&Object.keys(c[e]).length>0;return!n||t}),b=Object.keys(h).length>0,y=v||b;if(y){var m=v?"One or more values are not defined in the channel contract or are defined as a non-empty object/array, for example, check '"+p+"'.":"Some keys are missing in the event data: "+Object.keys(h).join(", ")+".";throw new Error("Cannot write value '"+a(t,i,true)+"' to path '"+u+"'. "+m+" All childrens in the value must appear in the channel contract and must have a simple value or should be defined as an empty complex value")}var w=Object.keys(i).map(function(e){return{serializedPath:o(u,[e]),value:i[e]}});Array.prototype.push.apply(l,w)}e[n]=i}else if(!e.hasOwnProperty(n)){e[n]=s(c)?[]:{}}l.push({serializedPath:u,value:e[n]});return e[n]},n);return l}function p(e,n){var r="",i=n.reduce(function(e,n){r+="/"+n;if(s(e)&&!n.match(/^[0-9]+$/)){throw new Error("Invalid array index '"+n+"' provided in path '"+r+"'")}if(!e.hasOwnProperty(n)){throw new Error("The item '"+n+"' from path "+r+" cannot be accessed in the object: "+a(t,e))}return e[n]},e);return i}function h(e,n,t){return n.reduce(function(e,r,i){var u=i===n.length-1;if(e.hasOwnProperty(r)){return e[r]}return u?t:{}},e)}function v(e,n){n.pop();var t=e,r=[];return n.reduce(function(e,n){t=t[n];r.push(n);e.push({serializedPath:o(r),value:t});return e},[])}function b(e){return e.map(function(e){var n=e.serializedPath;if(!t.subscribers.hasOwnProperty(n)||t.subscribers[n].length===0){return null}return{path:n,value:e.value}}).filter(function(e){return!!e})}function y(n,t){var o=u(n);p(e,o);var a=d(e,i,o,t);a.forEach(function(e){r.emit(e.serializedPath,e.value)})}function m(n){var t=u(n),r=p(e,t);return h(i,t,r)}function w(n){var i=u(n),s=o(i),d=r.last(s),h=t.pendingEvents.hasOwnProperty(s);if(h){return r.on(s)}d=p(e,i);if(typeof d!=="undefined"&&(f(d)||!l(c(r,a(r,d))))){r.emit(s,d)}return r.on(s)}function g(e){var n=w(e);n.off();return n}function j(e){var n=u(e),t=v(i,n),o=b(t).map(function(e){return r.wait(e.path,e.value)});return Promise.all(o.concat(r.wait(e)))}return{emit:y,on:w,once:g,last:m,wait:j,join:O.bind(null,r)}}var x=k(e);x.createChannel=T.bind(null);return x});
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/Fiori20Adapter", ["sap/ui/base/Object","sap/ui/core/Component","sap/ui/core/UIComponent","sap/ui/model/resource/ResourceModel","sap/m/Fiori20Adapter","sap/ui/thirdparty/hasher","sap/base/util/extend"],function(e,t,i,n,r,o,a){"use strict";var s;i._fnOnInstanceDestroy=function(e){if(e._fioriAdapter){e._fioriAdapter.destroy()}};var f=e.extend("AppInfo",{constructor:function(t){e.call(this);this._oComponent=t},getDefaultTitle:function(){var e,t,i=this._oComponent.getMetadata();var n=i.getManifestEntry("sap.app");if(n&&n.title){e=n.title;if(this._isLocalizationKey(e)){t=n.i18n||"i18n/i18n.properties";return this._getLocalized(e,t)}return e}var r=i.getManifestEntry("sap.ui5");if(r&&r.config&&r.config.resourceBundle&&r.config.titleResource){e=r.config.titleResource;t=r.config.resourceBundle;return this._getLocalized(e,t)}return},_getLocalized:function(e,t){var i=new n({bundleUrl:sap.ui.require.toUrl(this._oComponent.getMetadata().getComponentName())+"/"+t});return i.getResourceBundle().getText(e.replace(/^{{/,"").replace(/}}$/,""))},_isLocalizationKey:function(e){return e.indexOf("{{")===0&&e.indexOf("}}")>0}});var u=e.extend("HeaderInfo",{constructor:function(t,i,n){e.call(this);this._oConfig=i;this._oAppInfo=n;this._aHierarchy=[];this._defaultTitle=this._oAppInfo.getDefaultTitle();this._oCurrentViewInfo={oTitleInfo:{text:this._defaultTitle}}},registerView:function(e){if(this._oConfig.bMoveTitle===true){if(!e.oTitleInfo&&e.oSubTitleInfo){e.oTitleInfo=e.oSubTitleInfo}this._oCurrentViewInfo=e;var t=this._oCurrentViewInfo.oTitleInfo?this._oCurrentViewInfo.oTitleInfo.text:undefined;if(t!==s.getTitle()){s.setTitle(t)}this._updateHierarchy()}this._setBackNavigation(e.oBackButton,e.oAdaptOptions)},_setBackNavigation:function(e,t){if(t&&t.bHideBackButton===false){return}var i;if(e){i=e.firePress.bind(e)}s.setBackNavigation(i)},_updateHierarchy:function(){if(this._oConfig.bHierarchy===false){return}if(!this._oCurrentViewInfo){return}var e=true,t="#"+o.getHash();for(var i=this._aHierarchy.length-1;i>=0;i--){var n=this._aHierarchy[i],r=n.id===this._oCurrentViewInfo.sViewId,a=n.intent===t;if(r||a){e=false;n=this._updateHierarchyEntry(n);this._aHierarchy[i]=n;this._aHierarchy=this._aHierarchy.slice(0,i+1);if(r){n.intent=t}break}}if(e){this._aHierarchy.push(this._createHierarchyEntry())}var f=[];for(var u=this._aHierarchy.length-2;u>=0;u--){f.push(this._aHierarchy[u])}s.setHierarchy(this._deleteUndefinedProperties(f))},_createHierarchyEntry:function(){var e="#"+o.getHash(),t={id:this._oCurrentViewInfo.sViewId,title:this._oCurrentViewInfo.oTitleInfo?this._oCurrentViewInfo.oTitleInfo.text:this._defaultTitle,subtitle:this._oCurrentViewInfo.oSubTitleInfo?this._oCurrentViewInfo.oSubTitleInfo.text:undefined,intent:e};return t},_updateHierarchyEntry:function(e){e.id=this._oCurrentViewInfo.sViewId;e.title=this._oCurrentViewInfo.oTitleInfo?this._oCurrentViewInfo.oTitleInfo.text:this._defaultTitle;e.subtitle=this._oCurrentViewInfo.oSubTitleInfo?this._oCurrentViewInfo.oSubTitleInfo.text:undefined;return e},_deleteUndefinedProperties:function(e){e.forEach(function(e){for(var t in e){if(e.hasOwnProperty(t)&&!e[t]&&t!=="title"){delete e[t]}}});return e}});var h=e.extend("sap.ushell.Fiori20Adapter",{constructor:function(t,i){e.call(this);this._oComponent=t;this._oConfig=i;this._oHeaderInfo=new u(t,i,new f(t));if(r){r.attachViewChange(this._onViewChange,this)}},init:function(){if(!r){return}var e=a({},this._oConfig);r.traverse(this._oComponent.getAggregation("rootControl"),e)},destroy:function(){if(r){r.detachViewChange(this._onViewChange,this)}},_onViewChange:function(e){this._oHeaderInfo.registerView(e.getParameters())}});h.applyTo=function(e,n,r,o){var a=e instanceof i?e:t.getOwnerComponentFor(e);if(!a){a=n}if(a&&!a._fioriAdapter){s=o;a._fioriAdapter=new h(a,r);a._fioriAdapter.init()}};return h});
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/Fiori20AdapterTest", ["sap/base/util/UriParameters","sap/ui/core/UIComponent","sap/ushell/Fiori20Adapter","sap/ui/core/library","sap/ui/core/service/ServiceFactoryRegistry","sap/base/Log","sap/base/util/Version","sap/base/util/isEmptyObject"],function(e,i,t,a,n,r,s,o){"use strict";var u={I_DEFAULT_SEARCH_DEPTH:5,B_DEFAULT_LATE_ADAPTATION:false,S_FIORI20ADAPTER_URL_PARAM_NAME:"sap-ui-xx-fiori2Adaptation",S_FIORI20ADAPTER_METADATA_PARAM_NAME:"sapFiori2Adaptation",A_ALLOWLIST:["fin.*","ssuite.fin.*","fscm.*","sap.fin.*","cus.sd.*","cus.o2c.*","sap.apf.*","tl.ibp.*","ux.fnd.apf.o2c.*","fnd.apf.*","fnd.pob.o2c.*","fcg.sll.*","ux.fnd.generic-apf-application.*","hpa.cei.*","query.viewbrowser.s1.*","ssuite.vdm.viewbrowser.s1.*","ssuite.smartbusiness.kpi.s1.*","ssuite.smartbusiness.evaluation.s1.*","ssuite.smartbusiness.association.s1.*","ssuite.smartbusiness.drilldown.s1.*","ssuite.smartbusiness.tile.s1.*","ssuite.smartbusiness.tile.ce.s1.*","ssuite.smartbusiness.workspace.s1.*","ssuite.smartbusiness.runtime.s1.*","gs.fin.customersummarycn.display.*","gs.fin.financialstatement.structure.manage.*","gs.fin.financialstatement.display.*","uipsm.*","publicservices.her.*"],getConfiguration:function(e){var i=this._getURLParamConfiguration();if(!i){i=this._getMetadataConfiguration(e)}if(!i){i=this._getDefaultConfiguration(e)}i.iSearchDepth=i.iSearchDepth||u.I_DEFAULT_SEARCH_DEPTH;if(typeof i.iSearchDepth==="string"&&!isNaN(i.iSearchDepth)){i.iSearchDepth=parseInt(i.iSearchDepth,10)}return i},_getURLParamConfiguration:function(){if(typeof sap.ui.getCore().getConfiguration().getFiori2Adaptation!=="function"){return}if(!this._isURLParameterSpecified(u.S_FIORI20ADAPTER_URL_PARAM_NAME)){return}var e=sap.ui.getCore().getConfiguration().getFiori2Adaptation(),i,t;if(typeof e==="boolean"){i=e}else if(e&&e.length>=1){t=e}if(!t&&i===undefined){return}return{bStylePage:t?t.indexOf("style")>-1:i,bMoveTitle:t?t.indexOf("title")>-1:i,bHideBackButton:t?t.indexOf("back")>-1:i,bCollapseHeader:t?t.indexOf("collapse")>-1:i,bHierarchy:t?t.indexOf("hierarchy")>-1:i}},_getMetadataConfiguration:function(e){var i=e.getMetadata("config").getConfig(u.S_FIORI20ADAPTER_METADATA_PARAM_NAME),t,a;if(typeof i==="boolean"){t=i}else if(typeof i==="object"&&!o(i)){a=i}if(!a&&t===undefined){return}return{bStylePage:a?this._isSgnTrue(a.style):t,bMoveTitle:a?this._isSgnTrue(a.title):t,bHideBackButton:a?this._isSgnTrue(a.back):t,bCollapseHeader:a?this._isSgnTrue(a.collapse):t,bHierarchy:a?this._isSgnTrue(a.hierarchy):t,bLateAdaptation:a?this._isSgnTrue(a.lateAdaptation):u.B_DEFAULT_LATE_ADAPTATION}},_getDefaultConfiguration:function(e){var i=this._hasMinVersionSmallerThan(e,"1.42")&&this._isAllowed(e);return{bStylePage:i,bMoveTitle:i,bHideBackButton:i,bCollapseHeader:i,bHierarchy:i}},_isURLParameterSpecified:function(i){var t=new e(window.location.href),a=t.mParams&&t.mParams[i];return a&&a.length>0},_isAllowed:function(e){var i=e.getMetadata().getName();for(var t=0;t<u.A_ALLOWLIST.length;t++){var a=u.A_ALLOWLIST[t].substring(0,u.A_ALLOWLIST[t].length-2);if(this._isPrefixedString(i,a)){return true}}return false},_isAdaptationRequired:function(e){for(var i in e){if(e[i]===true){return true}}return false},_isPrefixedString:function(e,i){return e&&i&&e.substring(0,i.length)===i},_hasMinVersionSmallerThan:function(e,i){var t=e.getMetadata().getManifestEntry("sap.ui5"),a=true;if(t&&t.dependencies&&t.dependencies.minUI5Version){var n=new s(t.dependencies.minUI5Version);a=n.compareTo(new s(i))<0}return a},_isSgnTrue:function(e){return e===true||e==="true"}};i._fnOnInstanceInitialized=function(e){var i=e.getAggregation("rootControl");if(!i||i.getId()==="navContainerFlp"||e.getId().indexOf("application-")!==0){return}var s=u.getConfiguration(e);if(!u._isAdaptationRequired(s)){return}if(!a.service||!n||typeof n.get!=="function"){r.warning("Fiori20Adapter not loaded because static FactoryRegistry is not available","sap.ui.core.service.ServiceFactoryRegistry should be a function","sap.ushell.Fiori20AdapterTest");return}var o={onBeforeRendering:function(){i.removeEventDelegate(o);var a=n.get("sap.ushell.ui5service.ShellUIService"),u=a&&a.createInstance();if(!a||!u){r.warning("Fiori20Adapter not loaded because ShellUIService is not available","sap.ushell.ui5service.ShellUIService should be declared by configuration","sap.ushell.Fiori20AdapterTest");return}u.then(function(a){if(a&&a.getUxdVersion()===2){t.applyTo(i,e,s,a)}},function(e){r.warning("Fiori20Adapter not loaded as ShellUIService is not available",e,"sap.ushell.Fiori20AdapterTest")})}};i.addEventDelegate(o)}});
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/System", [],function(){"use strict";var t=function(t){this._oData=t};t.prototype.getAlias=function(){return this._oData.alias};t.prototype.getBaseUrl=function(){return this._oData.baseUrl};t.prototype.getClient=function(){return this._oData.client};t.prototype.getClientRole=function(){return this._oData.clientRole};t.prototype.getName=function(){return this._oData.system};t.prototype.getPlatform=function(){return this._oData.platform};t.prototype.getProductVersion=function(){return this._oData.productVersion};t.prototype.getProductName=function(){return this._oData.productName};t.prototype.getSystemName=function(){return this._oData.systemName};t.prototype.getSystemRole=function(){return this._oData.systemRole};t.prototype.getTenantRole=function(){return this._oData.tenantRole};t.prototype.isTrial=function(){return!!this._oData.isTrialSystem};t.prototype.adjustUrl=function(t){if(t.indexOf("/")!==0||t==="/"){throw new Error("Invalid URL: "+t)}if(this._oData.baseUrl===";o="){if(this._oData.alias){t=t+";o="+this._oData.alias}}else if(this._oData.baseUrl){t=this._oData.baseUrl.replace(/\/$/,"")+t}if(this._oData.client){t+=(t.indexOf("?")>=0?"&":"?")+"sap-client="+this._oData.client}return t};t.prototype.toString=function(){return JSON.stringify(this._oData)};return t},true);
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/TechnicalParameters", ["sap/ushell/utils/type"],function(e){"use strict";var t={"sap-navigation-scope":{injectFrom:"inboundParameter",sticky:true,stickyName:"sap-navigation-scope-filter",isIntentParameter:true,getValue:function(e,t,r,a){return new Promise(function(u,s){if(a==="UI5"){u(n(e,t))}else{u(i(e,r))}})}},"sap-fiori-id":{injectFrom:"startupParameter",isIntentParameter:true,getValue:function(e,t,r,u){return new Promise(function(s,o){if(u==="UI5"){s(n(e,t)||a("/sap.fiori/registrationIds",t))}else{s(i(e,r))}})}},"sap-ui-fl-max-layer":{injectFrom:"startupParameter",isIntentParameter:true,getValue:function(e,t){return Promise.resolve().then(n.bind(null,e,t))}},"sap-ui-fl-control-variant-id":{injectFrom:"startupParameter",isIntentParameter:false,getValue:function(e,t){return Promise.resolve().then(n.bind(null,e,t))}},"sap-ui-fl-version":{injectFrom:"startupParameter",isIntentParameter:true,getValue:function(e,t){return Promise.resolve().then(n.bind(null,e,t))}},"sap-ui-app-id-hint":{injectFrom:"startupParameter",isIntentParameter:true,getValue:r},"sap-ach":{injectFrom:"startupParameter",isIntentParameter:true,getValue:function(e,t,r,u){return new Promise(function(s,o){if(u==="UI5"){s(n(e,t)||a("/sap.app/ach",t))}else{s(i(e,r))}})}},"sap-prelaunch-operations":{injectFrom:"inboundParameter",isIntentParameter:true,getValue:r},"sap-app-origin-hint":{injectFrom:"startupParameter",isIntentParameter:false,getValue:r},"sap-app-origin":{injectFrom:"startupParameter",isIntentParameter:false,getValue:r}};function r(e){return Promise.reject(e+" is reserved for shell internal usage only")}function n(e,t){var r=t.getComponentData().technicalParameters||{};return r[e]}function a(t,r){var n=r.getMetadata()?r.getMetadata():undefined;var a=n.getManifestEntry(t);if(!e.isArray(a)){a=[a]}return a}function i(e,t){var r=t.getReservedParameters();return r&&r[e]}function u(e,r,n,a){if(!t[e]){return Promise.reject(e+" is not a known technical parameter")}return t[e].getValue(e,r,n,a)}function s(e){if(!e){e={}}return Object.keys(t).filter(function(r){var n=t[r];return Object.keys(e).every(function(t){var r=e[t];var a=n.hasOwnProperty(t);if(a){return n[t]===r}return false})}).map(function(e){return Object.keys(t[e]).reduce(function(r,n){r[n]=t[e][n];return r},{name:e})})}function o(){return Object.keys(t)}function c(e){return t.hasOwnProperty(e)}function m(e,t,r,a){if(a==="UI5"){return n(e,t)}return i(e,r)}return{getParameterValue:u,getParameterValueSync:m,getParameters:s,getParameterNames:o,isTechnicalParameter:c}},false);
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/UI5ComponentType", [],function(){"use strict";return{Application:"Application",Plugin:"Plugin",Visualization:"Visualization"}});
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/URLTemplateProcessor", ["sap/base/Log","sap/ui/thirdparty/URI","sap/ui/thirdparty/URITemplate","sap/ushell/_URLTemplateProcessor/DefinitionParameterSetBuilder","sap/ushell/_URLTemplateProcessor/DependencyGraph","sap/ushell/_URLTemplateProcessor/Resolvers","sap/ushell/_URLTemplateProcessor/TemplateParameterParser","sap/ushell/_URLTemplateProcessor/utils"],function(e,r,t,a,n,o,s,i){"use strict";function p(r){e.debug(r,"sap.ushell.URLTemplateProcessor")}function l(e){if(typeof e==="undefined"){return"<undefined>"}if(typeof e==="string"){if(e===""){return"<empty string>"}return"'"+e+"'"}if(typeof e==="number"){return"(number) "+e}if(typeof e==="boolean"){return"(bool) "+e}var r;if(typeof e==="object"){r=JSON.stringify(e);if(r.length>255){r=r.substr(0,255)+"..."}}else{r="{other type}"}return r}function u(e){var r=Object.keys(e).filter(function(r){return typeof e[r]==="object"&&e[r].hasOwnProperty("renameTo")});var t=[];r.forEach(function(r){var a=e[r];if(a.hasOwnProperty("renameTo")){t.push(function(e,t){var n=t;n=t.replace(new RegExp(r+"=","g"),a.renameTo+"=");return n})}});return t}function f(e,r,t,a,n){var o=c(e,r,t,a,n);return m(e,o)}function c(e,r,t,u,f){p("[TEMPLATE EXPANSION] "+e.urlTemplate);var c=a.buildDefinitionParameterSet(e.parameters,r,f)||{};var m=i.removeArrayParameterNotation(t[f]||{});var d=s.parseTemplateParameterSet(c,f);var v=s.parseTemplateParameterSetAsLiterals(m);var y=i.mergeObject(v,d);p("- parsed template parameters: "+JSON.stringify(y,null,3));var P=n.buildDependencyGraph(y);p("- created dependency graph: "+JSON.stringify(P,null,3));var h=n.getDependencyResolutionOrder(P);p("- resolving in order: "+h.join(" > "));var T=o.resolveAllParameters(y,h,r,t,u,f);Object.keys(T).forEach(function(e){var r=T[e];p(e+" --\x3e "+l(r))});return{oDefinitionParamsSet:c,oResolvedParameters:T}}function m(e,t){var a=u(t.oDefinitionParamsSet||{});var n=e.urlTemplate;var o=r.expand(n,t.oResolvedParameters).toString();p("- created URL: "+o);a.forEach(function(e){o=e(n,o)});if(a.length>0){p("- created URL (post expansion): "+o)}return o}return{prepareExpandData:c,expand:f}});
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/Ui5NativeServiceFactory", ["sap/ui/core/service/ServiceFactory"],function(e){"use strict";var r={_servicePromises:{},createServiceFactory:function(r){var i=this._servicePromises;var c=e.extend("sap.ushell.ui5Service."+r+"Factory",{createInstance:function(){var e=i[r];if(!e){e=new Promise(function(e,i){sap.ui.require(["sap/ushell/ui5service/"+r],function(r){var c;if(!r){i()}c=new r;e(c)})});i[r]=e}return e}});return new c}};return r});
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/Ui5ServiceFactory", ["sap/ui/core/service/ServiceFactory","sap/ui/core/service/Service","sap/base/Log","sap/base/util/ObjectPath","sap/base/util/isPlainObject"],function(e,t,n,r,c){"use strict";var i;function o(e){i=e}function u(){return i}function a(e){return!!/^[^_].+/.test(e)}function s(e){var t,n=[];for(t in e){n.push(t)}return n}function f(e,t,r){var c=t[r];t[r]=function(){var i,o,a=u();if(!e||e.scopeObject.getId()!==a){n.warning("Call to "+r+" is not allowed","This may be caused by an app component other than the active '"+a+"' that tries to call the method","sap.ushell.Ui5ServiceFactory");return undefined}o=new Array(arguments.length);for(i=0;i<o.length;++i){o[i]=arguments[i]}return c.apply(t,o)}}function p(e,t,n,r){s(e).filter(a).filter(function(n){var r=e[n];t[n]=r;return typeof r==="function"}).forEach(function(c){t[c]=t[c].bind(e);if(r){f(n,t,c)}})}function l(e){var t;if(typeof e==="undefined"){return true}if(!c(e)){return false}if(!e.scopeType){return false}t=r.get("scopeObject.getId",e);if(typeof t!=="function"){return false}return true}function v(e,t,n){var r={};if(n){n=typeof e==="object"}p(t,r,e,n);if(n&&e.scopeType==="component"&&e.scopeObject&&e.scopeObject.getId){o(e.scopeObject.getId())}return r}function h(e){return sap.ushell.Container.getServiceAsync(e)}function y(r,c){var i=e.extend("sap.ushell.ui5service."+r+"Factory",{createInstance:function(e){return new Promise(function(i,o){h(r).then(function(u){var a,s,f;if(!l(e)){n.error("Invalid context for "+r+" service interface","The context must be empty or an object like { scopeType: ..., scopeObject: ... }","sap.ushell.Ui5ServiceFactory");o("Invalid Context for "+r+" service");return}s=v(e,u,c);f=t.extend("sap.ushell.ui5service."+r,{getInterface:function(){return s}});a=new f(e);i(a)},function(e){o(e)})})}});return new i}return{createServiceFactory:y}});
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/User", ["sap/ui/thirdparty/URI","sap/ui/base/EventProvider","sap/ui/core/LocaleData","sap/base/Log","sap/base/util/deepExtend"],function(e,t,n,i,o){"use strict";function r(e){if(e===undefined){return undefined}return o({},e)}function a(e){var t;if(e.host&&typeof e.host==="function"&&e.host()){t=e.host();if(typeof e.protocol==="function"&&e.protocol()){t=e.protocol()+"://"+t}return t}return""}function s(e){return e.indexOf("sap_")===0}var h=function(r){var m=[],u,c,g,l,p=new t;this.getEmail=function(){return r.email};this.getFirstName=function(){return r.firstName};this.getFullName=function(){return r.fullName};this.getTimeZone=function(){return r.timeZone};this.getTimeZoneIana=function(){return r.timeZoneIana};this.getInitials=function(){var e=r.fullName||"",t="",n=true;for(var i=0,o=e.length;i<o;++i){if(e[i]===" "){n=true}else if(n){n=false;t+=e[i]}}return t};this.getId=function(){return r.id};this.getLanguage=function(){return r.language};this.getLanguageBcp47=function(){return r.languageBcp47};this.getLanguageText=function(){var e=sap.ui.getCore().getConfiguration().getLocale(),t=new n(e),i=sap.ui.getCore().getConfiguration().getLanguageTag();i=i.replace("-","_");var o=t.getLanguages(),r=o[i]||this.getLanguage().toUpperCase();return r};this.getLastName=function(){return r.lastName};this.getImage=function(){return r.image};this.setImage=function(e){r.image=e;p.fireEvent("onSetImage",e)};this.attachOnSetImage=function(e,t){p.attachEvent("onSetImage",e,t)};this.isJamActive=function(){return r.isJamActive===true};this.isLanguagePersonalized=function(){return r.isLanguagePersonalized===true};this.getTheme=function(e){if(e===h.prototype.constants.themeFormat.ORIGINAL_THEME){return l.originalTheme.theme}if(e===h.prototype.constants.themeFormat.THEME_NAME_PLUS_URL){return g.theme+(g.locationPath?"@"+g.locationOrigin+g.locationPath:"")}if(e===h.prototype.constants.themeFormat.NWBC){if(s(g.theme)){return g.theme}return this.getTheme(h.prototype.constants.themeFormat.THEME_NAME_PLUS_URL)}return g.theme};this.getThemeRoot=function(e){if(r.ranges&&r.ranges.theme&&r.ranges.theme[e]&&r.ranges.theme[e].themeRoot){return r.ranges.theme[e].themeRoot}return""};this.setTheme=function(e){if(this.isSetThemePermitted()===false){var t="setTheme not permitted";i.error(t);throw new Error(t)}g=this._amendTheme({theme:e,root:this.getThemeRoot(e)},c);if(e!==l.originalTheme.theme){this.setChangedProperties({propertyName:"theme",name:"THEME"},l.originalTheme.theme,e);l=g}this.applyTheme(e)};this.applyTheme=function(e){var t=this;var n=this._amendTheme({theme:e,root:this.getThemeRoot(e)},c),i;g=n;if(n.suppliedRoot){sap.ui.getCore().applyTheme(n.theme,n.suppliedRoot+"/UI5/")}else if(n.path){sap.ui.getCore().applyTheme(n.theme,n.path+"/UI5/")}else{sap.ui.getCore().applyTheme(n.theme)}sap.ui.require(["sap/ushell/components/applicationIntegration/AppLifeCycle"],function(e){i=t.getTheme(h.prototype.constants.themeFormat.NWBC);e.postMessageToIframeApp("sap.ushell.appRuntime","themeChange",{currentThemeId:i,themeServiceRoute:window.location.protocol+"//"+window.location.host+"/comsapuitheming.runtime/themeroot/v1"})})};this.setLanguage=function(e){if(e){this.setChangedProperties({propertyName:"language",name:"LANGUAGE"},r.language,e);r.language=e}};this.getAccessibilityMode=function(){return r.accessibility};this.setAccessibilityMode=function(e){if(this.isSetAccessibilityPermitted()===false){var t="setAccessibilityMode not permitted";i.error(t);throw new Error(t)}r.accessibility=e};this.isAdminUser=function(){return r.isAdminUser===true};this.isSetAccessibilityPermitted=function(){return r.setAccessibilityPermitted};this.isSetThemePermitted=function(){return r.setThemePermitted};this.getContentDensity=function(){return r.contentDensity};this.setContentDensity=function(e){if(this.isSetContentDensityPermitted()===false){var t="setContentDensity not permitted";i.error(t);throw new Error(t)}this.setChangedProperties({propertyName:"contentDensity",name:"CONTENT_DENSITY"},r.contentDensity,e);r.contentDensity=e};this.isSetContentDensityPermitted=function(){return r.setContentDensityPermitted};this.getChangedProperties=function(){return o([],m)};this.setChangedProperties=function(e,t,n){m.push({propertyName:e.propertyName,name:e.name,oldValue:t,newValue:n})};this.resetChangedProperties=function(){m=[]};this.resetChangedProperty=function(e){m=m.filter(function(t){return!(e===t.propertyName)})};this.getTrackUsageAnalytics=function(){return r.trackUsageAnalytics};this.setTrackUsageAnalytics=function(e){this.setChangedProperties({propertyName:"trackUsageAnalytics",name:"TRACKING_USAGE_ANALYTICS"},r.trackUsageAnalytics,e);r.trackUsageAnalytics=e};this.setImageConsent=function(e){this.setChangedProperties({propertyName:"isImageConsent",name:"ISIMAGECONSENT"},r.isImageConsent,e);r.isImageConsent=e};this.getImageConsent=function(){return r.isImageConsent};this.getImportBookmarksFlag=function(){return r.importBookmarks||null};this.setImportBookmarksFlag=function(e){this.setChangedProperties({propertyName:"importBookmarks",name:"MYHOME_IMPORT_FROM_CLASSIC"},this.getImportBookmarksFlag()||"",e);r.importBookmarks=e};this.getShowMyHome=function(){return r.showMyHome!==false};this.setShowMyHome=function(e){e=!!e;this.setChangedProperties({propertyName:"showMyHome",name:"MYHOME_ENABLEMENT"},r.showMyHome,e);r.showMyHome=e};this.getDetectDarkMode=function(){return r.detectDarkMode!==false};this.setDetectDarkMode=function(e){e=!!e;this.setChangedProperties({propertyName:"detectDarkMode",name:"THEME_DARKMODE_AUTO_DETECTION"},r.detectDarkMode,e);r.detectDarkMode=e};c={locationPathUi5:new e(sap.ui.require.toUrl("")).absoluteTo(document.location).pathname(),locationPathCustom:r.themeRoot||"",locationOrigin:a(new e(document.location))};if(!c.locationPathUi5){i.warning("User: Could not set UI5 location path")}if(!c.locationPathCustom){i.warning("User: Could not set location path for custom themes")}if(!c.locationOrigin){i.warning("User: Could not set front-end server location origin")}u=r.bootTheme||{theme:"",root:""};g=this._amendTheme(u,c);l=g};h.prototype._amendTheme=function(t,n){var i={},o,h;function m(t,n){var i,o,r={};i=new e(t);o=a(i);if(o){r.locationOrigin=o;r.locationPath=i.path()}else{r.locationOrigin=n.locationOrigin;r.locationPath=t}return r}if(!t||!t.theme||!n){return{originalTheme:{theme:"",root:""},theme:"",suppliedRoot:"",path:"",locationPath:"",locationOrigin:""}}i.originalTheme=r(t);if(i.originalTheme.theme.indexOf("@")>0){o=i.originalTheme.theme.split("@",2);i.theme=o[0];i.suppliedRoot=o[1];h=m(o[1],n);i.locationPath=h.locationPath;i.path=i.locationPath;i.locationOrigin=h.locationOrigin;return i}i.theme=i.originalTheme.theme;if(i.originalTheme.root){i.suppliedRoot=i.originalTheme.root;h=m(i.originalTheme.root,n);i.locationPath=h.locationPath;i.path=i.locationPath;i.locationOrigin=h.locationOrigin;return i}i.suppliedRoot="";if(s(i.theme)){i.locationOrigin=n.locationOrigin;i.locationPath=n.locationPathUi5;i.path="";return i}i.locationOrigin=n.locationOrigin;i.locationPath=n.locationPathCustom;i.path=i.locationPath;return i};h.prototype.constants={themeFormat:{ORIGINAL_THEME:"O",THEME_NAME_PLUS_URL:"N+U",NWBC:"NWBC"}};return h},true);
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/_ApplicationType/guiResolution", ["sap/ui/thirdparty/URI","sap/ushell/_ApplicationType/utils","sap/ushell/_ApplicationType/systemAlias","sap/ushell/services/_ClientSideTargetResolution/Utils","sap/ushell/services/_ClientSideTargetResolution/ParameterMapping","sap/ui/thirdparty/jquery","sap/base/Log"],function(e,t,s,a,r,jQuery,n){"use strict";function i(e,t){t.forEach(function(t){delete e[t]})}function u(e,t){return t&&t.signature&&t.signature&&t.signature.parameters&&t.signature.parameters[e]&&t.signature.parameters[e].required===true}function o(e,t){var s=u("DYNP_OKCODE",t)||u("DYNP_NO1ST",t);var a=[];if(s){return[]}var r=p(e);function n(e){return e.toUpperCase()}var i=Object.keys(r).map(n).sort();function o(e,t){if(e.length!==t.length){return false}return e.every(function(s,a){return e[a]===t[a]})}if(o(["DYNP_NO1ST","DYNP_OKCODE"],i)||o(["DYNP_OKCODE"],i)||o(["DYNP_NO1ST"],i)){a=Object.keys(r)}return a}function p(e){var t=a.filterObject(e,l);return t}function l(e,t){var s;if(arguments.length===1){s=e.split(/[=](.+)?/);if(s.length>1){return l.apply(null,s)}}return!(e.indexOf("sap-")===0||e.indexOf("saml")===0||e.charAt(0)==="~")}function c(e,s,a){var r=e.inbound,n=r&&r.resolutionResult,i;if(!(!r||!n||!n["sap.gui"]||!(n.applicationType==="TR"))){i=v(e,s,a)}else if(!(!r||!n||!(n.applicationType==="TR")||!(n.url.indexOf("/~canvas;")>=0)||!(n.url.indexOf("app/transaction/APB_LPD_CALL_")===-1))){i=S(e,s,a)}else if(!(!r||!n||!(n.applicationType==="TR")||!(n.url.indexOf("/~canvas;")>=0)||!(n.url.indexOf("app/transaction/APB_LPD_CALL_")>=0))){i=P(e,s,a)}else if(!(!r||!n||!(n.applicationType==="TR")||!(n.url.indexOf("/its/webgui")>=0)||!(n.url.indexOf("APB_LPD_CALL_")===-1))){i=g(e,s,a)}else if(!(!r||!n||!(n.applicationType==="TR")||!(n.url.indexOf("/its/webgui")>=0)||!(n.url.indexOf("APB_LPD_CALL_")!==-1))){i=y(e,s,a)}if(i){return i.then(function(e){if(e.url){e.url=t.appendParametersToUrl("sap-iframe-hint=GUI",e.url)}return e})}throw new Error("Cannot generate TR resolution result")}function f(t,a,r,n){var i,u;t=encodeURIComponent(t);i="/gui/sap/its/webgui?%7etransaction="+t+"&%7enosplash=1";u=new e(i);return s.spliceSapSystemIntoURI(u,s.LOCAL_SYSTEM_ALIAS,a,r,"NATIVEWEBGUI",s.SYSTEM_ALIAS_SEMANTICS.apply,n)}function m(e,s,a,r){var n,i="P_OBJECT"+r,u=132;var o=t.getURLParsing().privparamsToString(s,"%25","%21");if(!o){return e}var p="";d("P_OBJECT",e,a,r,function(e){var t=e.replace(i,"");p=decodeURIComponent(t);if(p.length>0){p=p+"%25"}return i});o=p+o;var l={pObjX:"",pObject:""};o.match(new RegExp(".{1,"+u+"}","g")).map(function(e){return encodeURIComponent(e)}).forEach(function(e,t){var s="P_OBJECT";var n="pObject";if(t>0){s="P_OBJ"+t;n="pObjX"}var i=l[n].length===0?"":a;l[n]=l[n]+i+s+r+e});n=[l.pObjX,l.pObject].filter(function(e){return e.length>0}).join(a);var c=d("P_OBJECT",e,a,r,function(e){return n});if(c.found){return c.query}return e+(e.length===0?"":a)+n}function d(e,t,s,a,r){var n=false,i=e+a;var u=t.split(s).map(function(e){if(e.indexOf(i)!==0){return e}n=true;return r(e)}).filter(function(e){return typeof e!=="undefined"}).join(s);return{found:n,query:u}}function y(a,r,n){var i=a.inbound,u=i&&i.resolutionResult,o={};var p=new e(r);var l=jQuery.extend(true,{},a.mappedIntentParamsPlusSimpleDefaults);var c=l["sap-system"]&&l["sap-system"][0];var f=l["sap-system-src"]&&l["sap-system-src"][0];o["sap-system"]=c;delete l["sap-system"];if(typeof f==="string"){o["sap-system-src"]=f;delete l["sap-system-src"]}return new Promise(function(e,a){s.spliceSapSystemIntoURI(p,u.systemAlias,c,f,"NATIVEWEBGUI",u.systemAliasSemantics||s.SYSTEM_ALIAS_SEMANTICS.applied,n).fail(a).done(function(s){var a=s.search();var r=a.split("&").map(function(e){var t;if(e.indexOf("?%7etransaction")===0||e.indexOf("%7etransaction")===0){t=m(e,l,"%3b","%3d");return t}return e}).join("&");s.search(r);["additionalInformation","applicationDependencies"].forEach(function(e){if(i.resolutionResult.hasOwnProperty(e)){o[e]=i.resolutionResult[e]}});o.url=s.toString();o.text=i.title;o.applicationType="TR";t.setSystemAlias(o,i.resolutionResult);e(o)})})}function v(e,s,a){var n=e.inbound,i=n&&n.resolutionResult,u=e.mappedIntentParamsPlusSimpleDefaults||{};var o=i.systemAlias;if(u["sap-system"]){o=u["sap-system"][0]}var p;if(u["sap-system-src"]){p=u["sap-system-src"][0]}return new Promise(function(s,i){f(n.resolutionResult["sap.gui"].transaction,o,p,a).done(function(a){r.mapParameterNamesAndRemoveObjects(e);var i=h(e.inbound,e.mappedIntentParamsPlusSimpleDefaults,a);if(i&&e.inbound&&e.inbound.resolutionResult&&e.inbound.resolutionResult["sap.platform.runtime"]){i["sap.platform.runtime"]=e.inbound.resolutionResult["sap.platform.runtime"]}i["sap-system"]=o;t.setSystemAlias(i,n.resolutionResult);s(i)}).fail(i)})}function P(a,r,n){var i=a.inbound,u=i&&i.resolutionResult;var o={};var p=new e(r);var l=jQuery.extend(true,{},a.mappedIntentParamsPlusSimpleDefaults);var c=l["sap-system"]&&l["sap-system"][0];var f=l["sap-system-src"]&&l["sap-system-src"][0];o["sap-system"]=c;delete l["sap-system"];if(typeof f==="string"){o["sap-system-src"]=f;delete l["sap-system-src"]}return new Promise(function(e,a){s.spliceSapSystemIntoURI(p,u.systemAlias,c,f,"WEBGUI",u.systemAliasSemantics||s.SYSTEM_ALIAS_SEMANTICS.applied,n).fail(a).done(function(s){var a=s.search();a=m(a,l,"&","=");s.search(a);["additionalInformation","applicationDependencies"].forEach(function(e){if(i.resolutionResult.hasOwnProperty(e)){o[e]=i.resolutionResult[e]}});o.url=s.toString();o.text=i.title;o.applicationType="NWBC";t.setSystemAlias(o,i.resolutionResult);e(o)})})}function S(a,r,n){var u=a.inbound,p=u&&u.resolutionResult;var l={};var c=new e(r);var f=jQuery.extend(true,{},a.mappedIntentParamsPlusSimpleDefaults);var m=f["sap-system"]&&f["sap-system"][0];var d=f["sap-system-src"]&&f["sap-system-src"][0];l["sap-system"]=m;delete f["sap-system"];if(typeof d==="string"){l["sap-system-src"]=d;delete f["sap-system-src"]}var y=o(f,u||{});i(f,y);return new Promise(function(e,a){s.spliceSapSystemIntoURI(c,p.systemAlias,m,d,"WEBGUI",l.systemAliasSemantics||s.SYSTEM_ALIAS_SEMANTICS.applied,n).fail(a).done(function(s){var a=t.getURLParsing().paramsToString(f);var r=s.search();if(a){r=r+(r.indexOf("?")<0?"?":"&")+a}s.search(r);["additionalInformation","applicationDependencies"].forEach(function(e){if(u.resolutionResult.hasOwnProperty(e)){l[e]=u.resolutionResult[e]}});l.url=s.toString();l.text=u.title;l.applicationType="NWBC";t.setSystemAlias(l,u.resolutionResult);e(l)})})}function g(t,a,r){var n=t.inbound,i=n&&n.resolutionResult,u={"sap-wd-run-sc":true,"sap-wd-auto-detect":true,"sap-ep-version":true,"sap-system":true,"sap-system-src":true};var o=new e(a);var p=jQuery.extend(true,{},t.mappedIntentParamsPlusSimpleDefaults);var l=p["sap-system"]&&p["sap-system"][0];var c=p["sap-system-src"]&&p["sap-system-src"][0];Object.keys(p).forEach(function(e){if(u[e.toLowerCase()]){delete p[e]}});return new Promise(function(e,a){s.spliceSapSystemIntoURI(o,i.systemAlias,l,c,"NATIVEWEBGUI",i.systemAliasSemantics||s.SYSTEM_ALIAS_SEMANTICS.applied,r).fail(a).done(function(s){var a=h(t.inbound,t.mappedIntentParamsPlusSimpleDefaults,s);e(a)})})}function h(e,s,a){var r={"sap-wd-run-sc":true,"sap-wd-auto-detect":true,"sap-ep-version":true,"sap-system":true};var u={};var p=jQuery.extend(true,{},s);var c=p["sap-system"]&&p["sap-system"][0];var f=p["sap-system-src"]&&p["sap-system-src"][0];u["sap-system"]=c;if(typeof f==="string"){u["sap-system-src"]=f}Object.keys(p).forEach(function(e){if(r[e.toLowerCase()]){delete p[e]}});var m=o(p,e||{});i(p,m);var d=R(p);i(p,Object.keys(d));var y=a.search();var v=y.split("&").map(function(e){var t;if(!l(e)){if(e.indexOf("=")>=0){t=e.split("=");if(!d.hasOwnProperty(t[0])){d[t[0]]=t[1]}}else{n.error("Found no '=' separator of Webgui non-business parameter. Parameter will be skipped.","'"+e+"'","sap.ushell.services.ClientSideTargetResolution")}return undefined}var s;if(e.indexOf("?%7etransaction")===0||e.indexOf("%7etransaction")===0){s=O(e,p,"%3b","%3d");return s}return e}).filter(function(e){return typeof e!=="undefined"}).join("&");var P=t.getURLParsing().paramsToString(d);v=[v,P.replace("~","%7e")].join("&");a.search(v);["additionalInformation","applicationDependencies","sap.platform.runtime"].forEach(function(t){if(e.resolutionResult.hasOwnProperty(t)){u[t]=e.resolutionResult[t]}});u.url=a.toString();u.text=e.title;u.applicationType="TR";t.setSystemAlias(u,e.resolutionResult);return u}function R(e){var t;t=a.filterObject(e,function(e,t){return!l(e,t)});return t}function b(e){var t="^(.+?)(%20|(%20)(.+))?$",s=new RegExp(t,"i"),a,r={hasParameters:null,transactionParamName:"",transactionCode:"",parameters:[]};var n=e.split("=");if(n.length>2){return{error:"Found more than one assignment ('=') in the transaction query parameter",details:"Only one '=' sign is expected in "+e}}if(n.length<2||typeof n[1]==="undefined"||n[1].length===0){return{error:"The transaction query parameter must specify at least the transaction name",details:"Got "+e+" instead."}}r.transactionParamName=n[0];a=n[1];var i=a.match(s);if(!i){return{error:"Cannot parse ~transaction query parameter value.",details:a+" should match /"+t+"/"}}r.transactionCode=i[1];if(i[2]&&i[2]!=="%20"){var u=i[4]||"";u.split("%3b").forEach(function(e){var t=e.split("%3d"),s=t[0];if(s&&typeof s==="string"&&s.length>0){r.parameters.push({name:s,value:t[1]})}})}r.hasParameters=false;if(r.parameters.length>0){r.hasParameters=true;r.transactionCode=r.transactionCode.replace(/^[*]/,"")}return r}function O(e,s){var a=b(e);if(a.error){n.error(a.error,a.details,"sap.ushell.services.ClientSideTargetResolution");return e}var r=a.parameters.map(function(e){return e.name.toUpperCase()+"%3d"+e.value});var i,u=true;if(s.hasOwnProperty("DYNP_SKIP_SEL_SCREEN")){i=s["DYNP_SKIP_SEL_SCREEN"];delete s["DYNP_SKIP_SEL_SCREEN"];if(i[0]===""||i[0]===" "||i[0]==="0"||i[0]===0||i[0]&&i[0].toLowerCase()==="false"){u=false}}var o={};Object.keys(s).forEach(function(e){o[e.toUpperCase()]=s[e]});var p=t.getURLParsing().privparamsToString(o,"%3b","%3d");if(p){r.push(p)}var l=r.length>0;return a.transactionParamName+"="+(l&&u?"*":"")+a.transactionCode+(l?"%20":"")+r.join("%3b")}function I(e,s,a){return new Promise(function(n,i){var u;if(e.params["sap-system-src"]){u=e.params["sap-system-src"][0]}var o=e.params["sap-system"]?e.params["sap-system"][0]:undefined;var p=e.params["sap-ui2-tcode"]?e.params["sap-ui2-tcode"][0]:undefined;f(p,o,u,a).done(function(e){delete s.intentParamsPlusAllDefaults["sap-ui2-tcode"];r.mapParameterNamesAndRemoveObjects(s);var a=h(s.inbound,s.mappedIntentParamsPlusSimpleDefaults,e);if(a&&s.inbound&&s.inbound.resolutionResult&&s.inbound.resolutionResult["sap.platform.runtime"]){a["sap.platform.runtime"]=s.inbound.resolutionResult["sap.platform.runtime"]}a["sap-system"]=o;a.text=p;a.url=t.appendParametersToUrl("sap-iframe-hint=GUI",a.url);n(a)}).fail(function(e){i(e)})})}return{generateTRResolutionResult:c,resolveEasyAccessMenuIntentWebgui:I,injectEffectiveParametersIntoWebguiQueryParam:O,injectEffectiveParametersIntoWebguiPobjectParam:m,amendGuiParam:d,parseWebguiTransactionQueryParam:b,getWebguiNonBusinessParameters:R,getWebguiBusinessParameters:p,isWebguiBusinessParameter:l,buildNativeWebGuiURI:f,constructFullWebguiResolutionResult:v}},false);
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/_ApplicationType/systemAlias", ["sap/ui/thirdparty/URI","sap/ushell/utils","sap/ui/thirdparty/jquery","sap/base/util/isPlainObject","sap/base/Log"],function(e,t,jQuery,n,r){"use strict";var i="";var o={apply:"apply",applied:"applied"};function a(e){return(e.protocol()||"").length>0}function s(e,n,r){var i=typeof n==="string";var o=[e];if(i){o.unshift(n)}var a=t.generateLocalStorageKey("sap-system-data",o);var s=t.getLocalStorage();var f=s.getItem(a);var p={};if(f){try{p=JSON.parse(f)}catch(e){return(new jQuery.Deferred).reject("Cannot parse system data from local storage at key '"+a+"'. Data: "+f)}return(new jQuery.Deferred).resolve(p).promise()}else if(i){return(new jQuery.Deferred).reject("Cannot find data for system '"+e+"' in local storage using key '"+a+"'")}if(!r){return(new jQuery.Deferred).reject("fallback: the adapter does not implement resolveSystemAlias").promise()}return r(e)}function f(t,n,o,a,f){var p=o,l=new jQuery.Deferred;s(t,n,f).fail(function(e){l.reject(e)}).done(function(n){var s=v(n);if(!s.isValid){g(s);l.reject("Invalid system alias definition");return l}var c=h(n,new e(window.location.toString()).protocol()),d=n[c],m,w,R;if(t===i&&d.host===""&&(d.port===0||d.port==="")){c=""}p.protocol(c);p.hostname(d.host);p.port(d.port);y(p,a,d.pathPrefix,f).fail(function(e){l.reject(e)}).done(function(e){m=e.query();if(typeof n.client==="string"&&n.client!==""){m=m+(m.length>0?"&":"")+"sap-client="+n.client}if(typeof n.language==="string"&&n.language!==""){w=n.language}else{R=sap.ushell.Container.getUser();if(!R){r.error("Cannot retieve the User object via sap.ushell.Container while determining sap-language","will default to 'en' language","sap.ushell.services.ClientSideTargetResolution");w="en"}else{w=R.getLanguage()}}m=m+(m.length>0?"&":"")+"sap-language="+w;e.query(m);if(n.hasOwnProperty("rfc")&&a==="NATIVEWEBGUI"){var t=u(n.rfc,d.host,e);var i=e.path()+";"+t;e.path(i);o._parts.path=i}l.resolve(e)})});return l.promise()}function p(e,t,n,r,i,a,s){var p=new jQuery.Deferred;if(a!==o.apply&&a!==o.applied){throw new Error("Invalid system alias semantic was provided: '"+a+"'")}if(a===o.applied&&(typeof n==="undefined"||t===n)){return p.resolve(e).promise()}if(a===o.apply&&typeof t==="undefined"&&typeof n==="undefined"){return p.resolve(e).promise()}if(i==="URL"&&a==o.applied){return l(e,t,n,r,s)}new Promise(function(f){if(a===o.apply){f({targetUri:e,alias:n||t,sapSystemSrc:n?r:undefined});return}c(e,t,undefined,i,s).fail(function(e){p.reject(e)}).done(function(e){f({targetUri:e,alias:n})})}).then(function(e){f(e.alias,e.sapSystemSrc,e.targetUri,i,s).fail(function(e){p.reject(e)}).done(function(e){p.resolve(e)})});return p.promise()}function l(t,n,r,o,p){var l=new jQuery.Deferred;if(n===i||typeof n==="undefined"){if(a(t)){return l.resolve(t)}f(r,o,t,"URL",p).fail(function(e){l.reject(e)}).done(function(e){l.resolve(e)});return l.promise()}s(n,o,p).fail(function(e){l.reject(e)}).done(function(n){var i=h(n,new e(window.location.toString()).protocol()),a=n[i],s;if((t.protocol()||"").toLowerCase()===i&&(t.hostname()||"")===a.host&&t.path().indexOf(a.pathPrefix)===0){t.protocol("");t.hostname("");s=t.path().replace(a.pathPrefix,"");t.path(s);m(t,["sap-language","sap-client"]);f(r,o,t,"URL",p).fail(function(e){l.reject(e)}).done(function(e){l.resolve(e)})}else{l.resolve(t)}});return l.promise()}function u(e,t){var n,i,o,a,s;o=!!e.systemId;if(o){a=[e.systemId&&"~sysid="+e.systemId,e.loginGroup&&"~loginGroup="+e.loginGroup,e.sncNameR3&&"~messageServer="+encodeURIComponent(e.sncNameR3),e.sncNameR3&&"~sncNameR3="+encodeURIComponent(e.sncNameR3),e.sncQoPR3&&"~sncQoPR3="+e.sncQoPR3].filter(function(e){return typeof e==="string"&&e!==""})}else{s=e.host||"";i=s.toLowerCase()===t.toLowerCase();n=/^[/][HGMR][/].*/.test(s);if(s.length>0&&!i&&!n){r.error("Invalid connect string provided in 'host' field of system alias","Data for rfc destination provided are: "+JSON.stringify(e,null,3),"sap.ushell.services.ClientSideTargetResolution")}a=[s&&!n&&!i&&"~rfcHostName="+s,n&&"~connectString="+encodeURIComponent(s),e.service&&"~service="+e.service,e.sncNameR3&&"~sncNameR3="+encodeURIComponent(e.sncNameR3),e.sncQoPR3&&"~sncQoPR3="+e.sncQoPR3].filter(function(e){return typeof e==="string"&&e!==""})}return a.join(";").replace(/(%[A-F0-9]{2})/g,function(e){return e.toLowerCase()})}function c(e,t,n,r,i){var o=new jQuery.Deferred;if(typeof t==="undefined"){d(e,t,r,undefined,i).fail(function(e){o.reject(e)}).done(function(e){o.resolve(e)});return o.promise()}s(t,n,i).fail(function(e){o.reject(e)}).done(function(n){d(e,t,r,n,i).fail(function(e){o.reject(e)}).done(function(e){o.resolve(e)})});return o.promise()}function d(t,r,i,o,a){var f,p,l,u,c=new jQuery.Deferred,d=new jQuery.Deferred;t.protocol("");t.hostname("");t.port("");m(t,["sap-client","sap-language"]);if(!n(o)||typeof r!=="string"){return c.resolve(t).promise()}p=h(o,new e(window.location.toString()).protocol());f=o[p];u=typeof f.pathPrefix==="string"&&f.pathPrefix;if(u!==""){d.resolve(u)}else{s("",undefined,a).fail(function(e){c.reject(e)}).done(function(e){var t=e[p];d.resolve(t.pathPrefix)})}d.fail(function(e){c.reject(e)}).done(function(e){if(e&&e.length>0){l=t.path();l=l.replace(e,"");if(l.indexOf("/")!==0){l="/"+l}t.path(l)}if(i==="NATIVEWEBGUI"&&o.hasOwnProperty("rfc")){l=t.path();l=l.split(";").filter(function(e){return e.indexOf("~sysid=")!==0&&e.indexOf("~service=")!==0&&e.indexOf("~loginGroup=")!==0&&e.indexOf("~messageServer=")!==0&&e.indexOf("~sncNameR3=")!==0&&e.indexOf("~sncQoPR3=")!==0}).join(";");t.path(l)}c.resolve(t)});return c.promise()}function h(e,t){if(e.hasOwnProperty("https")){return"https"}if(e.hasOwnProperty("http")){return"http"}r.error("Cannot select which system alias to pick between http/https","make sure they are provided in the given system alias collection","sap.ushell.services.ClientSideTargetResolution");return undefined}function g(e){r.error("Invalid system alias definition: "+e.debug,"ERRORS:"+e.errors.map(function(e){return"\n - "+e}).join(""),"sap.ushell.ApplicationType")}function v(e){function t(e){var t=[];if(typeof e.host!=="string"){t.push("host field must be a string")}if(typeof e.port!=="number"&&typeof e.port!=="string"){t.push("port field must be a number or a string")}if(typeof e.pathPrefix!=="string"){t.push("pathPrefix field must be a string")}return t}var n=[],r=e.hasOwnProperty("https"),i=e.hasOwnProperty("http");if(!i&&!r){n.push("at least one of 'http' or 'https' fields must be defined")}if(r){t(e.https).forEach(function(e){n.push("https>"+e)})}if(i){t(e.http).forEach(function(e){n.push("http>"+e)})}if(n.length>0){return{isValid:false,errors:n,debug:JSON.stringify(e,null,3)}}return{isValid:true}}function m(e,t){var n={},r;t.forEach(function(e){n[e]=true});r=e.query();r=r.split("&").filter(function(e){var t=(e.split("=")[0]||"").toLowerCase();return!n.hasOwnProperty(t)}).join("&");e.query(r)}function y(t,n,r,i){var o=new jQuery.Deferred,a;if(n==="URL"&&r.length===0){return o.resolve(t).promise()}function f(e){var n=e+t.path();t.path(n.replace(/\/+/g,"/"));o.resolve(t)}s("",undefined,i).fail(function(e){o.reject(e)}).done(function(i){var o=h(i,new e(window.location.toString()).protocol());var s=i[o].pathPrefix;var p=r===s;if(r.length>0&&!p){if((n==="WDA"||n==="WEBGUI")&&t.path().indexOf("~canvas")>=0){a=t.path();a="/~canvas"+a.split("~canvas")[1];t.path(a)}}if(r.length===0){f(s)}else{f(r)}});return o.promise()}return{LOCAL_SYSTEM_ALIAS:i,SYSTEM_ALIAS_SEMANTICS:o,spliceSapSystemIntoURI:p,isAbsoluteURI:a,stripURI:c,selectSystemAliasDataName:h,constructNativeWebguiParameters:u}},false);
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/_ApplicationType/utils", ["sap/ushell/utils/UrlParsing","sap/ushell/_ApplicationType/systemAlias"],function(e,s){"use strict";function a(){return e}function r(e,a,r){if(!r||r===s.SYSTEM_ALIAS_SEMANTICS.applied){return s.isAbsoluteURI(e)&&!a}if(r===s.SYSTEM_ALIAS_SEMANTICS.apply){return s.isAbsoluteURI(e)}throw new Error("Invalid system alias semantics: '"+r+"'")}function t(e,s){var a,r;if(e){var t=s.match(/#.*/);if(t){r=t;a=s.replace(t,"")}else{a=s;r=""}s=a+(s.indexOf("?")<0?"?":"&")+e+r}return s}function n(s,a){var r=a.match(/#.*/);var n=r&&r[0];if(!n){var i=e.paramsToString(s);return t(i,a)}var l=e.parseShellHash(n);Object.keys(s).forEach(function(e){var a=s[e];l.params[e]=[a]});var u=Object.keys(l.params).reduce(function(e,s){var a=l.params[s];var r=a.map(function(e){return encodeURIComponent(e)});e[encodeURIComponent(s)]=r;return e},{});l.params=u;var p=a.replace(n,"");var m=e.constructShellHash(l);return p+"#"+m}function i(e,s){if(e["sap-system"]&&e["sap-system"]!=null&&e["sap-system"]!=undefined&&e["sap-system"]!=""){e.systemAlias=e["sap-system"]}else{e.systemAlias=s.systemAlias}if(e.systemAlias===undefined){delete e.systemAlias}}return{getURLParsing:a,appendParametersToUrl:t,appendParametersToIntentURL:n,absoluteUrlDefinedByUser:r,setSystemAlias:i}});
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/_ApplicationType/wdaResolution", ["sap/ui/thirdparty/URI","sap/ushell/_ApplicationType/utils","sap/ushell/_ApplicationType/systemAlias","sap/ui/thirdparty/jquery","sap/base/util/ObjectPath"],function(s,e,a,jQuery,t){"use strict";function n(s,a){return new Promise(function(t,n){var r=jQuery.extend(true,{},s);if(a.length>0){r["sap-ushell-defaultedParameterNames"]=[JSON.stringify(a)]}delete r["sap-system"];sap.ushell.Container.getServiceAsync("ShellNavigation").then(function(s){s.compactParams(r,["sap-xapp-state","sap-ushell-defaultedParameterNames","sap-intent-params","sap-iframe-hint","sap-keep-alive","sap-wd-configId"],undefined,true).fail(function(s){n(s)}).done(function(s){var a=e.getURLParsing().paramsToString(s);t(a)})}).catch(function(s){n(s)})})}function r(s,e){var a=s.search();if(e){a=a+(a.indexOf("?")<0?"?":"&")+e}return s.search(a).toString()}function i(t,n,r,i,o){var l,m,c,f,d,y=jQuery.extend(true,{},i);if(n){y["sap-wd-configId"]=n}if(y["sap-system"]){l=y["sap-system"][0];delete y["sap-system"]}if(y.hasOwnProperty("sap-system-src")){m=y["sap-system-src"][0];delete y["sap-system-src"]}d=e.getURLParsing().paramsToString(y);if(r){c=p(t,d)}else{c=u(t,d)}f=new s(c);return a.spliceSapSystemIntoURI(f,a.LOCAL_SYSTEM_ALIAS,l,m,"WDA",a.SYSTEM_ALIAS_SEMANTICS.apply,o)}function p(s,e){return"/ui2/nwbc/~canvas;window=app/wda/"+s+"/"+"?"+e}function u(s,e){var a=s.indexOf("/")!==0;if(a){s="sap/"+s}return"/webdynpro/"+s+"?"+e}function o(s,a,t,n){var r={"sap-system":t,url:a,text:s.title,applicationType:"NWBC"};if(typeof n==="string"){r["sap-system-src"]=n}e.setSystemAlias(r,s.resolutionResult);["additionalInformation","applicationDependencies"].forEach(function(e){if(s.resolutionResult.hasOwnProperty(e)){r[e]=s.resolutionResult[e]}});r.url=e.appendParametersToUrl("sap-iframe-hint="+(r.url.indexOf("/ui2/nwbc/")>=0?"NWBC":"WDA"),r.url);return r}function l(s,e,a){var p=t.get("inbound.resolutionResult",s),u=s.mappedIntentParamsPlusSimpleDefaults||{};var l=p.systemAlias;if(u["sap-system"]){l=u["sap-system"][0]}var m;if(u["sap-system-src"]){m=u["sap-system-src"][0]}var c={"sap-system":[l]};if(typeof m==="string"){c["sap-system-src"]=[m]}var f=p["sap.wda"].compatibilityMode;if(f===undefined){f=true}return new Promise(function(e,t){i(p["sap.wda"].applicationId,p["sap.wda"].configId,f,c,a).done(function(a){var i=s.mappedIntentParamsPlusSimpleDefaults;n(i,s.mappedDefaultedParamNames).then(function(t){var n=r(a,t);var p=i["sap-system"]&&i["sap-system"][0];var u=i["sap-system-src"]&&i["sap-system-src"][0];var l=o(s.inbound,n,p,u);e(l)},function(s){t(s)})}).fail(function(s){t(s)})})}function m(e,t,i){var p=e.inbound,u=p&&p.resolutionResult,l=e.mappedIntentParamsPlusSimpleDefaults;var m=new s(t);var c=l["sap-system"]&&l["sap-system"][0];var f=l["sap-system-src"]&&l["sap-system-src"][0];return Promise.all([new Promise(function(s,e){a.spliceSapSystemIntoURI(m,u.systemAlias,c,f,"WDA",u.systemAliasSemantics||a.SYSTEM_ALIAS_SEMANTICS.applied,i).fail(e).done(s)}),n(l,e.mappedDefaultedParamNames)]).then(function(s){var e=s[0];var a=s[1];var t=r(e,a);var n=o(p,t,c,f);return n},function(s){return Promise.reject(s)})}function c(s,a,n,r){var p=s.params["sap-ui2-wd-app-id"][0];var u=(t.get("params.sap-ui2-wd-conf-id",s)||[])[0];var o=Object.keys(s.params).reduce(function(e,a){if(a!=="sap-ui2-wd-app-id"&&a!=="sap-ui2-wd-conf-id"){e[a]=s.params[a]}return e},{});return new Promise(function(t,l){i(p,u,r,o,n).done(function(n){var r=s.params.hasOwnProperty("sap-system-src")&&s.params["sap-system-src"][0];var i=s.params.hasOwnProperty("sap-system")&&s.params["sap-system"][0];var u={url:n.toString(),applicationType:"NWBC",text:p,additionalInformation:"","sap-system":i};if(typeof r==="string"){u["sap-system-src"]=r}if(a&&a.inbound&&a.inbound.resolutionResult&&a.inbound.resolutionResult["sap.platform.runtime"]){u["sap.platform.runtime"]=a.inbound.resolutionResult["sap.platform.runtime"]}u.url=e.appendParametersToUrl("sap-iframe-hint="+(u.url.indexOf("/ui2/nwbc/")>=0?"NWBC":"WDA"),u.url);t(u)}).fail(function(s){l(s)})})}return{resolveEasyAccessMenuIntentWDA:c,constructFullWDAResolutionResult:l,constructWDAResolutionResult:m}},false);
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/_Config/utils", [],function(){"use strict";function t(t,r){var n=[];var e=[];var o=r;var a=false;var i=t.split("/");i.shift();i.forEach(function(t){if(!a&&o.hasOwnProperty(t)){o=o[t];n.push(t);return}a=true;e.push(t)});return{contractPart:"/"+n.join("/"),nonContractPart:e}}function r(t){return t&&t.isA&&t.isA("sap.ui.model.Context")}function n(t,r,n,e){var o=n;r.forEach(function(n,a){if(a===r.length-1){o[n]=e;return}if(!o.hasOwnProperty(n)){throw new Error("Cannot find "+n+" inside "+t)}o=o[n]})}function e(t){var r=function(r){return t+r};if(typeof t==="object"){var n="/";r=function(r){var e=r.split(n);e.shift();var o=e.shift();return t[o]+(e.length>0?n+e.join(n):"")}}return r}function o(t,n,o){var a=e(o);var i=a(t);if(r(n)&&t.charAt(0)!=="/"){var c=n.getPath()+"/"+t;i=a(c)}return i}function a(r,e,a,i){a.setData=function(t,r){throw new Error("not yet implemented")};a.setProperty=function(a,c,u){var f=o(a,u,i);var s=t(f,e);if(s.nonContractPart.length===0){r.emit(s.contractPart,c);return}var p=r.last(s.contractPart);n(s.contractPart,s.nonContractPart,p,c);r.emit(s.contractPart,p)};return a}function i(t,r,n,e){var o,i,c,u;if(typeof n==="string"){var f=n;u=f;var s=t.last(f);if(Object.prototype.toString.apply(s)!=="[object Object]"){throw new Error("Cannot bind on leaf property of Configuration: '"+f+"'")}o=new e(s);c=o.setData.bind(o);t.on(f).do(function(t){c(t)});return a(t,r,o,u)}if(Object.prototype.toString.apply(n)==="[object Object]"){var p=n;var v=Object.keys(p).reduce(function(r,n){var e=p[n];r[n]=t.last(e);t.on(e).do(function(t,r){i("/"+t,r)}.bind(null,n));return r},{});o=new e(v);i=o.setProperty.bind(o);return a(t,r,o,p)}throw new Error("Invalid parameter provided to createModel. Must be an object or a string.")}return{createModel:i}},false);
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/_URLTemplateProcessor/DefinitionParameterSetBuilder", ["sap/ushell/_URLTemplateProcessor/TemplateParameterParser","sap/ushell/_URLTemplateProcessor/Resolvers","sap/ushell/_URLTemplateProcessor/utils","sap/ushell/utils/type"],function(e,r,t,a){"use strict";var s="/payload/parameters/names";function o(s,o,l){if(!s||!s.names){return{}}if(!s.hasOwnProperty("mergeWith")){return s.names}var u=s&&s.mergeWith;if(Array.isArray(u)===false&&typeof u!=="string"){throw new Error("The value of 'mergeWith' can only be a string or an array")}var p=s&&s.names;var h=i(s.mergeWith,o,l,{});var f=h.map(function(t){var s=e.parsePath(l,t);n(s);var i=r.resolvePath(s,{},o,{},{});if(!a.isPlainObject(i)){throw new Error("Cannot merge parameters from '"+t+"'. The path must point to an object")}return i}).reduce(function(e,r){e=t.mergeObject(e,r);return e},{});return t.mergeObject(f,p)}function n(e){if(e.pathType==="relative"){throw new Error("Please only specify absolute paths via mergeWith")}e.value.forEach(function(e){if(e.type!=="literal"){throw new Error("Please do not specify references in mergeWith paths")}})}function i(t,a,o,l){if(Array.isArray(t)){return t.slice().reverse()}if(typeof t==="string"){if(l[t]){throw new Error("Detected circular dependency of templates caused by mergeWith statements: ensure the template merges its parameters with a base template.")}l[t]=true;var u=e.parsePath(o,t);n(u);var p=r.resolvePath(u,{},a,{},{});if(!p){throw new Error("The specified mergeWith path does cannot be resolved: '"+t+"'")}var h=s.split("/").slice(1).reduce(function(e,r){if(e.result&&e.obj&&e.obj.hasOwnProperty(r)){e.obj=e.obj[r]}else{e.result=false}return e},{obj:p,result:true}).result;if(!h){throw new Error(t+" does not contain "+s+". Please make sure "+t+" points to the root of a URL template.")}return i(p.payload.parameters.mergeWith,a,o,l).concat([t+s])}return[]}return{buildDefinitionParameterSet:o}},false);
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/_URLTemplateProcessor/DependencyGraph", ["sap/base/util/deepExtend"],function(e){"use strict";function n(e){return typeof e==="string"||e.type==="wildcard"||e.type==="literal"||e.type==="intentParameter"||e.type==="reference"}function r(e){return e.type==="reference"&&!e.namespace}function t(e,n,t){if(!e.hasOwnProperty(n)){e[n]=[]}if(r(t)){e[n].push(t.value)}}function i(e){var n={};var r=t.bind(null,n);Object.keys(e).forEach(function(n){var t=e[n];a(t,n,r)});return n}function u(e){var n=e.type;if(n==="expression"){return[e.value]}if(n==="function"){return(e.args||[]).concat(e.params||[])}if(n==="pipe"||n==="path"){return e.value}throw new Error("Unknown type encountered while building dependency graph: '"+n+"'")}function a(e,r,t){t(r,e);if(n(e)){return}var i=u(e);i.forEach(function(e){a(e,r,t)})}function c(n){var r=e({},n);var t,i,u=[],a={};do{var c=Object.keys(r);t=c.length;c.forEach(function(e){if(r[e].length>0){r[e]=r[e].filter(function(e){var n=!a[e];var t=r.hasOwnProperty(e);return n&&t})}if(r[e].length===0){delete r[e];u.push(e);a[e]=true}});i=Object.keys(r).length}while(t!==i);if(i!==0){throw new Error("Graph of dependencies contains cyclic references")}return u}return{buildDependencyGraph:i,getDependencyResolutionOrder:c}});
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/_URLTemplateProcessor/Functions", ["sap/base/util/deepExtend","sap/ui/thirdparty/URI","sap/ushell/_URLTemplateProcessor/utils","sap/ushell/utils/type"],function(e,n,r,t){"use strict";var i={url:{args:["urlPart?"],minValues:0,maxValues:0,fn:function(e){var r=new n;var t=["protocol","scheme","username","password","hostname","port","host","userinfo","authority","origin","subdomain","domain","tld","pathname","path","directory","filename","suffix","search","query","hash","fragment","resource"];var i="toString";if(e.urlPart){if(t.indexOf(e.urlPart)===-1){throw new Error("The URL part '"+e.urlPart+"' is not valid. Please use one of "+t.join(", "))}i=e.urlPart}return r[i]()}},if:{args:["trueCondition"],minValues:1,maxValues:2,fn:function(e,n){var r=u(n);if(a(e.trueCondition)){return r.length===1?undefined:r.pop()}return r[0]}},and:{args:["emptyCondition?"],minValues:1,fn:function(e,n){var t=u(n);if(typeof e.emptyCondition==="undefined"&&e.length>0){return undefined}if(typeof e.emptyCondition!=="undefined"&&a(e.emptyCondition)){return undefined}var i=t.pop();var o=t.every(r.hasValue);return o?i:undefined}},or:{args:["emptyCondition?"],minValues:1,fn:function(e,n){var t=u(n);if(typeof e.emptyCondition==="undefined"&&e.length>0){return undefined}if(typeof e.emptyCondition!=="undefined"&&a(e.emptyCondition)){return undefined}return t.reduce(function(e,n){if(r.hasValue(e)){return e}return r.hasValue(n)?n:undefined})}},replace:{args:["strRegExp","strReplace","flags?"],minValues:1,maxValues:1,fn:function(e,n){var r=new RegExp(e.strRegExp,e.flags);var a=e.strReplace||"";if(typeof n===undefined||n===null){return n}if(t.isArray(n)){if(n.length===1){return i.replace.fn.call(this,e,n[0])}return n.map(function(n){return i.replace.fn.call(this,e,n)})}if(t.isPlainObject(n)){return Object.keys(n).reduce(function(r,t){var a=n[t];r[t]=i.replace.fn.call(this,e,a);return r},{})}if(typeof n==="string"){return n.replace(r,a)}return i.replace.fn.call(this,e,n+"")}},join:{args:["macroSeparator?","microSeparator?"],minValues:1,fnPipe:function(e,n){var r=[n];return i.join.fn.call(this,e,r)},fn:function(e,n){var i=e.macroSeparator||"";var a=e.microSeparator||"";n=n.map(function(e){if(!t.isPlainObject(e)&&!t.isArray(e)){return e}var n=Object.prototype.toString.apply(e);if(n==="[object Object]"){var u=r.removeArrayParameterNotation(e);return Object.keys(u).sort().map(function(n){return n+a+e[n]}).join(i)}if(n==="[object Array]"){return e.join(i)}});return n.join(i)}},match:{args:["strRegex"],minValues:1,fnPipe:function(e,n){var r=e.strRegex;var t=new RegExp(r);return Object.keys(n).reduce(function(e,r){if(t.exec(r)){e[r]=n[r]}return e},{})},fn:function(e,n){if(n===undefined){return undefined}var r=e.strRegex;var i=new RegExp(r);var a=n.filter(function(e){var n;if(t.isPlainObject(e)){n=Object.keys(e)}else if(t.isArray(e)){n=e}else{n=[""+e]}return n.some(i.exec.bind(i))});return a.length===n.length?true:undefined}},not:{args:[],minValues:1,fnPipe:function(e,n){return Object.keys(n).length>0?undefined:""},fn:function(e,n){var r=i.and.fn(e,n);return r===undefined?"":undefined}},stringify:{args:[],minValues:1,fn:function(e,n){if(t.isArray(n)){if(n.length===0){return""}if(n.length===1){n=n[0]}}if(typeof n==="string"){return n}return JSON.stringify(n)}},encodeURIComponent:{args:[],minValues:1,maxValues:1,fnPipe:function(e,n){return Object.keys(n).reduce(function(e,r){e[r]=encodeURIComponent(n[r]);return e},{})},fn:function(e,n){var r=n[0];if(typeof r!=="string"){return r}return encodeURIComponent(r)}}};function a(e){if(typeof e==="undefined"){return true}if(typeof e==="string"){return e===""}if(typeof e==="object"){return Object.keys(e).length===0}if(typeof e==="number"){return e===0}if(typeof e==="boolean"){return e===false}throw new Error("Unexpected type for value")}function u(e){var n;if(t.isArray(e)){n=e}else if(t.isPlainObject(e)){n=[e]}else if(e===undefined){return[]}else{throw new Error("Unexpected type")}return n}function o(e,n,r){if(r!==undefined&&!t.isPlainObject(r)){throw new Error("Invalid value type passed to '"+e+"' in pipe context. An object is expected.")}}function f(e,n,i){if(i!==undefined&&!t.isArray(i)){throw new Error("Invalid value type passed to '"+e+"' in value context. An array is expected.")}var a=t.isArray(i)?i.length:0;if(r.hasValue(n.maxValues)&&a>n.maxValues){throw new Error("Too many values were passed to '"+e+"'. Please pass maximum "+n.maxValues+" values.")}if(r.hasValue(n.minValues)&&a<n.minValues){throw new Error("Too few values were passed to '"+e+"'. Please pass minimum "+n.minValues+" values.")}}function s(e){var n=false;e.map(l).reduce(function(e,r){if(!e&&r){n=true}return r},true);return n}function l(e){return e.charAt(e.length-1)!=="?"}function c(e){return e.substr(0,e.length-1)}function p(n,r){var t=e([],i[n].args);if(s(t)){throw new Error("Invalid argument signature. Make sure all optional arguments appear in the end.")}var a={length:r.length};var u=t.filter(l);var o=u>r.length;if(o){throw new Error(n+" requires "+u+" arguments but "+r.length+" was specified")}r.forEach(function(e){var n=t.shift();var i=!l(n);if(i){n=c(n)}if(r.length>0){a[n]=e}});return a}function d(e,n,r,t){if(!i.hasOwnProperty(n)){throw"Invalid function: "+n}var a=p(n,r);if(e){o(n,i[n],t)}else{f(n,i[n],t)}if(e){if(!i[n].fnPipe){throw new Error("The function '"+n+"' cannot be executed in pipe context")}return i[n].fnPipe(a,t)}return i[n].fn(a,t)}function m(e){return e.split("").map(function(e){if(e==="["){return"[\\[]"}return"["+e+"]"}).join("")}function h(){var e=Object.keys(i);return e.map(m).join("|")}return{getPossibleFunctionsRegExpString:h,applyFunctionInValueContext:d.bind(null,false),applyFunctionInPipeContext:d.bind(null,true),_setURIDependency:function(e){n=e}}});
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/_URLTemplateProcessor/Resolvers", ["sap/base/util/deepExtend","sap/ushell/_URLTemplateProcessor/Functions","sap/ushell/_URLTemplateProcessor/utils"],function(e,r,n){"use strict";var t={literal:o,expression:p,reference:c,function:s,path:i,pipe:u};function a(e,r,n){var t=null;var a=[];var o=false;var i=r.join("/");t=e;if(typeof t==="undefined"){o=true}r.forEach(function(e,r){if(o){return}a.push(e);if(!t.hasOwnProperty(e)){t=undefined;o=true;return}if(!t.hasOwnProperty(e)){throw new Error("Cannot find path '"+i+"' in given structure: '"+e+"' seems to be missing in the object.")}t=t[e]});return t}function o(e){return e.value}function i(e,r,n,t,o,i){var u=e.value.map(function(e){return l(e,r,n,t,o,i)});var s=e.pathType==="relative";var p=s?t:n;return a(p,u,r)}function u(n,t,a,o,i,u){var s=n.value;if(s[0].type!=="wildcard"){throw new Error("Leading wildcard expected in pipe expression")}if(s[0].value!=="*"){throw new Error("Unsupported wildcard expression: "+s[0].value)}return s.slice(1).reduce(function(e,n){if(n.type!=="function"){throw new Error("Invalid operation specified in pipe expression")}return r.applyFunctionInPipeContext(n.name,n.args.map(function(e){return l(e,t,a,o,i,u)}),e)},e({},i[u]||{}))}function s(e,n,t,a,o,i){var u=e.name;var s=e.args.map(function(e){return l(e,n,t,a,o,i)});var p=e.params.map(function(e){return l(e,n,t,a,o,i)});return r.applyFunctionInValueContext(u,s,p)}function p(e,r,n,a,o,i){var u=e.value;if(t[u.type]){return l(u,r,n,a,o,i)}throw new Error("unknown expression type: "+u.type)}function c(e,r,n,t,a,o){var i=e.value;if(!e.hasOwnProperty("namespace")){return r[i]}var u=e.namespace;var s="The template attemps to take the value '"+i+"' from '"+u+"' namespace.";if(!a.hasOwnProperty(u)){throw new Error(s+" However this value was not defined at runtime. The template should reference only defined values.")}var p=a[u];var c=i===".";if(c){return p}if(typeof p!=="object"){throw new Error(s+" However the runtime did not define the namespace as an object. The template cannot access the desired value using the object notation in this case.")}return p[i]}function l(e,r,n,a,o,i){var u=e.type;if(t[u]){return t[u](e,r,n,a,o,i)}throw new Error("Cannot resolve unknown parameter type: '"+u+"'")}function f(e,r,n,t,a,o){var i={};r.forEach(function(r){var u=e[r];var s=l(u,i,n,a,t,o);i[r]=s});return i}return{resolveLiteral:o,resolveExpression:p,resolveReference:c,resolveFunction:s,resolvePath:i,resolvePipe:u,resolveParameterValue:l,resolveAllParameters:f}});
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/_URLTemplateProcessor/TemplateParameterParser", ["sap/ushell/_URLTemplateProcessor/Functions"],function(r){"use strict";function e(e,t){var a=p();var u=a.exec(t);if(u===null){throw new Error("Cannot parse expression: '"+t+"'")}var s=h(t);if(s.indexOf("*")===0){return n(e,s)}var f="^("+r.getPossibleFunctionsRegExpString()+")[^a-z]";var v=new RegExp(f);if(v.exec(s)){return o(e,s)}return i(e,s)}function n(r,e){var n=f(r,e,"|");var t=n.shift();return{type:"pipe",value:[{type:"wildcard",value:t}].concat(n.map(o.bind(null,r)))}}function t(r){var e=r.substr(1);var n;if(e.indexOf(":")>=0){var t=e.split(":");n=t[0];e=t[1]}var a={type:"reference",value:e};if(n){a.namespace=n}return a}function a(r,e){var n=e.split("/");var t="relative";if(n[0]===""){t="absolute";n.shift()}if(n[0]==="."){n.shift()}return{type:"path",pathType:t,value:n.map(u.bind(null,r))}}function i(r,e){if(e.charAt(0)==="{"&&e.charAt(e.length-1)==="}"){return i(r,h(e))}if(e.indexOf(".")===0||e.indexOf("/")===0){return a(r,e)}if(e.charAt(0)==="'"&&e.charAt(e.length-1)==="'"){return s(h(e))}if(e.charAt(0)==="&"){return t(e)}return{type:"reference",value:e,namespace:r}}function u(r,e){if(e.charAt(0)==="{"&&e.charAt(e.length-1)==="}"){return i(r,h(e))}return{type:"literal",value:e}}function s(r){return{type:"literal",value:r}}function o(r,e){var n=e.split(/[(\s]/)[0];var t=d(e,n);t=t.replace(/^\s+/,"");var a="";if(t.charAt(0)==="("){var u=t.search(/([)]\s)|([)]$)/);if(u===-1){throw new Error("Cannot find termination of function '"+t+"' in '"+e+"'")}a=t.substr(1,u-1);t=d(t,"("+a+")");t=t.replace(/^\s+/,"")}var s=t;return{type:"function",name:n,args:f(r,a,",").map(function(r){return r.charAt(0)==="{"?h(r):"'"+r+"'"}).map(i.bind(null,r)),params:f(r,s,",").map(i.bind(null,r))}}function f(r,e,n){if(!e){return[]}var t=e.split(n).reduce(function(r,e,t){if(t===0){r.push(e);return r}var a=r.length-1;var i=r[a];var u=i.length>0&&i.charAt(i.length-1)==="\\";var s="";if(u){s=r.pop();s=s.substr(0,s.length-1)+n}r.push(s+e);return r},[]);return t}function v(r,n){var t=n;var a=null;if(Object.prototype.toString.apply(n)==="[object Object]"){t=n.value;a=n.renameTo}var i=g(t);if(i){return s(t)}var u="expression";var o=e(r,t);var f={type:u,value:o};if(a){o.renameTo=a}return f}function c(r){var e=r.indexOf("{")===0;var n=p();var t=n.exec(r);if(!t){if(e){throw new Error("Expression was expected. But "+r+" does not look like a valid expression")}return null}return t[1]}function p(){var e="[a-zA-Z0-9]+?:";var n="((&("+e+")?)?[.a-zA-Z0-9_-]+?)";var t="('(.*?)')";var a="([^' ]*?)";var i="{("+n+")}";var u="("+"[.]?([/]("+n+"|"+i+"))+"+")";var s="("+u+"|"+t+"|"+n+"|"+i+")";var o="("+s+"(,"+s+")*)";var f="("+a+"|"+i+")";var v="("+f+"(,"+f+")*)";var c="("+"[(]"+v+"[)]"+")?";var p=r.getPossibleFunctionsRegExpString();var l="("+"("+p+")"+"("+c+")"+")";var h="([*]([|]"+l+")*)";var d="^{("+h+"|"+"(("+l+")([ ]("+o+"))?)"+"|"+"("+s+")"+")}$";var g=new RegExp(d);return g}function l(r){return c(r)!==null}function h(r){var e=r.split("");e.shift();e.pop();return e.join("")}function d(r,e){if(r.indexOf(e)===0){return r.substr(e.length)}throw new Error("Given string does not start with prefix '"+e+"'")}function g(r){return typeof r==="string"&&!l(r)}function x(r,e){return Object.keys(r).reduce(function(n,t){var a=r[t];n[t]=v(e,a);return n},{})}function m(r,e){return Object.keys(r).reduce(function(e,n){var t=r[n];e[n]=s(t);return e},{})}return{parseTemplateParameterSet:x,parseTemplateParameterSetAsLiterals:m,parsePath:a,_isExpression:l,_parseList:f,_parseParameterValue:v}});
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/_URLTemplateProcessor/utils", ["sap/base/util/deepExtend"],function(e){"use strict";function r(e){return e!==null&&typeof e!=="undefined"}function t(e){return Object.keys(e).reduce(function(r,t){var n=e[t];if(Object.prototype.toString.apply(n)==="[object Array]"){r[t]=n[0]}else if(typeof n==="string"){r[t]=n}else{throw new Error("Parameters should be passed as strings or array of strings")}return r},{})}function n(r,t){var n=e({},r);var u=e({},t);return Object.keys(u).reduce(function(e,r){e[r]=u[r];return e},n)}return{mergeObject:n,hasValue:r,removeArrayParameterNotation:t}});
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/adapters/cdm/v3/_LaunchPage/readApplications", ["sap/base/util/ObjectPath"],function(t){"use strict";var n={};n.getId=function(n){return t.get(["sap.app","id"],n)};n.getTitle=function(n){return t.get(["sap.app","title"],n)};n.getSubTitle=function(n){return t.get(["sap.app","subTitle"],n)};n.getIcon=function(n){return t.get(["sap.ui","icons","icon"],n)};n.getInfo=function(n){return t.get(["sap.app","info"],n)};n.getKeywords=function(n){return t.get(["sap.app","tags","keywords"],n)};n.getContentProviderId=function(n){return t.get(["sap.app","contentProviderId"],n)};n.getInbounds=function(n){return t.get(["sap.app","crossNavigation","inbounds"],n)};n.getInbound=function(n,e){return t.get(["sap.app","crossNavigation","inbounds",e],n)};n.getInboundTarget=function(n,e,i){var r=t.get([e],n)||{};var u=this.getInbound(r,i);if(!r||!u){return}return{semanticObject:u.semanticObject,action:u.action}};return n});
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appRuntime/ui5/AppCommunicationMgr", ["sap/ushell/appRuntime/ui5/AppRuntimePostMessage","sap/ui/thirdparty/jquery","sap/base/util/ObjectPath","sap/base/Log"],function(e,jQuery,s,t){"use strict";var n="sap.ushell.appRuntime.ui5.AppCommunicationMgr";var i,r=[],a=0;function u(){this.init=function(s){var t=this;i=e.getHandlers();t.handleMessageEvent=u.prototype._handleMessageEvent.bind(t,t);addEventListener("message",t.handleMessageEvent);if(s===true){t.sendMessageToOuterShell("sap.ushell.appRuntime.iframeIsValid");setInterval(function(){t.sendMessageToOuterShell("sap.ushell.appRuntime.iframeIsValid")},2500)}};this.destroy=function(){removeEventListener("message",this.handleMessageEvent)};this._handleMessageResponse=function(e){if(e.request_id&&r[e.request_id]){var s=r[e.request_id];if(e.status==="success"){s.resolve(e.body.result)}else{s.reject()}}};this._handleMessageRequest=function(e,r,a){var u=this,o=s.create("sap-ushell-config.services.PostMessage.config"),g=a&&a.service,d,p,c,l,f;t.debug("App Runtime received post message request from origin '"+r.origin+"': "+JSON.stringify(a),null,n);if(!g){return}if(o&&o.enabled===false){t.warning("App Runtime received message for "+p+", but this "+"feature is disabled. It can be enabled via launchpad configuration "+"property 'services.PostMessage.config.enabled: true'",undefined,n);return}if(!this._isTrustedPostMessageSource(e,r)){t.warning("App Runtime received message from untrusted origin '"+r.origin+"': "+JSON.stringify(r.data),null,n);return}if(g.indexOf(".")>0){d=g.split(".");c=d[d.length-1];p=g.substr(0,g.length-c.length-1)}else{t.warning("App Runtime received message with invalid service name ("+g+") :"+JSON.stringify(r.data),null,n);return}var h={oMessage:r,oMessageData:a,oContainer:e};try{l=i[p];f=l&&l.oServiceCalls[c];if(f&&f.executeServiceCallFn){f.executeServiceCallFn(h).done(function(e){u.sendResponseMessage(r,a,"success",{result:e})}).fail(function(e){u.sendResponseMessage(r,a,"error",{message:e})})}else{t.warning("App Runtime received message with unknown service name ("+a.service+") :"+JSON.stringify(r.data),null,n)}}catch(e){t.warning("Error in processing message: "+e.message+") :"+JSON.stringify(r.data),null,n)}};this._getCFLPWindow=function(){return window.parent};this._isTrustedPostMessageSource=function(e,s){var t=false,n=e._getCFLPWindow();if(n){t=s.source===n}return t};this.sendResponseMessage=function(e,s,i,r){var a=JSON.stringify({type:"response",service:s.service,request_id:s.request_id,status:i,body:r});t.debug("Sending post message response to origin ' "+e.origin+"': "+a,null,n);if(typeof e.source!=="object"||e.source===null){t.debug("Cannot send response message to origin ' "+e.origin,"`source` member of request message is not an object",n);return}e.source.postMessage(a,e.origin)};this._getTargetWindow=function(){return window.parent};this.postMessage=function(e){var s,n=this._getTargetWindow();if(e){try{if(e.type==="request"&&!e.request_id){e.request_id=this.getId()}s=JSON.stringify(e);n.postMessage(s,"*")}catch(s){t.error("Message '"+e+"' cannot be posted: "+s,"sap.ui5Isolation.AppCommunicationMgr")}}};this.sendMessageToOuterShell=function(e,s,t){var n=new jQuery.Deferred,i={type:"request",service:e,body:s||{},request_id:t};this.postMessage(i);r[i.request_id]=n;return n.promise()};this.getId=function(){return"SAPUI5_APPRUNTIME_MSGID_"+ ++a}}u.prototype._handleMessageEvent=function(e,s){if(s===undefined){return}var i=s.data;if(typeof i==="string"){try{i=JSON.parse(s.data,this)}catch(e){t.debug("Message received from origin '"+s.origin+"' cannot be parsed: "+e,i,n);return}}if(i.type==="request"){return e._handleMessageRequest(e,s,i)}else if(i.type==="response"){return e._handleMessageResponse(i)}};return new u});
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appRuntime/ui5/AppRuntimePostMessage", ["sap/ui/thirdparty/jquery","sap/ushell/components/applicationIntegration/application/PostMessageAPIInterface"],function(jQuery,e){"use strict";var i={};function t(){this.getHandlers=function(){return i};this.registerCommHandlers=function(e){var t=[];Object.keys(e).forEach(function(i){var n=e[i];if(n.oServiceCalls){Object.keys(n.oServiceCalls).forEach(function(e){t.push({action:e,service:i})})}});jQuery.extend(true,i,e);return t};this.registerCommunicationHandler=function(e,t){var n=i[e],r=[];if(!n){n=i[e]={oServiceCalls:{}}}if(t.oServiceCalls){Object.keys(t.oServiceCalls).forEach(function(i){n.oServiceCalls[i]=t.oServiceCalls[i];r.push({action:i,service:e})})}return r};this.registerCommunicationHandlers=function(e){var i=this;Object.keys(e).forEach(function(t){i.registerCommunicationHandler(t,e[t])})};this._getPostMesageInterface=function(e,t){var n=i[e],r;if(n&&n.oRequestCalls&&n.oRequestCalls[t]){r=n.oRequestCalls[t]}return r}}var n=new t;e.init(false,n.registerCommunicationHandlers.bind(n));return n});
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appRuntime/ui5/AppRuntimePostMessageAPI", ["sap/ushell/appRuntime/ui5/AppRuntimePostMessage","sap/ushell/appRuntime/ui5/AppRuntimeService"],function(e,s){"use strict";function t(){this.getHandlers=function(){return e.getHandlers()};this.registerCommHandlers=function(t){var n=e.registerCommHandlers(t);s.sendMessageToOuterShell("sap.ushell.services.appLifeCycle.subscribe",n)};this.registerCommunicationHandler=function(t,n){var i=e.registerCommunicationHandler(t,n);s.sendMessageToOuterShell("sap.ushell.services.appLifeCycle.subscribe",i)};this._getPostMesageInterface=function(s,t){return e._getPostMesageInterface(s,t)}}return new t});
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appRuntime/ui5/AppRuntimeService", ["sap/ushell/appRuntime/ui5/AppCommunicationMgr"],function(e){"use strict";function n(){this.sendMessageToOuterShell=function(n,u,s){return e.sendMessageToOuterShell(n,u,s)}}return new n});
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appRuntime/ui5/SessionHandlerAgent", ["sap/ushell/appRuntime/ui5/AppRuntimePostMessageAPI","sap/ushell/appRuntime/ui5/AppRuntimeService","sap/ui/thirdparty/URI","sap/base/Log","sap/ui/thirdparty/jquery"],function(e,t,s,i,jQuery){"use strict";function n(){this.init=function(){var t=this;e.registerCommunicationHandler("sap.ushell.sessionHandler",{oServiceCalls:{logout:{executeServiceCallFn:function(e){return t.handleLogoutEvent(e)}},extendSessionEvent:{executeServiceCallFn:function(e){return t.handleExtendSessionEvent(e)}}}});this.attachUserEvents();this.userActivityHandler()};this.handleLogoutEvent=function(){var e=new jQuery.Deferred,t=this;this.detachUserEvents();sap.ushell.Container.getFLPUrl(true).then(function(s){if(t.isSameDomain(s,document.URL)===false){sap.ushell.Container.logout().then(e.resolve,e.resolve)}else{e.resolve()}});return e.promise()};this.isSameDomain=function(e,t){var n,o,r=false;try{n=new s(e);o=new s(t);if(n.origin()===o.origin()){r=true}}catch(s){i.error("Check for same domain of iframe and FLP failed: "+e+" "+t,s,"sap.ushell.appRuntime.ui5.SessionHandlerAgent")}return r};this.handleExtendSessionEvent=function(){sap.ushell.Container.sessionKeepAlive();return(new jQuery.Deferred).resolve().promise()};this.attachUserEvents=function(){jQuery(document).on("mousedown.sessionTimeout mousemove.sessionTimeout",this.userActivityHandler.bind(this));jQuery(document).on("keyup.sessionTimeout",this.userActivityHandler.bind(this));jQuery(document).on("touchstart.sessionTimeout",this.userActivityHandler.bind(this))};this.detachUserEvents=function(){jQuery(document).off("mousedown.sessionTimeout mousemove.sessionTimeout");jQuery(document).off("keydown.sessionTimeout");jQuery(document).off("touchstart.sessionTimeout")};this.userActivityHandler=function(e){if(this.oUserActivityTimer!==undefined){return}var s=this;this.oUserActivityTimer=setTimeout(function(){t.sendMessageToOuterShell("sap.ushell.sessionHandler.notifyUserActive",{});s.oUserActivityTimer=undefined},1e3)}}var o=new n;return o});
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appRuntime/ui5/performance/FesrEnhancer", ["sap/ui/performance/trace/FESR","sap/ui/performance/trace/Interaction","sap/ushell/utils/type"],function(e,t,r){"use strict";var n={_fnOriginalOnBeforeCreated:undefined,_currentAppShortId:undefined,init:function(){if(e.getActive()){this._fnOriginalOnBeforeCreated=e.onBeforeCreated;e.onBeforeCreated=this._onBeforeCreatedHandler.bind(this)}},_onBeforeCreatedHandler:function(e,t){if(this._currentAppShortId){e.appNameShort=this._currentAppShortId}if(e.interactionType===1&&(e.stepName==="undetermined_startup"||e.stepName==="undetermined_appruntime_app_startup")){e.stepName="APPRT@APP_START"}return e},reset:function(){if(e.getActive()){e.onBeforeCreated=this._fnOriginalOnBeforeCreated;this.setAppShortId()}},startInteraction:function(){if(e.getActive()){t.start("appruntime_app_startup")}},setAppShortId:function(t){function n(e,t){var n=e.getManifestEntry(t)||[];if(!r.isArray(n)){n=[n]}return typeof n[0]==="string"?n[0]:undefined}if(e.getActive()){try{if(t){var i=t.getInstance().getComponentData().technicalParameters||{},a=t.getMetadata();this._currentAppShortId=i["sap-fiori-id"]||n(a,"/sap.fiori/registrationIds")}else{this._currentAppShortId=undefined}}catch(e){this._currentAppShortId=undefined}}}};return n},true);
/*!
 * Copyright (c) 2009-2022 SAP SE, All Rights Reserved
 */
sap.ui.predefine("sap/ushell/appRuntime/ui5/plugins/baseRta/AppLifeCycleUtils", ["sap/base/util/ObjectPath"],function(e){"use strict";var t={getAppLifeCycleService:function(){var e=t.getContainer();return e.getServiceAsync("AppLifeCycle").catch(function(e){var t="Error getting AppLifeCycle service from ushell container: "+e;throw new Error(t)})},getContainer:function(){var t=e.get("sap.ushell.Container");if(!t){throw new Error("Illegal state: shell container not available; this component must be executed in a unified shell runtime context.")}return t},getCurrentRunningApplication:function(){return t.getAppLifeCycleService().then(function(e){return e.getCurrentApplication()})}};return t});
/*!
 * Copyright (c) 2009-2022 SAP SE, All Rights Reserved
 */
sap.ui.predefine("sap/ushell/appRuntime/ui5/plugins/baseRta/BaseRTAPluginStatus", function(){"use strict";return{STATUS_STARTING:"starting",STATUS_STARTED:"started",STATUS_STOPPING:"stopping",STATUS_STOPPED:"stopped"}},true);
/*!
 * Copyright (c) 2009-2022 SAP SE, All Rights Reserved
 */
sap.ui.predefine("sap/ushell/appRuntime/ui5/plugins/baseRta/CheckConditions", ["sap/base/util/UriParameters","sap/ui/Device","sap/ushell/appRuntime/ui5/plugins/baseRta/AppLifeCycleUtils"],function(e,t,r){"use strict";var a={_getAppDescriptor:function(e){if(e&&e.getMetadata){var t=e.getMetadata();if(t&&t.getManifest){return t.getManifest()}}return{}},checkRestartRTA:function(t){var r=e.fromQuery(window.location.search);var a=r.get("sap-ui-layer");t=a||t;var i=!!window.sessionStorage.getItem("sap.ui.rta.restart."+t);if(i){window.sessionStorage.removeItem("sap.ui.rta.restart."+t)}return i},checkUI5App:function(){return r.getCurrentRunningApplication().then(function(e){var t=e&&e.applicationType==="UI5";return t})},checkDesktopDevice:function(){return t.system.desktop}};return a},true);
/*!
 * Copyright (c) 2009-2022 SAP SE, All Rights Reserved
 */
sap.ui.predefine("sap/ushell/appRuntime/ui5/plugins/baseRta/Renderer", ["sap/base/Log","sap/ushell/appRuntime/ui5/plugins/baseRta/AppLifeCycleUtils"],function(e,n){"use strict";var t={getRenderer:function(e){var t=n.getContainer();return new Promise(function(n,r){var i=t.getRenderer();if(i){e.oRenderer=i;n(i)}else{e._onRendererCreated=function(t){i=t.getParameter("renderer");if(i){e.oRenderer=i;n(i)}else{r("Illegal state: shell renderer not available after recieving 'rendererCreated' event.")}};t.attachRendererCreatedEvent(e._onRendererCreated,e)}})},createActionButton:function(n,t,r){return this.getRenderer(n).then(function(e){e.addActionButton("sap.ushell.ui.launchpad.ActionItem",{id:n.mConfig.id,text:n.mConfig.i18n.getText(n.mConfig.text),icon:n.mConfig.icon,press:t,visible:r},true,false,[e.LaunchpadState.App])}).catch(function(t){e.error(t,undefined,n.mConfig.sComponentName)})},exit:function(){}};return t},true);
/*!
 * Copyright (c) 2009-2022 SAP SE, All Rights Reserved
 */
sap.ui.predefine("sap/ushell/appRuntime/ui5/plugins/baseRta/Trigger", ["sap/ui/thirdparty/hasher","sap/ui/core/BusyIndicator","sap/ushell/appRuntime/ui5/plugins/baseRta/BaseRTAPluginStatus","sap/ushell/appRuntime/ui5/plugins/baseRta/AppLifeCycleUtils"],function(t,i,e,s){"use strict";var r=e.STATUS_STARTING;var n=e.STATUS_STARTED;var o=e.STATUS_STOPPING;var a=e.STATUS_STOPPED;var h=function(t){this.mConfig=t;this.sStatus=e.STATUS_STOPPED;this.oStartingPromise=null;this.oStoppingPromise=null;var i=s.getContainer();i.registerDirtyStateProvider(this._dirtyStateProvider.bind(this));this.oInitPromise=i.getServiceAsync("URLParsing").then(function(t){this.oURLParsingService=t}.bind(this)).catch(function(t){throw new Error("Error during retrieval of URLParsing ushell service: "+t)})};function u(){return new Promise(function(t,i){sap.ui.require(["sap/ui/rta/api/startAdaptation"],t,i)})}function p(){return s.getCurrentRunningApplication().then(function(t){return t.componentInstance})}function l(t,i){var e;if(t instanceof Error){e=i.getText("TECHNICAL_ERROR")}else if(typeof t==="string"){e=t}sap.ui.require(["sap/ui/rta/Utils","sap/m/MessageBox"],function(t,s){s.error(e,{title:i.getText("ERROR_TITLE"),onClose:null,styleClass:t.getRtaStyleClassName()})})}h.prototype.getInitPromise=function(){return this.oInitPromise};h.prototype._onRtaFailed=function(t){i.hide();this._oRTA=t.getSource();this.mConfig.onErrorHandler();l(t.getParameter("error"),this.mConfig.i18n)};h.prototype._startRta=function(){this.sStatus=r;sap.ui.getCore().getEventBus().subscribe("sap.ushell.renderers.fiori2.Renderer","appClosed",this._onAppClosed,this);sap.ui.getCore().getEventBus().subscribe("sap.ushell","appKeepAliveDeactivate",this._onAppClosed,this);i.show(0);var e;return p().then(function(t){e=t;return sap.ui.getCore().loadLibraries(["sap.ui.rta"],{async:true})}).then(u.bind(this)).then(function(i){this.sOldHash=t.getHash();var s={rootControl:e,flexSettings:{layer:this.mConfig.layer,developerMode:this.mConfig.developerMode}};return i(s,this.mConfig.loadPlugins,this.mConfig.onStartHandler,this._onRtaFailed.bind(this),this.mConfig.onStopHandler)}.bind(this)).then(function(t){i.hide();this._oRTA=t;this.sStatus=n}.bind(this)).catch(function(t){i.hide();if(t.reason==="flexEnabled"){this.handleFlexDisabledOnStart()}else if(t==="Reload triggered"){this.sStatus=a}}.bind(this))};h.prototype._stopRta=function(){this.sStatus=o;return this._oRTA.stop.apply(this._oRTA,arguments).then(function(){this.exitRta()}.bind(this))};h.prototype.triggerStartRta=function(){var t=this.sStatus;switch(t){case r:break;case n:this.oStartingPromise=Promise.resolve();break;case o:this.oStartingPromise=this.oStoppingPromise.then(function(){return this._startRta()}.bind(this));break;case a:this.oStartingPromise=this._startRta();break;default:}if(t!==r){this.oStartingPromise.then(function(){this.oStartingPromise=null}.bind(this))}return this.oStartingPromise};h.prototype.triggerStopRta=function(){var t=this.sStatus;switch(t){case r:this.oStoppingPromise=this.oStartingPromise.then(function(){return this._stopRta.apply(this,arguments)}.bind(this));break;case n:this.oStoppingPromise=this._stopRta.apply(this,arguments);break;case o:break;case a:this.oStoppingPromise=Promise.resolve();break;default:}if(t!==o){this.oStoppingPromise.then(function(){this.oStoppingPromise=null}.bind(this))}return this.oStoppingPromise};h.prototype.handleFlexDisabledOnStart=function(){sap.ui.require(["sap/ui/rta/util/showMessageBox","sap/m/MessageBox"],function(t,i){t(this.mConfig.i18n.getText("MSG_FLEX_DISABLED"),{icon:i.Icon.INFORMATION,title:this.mConfig.i18n.getText("HEADER_FLEX_DISABLED"),actions:[i.Action.OK],initialFocus:null,isCustomAction:false})}.bind(this))};h.prototype._dirtyStateProvider=function(){if(this._oRTA&&this.sStatus===n){var i=t.getHash();var e=this.oURLParsingService.parseShellHash(i);var s=this.oURLParsingService.parseShellHash(this.sOldHash);this.sOldHash=i;if(e.semanticObject===s.semanticObject&&e.action===s.action&&e.appSpecificRoute!==s.appSpecificRoute){return false}return this._oRTA.canUndo()}return false};h.prototype.exitRta=function(){if(this._oRTA){this._oRTA.destroy();this.sStatus=a;this.oStartingPromise=null;this.oStoppingPromise=null;this._oRTA=null}sap.ui.getCore().getEventBus().unsubscribe("sap.ushell.renderers.fiori2.Renderer","appClosed",this._onAppClosed,this);sap.ui.getCore().getEventBus().unsubscribe("sap.ushell","appKeepAliveDeactivate",this._onAppClosed,this)};h.prototype._onAppClosed=function(){this.triggerStopRta(true,true)};return h},true);
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appRuntime/ui5/plugins/rtaAgent/Component", ["sap/ui/core/Component","sap/ui/fl/write/api/FeaturesAPI","sap/ushell/appRuntime/ui5/plugins/baseRta/CheckConditions","sap/ushell/appRuntime/ui5/plugins/baseRta/AppLifeCycleUtils","sap/ushell/appRuntime/ui5/plugins/baseRta/Renderer","sap/ushell/appRuntime/ui5/plugins/baseRta/Trigger","sap/base/Log"],function(e,t,i,n,s,r,o){"use strict";var a;function u(){return{sComponentName:"sap.ushell.appRuntime.ui5.plugins.rtaAgent",layer:"CUSTOMER",developerMode:false}}function p(e){return new Promise(function(t,i){a.postMessageToFlp("user.postapi.rtaPlugin","switchToolbarVisibility",{visible:e}).done(t).fail(i)})}function h(){return new Promise(function(e,t){a.postMessageToFlp("user.postapi.rtaPlugin","activatePlugin").done(e).fail(t)})}function l(){return i.checkUI5App().then(function(e){if(e){a.postMessageToFlp("user.postapi.rtaPlugin","showAdaptUI").fail(function(e){throw new Error(e)})}})}function d(){this.oTrigger.triggerStopRta(true,true)}return e.extend("sap.ushell.appRuntime.ui5.plugins.rtaAgent.Component",{metadata:{manifest:"json"},init:function(){this.mConfig=u();this._oPluginPromise=Promise.resolve();a=this.getComponentData().oPostMessageInterface;return t.isKeyUser().then(function(e){if(e){return h()}return Promise.reject()}).then(function(){this.mConfig.i18n=this.getModel("i18n").getResourceBundle();this.mConfig.onStartHandler=this._onStartHandler.bind(this);this.mConfig.onErrorHandler=this._onErrorHandler.bind(this);this.mConfig.onStopHandler=this._onStopHandler.bind(this);this.oTrigger=new r(this.mConfig);return this.oTrigger.getInitPromise()}.bind(this)).then(function(){this._registerPostMessages();return this._restartRtaIfRequired()}.bind(this)).then(function(){return n.getAppLifeCycleService()}).then(function(e){e.attachAppLoaded(this._onAppLoaded,this);return s.getRenderer(this)}.bind(this)).then(function(e){this.oRenderer=e}.bind(this)).then(l).catch(function(e){if(e){o.error(e)}})},getPluginPromise:function(){return this._oPluginPromise},_registerPostMessages:function(){a.registerPostMessageAPIs({"user.postapi.rtaPlugin":{inCalls:{startUIAdaptation:{executeServiceCallFn:function(){sap.ui.getCore().getEventBus().subscribe("sap.ushell","appClosed",d.bind(this));this.oRenderer.addTopHeaderPlaceHolder();this.oTrigger.triggerStartRta(this);return a.createPostMessageResult()}.bind(this)}},outCalls:{activatePlugin:{},showAdaptUI:{}}}})},_restartRtaIfRequired:function(){return i.checkUI5App().then(function(e){if(e){if(i.checkRestartRTA(this.mConfig.layer)){return p(false).then(function(){this.oRenderer.addTopHeaderPlaceHolder();return this.oTrigger.triggerStartRta(this)}.bind(this))}}return undefined}.bind(this))},_onAppLoaded:function(){i.checkUI5App().then(function(e){if(e){this._restartRtaIfRequired().then(function(){return l()})}}.bind(this))},_onStopHandler:function(){this._exitAdaptation()},_onStartHandler:function(){},_onErrorHandler:function(){this._exitAdaptation()},_exitAdaptation:function(){sap.ui.getCore().getEventBus().unsubscribe("sap.ushell","appClosed",d.bind(this));p(true);this.oTrigger.exitRta();this.oRenderer.removeTopHeaderPlaceHolder()},exit:function(){sap.ui.getCore().getEventBus().unsubscribe("sap.ushell","appClosed",d.bind(this));p(true);this._oPluginPromise=this._oPluginPromise.then(n.getAppLifeCycleService.bind(n)).then(function(e){e.detachAppLoaded(this._onAppLoaded,this)}.bind(this))}})});
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appRuntime/ui5/plugins/rtaShell/Component", ["sap/ui/core/Component","sap/ushell/appRuntime/ui5/plugins/baseRta/Renderer","sap/ushell/appRuntime/ui5/plugins/baseRta/AppLifeCycleUtils","sap/ui/thirdparty/jquery"],function(e,t,i,jQuery){"use strict";var n;function s(){return{sComponentName:"sap.ushell.appRuntime.ui5.plugins.rtaShell",layer:"CUSTOMER",id:"RTA_AppRuntime_Plugin_ActionButton",text:"RTA_BUTTON_TEXT",icon:"sap-icon://wrench",visible:false}}function r(e,t){if(e){e.setHeaderVisibility(t,false)}}function a(e){return new Promise(function(t,i){r(e,false);n.postMessageToApp("user.postapi.rtaPlugin","startUIAdaptation").done(t).fail(i)})}return e.extend("sap.ushell.appRuntime.ui5.plugins.rtaShell.Component",{metadata:{manifest:"json",library:"sap.ushell"},init:function(){this.mConfig=s();n=this.getComponentData().oPostMessageInterface;this._registerPostMessages()},_registerPostMessages:function(){n.registerPostMessageAPIs({"user.postapi.rtaPlugin":{inCalls:{activatePlugin:{executeServiceCallFn:function(){return n.createPostMessageResult(this._initPlugin())}.bind(this)},showAdaptUI:{executeServiceCallFn:function(){this._changeActionButtonVisibility(true);return n.createPostMessageResult()}.bind(this)},switchToolbarVisibility:{executeServiceCallFn:function(e){var t=e.oMessageData.body.visible;r(this.oRenderer,t);return n.createPostMessageResult()}.bind(this)}},outCalls:{startUIAdaptation:{}}}})},_initPlugin:function(){if(this.bIsInitialized){return(new jQuery.Deferred).resolve()}this.bIsInitialized=true;this.mConfig.i18n=this.getModel("i18n").getResourceBundle();return new jQuery.Deferred(function(e){t.getRenderer(this).then(function(e){this.oRenderer=e}.bind(this)).then(function(){return t.createActionButton(this,a.bind(undefined,this.oRenderer),this.mConfig.visible)}.bind(this)).then(function(){return i.getAppLifeCycleService()}).then(function(e){e.attachAppLoaded(this._onAppLoaded,this)}.bind(this)).catch(function(e){this.bIsInitialized=false;return Promise.reject(e)}.bind(this)).then(e.resolve,e.reject)}.bind(this)).promise()},_changeActionButtonVisibility:function(e){var t=sap.ui.getCore().byId(this.mConfig.id);if(t){t.setVisible(e)}},_onAppLoaded:function(){this._changeActionButtonVisibility(false)},exit:function(){if(this.oRenderer){r(this.oRenderer,false)}return i.getAppLifeCycleService().then(function(e){e.detachAppLoaded(this._onAppLoaded,this);if(this._onRendererCreated){var t=i.getContainer();t.detachRendererCreatedEvent(this._onRendererCreated,this)}}.bind(this))}})});
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appRuntime/ui5/plugins/scriptAgent/Component", ["sap/ui/core/Component","sap/ui/thirdparty/jquery","sap/base/Log"],function(t,jQuery,e){"use strict";return t.extend("sap.ushell.appRuntime.ui5.plugins.scriptAgent.Component",{init:function(){var t=this.getComponentData();jQuery.ajaxSetup({cache:true});try{jQuery.getScript(t.config.url)}catch(t){e.error(t)}jQuery.ajaxSetup({cache:false})}})});
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appRuntime/ui5/renderers/fiori2/AccessKeysAgent", ["sap/ushell/appRuntime/ui5/AppRuntimeService"],function(e){"use strict";var t=function(){this.init=function(){document.addEventListener("keydown",function(t){var y=false,i;if(t.altKey&&!t.ctrlKey&&!t.shiftKey){if(t.keyCode===65||t.keyCode===70||t.keyCode===72||t.keyCode===77||t.keyCode===78||t.keyCode===83){y=true}}else if(t.ctrlKey&&!t.altKey&&!t.shiftKey){if(t.keyCode===188||t.keyCode===112||t.keyCode===83){y=true}}else if(t.ctrlKey&&t.shiftKey&&!t.altKey){if(t.keyCode===70){y=true}}if(y){i={altKey:t.altKey,ctrlKey:t.ctrlKey,shiftKey:t.shiftKey,keyCode:t.keyCode,key:t.key};if(t.keyCode===188){i.key=","}e.sendMessageToOuterShell("sap.ushell.services.ShellUIService.processHotKey",i)}}.bind(this),true)}};return new t},true);
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appRuntime/ui5/renderers/fiori2/Renderer", ["sap/base/util/ObjectPath","sap/ushell/appRuntime/ui5/AppRuntimeService","sap/base/Log","sap/ui/thirdparty/jquery","sap/ushell/appRuntime/ui5/renderers/fiori2/RendererExtensions"],function(e,t,r,jQuery){"use strict";var s=[];function n(){var n=this;e.set("sap.ushell.renderers.fiori2.Renderer",n);["init","createContent","createExtendedShellState","applyExtendedShellState","showLeftPaneContent","showHeaderItem","showRightFloatingContainerItem","showRightFloatingContainer","showToolAreaItem","showFloatingActionButton","showHeaderEndItem","setHeaderVisibility","showSubHeader","showSignOutItem","showSettingsItem","setFooter","setShellFooter","setFooterControl","hideHeaderItem","removeToolAreaItem","removeRightFloatingContainerItem","hideLeftPaneContent","hideFloatingActionButton","hideSubHeader","removeFooter","getCurrentViewportState","addShellSubHeader","addSubHeader","addUserAction","addActionButton","addFloatingButton","addFloatingActionButton","addSidePaneContent","addLeftPaneContent","addHeaderItem","addRightFloatingContainerItem","addToolAreaItem","getModelConfiguration","addUserPreferencesEntry","setHeaderTitle","setLeftPaneVisibility","showToolArea","setHeaderHiding","setFloatingContainerContent","setFloatingContainerVisibility","getFloatingContainerVisiblity","getRightFloatingContainerVisibility","setFloatingContainerDragSelector","createTriggers","convertButtonsToActions","createItem","addEntryInShellStates","removeCustomItems","addCustomItems","addRightViewPort","addLeftViewPort","getShellController","getViewPortContainerCurrentState","ViewPortContainerNavTo","switchViewPortStateByControl","setMeAreaSelected","getMeAreaSelected","setNotificationsSelected","getNotificationsSelected","addShellDanglingControl","getShellConfig","reorderUserPrefEntries","addUserProfilingEntry","logRecentActivity","setCurrentCoreView","getCurrentCoreView"].forEach(function(e){n[e]=function(){r.error("'Renderer' api '"+e+"' is not supported when UI5 application is running inside an iframe (sap.ushell.appRuntime.ui5.renderers.fiori2.Renderer)")}});this.LaunchpadState={App:"app",Home:"home"};this._addButtonHandler=function(e,t){s[e]=t};this.handleHeaderButtonClick=function(e){if(s[e]!==undefined){s[e]()}};this.addHeaderItem=function(e,t,r,s,n){if(typeof arguments[0]==="object"&&typeof arguments[1]==="boolean"){t=arguments[0];r=arguments[1];s=arguments[2];n=arguments[3]}this._addHeaderItem("sap.ushell.services.Renderer.addHeaderItem",t,r,s,n)};this.addHeaderEndItem=function(e,t,r,s,n){if(typeof arguments[0]==="object"&&typeof arguments[1]==="boolean"){t=arguments[0];r=arguments[1];s=arguments[2];n=arguments[3]}this._addHeaderItem("sap.ushell.services.Renderer.addHeaderEndItem",t,r,s,n)};this.showHeaderItem=function(e){t.sendMessageToOuterShell("sap.ushell.services.Renderer.showHeaderItem",{aIds:e,bCurrentState:true,aStates:""})};this.showHeaderEndItem=function(e){t.sendMessageToOuterShell("sap.ushell.services.Renderer.showHeaderEndItem",{aIds:e,bCurrentState:true,aStates:""})};this.hideHeaderItem=function(e){t.sendMessageToOuterShell("sap.ushell.services.Renderer.hideHeaderItem",{aIds:e,bCurrentState:true,aStates:""})};this.hideHeaderEndItem=function(e){t.sendMessageToOuterShell("sap.ushell.services.Renderer.hideHeaderEndItem",{aIds:e,bCurrentState:true,aStates:""})};this._addHeaderItem=function(e,r,s){if(r.click!==undefined){this._addButtonHandler(r.id,r.click)}else if(r.press!==undefined){this._addButtonHandler(r.id,r.press)}t.sendMessageToOuterShell(e,{sId:r.id,sTooltip:r.tooltip,sIcon:r.icon,iFloatingNumber:r.floatingNumber,bVisible:s,bCurrentState:true})};this.setHeaderTitle=function(e){t.sendMessageToOuterShell("sap.ushell.services.Renderer.setHeaderTitle",{sTitle:e})};this.setHeaderVisibility=function(e,r,s){t.sendMessageToOuterShell("sap.ushell.services.Renderer.setHeaderVisibility",{bVisible:e,bCurrentState:r,aStates:s})};this.createShellHeadItem=function(e){if(e.press!==undefined){this._addButtonHandler(e.id,e.press);delete e.press}t.sendMessageToOuterShell("sap.ushell.services.Renderer.createShellHeadItem",{params:e})};this.showActionButton=function(e,r,s){t.sendMessageToOuterShell("sap.ushell.services.Renderer.showActionButton",{aIds:e,bCurrentState:r,aStates:s})};this.hideActionButton=function(e,r,s){t.sendMessageToOuterShell("sap.ushell.services.Renderer.hideActionButton",{aIds:e,bCurrentState:r,aStates:s})};this.addUserAction=function(e){if(e.oControlProperties.press!==undefined){this._addButtonHandler(e.oControlProperties.id,e.oControlProperties.press);delete e.oControlProperties.press}t.sendMessageToOuterShell("sap.ushell.services.Renderer.addUserAction",{oParameters:e})};this.addTopHeaderPlaceHolder=function(){if(jQuery("#rmheader").length===0){jQuery("body").prepend("<div id='rmheader' class='sapUshellHeaderPlaceHolder'></div>");jQuery("body").find(".sapAppRuntimeBaseStyle").css("height","calc(100% - 2.75rem)")}};this.removeTopHeaderPlaceHolder=function(){jQuery("#rmheader").remove();jQuery("body").find(".sapAppRuntimeBaseStyle").css("height","100%")};this.updateHeaderItem=function(e,r){return t.sendMessageToOuterShell("sap.ushell.services.Renderer.updateHeaderItem",{sId:e,oControlProperties:r})};this.destroyButton=function(e){return t.sendMessageToOuterShell("sap.ushell.services.Renderer.destroyButton",{aIds:e})}}return new n});
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appRuntime/ui5/renderers/fiori2/RendererExtensions", ["sap/base/util/ObjectPath","sap/base/util/uid","sap/ushell/EventHub","sap/ushell/appRuntime/ui5/AppRuntimeService"],function(e,t,n,i){"use strict";function s(e){setTimeout(function(){sap.ui.getCore().getEventBus().publish("sap.ushell","rendererLoaded",{rendererName:"fiori2"})},0);n.emit("RendererLoaded",{rendererName:"fiori2"})}function r(e,t){setTimeout(function(){sap.ui.getCore().getEventBus().publish("sap.ushell.renderers.fiori2.Renderer",e,t)},0)}function o(e,t,n){}function u(e,t,n){}function a(e,t,n){}function d(e,t,n){}function f(e,n,s){var r=Array.isArray(e)?e:[e],o=[n],u=[];if(s!==undefined){o.push(s)}r.forEach(function(e){var n=t()+"-apprt";e.idAppRuntime=n;sap.ushell.renderers.fiori2.Renderer._addButtonHandler(n,function(){e.firePress()});u.push({id:n,text:e.getText(),icon:e.getIcon(),tooltip:e.getTooltip(),aStates:o})});return i.sendMessageToOuterShell("sap.ushell.services.Renderer.addOptionsActionSheetButton",u)}function h(e,t,n){var s=Array.isArray(e)?e:[e],r=[t],o=[];if(n!==undefined){r.push(n)}s.forEach(function(e){o.push({id:e.idAppRuntime,aStates:r})});return i.sendMessageToOuterShell("sap.ushell.services.Renderer.removeOptionsActionSheetButton",o)}function c(e,t,n){}function p(e,t){}function l(e,t,n){}function m(e,t,n){}function v(e,t,n){}function g(e,t,n){}function A(){return{}}function H(e,t,n,i){}function b(e,t){}function E(e){}function S(e){}function R(e,t){}function B(e){}function y(e){}function I(){}function O(){this.addHeaderItem=a;this.setHeaderItemVisibility=H;this.addSubHeader=o;this.removeSubHeader=u;this.addHeaderEndItem=v;this.removeHeaderItem=d;this.removeHeaderEndItem=g;this.addEndUserFeedbackCustomUI=b;this.addOptionsActionSheetButton=f;this.removeOptionsActionSheetButton=h;this.setFooter=y;this.removeFooter=I;this.addUserPreferencesEntry=E;this.setHeaderTitle=S;this.setHeaderHiding=B;this.LaunchpadState={App:"app",Home:"home"};this.addFloatingActionButton=l;this.removeFloatingActionButton=m;this.setLeftPaneContent=c;this.removeLeftPaneContent=p;this.setLeftPaneVisibility=R;this.getConfiguration=A}var T=new O;var C={publishExternalEvent:r,init:s};e.set("sap.ushell.renderers.fiori2.utils",C);e.set("sap.ushell.renderers.fiori2.RendererExtensions",T);return T});
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appRuntime/ui5/services/AppConfiguration", ["sap/ushell/services/AppConfiguration","sap/ushell/appRuntime/ui5/AppRuntimeService","sap/ui/core/IconPool","sap/ushell/resources","sap/m/library","sap/ushell/EventHub","sap/ui/thirdparty/jquery"],function(e,t,i,s,n,o,jQuery){"use strict";function p(){var p=[];var r=false;sap.ushell.services.AppConfiguration=this;e.constructor.call(this);o.on("appWidthChange").do(function(e){jQuery("body").toggleClass("sapUiSizeCompact",e).toggleClass("sapUShellApplicationContainerLimitedWidth",!e).toggleClass("sapUShellApplicationContainer",!e)});this.setApplicationFullWidth=function(e){if(r===true||r==="true"){o.emit("appWidthChange",e)}else{t.sendMessageToOuterShell("sap.ushell.services.AppConfiguration.setApplicationFullWidth",{bValue:e})}};this.setFullWidthFromManifest=function(e){r=e};this.addApplicationSettingsButtons=function(e){var t;for(t=0;t<e.length;t++){var o=e[t];o.setIcon(o.getIcon()||i.getIconURI("customize"));if(s.i18n.getText("userSettings")===o.getProperty("text")){o.setProperty("text",s.i18n.getText("userAppSettings"))}o.setType(n.ButtonType.Unstyled)}sap.ushell.renderers.fiori2.RendererExtensions.removeOptionsActionSheetButton(p,"app").done(function(){p=e;sap.ushell.renderers.fiori2.RendererExtensions.addOptionsActionSheetButton(p,"app")})}}return new p},true);
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appRuntime/ui5/services/AppLifeCycleAgent", ["sap/ushell/appRuntime/ui5/AppRuntimePostMessageAPI","sap/ushell/appRuntime/ui5/AppRuntimeService","sap/base/util/UriParameters","sap/ui/thirdparty/URI","sap/ui/thirdparty/jquery","sap/ui/Device","sap/ui/core/BusyIndicator","sap/ushell/appRuntime/ui5/performance/FesrEnhancer","sap/ushell/EventHub","sap/base/Log","sap/ui/thirdparty/hasher","sap/ushell/resources"],function(e,t,s,i,jQuery,r,a,n,u,o,p,l){"use strict";function d(){var d=this,c,f,h=true,g={},v,C={},y={},m={},b={},S,I,w,A,R;this.init=function(i,r,a,o,f,g){c=i;v=r;I=a;if(o!==undefined){h=o}this.addAppInfoToCache(f,g);e.registerCommHandlers({"sap.ushell.services.appLifeCycle":{oServiceCalls:{create:{executeServiceCallFn:function(e){n.startInteraction();t.sendMessageToOuterShell("sap.ushell.appRuntime.iframeIsBusy",{bValue:true});var i=JSON.parse(e.oMessage.data),r=s.fromURL(i.body.sUrl).get("sap-ui-app-id");p.disableCFLPUpdate=true;p.replaceHash(i.body.sHash);p.disableCFLPUpdate=false;d.create(r,i.body.sUrl);return(new jQuery.Deferred).resolve().promise()}},destroy:{executeServiceCallFn:function(e){var t=JSON.parse(e.oMessage.data);d.destroy(t.body.sCacheId);return(new jQuery.Deferred).resolve().promise()}},store:{executeServiceCallFn:function(e){var t=JSON.parse(e.oMessage.data);d.store(t.body.sCacheId);return(new jQuery.Deferred).resolve().promise()}},restore:{executeServiceCallFn:function(e){var t=JSON.parse(e.oMessage.data);p.disableCFLPUpdate=true;p.replaceHash(t.body.sHash);p.disableCFLPUpdate=false;d.restore(t.body.sCacheId);return(new jQuery.Deferred).resolve().promise()}}}}});u.on("disableKeepAliveRestoreRouterRetrigger").do(function(e){if(e.componentId&&y[e.componentId]){y[e.componentId]=e.disable}});t.sendMessageToOuterShell("sap.ushell.services.appLifeCycle.setup",{isStateful:true,isKeepAlive:true,isIframeValid:true,isIframeBusy:true});if(!l.browserI18n){l.browserI18n=l.getTranslationModel(window.navigator.language).getResourceBundle()}A=l.browserI18n.getText("dataLossExternalMessage");window.addEventListener("onbeforeunload",function(){if(sap.ushell&&sap.ushell.Container&&sap.ushell.Container.getDirtyFlag()){return A}return undefined})};this.create=function(e,s){if(r.browser.chrome){a.show(0)}if(w){w._resetBackNavigationCallback()}sap.ui.getCore().getEventBus().publish("launchpad","appOpening",{});var n=new Promise(function(t){d.getAppInfo(e,s).then(function(e){t(e)})}).then(function(r){d.getURLParameters(new i(s).query(true)).then(function(s){v(e,s,r).then(function(e){I(e);t.sendMessageToOuterShell("sap.ushell.appRuntime.iframeIsBusy",{bValue:false});sap.ui.getCore().getEventBus().publish("sap.ushell","appOpened",{})})})});return n};this.destroy=function(e){function t(e){var t=e.sId||"<unkown>";try{e.destroy()}catch(e){o.error("exception when trying to close sapui5 application with id '"+t+"' when running inside the appruntim iframe '"+document.URL+"'. This error must be fixed in order for the iframe to operate properly.\n",e.stack,"sap.ushell.appRuntime.ui5.services.AppLifeCycleAgent::destroy")}}if(e&&C[e]){if(C[e]===S){S=undefined}delete y[C[e].sId];t(C[e]);delete C[e]}else if(S){delete y[S.sId];t(S);S=undefined}sap.ushell.Container.cleanDirtyStateProviderArray();if(w){w._resetBackNavigationCallback()}n.setAppShortId();sap.ui.getCore().getEventBus().publish("sap.ushell","appClosed",{})};this.store=function(e){var t=S,s;C[e]=t;if(w){b[e]=w._getBackNavigationCallback()}s=t.getComponentInstance();t.setVisible(false);if(sap.ushell.Container){m[e]=sap.ushell.Container.getAsyncDirtyStateProviders();sap.ushell.Container.cleanDirtyStateProviderArray()}if(s){if(s.isKeepAliveSupported&&s.isKeepAliveSupported()===true){s.deactivate()}else{if(s.suspend){s.suspend()}if(s.getRouter&&s.getRouter()){s.getRouter().stop()}}}sap.ui.getCore().getEventBus().publish("sap.ushell","appClosed",{})};this.restore=function(e){var t=C[e],s=t.getComponentInstance(),i=y[t.sId];sap.ui.getCore().getEventBus().publish("launchpad","appOpening",{});t.setVisible(true);if(m[e]&&sap.ushell.Container){sap.ushell.Container.setAsyncDirtyStateProviders(m[e])}if(w){w.setBackNavigation(b[e])}if(s){if(s.isKeepAliveSupported&&s.isKeepAliveSupported()===true){s.activate()}else{if(s.restore){s.restore()}if(s.getRouter&&s.getRouter()&&s.getRouter().initialize){if(i===false){s.getRouter().initialize()}else{s.getRouter().initialize(true)}}}S=t}sap.ui.getCore().getEventBus().publish("sap.ushell","appOpened",{})};this.getURLParameters=function(e){return new Promise(function(s,r){if(e.hasOwnProperty("sap-intent-param")){var a=e["sap-intent-param"];t.sendMessageToOuterShell("sap.ushell.services.CrossApplicationNavigation.getAppStateData",{sAppStateKey:a}).then(function(t){delete e["sap-intent-param"];var r=jQuery.extend({},e,new i("?"+t).query(true),true);s(r)},function(t){s(e)})}else{s(e)}})};this.getAppInfo=function(e,t){return new Promise(function(s){function i(){f.getAppInfo(e,t).then(function(t){d.addAppInfoToCache(e,t);s(t)})}if(h===true&&g[e]){s(JSON.parse(JSON.stringify(g[e])))}else if(f){i()}else{sap.ui.require([c.replace(/\./g,"/")],function(e){f=e;i()})}})};this.addAppInfoToCache=function(e,t){if(e&&t&&h===true&&g[e]===undefined){g[e]=JSON.parse(JSON.stringify(t))}};this.setComponent=function(e){S=e;if(S){y[S.sId]=true}};this.setShellUIService=function(e){w=e};this.setShellNavigationService=function(e){R=e};this.checkDataLossAndContinue=function(){if(sap.ushell&&sap.ushell.Container&&sap.ushell.Container.getDirtyFlag(R.getNavigationContext())){if(window.confirm(A)){sap.ushell.Container.setDirtyFlag(false);return true}else{return false}}return true}}return new d},true);
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appRuntime/ui5/services/AppState", ["sap/ushell/services/AppState","sap/ushell/appRuntime/ui5/AppRuntimeService","sap/ushell/services/_AppState/AppState","sap/ushell/utils","sap/ui/thirdparty/jquery"],function(e,t,s,a,jQuery){"use strict";function p(a,p,n,r){e.call(this,a,p,n,r);this.createEmptyAppStateOrig=this.createEmptyAppState;this.createEmptyAppState=function(e,t,s,a){var p=this.createEmptyAppStateOrig(e,t,s,a);if(typeof t==="boolean"&&p._bTransient!==t){p._bTransient=t;p._sKey=this._getGeneratedKey(t)}return p};this.getAppState=function(e){var a=new jQuery.Deferred;t.sendMessageToOuterShell("sap.ushell.services.AppState.getAppState",{sKey:e}).done(function(e){sap.ushell.Container.getServiceAsync("AppState").then(function(t){var p=new s(t,e._sKey,e._bModifiable,e._sData,e._sAppName,e._sACHComponent,e._bTransient,e._iPersistencyMethod,e._oPersistencySettings);a.resolve(p)})});return a.promise()};this._saveAppState=function(e,s,a,p,n,r,i){return t.sendMessageToOuterShell("sap.ushell.services.AppState._saveAppState",{sKey:e,sData:s,sAppName:a,sComponent:p,bTransient:n,iPersistencyMethod:r,oPersistencySettings:i})};this._loadAppState=function(e){return t.sendMessageToOuterShell("sap.ushell.services.AppState._loadAppState",{sKey:e})};e.prototype.deleteAppState=function(e){return t.sendMessageToOuterShell("sap.ushell.services.AppState.deleteAppState",{sKey:e})};this.getAppStateData=function(e){return t.sendMessageToOuterShell("sap.ushell.services.CrossApplicationNavigation.getAppStateData",{sAppStateKey:e})};this.createNewInAppState=function(e){return t.sendMessageToOuterShell("sap.ushell.services.AppState.createNewInAppState",{sData:e})};this.updateInAppStateData=function(e){return t.sendMessageToOuterShell("sap.ushell.services.AppState.updateInAppState",{sData:e})};this.getInAppStateData=function(){return t.sendMessageToOuterShell("sap.ushell.services.AppState.getInAppStateData")};this.makeStatePersistent=function(e,s,a){return t.sendMessageToOuterShell("sap.ushell.services.AppState.makeStatePersistent",{sKey:e,iPersistencyMethod:s,oPersistencySettings:a})}}p.prototype=e.prototype;p.hasNoAdapter=e.hasNoAdapter;p.WindowAdapter=e.WindowAdapter;return p},true);
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appRuntime/ui5/services/Bookmark", ["sap/ushell/services/Bookmark","sap/ushell/appRuntime/ui5/AppRuntimeService"],function(e,o){"use strict";function s(s,r,t){e.call(this,s,r,t);this.addBookmark=function(e,s){return o.sendMessageToOuterShell("sap.ushell.services.Bookmark.addBookmarkUI5",{oParameters:e,vContainer:s})};this.getShellGroupIDs=function(){return o.sendMessageToOuterShell("sap.ushell.services.Bookmark.getShellGroupIDs")};this.addBookmarkByGroupId=function(e,s){return o.sendMessageToOuterShell("sap.ushell.services.Bookmark.addBookmark",{oParameters:e,groupId:s})};this.addCatalogTileToGroup=function(e,s,r){return o.sendMessageToOuterShell("sap.ushell.services.Bookmark.addCatalogTileToGroup",{sCatalogTileId:e,sGroupId:s,oCatalogData:r})};this.countBookmarks=function(e){return o.sendMessageToOuterShell("sap.ushell.services.Bookmark.countBookmarks",{sUrl:e})};this.deleteBookmarks=function(e){return o.sendMessageToOuterShell("sap.ushell.services.Bookmark.deleteBookmarks",{sUrl:e})};this.updateBookmarks=function(e,s){return o.sendMessageToOuterShell("sap.ushell.services.Bookmark.updateBookmarks",{sUrl:e,oParameters:s})};this.getContentNodes=function(){var e=o.sendMessageToOuterShell("sap.ushell.services.Bookmark.getContentNodes");return new Promise(function(o,s){e.done(function(e){o(e)}).fail(function(e){s(e)})})};this.addCustomBookmark=function(e,s,r){var t=o.sendMessageToOuterShell("sap.ushell.services.Bookmark.addCustomBookmark",{sVizType:e,oConfig:s,vContentNodes:r});return new Promise(function(e,o){t.done(function(o){e(o)}).fail(function(e){o(e)})})};this.countCustomBookmarks=function(e){var s=o.sendMessageToOuterShell("sap.ushell.services.Bookmark.countCustomBookmarks",{oIdentifier:e});return new Promise(function(e,o){s.done(function(o){e(o)}).fail(function(e){o(e)})})};this.updateCustomBookmarks=function(e,s){var r=o.sendMessageToOuterShell("sap.ushell.services.Bookmark.updateCustomBookmarks",{oIdentifier:e,oConfig:s});return new Promise(function(e,o){r.done(function(o){e(o)}).fail(function(e){o(e)})})};this.deleteCustomBookmarks=function(e){var s=o.sendMessageToOuterShell("sap.ushell.services.Bookmark.deleteCustomBookmarks",{oIdentifier:e});return new Promise(function(e,o){s.done(function(o){e(o)}).fail(function(e){o(e)})})};this.addBookmarkToPage=function(e,s){return new Promise(function(r,t){o.sendMessageToOuterShell("sap.ushell.services.Bookmark.addBookmarkToPage",{oParameters:e,sPageId:s}).done(r).fail(t)})}}s.prototype=e.prototype;s.hasNoAdapter=e.hasNoAdapter;return s},true);
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appRuntime/ui5/services/CommonDataModel", ["sap/ushell/services/CommonDataModel","sap/ushell/appRuntime/ui5/AppRuntimeService"],function(e,s){"use strict";function t(t,o,n,a){e.call(this,t,o,n,a);this.getAllPages=function(){return new Promise(function(e){s.sendMessageToOuterShell("sap.ushell.services.CommonDataModel.getAllPages").done(e)})}}t.prototype=e.prototype;t.hasNoAdapter=e.hasNoAdapter;return t});
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appRuntime/ui5/services/Container", ["sap/ushell/Container","sap/ushell/appRuntime/ui5/AppRuntimeService","sap/ushell/appRuntime/ui5/renderers/fiori2/Renderer","sap/ushell/appRuntime/ui5/ui/UIProxy","sap/ushell/appRuntime/ui5/SessionHandlerAgent"],function(e,n,t,r,i){"use strict";function s(){var e,r=false,s=[];this.bootstrap=function(a,u){return sap.ushell.bootstrap(a,u).then(function(a){e=sap.ushell.Container._getAdapter();sap.ushell.Container.inAppRuntime=function(){return true};sap.ushell.Container.runningInIframe=sap.ushell.Container.inAppRuntime;sap.ushell.Container.getFLPUrl=function(e){return n.sendMessageToOuterShell("sap.ushell.services.Container.getFLPUrl",{bIncludeHash:e})};sap.ushell.Container.getFLPUrlAsync=function(e){return sap.ushell.Container.getFLPUrl(e)};sap.ushell.Container.getRenderer=function(){return t};sap.ushell.Container.logout=function(){return e.logout()};sap.ushell.Container.getFLPPlatform=function(){return n.sendMessageToOuterShell("sap.ushell.services.Container.getFLPPlatform")};sap.ushell.Container.extendSession=function(){i.userActivityHandler()};sap.ushell.Container.setDirtyFlag=function(e){r=e};sap.ushell.Container.getDirtyFlag=function(e){return r||sap.ushell.Container.handleDirtyStateProvider(e)};sap.ushell.Container.registerDirtyStateProvider=function(e){if(typeof e!=="function"){throw new Error("fnDirty must be a function")}s.push(e)};sap.ushell.Container.handleDirtyStateProvider=function(e){var n=false;if(s.length>0){for(var t=0;t<s.length&&n===false;t++){n=n||(s[t](e)||false)}}return n};sap.ushell.Container.deregisterDirtyStateProvider=function(e){if(typeof e!=="function"){throw new Error("fnDirty must be a function")}var n=-1;for(var t=s.length-1;t>=0;t--){if(s[t]===e){n=t;break}}if(n>=0){s.splice(n,1)}};sap.ushell.Container.cleanDirtyStateProviderArray=function(){s=[];r=false};sap.ushell.Container.setAsyncDirtyStateProvider=function(){};sap.ushell.Container.getAsyncDirtyStateProviders=function(){return s};sap.ushell.Container.setAsyncDirtyStateProviders=function(e){s=e}})}}return new s},true);
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appRuntime/ui5/services/CrossApplicationNavigation", ["sap/ushell/services/CrossApplicationNavigation","sap/ushell/appRuntime/ui5/AppRuntimeService","sap/ushell/services/_AppState/AppState","sap/ui/thirdparty/jquery","sap/base/Log"],function(e,s,t,jQuery,i){"use strict";function n(i,n,a){e.call(this,i,n,a);this.backToPreviousApp=function(){return s.sendMessageToOuterShell("sap.ushell.services.CrossApplicationNavigation.backToPreviousApp")};this.expandCompactHash=function(e){return s.sendMessageToOuterShell("sap.ushell.services.CrossApplicationNavigation.expandCompactHash",{sHashFragment:e})};this.getDistinctSemanticObjects=function(){return s.sendMessageToOuterShell("sap.ushell.services.CrossApplicationNavigation.getDistinctSemanticObjects")};this.getLinks=function(e){if(Array.isArray(e)){e.forEach(function(e){if(e[0]){delete e[0].ui5Component}})}else{delete e.ui5Component}return s.sendMessageToOuterShell("sap.ushell.services.CrossApplicationNavigation.getLinks",e)};this.getPrimaryIntent=function(e,t){return s.sendMessageToOuterShell("sap.ushell.services.CrossApplicationNavigation.getPrimaryIntent",{sSemanticObject:e,mParameters:t})};this.getSemanticObjectLinks=function(e,t,i,n,a,r){return s.sendMessageToOuterShell("sap.ushell.services.CrossApplicationNavigation.getSemanticObjectLinks",{sSemanticObject:e,mParameters:t,bIgnoreFormFactor:i,sAppStateKey:a,bCompactIntents:r})};this.historyBack=function(e){return s.sendMessageToOuterShell("sap.ushell.services.CrossApplicationNavigation.historyBack",{iSteps:e})};this.isIntentSupported=function(e,t){return s.sendMessageToOuterShell("sap.ushell.services.CrossApplicationNavigation.isIntentSupported",{aIntents:e})};this.isNavigationSupported=function(e,t){return s.sendMessageToOuterShell("sap.ushell.services.CrossApplicationNavigation.isNavigationSupported",{aIntents:e})};this.toExternal=function(e,t){sap.ui.require(["sap/ushell/appRuntime/ui5/services/AppLifeCycleAgent"],function(t){if(t.checkDataLossAndContinue()){return s.sendMessageToOuterShell("sap.ushell.services.CrossApplicationNavigation.toExternal",{oArgs:e})}})};this.getAppState=function(e,i){var n=new jQuery.Deferred;s.sendMessageToOuterShell("sap.ushell.services.CrossApplicationNavigation.getAppState",{sAppStateKey:i}).done(function(e){sap.ushell.Container.getServiceAsync("AppState").then(function(s){var i=new t(s,e._sKey,e._bModifiable,e._sData,e._sAppName,e._sACHComponent,e._bTransient);n.resolve(i)})});return n.promise()};this.resolveIntent=function(e){return s.sendMessageToOuterShell("sap.ushell.services.CrossApplicationNavigation.resolveIntent",{sHashFragment:e})};this.hrefForExternalAsync=function(e){return s.sendMessageToOuterShell("sap.ushell.services.CrossApplicationNavigation.hrefForExternal",{oArgs:e})};this.hrefForAppSpecificHashAsync=function(e){return s.sendMessageToOuterShell("sap.ushell.services.CrossApplicationNavigation.hrefForAppSpecificHash",{sAppHash:e})};this.isInitialNavigation=function(){return false};this.isInitialNavigationAsync=function(){return s.sendMessageToOuterShell("sap.ushell.services.CrossApplicationNavigation.isInitialNavigation",{})};this.createComponentData=function(e,s){return Promise.reject()}}n.prototype=e.prototype;n.hasNoAdapter=e.hasNoAdapter;return n},true);
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appRuntime/ui5/services/LaunchPage", ["sap/ushell/services/LaunchPage","sap/ushell/appRuntime/ui5/AppRuntimeService"],function(e,s){"use strict";function t(t,r,o){e.call(this,t,r,o);this.getGroupsForBookmarks=function(){return s.sendMessageToOuterShell("sap.ushell.services.LaunchPage.getGroupsForBookmarks")}}t.prototype=e.prototype;t.hasNoAdapter=e.hasNoAdapter;return t});
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appRuntime/ui5/services/Menu", ["sap/ushell/services/Menu","sap/ushell/appRuntime/ui5/AppRuntimeService"],function(e,s){"use strict";function t(){e.call(this,arguments);this.getSpacesPagesHierarchy=function(){return new Promise(function(e){s.sendMessageToOuterShell("sap.ushell.services.Menu.getSpacesPagesHierarchy").done(e)})}}t.prototype=e.prototype;t.hasNoAdapter=e.hasNoAdapter;return t});
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appRuntime/ui5/services/NavTargetResolution", ["sap/ushell/services/NavTargetResolution","sap/ushell/appRuntime/ui5/AppRuntimeService"],function(e,s){"use strict";function t(t,a,n,i){e.call(this,t,a,n,i);this.getDistinctSemanticObjects=function(){return s.sendMessageToOuterShell("sap.ushell.services.NavTargetResolution.getDistinctSemanticObjects")};this.expandCompactHash=function(e){return s.sendMessageToOuterShell("sap.ushell.services.NavTargetResolution.expandCompactHash",{sHashFragment:e})};this.resolveHashFragment=function(e){return s.sendMessageToOuterShell("sap.ushell.services.NavTargetResolution.resolveHashFragment",{sHashFragment:e})};this.isNavigationSupported=function(e){return s.sendMessageToOuterShell("sap.ushell.services.NavTargetResolution.isNavigationSupported",{aIntents:e})}}t.prototype=e.prototype;t.hasNoAdapter=e.hasNoAdapter;return t},true);
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appRuntime/ui5/services/ShellNavigation", ["sap/ushell/services/ShellNavigation","sap/ushell/appRuntime/ui5/AppRuntimeService"],function(e,s){"use strict";function t(t,i,a){e.call(this,t,i,a);this.toExternal=function(e,t,i){sap.ui.require(["sap/ushell/appRuntime/ui5/services/AppLifeCycleAgent"],function(t){if(t.checkDataLossAndContinue()){s.sendMessageToOuterShell("sap.ushell.services.ShellNavigation.toExternal",{oArgs:e,bWriteHistory:i})}})};this.toAppHash=function(e,t){s.sendMessageToOuterShell("sap.ushell.services.ShellNavigation.toExternal",{sAppHash:e,bWriteHistory:t})}}t.prototype=e.prototype;t.hasNoAdapter=e.hasNoAdapter;return t},true);
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appRuntime/ui5/services/ShellUIService", ["sap/ui/core/service/ServiceFactoryRegistry","sap/ui/core/service/ServiceFactory","sap/ui/core/service/Service","../../../ui5service/_ShellUIService/shelluiservice.class.factory","sap/ushell/appRuntime/ui5/AppRuntimePostMessageAPI","sap/ushell/appRuntime/ui5/AppRuntimeService","sap/ui/thirdparty/jquery"],function(e,s,i,a,r,t,jQuery){"use strict";var l=a({serviceRegistry:e,serviceFactory:s,service:i});var c,n=false,u;var p=l.extend("sap.ushell.appRuntime.services.ShellUIService",{setTitle:function(e){c=e;return t.sendMessageToOuterShell("sap.ushell.services.ShellUIService.setTitle",{sTitle:e})},getTitle:function(){return c},setHierarchy:function(e){return t.sendMessageToOuterShell("sap.ushell.services.ShellUIService.setHierarchy",{aHierarchyLevels:e})},setRelatedApps:function(e){return t.sendMessageToOuterShell("sap.ushell.services.ShellUIService.setRelatedApps",{aRelatedApps:e})},setBackNavigation:function(e){if(!n){n=true;r.registerCommHandlers({"sap.ushell.appRuntime":{oServiceCalls:{handleBackNavigation:{executeServiceCallFn:function(e){if(u){u()}else{sap.ui.require(["sap/ushell/appRuntime/ui5/services/AppLifeCycleAgent"],function(e){if(e.checkDataLossAndContinue()){window.history.back()}})}return(new jQuery.Deferred).resolve().promise()}}}}})}u=e;t.sendMessageToOuterShell("sap.ushell.ui5service.ShellUIService.setBackNavigation",{callbackMessage:{service:"sap.ushell.appRuntime.handleBackNavigation"}})},_getBackNavigationCallback:function(){return u},_resetBackNavigationCallback:function(){this.setBackNavigation()}});return p},true);
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appRuntime/ui5/services/UserInfo", ["sap/ushell/services/UserInfo","sap/ushell/appRuntime/ui5/AppRuntimeService","sap/base/util/ObjectPath"],function(e,s,t){"use strict";function r(t,r){e.call(this,t,r);this.getThemeList=function(){return s.sendMessageToOuterShell("sap.ushell.services.UserInfo.getThemeList")};this.updateUserPreferences=function(){return s.sendMessageToOuterShell("sap.ushell.services.UserInfo.updateUserPreferences",{language:sap.ushell.Container.getUser().getLanguage()})};this.getLanguageList=function(){return s.sendMessageToOuterShell("sap.ushell.services.UserInfo.getLanguageList")}}t.set("sap.ushell.services.UserInfo",r);r.prototype=e.prototype;r.hasNoAdapter=e.hasNoAdapter;return r});
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appRuntime/ui5/services/adapters/ContainerAdapter", ["sap/base/Log","sap/ushell/User","sap/ui/thirdparty/jquery","sap/base/util/ObjectPath"],function(e,t,jQuery,r){"use strict";var s=function(s,o,i){var n,a,u,d,l,f;this.load=function(){var e;a=r.get("config.systemProperties.logoutUrl",i);u=r.get("config.systemProperties.logoutMethod",i)||"GET";d=r.get("config.systemProperties.csrfTokenUrl",i);l=r.get("config.systemProperties.sessionKeepAlive.url",i);f=r.get("config.systemProperties.sessionKeepAlive.method",i);e=jQuery.extend(true,{id:""},r.get("config.userProfile.defaults",i));n=new t(e);g(e);return(new jQuery.Deferred).resolve().promise()};this.getSystem=function(){return s};this.getUser=function(){return n};this._getLogoutUrl=function(){return a};this._setWindowLocation=function(e){window.location.href=e};this.logout=function(){var t=new jQuery.Deferred,r=this;if(u==="POST"){e.info("performing logout from system via POST",undefined,"sap.ushell.appRuntime.ui5.services.adapters.ContainerAdapter::logout");jQuery.ajax({type:"HEAD",url:d,headers:{"X-CSRF-Token":"Fetch"},success:function(s,o,i){jQuery.ajax({type:"POST",url:a,headers:{"X-CSRF-Token":i.getResponseHeader("X-CSRF-Token")},success:function(e){r._setWindowLocation(e);t.resolve()},error:function(){e.error("Logging out via POST failed",undefined,"sap.ushell.appRuntime.ui5.services.adapters.ContainerAdapter::logout");t.resolve()}})},error:function(){e.error("fetching X-CSRF-Token for logout via POST failed for system: "+s.getAlias(),undefined,"sap.ushell.appRuntime.ui5.services.adapters.ContainerAdapter::logout");t.resolve()}})}else{try{if(typeof a==="string"&&a.length>0){this._logoutViaHiddenIFrame(t,a);setTimeout(t.resolve,4e3)}else{t.resolve()}}catch(r){e.error("logout from iframe "+document.URL+" failed",r,"sap.ushell.appRuntime.ui5.SessionHandlerAgent");t.resolve()}}return t.promise()};this._logoutViaHiddenIFrame=function(e,t){var r=document.createElement("iframe"),s=t.replace(/"/g,'\\"');window.addEventListener("message",function(r){if((r.data&&r.data.url)===t){e.resolve()}});r.style.visibility="hidden";r.setAttribute("src",t);function o(){this.contentWindow.parent.postMessage({url:s,request_id:"dummy-logout-id"},"*")}r.addEventListener("load",o);r.addEventListener("error",o);document.body.appendChild(r)};this.sessionKeepAlive=function(){if(typeof l==="string"&&l.length>0&&typeof f==="string"&&f.length>0){var t=new XMLHttpRequest;t.open(f,l,true);t.onreadystatechange=function(){if(this.readyState===4){e.debug("Server session was extended")}};t.send()}};function g(e){var t=sap.ui.getCore(),r=t.getConfiguration(),s=r.getFormatSettings();if(e.sapDateFormat){s.setLegacyDateFormat(e.sapDateFormat)}if(e.sapDateCalendarCustomizing){s.setLegacyDateCalendarCustomizing(e.sapDateCalendarCustomizing)}if(e.sapNumberFormat){s.setLegacyNumberFormat(e.sapNumberFormat)}if(e.sapTimeFormat){s.setLegacyTimeFormat(e.sapTimeFormat)}if(typeof e.currencyFormats==="object"){s.addCustomCurrencies(e.currencyFormats)}}};return s},true);
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appRuntime/ui5/services/adapters/EmptyAdapter", ["sap/ui/thirdparty/jquery"],function(jQuery){"use strict";var e=function(){this.getSite=function(){return(new jQuery.Deferred).resolve({}).promise()}};return e});
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appRuntime/ui5/services/adapters/Ui5ComponentLoaderAdapter", [],function(){"use strict";function n(){}return n},true);
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/appRuntime/ui5/ui/UIProxy", ["sap/ushell/appRuntime/ui5/renderers/fiori2/Renderer","sap/m/Button","sap/base/util/ObjectPath"],function(e,t,n){"use strict";function s(){n.set("sap.ushell.ui.shell.ShellHeadItem",function(t){var n=this;Object.keys(t).forEach(function(e){n[e]=t[e];n["get"+e[0].toUpperCase()+e.slice(1)]=function(){return t[e]}});e.createShellHeadItem(t)})}return new s});
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/bootstrap/common/common.constants", [],function(){"use strict";return{uiDebugKey:"sap-ui-debug",bootScriptId:"sap-ui-bootstrap",bwcBootScriptId:"sap-ushell-bootstrap",configMetaPrefix:"sap.ushellConfig",ushellConfigNamespace:"sap-ushell-config"}});
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/bootstrap/common/common.create.configcontract.core", ["sap/ui/thirdparty/URI"],function(e){"use strict";var n={};function a(e){var a={};function o(n,a){var o=a.split("/");var i=o.slice(0,o.length-1).join("/");var r=o.pop();if(n.hasOwnProperty(i)){return n[i][r]}var s=o.reduce(function(e,n){if(!e||!e.hasOwnProperty(n)){return{}}return e[n]},e);n[i]=s;return s[r]}function i(e,i){var r=o(a,e);n[e]=i;return r!==undefined?r:i}function r(){var e="renderers/fiori2/componentData/config/enableBackGroundShapes";var r=!!o(a,e);if(r){r=!i("ushell/spaces/enabled",false)}n[e]=r;return r}function s(){return i("renderers/fiori2/componentData/config/enablePersonalization",i("renderers/fiori2/componentData/config/applications/Shell-home/enablePersonalization",true))}function l(){var e=i("renderers/fiori2/componentData/config/rootIntent","");if(e){e="#"+e}return e}var t=i("renderers/fiori2/componentData/config/applications/Shell-home/enableEasyAccess",true);var c={enableEasyAccessOnTablet:i("renderers/fiori2/componentData/config/applications/Shell-home/enableEasyAccessUserMenuOnTablet",false),enableEasyAccessSAPMenu:i("renderers/fiori2/componentData/config/applications/Shell-home/enableEasyAccessSAPMenu",t),enableEasyAccessSAPMenuSearch:i("renderers/fiori2/componentData/config/applications/Shell-home/enableEasyAccessSAPMenuSearch",true),enableEasyAccessUserMenu:i("renderers/fiori2/componentData/config/applications/Shell-home/enableEasyAccessUserMenu",t),enableEasyAccessUserMenuSearch:i("renderers/fiori2/componentData/config/applications/Shell-home/enableEasyAccessUserMenuSearch",true)};function p(e){if(t===true){return c[e]?c[e+"Search"]:false}return false}var u={core:{site:{siteId:i("ushell/site/siteId",null)},extension:{enableHelp:i("renderers/fiori2/componentData/config/enableHelp",false),SupportTicket:i("services/SupportTicket/config/enabled",false),enableTileColors:i("ushell/extension/enableTileColors",false)},services:{allMyApps:{enabled:i("services/AllMyApps/config/enabled",true),showHomePageApps:i("services/AllMyApps/config/showHomePageApps",true),showCatalogApps:i("services/AllMyApps/config/showCatalogApps",true)}},navigation:{enableInPlaceForClassicUIs:{GUI:i("services/ClientSideTargetResolution/config/enableInPlaceForClassicUIs/GUI",false),WDA:i("services/ClientSideTargetResolution/config/enableInPlaceForClassicUIs/WDA",false),WCF:i("services/ClientSideTargetResolution/config/enableInPlaceForClassicUIs/WCF",true)},enableWebguiLocalResolution:true,enableWdaLocalResolution:true,flpURLDetectionPattern:i("services/ClientSideTargetResolution/config/flpURLDetectionPattern","[/]FioriLaunchpad.html[^#]+#[^-]+?-[^-]+"),enableWdaCompatibilityMode:i("ushell/navigation/wdaCompatibilityMode",false)},spaces:{enabled:i("ushell/spaces/enabled",false),configurable:i("ushell/spaces/configurable",false),myHome:{userEnabled:true,enabled:i("startupConfig/spacesMyhome",false),myHomeSpaceId:i("startupConfig/spacesMyhomeSpaceid",null),myHomePageId:i("startupConfig/spacesMyhomePageid",null),presetSectionId:"3WO90XZ1DX1AS32M7ZM9NBXEF"},hideEmptySpaces:{enabled:i("ushell/spaces/enabled",false)&&i("ushell/spaces/hideEmptySpaces/enabled",false),userEnabled:true},extendedChangeDetection:{enabled:i("ushell/spaces/extendedChangeDetection/enabled",true)},homeNavigationTarget:i("renderers/fiori2/componentData/config/homeNavigationTarget",undefined)},workPages:{enabled:i("ushell/spaces/enabled",false)&&i("ushell/workPages/enabled",false),contentApiUrl:i("ushell/workPages/contentApiUrl","/cep/graphql"),navigationApiUrl:i("ushell/workPages/navigationApiUrl","/navigation/api/v2"),myHome:{pageId:i("ushell/spaces/myHome/myHomePageId",null)}},homeApp:{enabled:i("ushell/spaces/enabled",false)&&!!i("ushell/homeApp/component",false),component:i("ushell/homeApp/component",{})},menu:{enabled:i("ushell/spaces/enabled",false)&&i("ushell/menu/enabled")!==false||i("ushell/menu/enabled",false),visibleInAllStates:i("ushell/menu/visibleInAllStates",false)},darkMode:{enabled:i("ushell/darkMode/enabled",false),supportedThemes:i("ushell/darkMode/supportedThemes",[{dark:"sap_fiori_3_dark",light:"sap_fiori_3"},{dark:"sap_fiori_3_hcb",light:"sap_fiori_3_hcw"},{dark:"sap_horizon_dark",light:"sap_horizon"},{dark:"sap_horizon_hcb",light:"sap_horizon_hcw"}])},contentProviders:{providerInfo:{show:i("ushell/contentProviders/providerInfo/show",false)}},productSwitch:{enabled:!!i("ushell/productSwitch/url",""),url:i("ushell/productSwitch/url","")},shellHeader:{application:{},centralAreaElement:null,headEndItems:[],headItems:[],headerVisible:true,showLogo:false,ShellAppTitleState:undefined,rootIntent:i("renderers/fiori2/componentData/config/rootIntent",""),homeUri:l(),title:""},themePreview:{sapHorizonEnabled:i("renderers/fiori2/componentData/config/sapHorizonEnabled",false)},userPreferences:{dialogTitle:"Settings",isDetailedEntryMode:false,activeEntryPath:null,entries:[],profiling:[]},shell:{cacheConfiguration:i("renderers/fiori2/componentData/config/cacheConfiguration",{}),enableAbout:i("renderers/fiori2/componentData/config/enableAbout",true),enablePersonalization:s(),enableRecentActivity:i("renderers/fiori2/componentData/config/enableRecentActivity",true),enableRecentActivityLogging:i("renderers/fiori2/componentData/config/enableRecentActivityLogging",true),enableFiori3:true,sessionTimeoutIntervalInMinutes:i("renderers/fiori2/componentData/config/sessionTimeoutIntervalInMinutes",-1),enableFeaturePolicyInIframes:i("renderers/fiori2/componentData/config/enableFeaturePolicyInIframes",true),model:{enableSAPCopilotWindowDocking:undefined,enableBackGroundShapes:r(),personalization:undefined,contentDensity:undefined,setTheme:undefined,userDefaultParameters:undefined,disableHomeAppCache:undefined,enableHelp:undefined,enableTrackingActivity:undefined,searchAvailable:false,searchFiltering:true,searchTerm:"",isPhoneWidth:false,enableNotifications:i("services/Notifications/config/enabled",false),enableNotificationsUI:false,notificationsCount:0,currentViewPortState:"Center",migrationConfig:undefined,allMyAppsMasterLevel:undefined,userStatus:undefined,userStatusUserEnabled:true,shellAppTitleData:{currentViewInPopover:"navigationMenu",enabled:false,showGroupsApps:false,showCatalogsApps:false,showExternalProvidersApps:false},userImage:{personPlaceHolder:null,account:"sap-icon://account"},currentState:{stateName:"blank",showCurtain:false,showCatalog:false,showPane:false,showRightFloatingContainer:false,showRecentActivity:true,search:"",paneContent:[],actions:[],floatingActions:[],subHeader:[],toolAreaItems:[],RightFloatingContainerItems:[],toolAreaVisible:false,floatingContainerContent:[]},currentSpaceAndPage:undefined}},home:{disableSortedLockedGroups:i("renderers/fiori2/componentData/config/applications/Shell-home/disableSortedLockedGroups",false),draggedTileLinkPersonalizationSupported:true,editTitle:false,enableHomePageSettings:i("renderers/fiori2/componentData/config/applications/Shell-home/enableHomePageSettings",true),enableRenameLockedGroup:i("renderers/fiori2/componentData/config/applications/Shell-home/enableRenameLockedGroup",false),enableTileActionsIcon:i("renderers/fiori2/componentData/config/enableTileActionsIcon",i("renderers/fiori2/componentData/config/applications/Shell-home/enableTileActionsIcon",false)),enableTransientMode:i("ushell/home/enableTransientMode",false),featuredGroup:{enable:i("ushell/home/featuredGroup/enable",false),frequentCard:i("ushell/home/featuredGroup/frequentCard",true)&&i("ushell/home/featuredGroup/enable",false),recentCard:i("ushell/home/featuredGroup/recentCard",true)&&i("ushell/home/featuredGroup/enable",false)},homePageGroupDisplay:i("renderers/fiori2/componentData/config/applications/Shell-home/homePageGroupDisplay","scroll"),isInDrag:false,optimizeTileLoadingThreshold:i("renderers/fiori2/componentData/config/applications/Shell-home/optimizeTileLoadingThreshold",100),sizeBehavior:i("renderers/fiori2/componentData/config/sizeBehavior","Responsive"),sizeBehaviorConfigurable:i("renderers/fiori2/componentData/config/sizeBehaviorConfigurable",false),wrappingType:i("ushell/home/tilesWrappingType","Normal"),segments:i("renderers/fiori2/componentData/config/applications/Shell-home/segments",undefined),tileActionModeActive:false},catalog:{enabled:s()||i("renderers/fiori2/componentData/config/enableAppFinder",false),appFinderDisplayMode:i("renderers/fiori2/componentData/config/applications/Shell-home/appFinderDisplayMode",undefined),easyAccessNumbersOfLevels:i("renderers/fiori2/componentData/config/applications/Shell-home/easyAccessNumbersOfLevels",undefined),enableCatalogSearch:i("renderers/fiori2/componentData/config/enableSearchFiltering",i("renderers/fiori2/componentData/config/applications/Shell-home/enableSearchFiltering",i("renderers/fiori2/componentData/config/applications/Shell-home/enableCatalogSearch",true))),enableCatalogSelection:i("renderers/fiori2/componentData/config/enableCatalogSelection",i("renderers/fiori2/componentData/config/applications/Shell-home/enableCatalogSelection",true)),enableCatalogTagFilter:i("renderers/fiori2/componentData/config/applications/Shell-home/enableTagFiltering",i("renderers/fiori2/componentData/config/applications/Shell-home/enableCatalogTagFilter",true)),enableEasyAccess:t,enableEasyAccessSAPMenu:t?c.enableEasyAccessSAPMenu:false,enableEasyAccessOnTablet:t?c.enableEasyAccessOnTablet:false,enableEasyAccessSAPMenuSearch:p("enableEasyAccessSAPMenu"),enableEasyAccessUserMenu:t?c.enableEasyAccessUserMenu:false,enableEasyAccessUserMenuSearch:p("enableEasyAccessUserMenu"),enableHideGroups:i("renderers/fiori2/componentData/config/enableHideGroups",i("renderers/fiori2/componentData/config/applications/Shell-home/enableHideGroups",true)),sapMenuServiceUrl:undefined,userMenuServiceUrl:i("renderers/fiori2/componentData/config/applications/Shell-home/userMenuServiceUrl",undefined)},esearch:{defaultSearchScopeApps:i("renderers/fiori2/componentData/config/esearch/defaultSearchScopeApps",false),searchBusinessObjects:i("renderers/fiori2/componentData/config/esearch/searchBusinessObjects",true),searchScopeWithoutAll:i("renderers/fiori2/componentData/config/esearch/searchScopeWithoutAll",false)},stableIDs:{enabled:i("ushell/stableIDs/enabled",true),migratePersonalization:i("ushell/stableIDs/migratePersonalization",true)}}};return u}function o(){return n}return{createConfigContract:a,getDefaultConfiguration:o}});
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/bootstrap/common/common.debug.mode", ["./common.constants"],function(t){"use strict";var e;var a=/[?&]sap-ui-debug=(true|x|X)(&|$)/.test(window.location.search);if(!a){try{e=window.localStorage.getItem(t.uiDebugKey);a=!!e&&/^(true|x|X)$/.test(e)}catch(t){}}return a});
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/bootstrap/common/common.load.core-min", ["./common.debug.mode","./common.load.script"],function(e,r){"use strict";var o={};o.loaded=t();o.load=function(t){var n=sap.ui.require.toUrl(t.replace(/\./g,"/"));var i;if(e){sap.ui.require(["sap/ui/core/Core"],function(e){e.boot()})}else{for(i=0;i<4;i++){r(n+"/core-min-"+i+".js");o.loaded=true}}};function t(){var e=Array.from(document.getElementsByTagName("script"));var r=e.some(function(e){var r=e.getAttribute("src");return r&&r.indexOf("core-min-0.js")>-1});return r}return o});
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/bootstrap/common/common.load.script", [],function(){"use strict";function e(e,r,t,n){return new Promise(function(i,d){function o(e){e.target.removeEventListener("load",o);e.target.removeEventListener("error",o);if(e.type==="error"){d()}i()}var a=document.createElement("script");a.src=e;a.async=!!n;a.addEventListener("load",o);a.addEventListener("error",o);if(r){a.id=r}if(t){a.defer=t}document.head.appendChild(a)})}return e});
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/HeaderManager", ["sap/base/util/ObjectPath","sap/ui/Device","sap/ushell/components/_HeaderManager/PropertyStrategiesFactory","sap/ushell/components/StateHelper","sap/ushell/Config","sap/ushell/EventHub","sap/ushell/utils","sap/ushell/utils/clone"],function(e,t,a,n,r,o,l,s){"use strict";var i={application:{},centralAreaElement:null,headEndItems:[],headItems:[],headerVisible:true,showLogo:false,ShellAppTitleState:undefined,rootIntent:r.last("/core/shellHeader/rootIntent"),homeUri:r.last("/core/shellHeader/homeUri"),title:""};var d;var u;var c="endItemsOverflowBtn";var h;var f={blank:{},"blank-home":{},home:{headItems:[]},app:{headItems:["backBtn"]},minimal:{headItems:[]},standalone:{headItems:["backBtn"]},embedded:{headItems:["backBtn"]},"embedded-home":{headItems:[]},headerless:{headItems:["backBtn"],headerVisible:false},merged:{headItems:["backBtn"]},"headerless-home":{headerVisible:false},"merged-home":{},lean:{headItems:[]},"lean-home":{}};var m=[];function p(e,a){var n=e&&e.appState?e.appState:"home";d=D(e);u=a;h=t.media.getCurrentRange(t.media.RANGESETS.SAP_STANDARD).name;I();v();k(n);B()}function S(){b()}function v(){var e=o.on("setHeaderCentralAreaElement").do(function(e){P({propertyName:"centralAreaElement",value:e.id,aStates:n.getPassStates(e.states),bCurrentState:!!e.currentState,bDoNotPropagate:!!e.bDoNotPropagate})});m.push(e);m.push(o.on("updateHeaderOverflowState").do(g));t.media.attachHandler(g,this,t.media.RANGESETS.SAP_STANDARD);m.push(r.on("/core/shellHeader/headEndItems").do(E));m.push(r.on("/core/shell/model/currentSpaceAndPage").do(A))}function b(){if(m){m.forEach(function(e){e.off()})}t.media.detachHandler(g,this,t.media.RANGESETS.SAP_STANDARD)}function g(e){if(e&&e.name){h=e.name}I();E()}function I(e){var t=r.last("/core/shell/model/currentState/stateName"),a=t==="merged"||t==="headerless",n=!a;P({propertyName:"showLogo",value:n,aStates:["home","app","blank","blank-home","minimal","lean"],bCurrentState:false,bDoNotPropagate:true})}function A(e){if(r.last("/core/spaces/enabled")&&r.last("/core/spaces/homeNavigationTarget")==="origin_page"){var t=e?encodeURI(e.hash):i.rootIntent;var a=this&&this.updateStates||P;a({propertyName:"homeUri",value:"#"+t})}}function E(e){var t=r.last("/core/shellHeader/headEndItems"),a=t.indexOf(c)>-1,n=e&&e.name||h,o;if(n==="Phone"&&!a&&t.length>2){N([c],false,["home","app"])}else if(n!=="Phone"&&a){o=sap.ui.getCore().byId("headEndItemsOverflow");if(o){o.destroy()}H([c],false,["home","app"])}}function N(e,t,a,n){P({propertyName:"headEndItems",value:e,aStates:a,bCurrentState:!!t,bDoNotPropagate:!!n})}function H(e,t,a){P({propertyName:"headEndItems",value:e,aStates:a,bCurrentState:!!t,action:"remove",bDoNotPropagate:false})}function C(e,t){var a={};Object.keys(e).forEach(function(n){var r=e[n];a[n]=Object.keys(r).reduce(function(e,t){e[t]=r[t];return e},s(t))});return a}function P(t){var o=t.propertyName,l=!t.bCurrentState?n.getAllStateToUpdate(t.aStates,t.bDoNotPropagate):[],s=r.last("/core/shellHeader"),i=r.last("/core/shell/model/currentState/stateName"),u=t.value,c;if(o.charAt(0)==="/"){o=o.substring(1)}c=a(o,t.action);if(!c){return}if(!t.bCurrentState){d=O(d,o,c,l,u)}if(l.indexOf(i)>-1||t.bCurrentState){var h=e.get(o.split("/"),s),f=c.execute(h,u);if(h!==f){e.set(o.split("/"),f,s);w(o,s)}}if(t.bCurrentState){T(o,c,u)}}function y(e){var t;for(t in e){if(e.hasOwnProperty(t)){l.updateProperties(d[t],e[t])}}}function k(e){var t=d[e];if(!t){throw new Error("the state ("+e+") does not exist")}r.emit("/core/shellHeader",s(t))}function B(e){var t=r.last("/core/shellHeader"),a,n;if(u&&u.customShellState){a=u.customShellState.currentState}if(e&&u.extendedShellStates[e]){n=u.extendedShellStates[e].customState.currentState}r.emit("/core/shellHeader",x(t,a,n))}function x(e,t,n){var o={};Object.keys(e).forEach(function(r){var l=a(r);var i=s(e[r]);if(l){if(n){i=l.execute(i,n[r])}if(t){i=l.execute(i,t[r])}}o[r]=i});o.ShellAppTitleState=r.last("/core/shellHeader/ShellAppTitleState");return o}function D(e){if(e){i.rootIntent=e.rootIntent;i.homeUri="#"+e.rootIntent}var t=C(f,i);function a(e,t){var a,n;for(a in t){if(a==="blank"||a==="blank-home"){continue}if(e==="openCatalogBtn"&&(a==="lean"||a==="lean-home")){continue}if(e==="ContactSupportBtn"){if(["home","app","minimal","standalone","embedded","embedded-home","lean"].indexOf(a)===-1){continue}}n=t[a].headEndItems.indexOf(e);if(n===-1){t[a].headEndItems.push(e)}}}function n(e,t){var a;for(a in t){t[a].title=e}}if(e){if(e.moveContactSupportActionToShellHeader){a("ContactSupportBtn",t)}if(e.moveAppFinderActionToShellHeader){a("openCatalogBtn",t)}if(e.title){n(e.title,t)}}return t}function O(t,a,n,r,o){if(r.length===0){return t}var l=s(t);r.forEach(function(t){var r=l[t],s;if(r){s=n.execute(e.get(a.split("/"),r),o);e.set(a.split("/"),s,r)}});return l}function T(t,a,n){var r,o;if(!u){return}r=u.customShellState.currentState;o=a.execute(e.get(t.split("/"),r),n);e.set(t.split("/"),o,r)}function w(e,t){var a=e.split("/").shift();r.emit("/core/shellHeader/"+a,t[a])}function _(e){var t;try{t=d[e]}catch(e){t=undefined}return t}function R(e,t){var a;try{a=_(e)[t]}catch(e){a=undefined}return a}function U(e){d=e}return{init:p,destroy:S,switchState:k,updateStates:P,recalculateState:B,extendStates:y,handleCurrentSpaceAndPage:A,handleEndItemsOverflow:E,validateShowLogo:I,_createInitialState:D,_generateBaseHeaderState:C,_getBaseState:_,_getBaseStateMember:R,_resetBaseStates:U}});
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/StateHelper", [],function(){"use strict";function e(e){var a=[],n;e=e||[];for(n=0;n<e.length;n++){if(e[n]!==undefined){if(e[n]!=="home"&&e[n]!=="app"){throw new Error("sLaunchpadState value is invalid")}a.push(e[n])}}if(!a.length){a=["app","home"]}return a}function a(e,a){var n=[];if(e==="app"&&!a){var t=["app","minimal","standalone","embedded","headerless","merged","blank","lean"];n=n.concat(t)}else if(e==="home"&&!a){var r=["home","embedded-home","headerless-home","merged-home","blank-home","lean-home"];n=n.concat(r)}else{n.push(e)}return n}function n(n,t){var r=t?n:e(n);return r.reduce(function(e,n){var r=a(n,t);if(r){e=e.concat(r)}return e},[])}return{getAllStateToUpdate:n,getModelStates:a,getPassStates:e}});
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/_HeaderManager/AddHeadEndItemsStrategy", ["sap/base/Log"],function(e){"use strict";function t(t,n){var r=0,i,o;if(!t||!n){return false}var a=n.some(function(t){var n=!sap.ui.getCore().byId(t);if(n){e.warning("Failed to find control with id '{id}'".replace("{id}",t))}return n});if(a){return false}if(n.length===1&&n[0]==="endItemsOverflowBtn"){return true}for(i=0;i<t.length;i++){o=t[i];if(o!=="endItemsOverflowBtn"){r++}if(r+n.length>10){e.warning("maximum of six items has reached, cannot add more items.");return false}if(n.indexOf(o)>-1){return false}}return true}function n(e,t){var n=e.concat(t);var r={sf:-3,copilotBtn:-1,NotificationsCountButton:1,endItemsOverflowBtn:2,meAreaHeaderButton:3,productSwitchBtn:4};n.sort(function(e,t){var n=r[e]||0,i=r[t]||0;if(n===i){return e.localeCompare(t)}return n-i});return n}function r(e,r){var i=e;if(t(e,r)){i=n(e,r)}return i}return{execute:r}});
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/_HeaderManager/AddHeadItemsStrategy", [],function(){"use strict";function n(n,t){return n.indexOf(t)===-1?n.concat(t):n}function t(t,e){return e.reduce(n,t)}function e(n){return function(t){return n.indexOf(t)===-1}}function r(n,r){return t(n,r.filter(e(["backBtn"]))).length<=3}function i(n,t){var e=[],r=n.concat(t);if(n.indexOf("backBtn")>-1||t.indexOf("backBtn")>-1){e.push("backBtn")}if(e.length<3){for(var i=0;i<r.length;i++){var u=r[i];if(e.indexOf(u)===-1){e.push(u)}if(e.length>=3){break}}}return e}function u(n,t){var e=n;if(r(n,t)){e=i(n,t)}return e}return{execute:u}});
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/_HeaderManager/ExtendApplicationPropertyStrategy", ["sap/ui/thirdparty/jquery"],function(jQuery){"use strict";function e(e,t){if(!t){t={}}return jQuery.extend(true,{},e,t)}return{execute:e}});
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/_HeaderManager/PropertyStrategiesFactory", ["./AddHeadItemsStrategy","./AddHeadEndItemsStrategy","./ExtendApplicationPropertyStrategy","./RemoveItemsStrategy","./SetHeadPropertyStrategy"],function(e,a,t,r,i){"use strict";return function(s,c){var n;switch(s){case"headItems":if(c==="remove"){n=r}else{n=e}break;case"headEndItems":if(c==="remove"){n=r}else{n=a}break;case"homeUri":case"showLogo":case"headerVisible":case"centralAreaElement":case"title":n=i;break;case"application":n=t;break;case"application/hierarchy":case"application/icon":case"application/relatedApps":case"application/title":n=i;break;default:n=null;break}return n}});
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/_HeaderManager/RemoveItemsStrategy", ["sap/base/Log"],function(e){"use strict";function n(e,n){return n.some(function(n){return e.indexOf(n)>=0})}function t(e,n){return e.filter(function(e){return n.indexOf(e)===-1})}function i(i,r){var u=i;if(n(i,r)){u=t(i,r)}else{e.warning("You cannot remove item: "+r+", the item does not exists.")}return u}return{execute:i}});
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/_HeaderManager/SetHeadPropertyStrategy", [],function(){"use strict";function n(n){return n!==undefined}function e(e,u){if(n(u)){return u}return e}return{execute:e}});
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/applicationIntegration/AppLifeCycle", ["sap/ushell/components/applicationIntegration/elements/model","sap/ushell/components/applicationIntegration/Storage","sap/ushell/components/applicationIntegration/application/BlueBoxHandler","sap/ushell/ui5service/ShellUIService","sap/ushell/components/applicationIntegration/application/Application","sap/ushell/components/applicationIntegration/relatedServices/RelatedServices","sap/ushell/components/applicationIntegration/relatedShellElements/RelatedShellElements","sap/ushell/components/applicationIntegration/configuration/AppMeta","sap/ushell/services/AppConfiguration","sap/ushell/utils","sap/ui/Device","sap/ushell/Config","sap/ushell/ApplicationType","sap/base/util/UriParameters","sap/ui/thirdparty/jquery","sap/base/Log","sap/ushell/EventHub","sap/ushell/utils/UrlParsing"],function(e,t,i,n,a,r,s,o,l,p,u,f,c,h,jQuery,d,g,C){"use strict";function m(){var m,v=["URL"],A,y,S,I={},b=false,T={},E={home:{embedded:"embedded-home",headerless:"headerless-home",merged:"blank-home",blank:"blank-home"},app:{minimal:"minimal",app:"app",standalone:"standalone",embedded:"embedded",headerless:"headerless",merged:"merged",home:"home",blank:"blank",lean:"lean"}},R,U=[],w={},F=false,P={FULL:"true",RESTRICTED:"restricted"};this.shellElements=function(){return s};this.service=function(){return r};this.isCurrentApp=function(e){return T.appId===e};this.isAppWithSimilarShellHashInCache=function(e,i){var n=t.get(e);if(n){if(n.shellHash===i){return true}return false}return false};this.isAppInCache=function(e){return!!t.get(e)};this.normalizeAppId=function(e){var t="-component",i=e.endsWith(t);if(i){return e.substring(0,e.length-t.length)}return e};this.onComponentCreated=function(e,i,n){var a=n.component,r=this.normalizeAppId(a.getId());if(this.isAppInCache(r)){t.get(r).app=a;this.active(r)}else{T.app=a;if(a.active){a.active()}}};this.onGetMe=function(e,t,i){i.AppLifeCycle=this};this.store=function(e){var i=t.get(e);if(i){a.store(i);o.store(i.meta);i.stateStored=true}};this.destroy=function(e,n,r){var l=t.get(e),p,u;function f(){if(n&&n.getUrl){i.deleteStateFul(n.getUrl())}a.destroy(n);s.destroy(n);o.destroy(n)}this.removeControl(e);if(l){p=i.getStateFul(n.getUrl());if(p&&i.isStatefulContainerSupported(p)){var c=i.getHandler();u=c.destroy(p,e)}else{l.container.destroy();i.deleteStateFul(n.getUrl());u=Promise.resolve()}t.remove(e);if(r){u.then(r.resolve)}}else{var h=n&&n.sendBeforeAppCloseEvent&&n.sendBeforeAppCloseEvent();if(h===undefined){f();if(r){r.resolve()}}else{h.then(function(){f();if(r){r.resolve()}},function(e){f();if(r){r.resolve()}d.error("FLP got a failed response from the iframe for the 'sap.ushell.services.CrossApplicationNavigation.beforeAppCloseEvent' message sent",e,"sap.ushell.components.applicationIntegration.AppLifeCycle.js")})}}};this.restore=function(e){var i=t.get(e);if(i&&i.stateStored===true){a.restore(i);r.restore(i.service);o.restore(i.meta)}};this.active=function(e){var i=t.get(e);if(i){a.active(i.app)}};this.handleExitStateful=function(e,n,a){var s,o=i.getHandler();if(t.get(e)){s=i.getStorageKey(n);if(r.isBackNavigation()===true&&!a){sap.ui.getCore().getEventBus().publish("sap.ushell","appClosed",n);t.remove(s);return o.destroy(n)}else{sap.ui.getCore().getEventBus().publish("sap.ushell","appClosed",n);return o.store(n,s)}}return o.destroy(n)};this.handleExitApplication=function(e,n,s,o,l){var p=this,u,f,c;if(s&&o&&o.getIframeReusedForApp&&o.getIframeReusedForApp()===true){o.setProperty("iframeReusedForApp",false,true);a.postMessageToIframeApp(o,"sap.ushell.sessionHandler","afterApplicationShow",{},false)}if(e&&n){if(n.getUrl()&&i.isStatefulContainerSupported(i.getStateFul(n.getUrl()))){f=this.handleExitStateful(e,n,l)}else if(t.get(e)){if(r.isBackNavigation()===true&&!l){c=new jQuery.Deferred;this.destroy(e,n,c);f=c.promise()}else{this.store(e)}sap.ui.getCore().getEventBus().publish("sap.ushell","appClosed",n)}else if(n.getIsStateful&&n.getIsStateful()){if(l){f=n.postMessageRequest("sap.gui.triggerCloseSessionImmediately")}}else{u=v.indexOf(n.getApplicationType)>=0;if(this.isAppOfTypeCached(e,u)===false){c=new jQuery.Deferred;this.destroy(e,n,c);f=c.promise()}}if(l===true){if(f===undefined){this.closeKeepAliveApps(B)}else{f.then(function(){p.closeKeepAliveApps(B)})}}if(e.indexOf("Shell-appfinder-component")>0){sap.ui.getCore().getEventBus().publish("sap.ushell","appFinderAfterNavigate")}}sap.ui.getCore().getEventBus().publish("relatedServices","resetBackNavigation");if(f===undefined){f=(new jQuery.Deferred).resolve().promise()}return f};function B(e){return e.value.keepAliveMode===P.RESTRICTED}this.closeKeepAliveApps=function(e,i){try{var n=this,a=[];t.forEach(function(t){if(e.apply(this,[t])===true){a.push(t.value)}});a.forEach(function(e){var t;if(i){t=new jQuery.Deferred;i.push(t.promise())}n.destroy(e.appId,e.container,t)})}catch(e){d.error("Error: sap.ushell.services.appLifeCycle.closeOtherKeepAliveRestrictedApps:"+e)}};this.onBeforeNavigate=function(e,n,r,s){if(e&&n){if(n.getUrl()&&(i.isStatefulContainerSupported(i.getStateFul(n.getUrl()))||t.get(e)||n.getIsStateful&&n.getIsStateful())){a.postMessageToIframeApp(n,"sap.ushell.sessionHandler","beforeApplicationHide",{},false)}}};this.onAfterNavigate=function(e,i,n,r){var s=n.indexOf("Shell-appfinder-component")>0||n.indexOf("Shell-home-component")>0||n.indexOf("pages-component-container")>0||n.indexOf("homeApp-component-container")>0||n.indexOf("workPageRuntime-component-container")>0||n.indexOf("runtimeSwitcher-component-container")>0;this.handleExitApplication(e,i,n,r,s);if(s===true){a.setActiveAppContainer(undefined)}if(n){if(t.get(n)){this.restore(n)}else{}}};this.storeApp=function(e,n,a,r,o){if(!this.isAppInCache(e)){if(n.setProperty){n.setProperty("isKeepAlive",true,true)}t.set(e,{service:{},shellHash:r,appId:e,stt:"loading",appRelatedElements:s.getAppRelatedElement(),container:n,meta:l.getMetadata(a),app:undefined,keepAliveMode:o&&(o.globalValue||o.paramValue),appTarget:a,ui5ComponentName:a&&a.ui5ComponentName,enableRouterRetrigger:true,stateStored:false});I[r]=e;i.setStorageKey(n,e);return true}return false};this.restoreApp=function(e){if(this.isAppInCache(e)){T=t.get(e);if(i.getStorageKey(T.container)){i.setStorageKey(T.container,e)}}};this.isAppOfTypeCached=function(e,t,i){var n;if(!b&&e.indexOf(A)!==-1){return true}if(!b&&e.indexOf("Shell-appfinder")!==-1){return true}n=new h(window.location.href).get("sap-keep-alive");if(n===P.FULL||n===P.RESTRICTED){if(i){i.globalValue=n}return true}return false};this.isCachedEnabledAsAppParameter=function(e,t,i){var n;n=e&&e.params&&e.params["sap-keep-alive"];if(n===P.FULL||n===P.RESTRICTED){if(i){i.paramValue=n}return true}if(t&&t.url){n=new h(t.url).get("sap-keep-alive");if(n===P.FULL||n===P.RESTRICTED){if(i){i.paramValue=n}return true}}return false};this.calculateAppType=function(e){if(e.applicationType==="URL"&&e.additionalInformation&&e.additionalInformation.startsWith("SAPUI5.Component=")){return"SAPUI5"}return e.applicationType};this.getStatefulCapabilities=function(e){if(e.appCapabilities&&e.appCapabilities&&e.appCapabilities.statefulContainer){return e.appCapabilities.statefulContainer}return undefined};this.isNotifyInnerAppRouteChangeEnabled=function(e){if(e.appCapabilities&&e.appCapabilities.notifyInnerAppRouteChange){return true}return false};this.isStatefulCapabilityEnabled=function(e){var t=this.getStatefulCapabilities(e);if(t&&(t.enabled===true||t===true)){return true}return false};this.isGUICapabilityEnabled=function(e){var t=this.getStatefulCapabilities(e);if(t&&t.protocol==="GUI"){return true}return false};this.isFLPCapabilityEnabled=function(e){return!this.isGUICapabilityEnabled(e)&&this.isStatefulCapabilityEnabled(e)};this.isGUIStatefulCapabilityEnabled=function(e){return this.isGUICapabilityEnabled(e)&&this.isStatefulCapabilityEnabled(e)};this.openApp=function(e,t,n,a){var r,s,o=v.indexOf(t.applicationType)>=0,p,u,f={globalValue:undefined,paramValue:undefined};var c="application"+e;r=i.getStateFul(t.url);if(r&&i.isStatefulContainerSupported(r)){if(this.isAppOfTypeCached(c,o,f)||this.isCachedEnabledAsAppParameter(n,t,f)){if(!this.isAppInCache(c)){this.storeApp(c,r,t,a,f)}this.restoreApp(c)}else{T={appId:c,stt:"loading",container:r,meta:l.getMetadata(t),app:undefined}}}else if(this.isAppOfTypeCached(c,o,f)||this.isCachedEnabledAsAppParameter(n,t,f)){if(!this.isAppInCache(c)){s=n.semanticObject+"-"+n.action;p=i.getById("application-"+s)||this.getControl(s);if(p){u=p.getUrl();i.removeCapabilities(p);this.destroy("application-"+s,p);i.deleteStateFul(u)}r=this.createApplicationContainer(e,t);this.storeApp(c,r,t,a,f);i.set(t.url,r)}this.restoreApp(c)}else if(t.applicationType==="TR"||t.appCapabilities&&t.appCapabilities.appFrameworkId==="GUI"){r=this.getWebGuiV1StatefulContainer(t.url);if(n){s=n.semanticObject+"-"+n.action;p=i.getById("application-"+s)||this.getControl(s);if(p&&(!r||p!==r)){u=p.getUrl();i.removeCapabilities(p);this.destroy("application-"+s,p);i.deleteStateFul(u);this.removeWebGuiV1StatefulContainer(u)}}if(!r){r=this.createApplicationContainer(e,t);i.set(t.url,r)}T={appId:c,stt:"loading",container:r,meta:l.getMetadata(t),app:undefined}}else{if(r){s=n.semanticObject+"-"+n.action;this.removeApplication(s)}else if(t.applicationType==="URL"||t.applicationType==="TR"||t.applicationType==="NWBC"){s=n.semanticObject+"-"+n.action;p=i.getById("application-"+s)||this.getControl(s);if(p){u=p.getUrl();i.removeCapabilities(p);this.destroy("application-"+s,p);i.deleteStateFul(u)}}r=this.createApplicationContainer(e,t);i.set(t.url,r);if(i.isCapUT(r,"isFLP")){i.setCapabilities(r,[{service:"sap.ushell.services.appLifeCycle",action:"create"},{service:"sap.ushell.services.appLifeCycle",action:"destroy"}])}T={appId:c,stt:"loading",container:r,meta:l.getMetadata(t),app:undefined}}};this.getAppMeta=function(){return o};this.evict=function(e){var t,n=e.value,a=e.key;this.removeControl(a);if(n.container.getUrl&&n.container.getUrl()){t=i.getStateFul(n.container.getUrl())}if(t){var r=i.getHandler();r.destroy(t,a)}else{n.container.destroy()}};this.addEvents=function(){var e=false;return function(){if(!e){e=true;var i=this;g.on("disableKeepAliveRestoreRouterRetrigger").do(function(e){var i=e.intent.semanticObject+"-"+e.intent.action;var n="application-"+i;if(t.get(n)){t.get(n).enableRouterRetrigger=e.disable}});g.on("setApplicationFullWidth").do(function(e){i.setApplicationFullWidth(e.bValue)})}}}();this.init=function(e,a,r,l,p,f,c){var h=this,g;if(u.system.phone){g=10;if(c&&c.limit&&c.limit.phone){g=c.limit.phone}}else if(u.system.tablet){g=10;if(c&&c.limit&&c.limit.tablet){g=c.limit.tablet}}else if(u.system.desktop){g=15;if(c&&c.limit&&c.limit.desktop){g=c.limit.desktop}}else{g=10}y=new n({scopeObject:p.ownerComponent,scopeType:"component"});S=e;m=a;A=r;o.init(A);b=l;i.init({oShellUIService:y},c,this);t.init(g,function(e){this.evict(e)}.bind(this));this.registerShellCommunicationHandler({"sap.ushell.services.appLifeCycle":{oRequestCalls:{create:{isActiveOnly:true,distributionType:["URL"],fnResponseHandler:function(e){e.then(function(e){d.info("sap.ushell.services.appLifeCycle.create:"+e)}).catch(function(e){d.error("Error: sap.ushell.services.appLifeCycle.create:"+e)})}},destroy:{isActiveOnly:true,distributionType:["URL"],fnResponseHandler:function(e){e.then(function(e){d.info("sap.ushell.services.appLifeCycle.destroy:"+e)}).catch(function(e){d.error("Error: sap.ushell.services.appLifeCycle.destroy:"+e)})}},store:{isActiveOnly:true,distributionType:["URL"],fnResponseHandler:function(e){e.then(function(e){d.info("sap.ushell.services.appLifeCycle.store:"+e)}).catch(function(e){d.error("Error: sap.ushell.services.appLifeCycle.store:"+e)})}},restore:{isActiveOnly:true,distributionType:["URL"],fnResponseHandler:function(e){e.then(function(e){d.info("sap.ushell.services.appLifeCycle.restore:"+e)}).catch(function(e){d.error("Error: sap.ushell.services.appLifeCycle.restore:"+e)})}}},oServiceCalls:{subscribe:{executeServiceCallFn:function(e){i.mapCapabilities(e.oContainer,e.oMessageData.body);return(new jQuery.Deferred).resolve({}).promise()}},setup:{executeServiceCallFn:function(e){var t=e.oMessageData&&e.oMessageData.body,n=[],a=e.oContainer.getApplicationType(),r=e.oContainer.getFrameworkId(),s=false;if(t){if(e.oContainer.getIsKeepAlive()===true&&(a==="GUI"||a==="TR"||a==="NWBC"||a==="WDA"||a==="WCF"||r==="GUI"||r==="WDA"||r==="NWBC"||r==="WCF")){s=true}if(t.isStateful===true&&!s){n.push({action:"create",service:"sap.ushell.services.appLifeCycle"});n.push({action:"destroy",service:"sap.ushell.services.appLifeCycle"})}if(t.isIframeValid===true){n.push({action:"iframeIsValid",service:"sap.ushell.appRuntime"})}if(t.isIframeBusy===true){n.push({action:"iframeIsBusy",service:"sap.ushell.appRuntime"})}if(t.session&&t.session.bLogoutSupport===true){n.push({action:"logout",service:"sap.ushell.sessionHandler"})}if(n.length>0){i.mapCapabilities(e.oContainer,n)}}return(new jQuery.Deferred).resolve().promise()}}}},"sap.gui":{oServiceCalls:{loadFinished:{executeServiceCallFn:function(e){var t=e.oContainer.getApplicationType(),i=e.oContainer.getFrameworkId();if((t==="GUI"||t==="TR"||t==="NWBC"||i==="GUI"||i==="NWBC")&&e.oContainer.getIsKeepAlive()===false){h.setWebGuiV1StatefulContainer(e.oContainer);e.oContainer.setIsStateful(true);T={appId:e.oContainer.getId(),stt:"loading",container:e.oContainer,meta:undefined,app:undefined}}return(new jQuery.Deferred).resolve({}).promise()}}}}});sap.ui.getCore().getEventBus().subscribe("sap.ushell","appComponentLoaded",this.onComponentCreated,this);sap.ui.getCore().getEventBus().subscribe("sap.ushell","getAppLifeCycle",this.onGetMe,this);s.init(this.getElementsModel(),f);this.addEvents()};this.addControl=function(e){m.addCenterViewPort(e)};this.removeControl=function(e){var t=i.getById(e),n=i.isStatefulContainerSupported(t);if(!n){m.removeCenterViewPort(e,true)}};this.removeApplication=function(e){var t=this.getControl(e);if(t){this.removeControl(t.getId());t.destroy()}};this.getControl=function(e){return m&&(m.getViewPortControl("centerViewPort","application-"+e)||m.getViewPortControl("centerViewPort","applicationShellPage-"+e))};this.getViewPortContainer=function(){return m};this.navTo=function(e){m.navTo("centerViewPort",e,"show")};this.getCurrentApplication=function(){return T};this.setApplicationFullWidth=function(e){var t=this.getCurrentApplication();if(t.container){t.container.toggleStyleClass("sapUShellApplicationContainerLimitedWidth",!e)}};this.createComponent=function(e,t){function i(t){return t.value.ui5ComponentName===e.ui5ComponentName}var n=[],r=new jQuery.Deferred;this.shellElements().setDangling(true);this.closeKeepAliveApps(i,n);Promise.all(n).then(function(){a.createComponent(e,t).done(r.resolve).fail(r.reject)});return r.promise()};this.getAppContainer=function(e,t,i,n,a){t.shellUIService=y.getInterface();t.targetNavigationMode=i?"explace":"inplace";this.openApp(e,t,n,a);if(U.length>0){T.container.registerShellCommunicationHandler(U)}if(w.UI5APP){T.container.setIframeHandlers(w.UI5APP)}return T.container};this.getShellUIService=function(){return y};this.initShellUIService=function(e){y._attachHierarchyChanged(o.onHierarchyChange.bind(this));y._attachTitleChanged(o.onTitleChange.bind(this));y._attachRelatedAppsChanged(o.onRelatedAppsChange.bind(this));y._attachBackNavigationChanged(e.fnOnBackNavigationChange.bind(this))};this.getElementsModel=function(){return e};this.activeContainer=function(e){var t=this.getWebGuiV1AllApplicationContainers();t.forEach(function(e){d.info("Deactivating container "+e.getId());e.setActive(false)});i.forEach(function(t){if(t&&t!==e){try{d.info("Deactivating container "+t.getId());t.setActive(false)}catch(e){}}});if(e){d.info("Activating container "+e.getId());e.setActive(true)}};this.showApplicationContainer=function(e){this.navTo(e.getId());if(e.hasStyleClass("sapUShellApplicationContainerShiftedIframe")){e.toggleStyleClass("sapUShellApplicationContainerIframeHidden",false)}else{e.toggleStyleClass("hidden",false)}a.setActiveAppContainer(e);d.info("New application context opened successfully in an existing transaction UI session.")};this.reuseStateFulContainerAndRestore=function(e,t,n,a,r){var s=this,o=I[a];if(i.getStorageKey(e)){i.setStorageKey(e,o)}return n.restore(e,o,r).then(function(){s.showApplicationContainer(e)},function(e){d.error(e&&e.message||e)})};this.reuseStateFulContainer=function(e,t,n,a,r,s){var o=this;I[r]=n;if(i.getStorageKey(e)){i.setStorageKey(e,n)}this.initAppMetaParams();return a.create(e,t,n,s).then(function(){o.showApplicationContainer(e)},function(e){d.error(e&&e.message||e)})};this.initAppMetaParams=function(){if(!this.getAppMeta().getIsHierarchyChanged()){y.setHierarchy()}if(!this.getAppMeta().getIsTitleChanged()){y.setTitle()}if(!this.getAppMeta().getIsRelatedAppsChanged()){y.setRelatedApps()}if(!F){y.setBackNavigation()}};this.reuseApplicationContainer=function(e,t,i){var n=this;e.setProperty("iframeReusedForApp",true,true);return e.setNewApplicationContext(t,i).then(function(){n.navTo(e.getId());if(e.hasStyleClass("sapUShellApplicationContainerShiftedIframe")){e.toggleStyleClass("sapUShellApplicationContainerIframeHidden",false)}else{e.toggleStyleClass("hidden",false)}d.info("New application context opened successfully in an existing transaction UI session.")},function(e){d.error(e&&e.message||e)})};this.createApplicationContainer=function(e,t){return a.createApplicationContainer(e,t)};this.publishNavigationStateEvents=function(e,t,i){var n,a=e.getId?e.getId():"",r=this;var s=l.getMetadata(),o=s.icon,p=s.title;e.addEventDelegate({onAfterRendering:i});n=e.exit;e.exit=function(){if(n){n.apply(this,arguments)}r.getAppMeta()._applyContentDensityByPriority();setTimeout(function(){var e=jQuery.extend(true,{},t);delete e.componentHandle;e.appId=a;e.usageIcon=o;e.usageTitle=p;sap.ui.getCore().getEventBus().publish("sap.ushell","appClosed",e);d.info("app was closed")},0);var e=r._publicEventDataFromResolutionResult(t);sap.ushell.renderers.fiori2.utils.publishExternalEvent("appClosed",e)}};this._publicEventDataFromResolutionResult=function(e){var t={};if(!e){return e}["applicationType","ui5ComponentName","url","additionalInformation","text"].forEach(function(i){t[i]=e[i]});Object.freeze(t);return t};this.getInMemoryInstance=function(e,i,n,a){var r="application-"+e,s=t.get(r),o="",l=false,p;if(s){if(a!==null&&a!==undefined&&a!==""){o=a.toLowerCase();l=o.indexOf("shell-home")>=0||o.indexOf("launchpad-openflppage")>=0||o.indexOf("launchpad-openworkpage")>=0||o.indexOf("shell-appfinder")>=0}p=l&&(typeof n==="string"&&n.length>0);if(s.shellHash===i&&!p){return{isInstanceSupported:true,appId:s.appId,container:s.container}}return{isInstanceSupported:false,appId:s.appId,container:s.container}}return{isInstanceSupported:false,appId:undefined,container:undefined}};this.handleOpenStateful=function(e,n,a,r,s,o,l){var p=i.getHandler(),u;r.setProperty("iframeReusedForApp",true,true);if(t.get(a)&&e===false){u=this.reuseStateFulContainerAndRestore(r,a,p,o,s)}else{u=this.reuseStateFulContainer(r,s.url,a,p,o,s);if(n){if(!this.isAppInCache(a)){this.storeApp(a,r,s,o,l)}}}return u};this.handleControl=function(e,n,a,s,o,u,f){var h=this,g,A,y=v.indexOf(s.applicationType)>=0,S="application-"+e,I,b,E,R=false,U,w,F,P=new jQuery.Deferred,B,O,x,L,M,W=(new jQuery.Deferred).resolve().promise(),D={globalValue:undefined,paramValue:undefined},H,V,N,k;M=i.getStateFul(s.url);if(M&&i.isStatefulContainerSupported(M)){H=(new Date).getTime()-M.getIsIframeValidTime().time;if(i.isIframeBusySupported(M)&&M.getIsIframeBusy()===true||i.isIframeIsValidSupported(M)&&H>=3500){d.warning("Destroying statefull container iframe due to unresponsiveness ("+M.getId()+")","reason: "+(M.getIsIframeBusy()===true?"iframe is still creating a different app":"no ping from the iframe in the last '"+H+"' ms"),"sap.ushell.components.applicationIntegration.AppLifeCycle");i.removeCapabilities(M);this.destroy(S,M);i.deleteStateFul(s.url);M=undefined;f=undefined}}if(typeof f==="string"){V=C.parseShellHash(f);if(V){N="application-"+V.semanticObject+"-"+V.action;L=t.get(N)}if(L){x=L.container}else{k=m.getCurrentCenterPage?m.getCurrentCenterPage():undefined;if(k){x=sap.ui.getCore().byId(k)}}}A=x?i.isStatefulContainerSupported(x):false;if(x&&x===M&&A){if(L){r.store(L.service)}W=this.handleExitApplication(N,x,undefined,undefined,false)}W.then(function(){b=h.isAppOfTypeCached(S,y,D)||h.isCachedEnabledAsAppParameter(a,s,D);E=h.calculateAppType(s);U=c.getDefaultFullWidthSetting(E);g=i.getStateFul(s.url);A=i.isStatefulContainerSupported(g);if(!A){if(T&&S!==T.appId){g=undefined}I=t.get("application"+n);if(I){g=I.container;if(!A&&b&&g!==undefined){w=true}}}var r,f;r=s.appCapabilities&&s.appCapabilities.fullWidth;O=l.getMetadata(s);if(U===true){if(s.fullWidth===false||s.fullWidth==="false"||O.fullWidth===false||O.fullWidth==="false"||r===false){f=false}}else if(s.fullWidth===true||s.fullWidth==="true"||O.fullWidth===true||O.fullWidth==="true"){f=true}if(f===undefined){f=U}if(A){if(!g){g=o(e,O,a,s,n,f,u);h.restoreApp(g.getId());h.navTo(g.getId());R=true}}else if(!h.isWebGuiV1StatefulContainer(s.url)&&g&&!b){F=new jQuery.Deferred;h.destroy(g.getId(),g,F);F.then(function(){g=o(e,O,a,s,n,f,u)})}else if(!g){g=o(e,O,a,s,n,f,u)}if(F===undefined){F=(new jQuery.Deferred).resolve()}if(g&&g.getDeffedControlCreation){B=g.getDeffedControlCreation()}else{B=Promise.resolve()}F.then(function(){B.then(function(){if(!h.isWebGuiV1StatefulContainer(s.url)&&!A){if(w===true){sap.ui.getCore().getEventBus().publish("launchpad","appOpening",s)}h.restoreApp(g.getId());h.navTo(g.getId());if(w===true){h.initAppMetaParams();sap.ui.getCore().getEventBus().publish("sap.ushell","appOpened",s)}}var e=(new jQuery.Deferred).resolve().promise();if(A){e=h.handleOpenStateful(R,b,"application"+n,g,s,u,D)}else if(h.isWebGuiV1StatefulContainer(s.url)){e=h.reuseApplicationContainer(g,"TR",s.url)}e.then(function(){m.switchState("Center");p.setPerformanceMark("FLP -- centerViewPort");h.activeContainer(g);P.resolve()})})})});return P.promise()};this.switchViewState=function(i,n,a){var r=i,o;if(E[i]&&E[i][S]){r=E[i][S]}var l=f.last("/core/shell/model/currentState/stateName")==="home";if(!l&&(!T.appId||!t.get(T.appId))){e.destroyManageQueue()}o=t.get("application"+a);if(o){s.restore(o)}else{s.assignNew(i)}e.switchState(r,n,a);this.shellElements().setDangling(false);this.shellElements().processDangling();if(i==="searchResults"){this.getElementsModel().setProperty("/lastSearchScreen","");if(!window.hasher.getHash().indexOf("Action-search")===0){var p=sap.ui.getCore().getModel("searchModel");window.hasher.setHash("Action-search&/searchTerm="+p.getProperty("/uiFilter/searchTerms")+"&dataSource="+JSON.stringify(p.getProperty("/uiFilter/dataSource").getJson()))}}};this.registerShellCommunicationHandler=function(e){a.registerShellCommunicationHandler(e)};this.registerIframeCommunicationHandler=function(e,t){w[t]=e};this.postMessageToIframeApp=function(e,t,n,r){function s(i){if(e==="sap.ushell.sessionHandler"&&t==="logout"){if(i&&i.getApplicationType&&",WCF,GUI,TR,WDA,".indexOf(i.getApplicationType())>0){return false}}return true}var o,l=a.getActiveAppContainer(),p=false,u=[];if(i.hasIFrame(l)&&(i.isCapabilitySupported(l,e,t)||a.isAppTypeSupported(l,e,t))&&s(l)===true){u.push(a.postMessageToIframeApp(l,e,t,n,r));p=true}if(!a.isActiveOnly(e,t)){i.forEach(function(o){if(p===true&&o===l){return}if(i.hasIFrame(o)){if((i.isCapabilitySupported(o,e,t)||a.isAppTypeSupported(o,e,t))&&s(o)===true){u.push(a.postMessageToIframeApp(o,e,t,n,r))}}})}o=a.getResponseHandler(e,t);var f=Promise.all(u);if(o){o(f)}return f};this.postMessageToIframeAppAccordingToPolicy=function(e,t,n,r,s){var o,l=a.getActiveAppContainer(),p=[];if(i.hasIFrame(l)&&a.isAppTypeSupportedByPolicy(l,s)){p.push(a.postMessageToIframeApp(l,e,t,n,r))}if(!s.isActiveOnly){i.forEach(function(s){if(i.hasIFrame(s)){if(i.isCapabilitySupported(s,e,t)||a.isAppTypeSupported(s,e,t)){p.push(a.postMessageToIframeApp(s,e,t,n,r))}}})}o=a.getResponseHandler(e,t);var u=Promise.all(p);if(o){o(u)}return u};this.setBackNavigationChanged=function(e){F=e};this.getBackNavigationChanged=function(){return F};this.parseStatefulContainerConfiguration=function(){R={}};this.isWebGuiV1StatefulContainer=function(e){var t;if(e){t=i._getBlueBoxCacheKey(e);return R[t]!==undefined}else{return false}};this.getWebGuiV1StatefulContainer=function(e){var t;if(e){t=i._getBlueBoxCacheKey(e);return R[t]}else{return undefined}};this.setWebGuiV1StatefulContainer=function(e){var t=e.getUrl(),n;if(t){n=i._getBlueBoxCacheKey(t);R[n]=e}};this.removeWebGuiV1StatefulContainer=function(e){var t=e.getUrl(),n;if(t){n=i._getBlueBoxCacheKey(t);delete R[n]}};this.getWebGuiV1AllApplicationContainers=function(){return Object.keys(R).map(function(e){return R[e]}).filter(function(e){return!!e})}}return new m},true);
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/applicationIntegration/Storage", [],function(){"use strict";function t(){var t,e;function i(t){this.size=0;if(typeof t=="number"){this.limit=t}else{this.limit=10}this.map={};this.head=null;this.tail=null}i.prototype.LRUnode=function(t,e){if(typeof t!="undefined"&&t!==null){this.key=t}if(typeof e!="undefined"&&e!==null){this.value=e}this.prev=null;this.next=null};i.prototype.setHead=function(t){t.next=this.head;t.prev=null;if(this.head!==null){this.head.prev=t}this.head=t;if(this.tail===null){this.tail=t}this.size++;this.map[t.key]=t};i.prototype.set=function(t,n){var s=new i.prototype.LRUnode(t,n);if(this.map[t]){this.map[t].value=s.value;this.remove(s.key)}else if(this.size>=this.limit){var h=this.map[this.tail.key];delete this.map[this.tail.key];this.size--;this.tail=this.tail.prev;this.tail.next=null;if(e){e(h)}}this.setHead(s)};i.prototype.get=function(t){if(this.map[t]){var e=this.map[t].value;var n=new i.prototype.LRUnode(t,e);this.remove(t);this.setHead(n);return e}else{return null}};i.prototype.remove=function(t){var e=this.map[t];if(e.prev!==null){e.prev.next=e.next}else{this.head=e.next}if(e.next!==null){e.next.prev=e.prev}else{this.tail=e.prev}delete this.map[t];this.size--};i.prototype.removeAll=function(t){this.size=0;this.map={};this.head=null;this.tail=null;if(typeof t=="number"){this.limit=t}};i.prototype.forEach=function(t){var e=this.head,i=0;while(e){t.apply(this,[e,i,this]);i++;e=e.next}};i.prototype.toJSON=function(){var t=[],e=this.head;while(e){t.push({key:e.key,value:e.value});e=e.next}return t};i.prototype.toString=function(){var t="",e=this.head;while(e){t+=String(e.key)+":"+e.value;e=e.next;if(e){t+="\n"}}return t};this.init=function(n,s){t=new i(n);e=s};this.get=function(e){return t.get(e)};this.set=function(e,i){t.set(e,i)};this.remove=function(e){t.remove(e)};this.forEach=function(e){t.forEach(e)};this.length=function(){return t.size}}return new t},true);
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/applicationIntegration/application/Application", ["sap/ushell/components/container/ApplicationContainer","sap/ushell/components/applicationIntegration/application/PostMessageAPI","sap/ushell/utils","sap/ui/thirdparty/jquery","sap/ui/thirdparty/URI","sap/ushell/UI5ComponentType","sap/base/Log","sap/base/util/ObjectPath"],function(e,t,r,jQuery,i,n,a,s){"use strict";var o,p,l=e.getMetadata().getJSONKeys();function u(){var i=this;this.handleMessageEvent=function(t,n,s){var o=n.data;if(typeof o==="string"){try{o=JSON.parse(n.data)}catch(e){a.debug("Message received from origin '"+n.origin+"' cannot be parsed: "+e,o,"sap.ushell.components.container.ApplicationContainer");return}}if(o.action==="pro54_setGlobalDirty"&&localStorage.getItem(t.globalDirtyStorageKey)===sap.ushell.Container.DirtyState.PENDING){if(!e.prototype._isTrustedPostMessageSource(t,n)){a.warning("Received message from untrusted origin: "+n.origin,o,"sap.ushell.components.container.ApplicationContainer");return}a.debug("getGlobalDirty() pro54_setGlobalDirty SetItem key:"+t.globalDirtyStorageKey+" value: "+o.parameters.globalDirty,null,"sap.ushell.components.container.ApplicationContainer");r.localStorageSetItem(t.globalDirtyStorageKey,o.parameters.globalDirty,true)}else{i.handleServiceMessageEvent(t,n,o,s)}};this.handleServiceMessageEvent=function(i,n,o,p){var l=s.get("sap-ushell-config.services.PostMessage.config")||s.create("sap-ushell-config.services.PostMessage.config"),u=o&&o.service,c,g,f,d,v=false,h=t.getAPIs(),y;a.debug("Received post message request from origin '"+n.origin+"': "+JSON.stringify(o),null,"sap.ushell.components.container.ApplicationContainer");if(o.type!=="request"||!u){return}for(var m in h){if(h.hasOwnProperty(m)){if(u.indexOf(m)!==-1){g=h[m];f=m;v=true;break}}}if(v===false){if(p.bPluginsStatusChecked===false||p.bKeepMessagesForPlugins===true){p.bApiRegistered=false}else{S("error",{code:-1,message:"Unknown service name: '"+o.service+"'"})}return}y=u.indexOf("user.postapi.")===0;c=u.split(".")[3];if(l&&l.enabled===false){a.warning("Received message for "+c+", but this "+"feature is disabled. It can be enabled via launchpad configuration "+"property 'services.PostMessage.config.enabled: true'",undefined,"sap.ushell.components.container.ApplicationContainer");return}if(!e.prototype._isTrustedPostMessageSource(i,n)){a.warning("Received message from untrusted origin '"+n.origin+"': "+JSON.stringify(n.data),null,"sap.ushell.components.container.ApplicationContainer");return}function b(e,t){var r;if(t===true){r={oMessage:n,oMessageData:o}}else{r={matchesLocalSid:I,getLocalSystemInSidForma:R,storeSapSystemData:C,executeSetBackNavigationService:A,sendResponseMessage:S,oMessage:n,oMessageData:o,oContainer:i}}try{e(r).done(function(e){S("success",{result:e})}).fail(function(e){S("error",{message:e})})}catch(e){S("error",{message:e.message})}}function S(e,t){var r=JSON.stringify({type:"response",service:o.service,request_id:o.request_id,status:e,body:t});a.debug("Sending post message response to origin ' "+n.origin+"': "+r,null,"sap.ushell.components.container.ApplicationContainer");if(typeof n.source!=="object"||n.source===null){a.debug("Cannot send response message to origin ' "+n.origin,"`source` member of request message is not an object","sap.ushell.components.container.ApplicationContainer");return}n.source.postMessage(r,n.origin)}function A(t,r){var n=new jQuery.Deferred,a;if(r.body&&r.body.callbackMessage&&r.body.callbackMessage.service){a=e.prototype._backButtonPressedCallback.bind(null,t.source,r.body.callbackMessage.service,t.origin)}n.resolve(i.getShellUIService().setBackNavigation(a));return n.promise()}function C(e,t){var i,n,s,o=[e.id];if(arguments.length>1){o.unshift(t)}try{s=JSON.stringify(e)}catch(e){a.error("Cannot stringify and store expanded system data: "+e)}if(s){n=r.getLocalStorage();i=r.generateLocalStorageKey("sap-system-data",o);n.setItem(i,s)}}function R(){var e=sap.ushell.Container.getLogonSystem();var t=e.getName();var r=e.getClient();return"sid("+t+"."+r+")"}function I(e){return R().toLowerCase()===e.toLowerCase()}d=g.oServiceCalls[o.service.replace(f+".","")];if(d&&d.executeServiceCallFn){b(d.executeServiceCallFn,y)}else{S("error",{code:-1,message:"Unknown service name: '"+o.service+"'"})}};this.init=function(e){p=e};this.restoreArray=function(e){var t=[],r=0;while(e[r]){t.push(e[r]);r++}return t};this._createWaitForRendererCreatedPromise=function(){var e,t;t=sap.ushell.Container.getRenderer();if(t){a.debug("Shell controller._createWaitForRendererCreatedPromise: shell renderer already created, return empty array.");return[]}e=new Promise(function(e,r){var i;i=function(){a.info("Shell controller: resolving component waitFor promise after shell renderer created event fired.");e();sap.ushell.Container.detachRendererCreatedEvent(i)};t=sap.ushell.Container.getRenderer();if(t){a.debug("Shell controller: resolving component waitFor promise immediately (shell renderer already created");e()}else{sap.ushell.Container.attachRendererCreatedEvent(i)}});return[e]};this.createComponent=function(e,t){var r=this,i=new jQuery.Deferred;sap.ushell.Container.getServiceAsync("Ui5ComponentLoader").then(function(a){a.createComponent(e,t,r._createWaitForRendererCreatedPromise(),n.Application).then(i.resolve,i.reject)});return i.promise()};this.stripURL=function(e){var t=e.indexOf("?"),r=e.indexOf("#"),i;if(t>=0){i=e.substr(0,t)}else if(r>=0){i=e.substr(0,r)}else{i=e}return i};this.createApplicationContainer=function(t,r){var i={};this._cleanTargetResolution(r,i);o=new e("application"+t,r);this._restoreTargetResolution(r,i);if(r.appCapabilities){o.setProperty("frameworkId",r.appCapabilities.appFrameworkId,true)}o.setHandleMessageEvent(this.handleMessageEvent);p.setAppCapabilities(o,r);return o};this.active=function(e){if(e){if(e.active){e.active()}}};this.restore=function(e){var t;if(e.container&&e.container._getIFrame&&e.container._getIFrame()!=undefined){this.postMessageToIframeApp(e.container,"sap.ushell.appRuntime","keepAliveAppShow",{},false)}if(e.app){sap.ui.getCore().getEventBus().publish("sap.ushell","appKeepAliveActivate",e.appTarget);if(e.app.getUrl){t=e.app.getUrl();o=p.get(this.stripURL(t));if(o){p.restoreApp(o.sApplication)}}if(e.app.isKeepAliveSupported&&e.app.isKeepAliveSupported()===true){e.app.activate()}else{if(e.app.restore){e.app.restore()}if(e.app.getRouter&&e.app.getRouter()&&e.app.getRouter().initialize){if(e.enableRouterRetrigger===false){e.app.getRouter().initialize()}else{e.app.getRouter().initialize(true)}}if(e.app.setInitialConfiguration){e.app.setInitialConfiguration()}}o=e.app}};this.store=function(e){var t;if(e.container&&e.container._getIFrame&&e.container._getIFrame()!=undefined){this.postMessageToIframeApp(e.container,"sap.ushell.appRuntime","keepAliveAppHide",{},false)}if(e.app){sap.ui.getCore().getEventBus().publish("sap.ushell","appKeepAliveDeactivate",e.appTarget);if(e.app.getUrl){t=e.app.getUrl();o=p.get(this.stripURL(t));if(o){p.storeApp(o.sApplication)}}if(e.app.isKeepAliveSupported&&e.app.isKeepAliveSupported()===true){e.app.deactivate()}else{if(e.app.suspend){e.app.suspend()}if(e.app.getRouter&&e.app.getRouter()){e.app.getRouter().stop()}}}};this.destroy=function(e){var t,r,i=false;if(e){if(e.getUrl){t=e.getUrl();r=p.get(this.stripURL(t));if(p.isStatefulContainerSupported(r)){i=true;p.destroyApp(r.sApplication)}}if(e.destroy&&i===false){try{e.destroy()}catch(t){a.error("exception when trying to close sapui5 application with id '"+(e.sId||"<unknown>")+"'. This error must be fixed in order for FLP to operate properly.\n",t.stack,"sap.ushell.components.applicationIntegration.application.Application::destroy")}}}};this.setActiveAppContainer=function(e){o=e};this.getActiveAppContainer=function(){return o}}u.prototype._cleanTargetResolution=function(e,t){var r;if(e){for(r in e){if(l[r]===undefined){t[r]=e[r];delete e[r]}}}};u.prototype._restoreTargetResolution=function(e,t){var r;if(e){for(r in t){e[r]=t[r]}}};u.prototype.getResponseHandler=function(e,r){return t.getResponseHandler(e,r)};u.prototype.isActiveOnly=function(e,r){return t.isActiveOnly(e,r)};u.prototype.isAppTypeSupported=function(e,r,i){var n=t._getPostMesageInterface(r,i);return this.isAppTypeSupportedByPolicy(e,n)};u.prototype.isAppTypeSupportedByPolicy=function(e,t){if(e&&e.getAdditionalInformation&&e.getAdditionalInformation().startsWith("SAPUI5.Component=")){return false}var r=t;if(!r||!r.distributionType){return false}if(r.distributionType.indexOf("all")>=0){return true}if(r.distributionType.indexOf("URL")>=0){return false}if(e.getApplicationType&&r.distributionType.indexOf(e.getApplicationType())>=0){return true}return false};u.prototype.postMessageToIframeApp=function(e,t,r,i,n){var a=t+"."+r,s=this.createPostMessageRequest(a,i);return this.postMessageToIframe(s,e,n)};u.prototype.createPostMessageRequest=function(e,t){var r=Date.now().toString();return{type:"request",request_id:r,service:e,body:t}};u.prototype.postMessageToIframe=function(e,t,r){var n=e.request_id,s=t._getIFrame();return new Promise(function(o,p){function l(t){var r;try{if(typeof t.data==="string"&&t.data.indexOf("{")===0){try{r=JSON.parse(t.data)}catch(e){r={}}}else{return}if(!r.request_id||n!==r.request_id){return}if(r.status==="success"){o(r)}else{p(r)}window.removeEventListener("message",l)}catch(r){o();a.warning("Obtained bad response from framework in response to message "+e.request_id);a.debug("Underlying framework returned invalid response data: '"+t.data+"'")}}var u=JSON.stringify(e);a.debug("Sending postMessage "+u+" to application container '"+t.getId()+"'");var c,g;if(!s){o()}else if(r){window.addEventListener("message",l,false);c=new i(t._getIFrameUrl(s));g=c.protocol()+"://"+c.host();s.contentWindow.postMessage(u,g)}else{c=new i(t._getIFrameUrl(s));g=c.protocol()+"://"+c.host();s.contentWindow.postMessage(u,g);o()}})};u.prototype.registerShellCommunicationHandler=function(e){t.registerShellCommunicationHandler(e)};u.prototype._getPostMesageInterface=function(e,r){return t._getPostMesageInterface(e,r)};return new u},true);
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/applicationIntegration/application/BlueBoxHandler", ["sap/ushell/components/applicationIntegration/application/BlueBoxesCache","sap/ushell/components/applicationIntegration/application/Application","sap/ushell/components/container/ApplicationContainer","sap/ui/thirdparty/URI","sap/ui/thirdparty/jquery","sap/base/Log","sap/base/util/UriParameters","sap/base/security/encodeXML"],function(e,t,i,s,jQuery,a,p,r){"use strict";function n(){var s=this,a,p={isStateful:{handler:function(e,t){if(e&&(e.enabled===true||e===true)){return true}return false}},isGUI:{handler:function(e,t){if(e&&e.protocol==="GUI"){return true}return false}},isGUIStateful:{handler:function(e,t){return s.isCapUT(t,"isGUI")&&s.isCapUT(t,"isStateful")}},isFLP:{handler:function(e,t){return!s.isCapUT(t,"isGUI")&&s.isCapUT(t,"isStateful")}}},r={},n={},u={setup:function(e,t){},create:function(e,s,a,p){var n=new jQuery.Deferred,u,o;function l(){if(u){u["sap-flp-url"]=sap.ushell.Container.getFLPUrl(true);u["system-alias"]=e.getSystemAlias();o["sap-flp-params"]=u}sap.ui.getCore().getEventBus().publish("launchpad","appOpening",p);t.postMessageToIframeApp(e,"sap.ushell.services.appLifeCycle","create",o,true).then(function(){r[e].currentAppTarget=p;sap.ui.getCore().getEventBus().publish("sap.ushell","appOpened",p);n.resolve()})}s=i.prototype._checkNwbcUrlAdjustment(e,p.applicationType,s);o={sCacheId:a,sUrl:s,sHash:window.hasher.getHash()};if(s.indexOf("sap-iframe-hint=GUI")>0||s.indexOf("sap-iframe-hint=WDA")>0){var f=[];var c=i.prototype._getParamKeys(s,f);if(c.length>0){sap.ushell.Container.getServiceAsync("CrossApplicationNavigation").then(function(e){e.getAppStateData(c).then(function(e){u={};f.forEach(function(t,i){if(e[i][0]){u[t]=e[i][0]}});l()},function(){l()})})}else{u={};l()}}else{l()}return n.promise()},destroy:function(e,i){var s;sap.ushell.Container.setAsyncDirtyStateProvider(undefined);s=t.postMessageToIframeApp(e,"sap.ushell.services.appLifeCycle","destroy",{sCacheId:i},true);s.then(function(){sap.ui.getCore().getEventBus().publish("sap.ushell","appClosed",r[e].currentAppTarget);r[e].currentAppTarget=undefined});return s},store:function(e,i){var s;sap.ushell.Container.setAsyncDirtyStateProvider(undefined);s=t.postMessageToIframeApp(e,"sap.ushell.services.appLifeCycle","store",{sCacheId:i},true);s.then(function(){sap.ui.getCore().getEventBus().publish("sap.ushell","appClosed",r[e].currentAppTarget);r[e].currentAppTarget=undefined});return s},restore:function(e,i,s){var a;sap.ui.getCore().getEventBus().publish("launchpad","appOpening",s);a=t.postMessageToIframeApp(e,"sap.ushell.services.appLifeCycle","restore",{sCacheId:i,sUrl:s.url,sHash:window.hasher.getHash()},true);a.then(function(){r[e].currentAppTarget=s;sap.ui.getCore().getEventBus().publish("sap.ushell","appOpened",s)});return a}},o=[{service:"sap.ushell.services.appLifeCycle",action:"create"},{service:"sap.ushell.services.appLifeCycle",action:"destroy"}];this.init=function(i,s,p){e.init();t.init(this);a=p;if(s){n=jQuery.extend(true,n,s.supportedTypes)}};this.isStatefulContainerSupported=function(e){var t=this.isCapabilitySupported(e,"sap.ushell.services.appLifeCycle","create")&&this.isCapabilitySupported(e,"sap.ushell.services.appLifeCycle","destroy");return t};this.isKeepAliveSupported=function(e){var t=this.isCapabilitySupported(e,"sap.ushell.services.appLifeCycle","store")&&this.isCapabilitySupported(e,"sap.ushell.services.appLifeCycle","restore");return t};this.isIframeIsValidSupported=function(e){return this.isCapabilitySupported(e,"sap.ushell.appRuntime","iframeIsValid")};this.isIframeBusySupported=function(e){return this.isCapabilitySupported(e,"sap.ushell.appRuntime","iframeIsBusy")};this.mapCapabilities=function(e,t){this.setCapabilities(e,t)};this.getCapabilities=function(e){return r[e].oCapMap};this.isCapabilitySupported=function(e,t,i){if(r[e]&&r[e].oCapMap&&r[e].oCapMap[t]){return!!r[e].oCapMap[t][i]}return false};this.setCapabilities=function(e,t){var i;if(!r[e]){this.initBlueBoxBD(e)}if(!r[e].oCapMap){r[e].oCapMap={}}i=r[e].oCapMap;Object.keys(t).forEach(function(e){var s=t[e],a;if(!i[s.service]){i[s.service]={}}a=i[s.service];a[s.action]=true});if(!e.getIsStateful()&&this.isStatefulContainerSupported(e)){e.setIsStateful(true)}};this.removeCapabilities=function(e){if(r[e]){r[e].oCapMap={};e.setIsStateful(false)}};this.hasIFrame=function(e){if(e&&e._getIFrame){return true}return false};this.initBlueBoxBD=function(e){r[e]={BlueBox:e}};this.setAppCapabilities=function(e,t){if(!r[e]){this.initBlueBoxBD(e)}r[e].currentAppTarget=t;r[e].appCapabilities=t.appCapabilities;if(t.appCapabilities&&t.appCapabilities.statefulContainer===true){this.setCapabilities(e,o)}};this.forEach=function(e){var t;for(t in r){if(r.hasOwnProperty(t)){e(r[t].BlueBox)}}};this.isCapByTarget=function(e,t){if(e.appCapabilities===undefined){return false}if(p[t]&&e&&e.appCapabilities){return p[t].handler(e.appCapabilities)}return e.appCapabilities[t]||false};this.isCapUT=function(e,t){var i=r[e];if(i===undefined||i.appCapabilities===undefined){return false}if(p[t]&&i){return p[t].handler(i.appCapabilities,e)}return i.appCapabilities[t]||false};this.setStorageKey=function(e,t){if(!r[e]){this.initBlueBoxBD(e)}r[e].sStorageKey=t};this.getStorageKey=function(e){if(!r[e]){return undefined}return r[e].sStorageKey};this.getHandler=function(){return u};this._getBlueBoxCacheKey=function(t){return e.getBlueBoxCacheKey(t)};this.deleteStateFul=function(e){return this.delete(e)};this.getStateFul=function(t){return e.get(t)};this.destroyApp=function(e){a.postMessageToIframeApp("sap.ushell.services.appLifeCycle","destroy",{appId:e})};this.openApp=function(e){a.postMessageToIframeApp("sap.ushell.services.appLifeCycle","create",{appId:e,sHash:window.hasher.getHash()})};this.storeApp=function(e){a.postMessageToIframeApp("sap.ushell.services.appLifeCycle","store",{appId:e,sHash:window.hasher.getHash()})};this.restoreApp=function(e){a.postMessageToIframeApp("sap.ushell.services.appLifeCycle","restore",{appId:e,sHash:window.hasher.getHash()})};this.delete=function(t){e.remove(t)};this.get=function(t){return e.get(t)};this.getById=function(t){return e.getById(t)};this.set=function(t,i){e.add(t,i)}}return new n},true);
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/applicationIntegration/application/BlueBoxesCache", ["sap/ui/thirdparty/URI","sap/base/Log"],function(e,n){"use strict";var i={};function r(){i={}}function t(){return Object.keys(i).length}function a(e,n){var r=d(e);i[r]=n}function u(e){var n=d(e);if(i[n]){delete i[n]}}function f(e){if(e===undefined||t()===0){return undefined}var n=d(e);return n!==undefined?i[n]:undefined}function o(e){for(var n in i){if(i.hasOwnProperty(n)){var r=i[n];if(r.sId===e){return r}}}return undefined}function d(i){var r,t,a,u="",f="",o="",d;if(i===undefined||i===""||i==="../"){return i}try{r=new e(i);if(i.charAt(0)==="/"){t=window.location.origin}else{t=r.origin()}if(t===undefined||t===""){t=r.path();if(t===undefined||t===""){t=i}}a=r.query(true);if(a["sap-iframe-hint"]){u="@"+a["sap-iframe-hint"]}if(a["sap-ui-version"]){f="@"+a["sap-ui-version"]}if((u==="@GUI"||u==="@WDA"||u==="@WCF")&&a["sap-keep-alive"]){o="@"+a["sap-keep-alive"]+"-"+i.split("#")[0]}}catch(e){n.error("URL '"+i+"' can not be parsed: "+e,"sap.ushell.components.applicationIntegration.application.BlueBoxHandler");t=i}d=t+u+f+o;return d}return{init:r,getSize:t,add:a,remove:u,get:f,getById:o,getBlueBoxCacheKey:d}},false);
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/applicationIntegration/application/PostMessageAPI", ["sap/ushell/utils","sap/ui/core/library","sap/ui/thirdparty/jquery","sap/base/Log","sap/ui/core/UIComponent","sap/ushell/services/AppConfiguration","sap/ushell/EventHub","sap/ushell/components/applicationIntegration/application/PostMessageAPIInterface","sap/ui/thirdparty/URI","sap/base/util/deepExtend","sap/ushell/Config","sap/ushell/utils/UrlParsing"],function(e,t,jQuery,r,n,a,o,s,i,l,c,u){"use strict";var p="sap.ushell.";var d=new n;var g={"sap.ushell.services.CrossApplicationNavigation":{oServiceCalls:{hrefForExternal:{executeServiceCallFn:function(e){var t=new jQuery.Deferred;sap.ushell.Container.getServiceAsync("CrossApplicationNavigation").then(function(r){r.hrefForExternalAsync(e.oMessageData.body.oArgs,undefined,true).then(t.resolve,t.reject)});return t.promise()}},getSemanticObjectLinks:{executeServiceCallFn:function(e){var t=new jQuery.Deferred;sap.ushell.Container.getServiceAsync("CrossApplicationNavigation").then(function(r){r.getSemanticObjectLinks(e.oMessageData.body.sSemanticObject,e.oMessageData.body.mParameters,e.oMessageData.body.bIgnoreFormFactors,undefined,undefined,e.oMessageData.body.bCompactIntents).then(t.resolve,t.reject)});return t.promise()}},isIntentSupported:{executeServiceCallFn:function(e){var t=new jQuery.Deferred;sap.ushell.Container.getServiceAsync("CrossApplicationNavigation").then(function(r){r.isIntentSupported(e.oMessageData.body.aIntents).then(t.resolve,t.reject)});return t.promise()}},isNavigationSupported:{executeServiceCallFn:function(e){var t=new jQuery.Deferred;sap.ushell.Container.getServiceAsync("CrossApplicationNavigation").then(function(r){r.isNavigationSupported(e.oMessageData.body.aIntents).then(t.resolve,t.reject)});return t.promise()}},backToPreviousApp:{executeServiceCallFn:function(){sap.ushell.Container.getServiceAsync("CrossApplicationNavigation").then(function(e){e.backToPreviousApp()});return(new jQuery.Deferred).resolve().promise()}},historyBack:{executeServiceCallFn:function(e){sap.ushell.Container.getServiceAsync("CrossApplicationNavigation").then(function(t){t.historyBack(e.oMessageData.body.iSteps)});return(new jQuery.Deferred).resolve().promise()}},getAppStateData:{executeServiceCallFn:function(e){var t=new jQuery.Deferred;sap.ushell.Container.getServiceAsync("CrossApplicationNavigation").then(function(r){r.getAppStateData(e.oMessageData.body.sAppStateKey).then(t.resolve,t.reject)});return t.promise()}},toExternal:{executeServiceCallFn:function(t){var r=new jQuery.Deferred,n=l({},t.oMessageData.body.oArgs);e.storeSapSystemToLocalStorage(n);sap.ushell.Container.getServiceAsync("CrossApplicationNavigation").then(function(e){e.toExternal(n).then(r.resolve,r.reject)});return r.promise()}},registerBeforeAppCloseEvent:{executeServiceCallFn:function(e){e.oContainer.setProperty("beforeAppCloseEvent",{enabled:true,params:e.oMessageData.body},true);return(new jQuery.Deferred).resolve().promise()}},expandCompactHash:{executeServiceCallFn:function(e){var t=new jQuery.Deferred;sap.ushell.Container.getServiceAsync("CrossApplicationNavigation").then(function(r){r.expandCompactHash(e.oMessageData.body.sHashFragment).then(t.resolve,t.reject)});return t.promise()}},getDistinctSemanticObjects:{executeServiceCallFn:function(){var e=new jQuery.Deferred;sap.ushell.Container.getServiceAsync("CrossApplicationNavigation").then(function(t){t.getDistinctSemanticObjects().then(e.resolve,e.reject)});return e.promise()}},getLinks:{executeServiceCallFn:function(e){var t=new jQuery.Deferred;sap.ushell.Container.getServiceAsync("CrossApplicationNavigation").then(function(r){r.getLinks(e.oMessageData.body).then(t.resolve,t.reject)});return t.promise()}},getPrimaryIntent:{executeServiceCallFn:function(e){var t=new jQuery.Deferred;sap.ushell.Container.getServiceAsync("CrossApplicationNavigation").then(function(r){r.getPrimaryIntent(e.oMessageData.body.sSemanticObject,e.oMessageData.body.mParameters).then(t.resolve,t.reject)});return t.promise()}},hrefForAppSpecificHash:{executeServiceCallFn:function(e){var t=new jQuery.Deferred;sap.ushell.Container.getServiceAsync("CrossApplicationNavigation").then(function(r){r.hrefForAppSpecificHashAsync(e.oMessageData.body.sAppHash).then(t.resolve,t.reject)});return t.promise()}},isInitialNavigation:{executeServiceCallFn:function(){var e=new jQuery.Deferred;sap.ushell.Container.getServiceAsync("CrossApplicationNavigation").then(function(t){t.isInitialNavigationAsync().then(function(t){e.resolve(t)})});return e.promise()}},getAppState:{executeServiceCallFn:function(e){var t=new jQuery.Deferred;sap.ushell.Container.getServiceAsync("CrossApplicationNavigation").then(function(r){r.getAppState(d,e.oMessageData.body.sAppStateKey).done(function(e){delete e._oServiceInstance;t.resolve(e)})});return t.promise()}},setInnerAppRoute:{executeServiceCallFn:function(e){var t=u.parseShellHash(window.hasher.getHash()),r;if(t.appSpecificRoute===e.oMessageData.body.appSpecificRoute){return(new jQuery.Deferred).resolve().promise()}t.appSpecificRoute=e.oMessageData.body.appSpecificRoute;r="#"+u.constructShellHash(t);window.hasher.disableBlueBoxHashChangeTrigger=true;window.hasher.replaceHash(r);window.hasher.disableBlueBoxHashChangeTrigger=false;return(new jQuery.Deferred).resolve().promise()}},setInnerAppStateData:{executeServiceCallFn:function(e){var t=new jQuery.Deferred;f.prototype._createNewInnerAppState(e).then(t.resolve);return t.promise()}},resolveIntent:{executeServiceCallFn:function(e){var t=new jQuery.Deferred;sap.ushell.Container.getServiceAsync("CrossApplicationNavigation").then(function(r){r.resolveIntent(e.oMessageData.body.sHashFragment).then(t.resolve,t.reject)});return t.promise()}}}},"sap.ushell.ui5service.ShellUIService":{oServiceCalls:{setTitle:{executeServiceCallFn:function(e){return(new jQuery.Deferred).resolve(e.oContainer.getShellUIService().setTitle(e.oMessageData.body.sTitle)).promise()}},setBackNavigation:{executeServiceCallFn:function(e){return e.executeSetBackNavigationService(e.oMessage,e.oMessageData)}}}},"sap.ushell.services.ShellUIService":{oServiceCalls:{setTitle:{executeServiceCallFn:function(e){return(new jQuery.Deferred).resolve(e.oContainer.getShellUIService().setTitle(e.oMessageData.body.sTitle)).promise()}},setHierarchy:{executeServiceCallFn:function(e){return(new jQuery.Deferred).resolve(e.oContainer.getShellUIService().setHierarchy(e.oMessageData.body.aHierarchyLevels)).promise()}},setRelatedApps:{executeServiceCallFn:function(e){return(new jQuery.Deferred).resolve(e.oContainer.getShellUIService().setRelatedApps(e.oMessageData.body.aRelatedApps)).promise()}},setDirtyFlag:{executeServiceCallFn:function(e){sap.ushell.Container.setDirtyFlag(e.oMessageData.body.bIsDirty);return(new jQuery.Deferred).resolve().promise()}},showShellUIBlocker:{executeServiceCallFn:function(e){h(e.oMessageData.body.bShow);return(new jQuery.Deferred).resolve().promise()}},getFLPUrl:{executeServiceCallFn:function(e){var t=false;if(e.oMessageData.body&&e.oMessageData.body.bIncludeHash===true){t=true}return(new jQuery.Deferred).resolve(sap.ushell.Container.getFLPUrl(t)).promise()}},getShellGroupIDs:{executeServiceCallFn:function(e){var t=new jQuery.Deferred;sap.ushell.Container.getServiceAsync("Bookmark").then(function(r){r.getShellGroupIDs(e.oMessageData.body?e.oMessageData.body.bGetAll:undefined).then(t.resolve,t.reject)});return t.promise()}},addBookmark:{executeServiceCallFn:function(e){var t=new jQuery.Deferred;sap.ushell.Container.getServiceAsync("Bookmark").then(function(r){r.addBookmarkByGroupId(e.oMessageData.body.oParameters,e.oMessageData.body.groupId).then(t.resolve,t.reject)});return t.promise()}},addBookmarkDialog:{executeServiceCallFn:function(e){sap.ui["require"](["sap/ushell/ui/footerbar/AddBookmarkButton"],function(e){var t=new e;t.firePress({})});return(new jQuery.Deferred).resolve().promise()}},getShellGroupTiles:{executeServiceCallFn:function(e){var t=new jQuery.Deferred;sap.ushell.Container.getServiceAsync("LaunchPage").then(function(r){r.getTilesByGroupId(e.oMessageData.body.groupId).then(t.resolve,t.reject)});return t.promise()}},sendUrlAsEmail:{executeServiceCallFn:function(e){var t=c.last("/core/shellHeader/application").title;var r=t===undefined?sap.ushell.resources.i18n.getText("linkToApplication"):sap.ushell.resources.i18n.getText("linkTo")+" '"+t+"'";f.prototype._sendEmail("",r,document.URL,"","",document.URL,true);return(new jQuery.Deferred).resolve().promise()}},sendEmailWithFLPButton:{executeServiceCallFn:function(e){var t=c.last("/core/shellHeader/application").title;var r=t===undefined?sap.ushell.resources.i18n.getText("linkToApplication"):sap.ushell.resources.i18n.getText("linkTo")+" '"+t+"'";f.prototype._sendEmail("",r,document.URL,"","",document.URL,e.oMessageData.body.bSetAppStateToPublic);return(new jQuery.Deferred).resolve().promise()}},sendEmail:{executeServiceCallFn:function(e){f.prototype._sendEmail(e.oMessageData.body.sTo,e.oMessageData.body.sSubject,e.oMessageData.body.sBody,e.oMessageData.body.sCc,e.oMessageData.body.sBcc,e.oMessageData.body.sIFrameURL,e.oMessageData.body.bSetAppStateToPublic);return(new jQuery.Deferred).resolve().promise()}},processHotKey:{executeServiceCallFn:function(e){var t;try{t=new KeyboardEvent("keydown",e.oMessageData.body)}catch(a){var r=document.createEvent("KeyboardEvent"),n="";if(e.oMessageData.body.altKey){n+="Alt "}if(e.oMessageData.body.ctrlKey){n+="Control "}if(e.oMessageData.body.shiftKey){n+="Shift "}r.initKeyboardEvent("keydown",false,false,null,e.oMessageData.body.key,e.oMessageData.body.keyCode,n,0,false);t=r}document.dispatchEvent(t);return(new jQuery.Deferred).resolve().promise()}}}},"sap.ushell.services.Container":{oServiceCalls:{setDirtyFlag:{executeServiceCallFn:function(e){sap.ushell.Container.setDirtyFlag(e.oMessageData.body.bIsDirty);return(new jQuery.Deferred).resolve().promise()}},registerDirtyStateProvider:{executeServiceCallFn:function(e){if(e.oMessageData.body.bRegister){f.prototype.registerAsyncDirtyStateProvider(e)}else{f.prototype.deregisterAsyncDirtyStateProvider(e)}return(new jQuery.Deferred).resolve().promise()}},getFLPUrl:{executeServiceCallFn:function(e){var t=false;if(e.oMessageData.body&&e.oMessageData.body.bIncludeHash===true){t=true}return(new jQuery.Deferred).resolve(sap.ushell.Container.getFLPUrl(t)).promise()}},getFLPConfig:{executeServiceCallFn:function(e){var t=new jQuery.Deferred;sap.ushell.Container.getFLPConfig().then(function(e){t.resolve(e)});return t.promise()}},getFLPPlatform:{executeServiceCallFn:function(e){var t=new jQuery.Deferred;sap.ushell.Container.getFLPPlatform().then(t.resolve);return t.promise()}}}},"sap.ushell.services.AppState":{oServiceCalls:{getAppState:{executeServiceCallFn:function(e){var t=new jQuery.Deferred;sap.ushell.Container.getServiceAsync("AppState").then(function(r){r.getAppState(e.oMessageData.body.sKey).done(function(e){delete e._oServiceInstance;t.resolve(e)}).fail(function(e){delete e._oServiceInstance;t.resolve(e)})});return t.promise()}},_saveAppState:{executeServiceCallFn:function(e){var t=new jQuery.Deferred;sap.ushell.Container.getServiceAsync("AppState").then(function(r){r._saveAppState(e.oMessageData.body.sKey,e.oMessageData.body.sData,e.oMessageData.body.sAppName,e.oMessageData.body.sComponent,e.oMessageData.body.bTransient,e.oMessageData.body.iPersistencyMethod,e.oMessageData.body.oPersistencySettings).then(t.resolve,t.reject)});return t.promise()}},_loadAppState:{executeServiceCallFn:function(e){var t=new jQuery.Deferred;sap.ushell.Container.getServiceAsync("AppState").then(function(r){r._loadAppState(e.oMessageData.body.sKey).then(t.resolve,t.reject)});return t.promise()}},deleteAppState:{executeServiceCallFn:function(e){var t=new jQuery.Deferred;sap.ushell.Container.getServiceAsync("AppState").then(function(r){r.deleteAppState(e.oMessageData.body.sKey).then(t.resolve,t.reject)});return t.promise()}},makeStatePersistent:function(e){var t=new jQuery.Deferred;sap.ushell.Container.getServiceAsync("AppState").then(function(r){r.makeStatePersistent(e.oMessageData.body.sKey,e.oMessageData.body.iPersistencyMethod,e.oMessageData.body.oPersistencySettings).then(t.resolve,t.reject)});return t.promise()}}},"sap.ushell.services.Bookmark":{oServiceCalls:{addBookmarkUI5:{executeServiceCallFn:function(e){var t=new jQuery.Deferred;sap.ushell.Container.getServiceAsync("AppLifeCycle").then(function(r){r.getCurrentApplication().getSystemContext().then(function(r){f.prototype._stripBookmarkServiceUrlForLocalContentProvider(e.oMessageData.body.oParameters,r);sap.ushell.Container.getServiceAsync("Bookmark").then(function(n){n.addBookmark(e.oMessageData.body.oParameters,e.oMessageData.body.vContainer,r.id).then(t.resolve,t.reject)})})});return t.promise()}},addBookmark:{executeServiceCallFn:function(e){var t=new jQuery.Deferred;sap.ushell.Container.getServiceAsync("Bookmark").then(function(r){r.addBookmarkByGroupId(e.oMessageData.body.oParameters,e.oMessageData.body.groupId).then(t.resolve,t.reject)});return t.promise()}},getShellGroupIDs:{executeServiceCallFn:function(){var e=new jQuery.Deferred;sap.ushell.Container.getServiceAsync("Bookmark").then(function(t){t.getShellGroupIDs().then(e.resolve,e.reject)});return e.promise()}},addCatalogTileToGroup:{executeServiceCallFn:function(e){var t=new jQuery.Deferred;sap.ushell.Container.getServiceAsync("Bookmark").then(function(r){r.addCatalogTileToGroup(e.oMessageData.body.sCatalogTileId,e.oMessageData.body.sGroupId,e.oMessageData.body.oCatalogData).then(t.resolve,t.reject)});return t.promise()}},countBookmarks:{executeServiceCallFn:function(e){var t=new jQuery.Deferred;sap.ushell.Container.getServiceAsync("AppLifeCycle").then(function(r){r.getCurrentApplication().getSystemContext().then(function(r){sap.ushell.Container.getServiceAsync("Bookmark").then(function(n){n.countBookmarks(e.oMessageData.body.sUrl,r.id).then(t.resolve,t.reject)})})});return t.promise()}},deleteBookmarks:{executeServiceCallFn:function(e){var t=new jQuery.Deferred;sap.ushell.Container.getServiceAsync("AppLifeCycle").then(function(r){r.getCurrentApplication().getSystemContext().then(function(r){sap.ushell.Container.getServiceAsync("Bookmark").then(function(n){n.deleteBookmarks(e.oMessageData.body.sUrl,r.id).then(t.resolve,t.reject)})})});return t.promise()}},updateBookmarks:{executeServiceCallFn:function(e){var t=new jQuery.Deferred;sap.ushell.Container.getServiceAsync("AppLifeCycle").then(function(r){r.getCurrentApplication().getSystemContext().then(function(r){sap.ushell.Container.getServiceAsync("Bookmark").then(function(n){n.updateBookmarks(e.oMessageData.body.sUrl,e.oMessageData.body.oParameters,r.id).then(t.resolve,t.reject)})})});return t.promise()}},getContentNodes:{executeServiceCallFn:function(){var e=new jQuery.Deferred;sap.ushell.Container.getServiceAsync("Bookmark").then(function(t){t.getContentNodes().then(e.resolve,e.reject)});return e.promise()}},addCustomBookmark:{executeServiceCallFn:function(e){var t=new jQuery.Deferred;sap.ushell.Container.getServiceAsync("AppLifeCycle").then(function(r){r.getCurrentApplication().getSystemContext().then(function(r){sap.ushell.Container.getServiceAsync("Bookmark").then(function(n){n.addCustomBookmark(e.oMessageData.body.sVizType,e.oMessageData.body.oConfig,e.oMessageData.body.vContentNodes,r.id).then(t.resolve,t.reject)})})});return t.promise()}},countCustomBookmarks:{executeServiceCallFn:function(e){var t=new jQuery.Deferred;sap.ushell.Container.getServiceAsync("AppLifeCycle").then(function(r){r.getCurrentApplication().getSystemContext().then(function(r){e.oMessageData.body.oIdentifier.contentProviderId=r.id;sap.ushell.Container.getServiceAsync("Bookmark").then(function(r){r.countCustomBookmarks(e.oMessageData.body.oIdentifier).then(t.resolve,t.reject)})})});return t.promise()}},updateCustomBookmarks:{executeServiceCallFn:function(e){var t=new jQuery.Deferred;sap.ushell.Container.getServiceAsync("AppLifeCycle").then(function(r){r.getCurrentApplication().getSystemContext().then(function(r){e.oMessageData.body.oIdentifier.contentProviderId=r.id;sap.ushell.Container.getServiceAsync("Bookmark").then(function(r){r.updateCustomBookmarks(e.oMessageData.body.oIdentifier,e.oMessageData.body.oConfig).then(t.resolve,t.reject)})})});return t.promise()}},deleteCustomBookmarks:{executeServiceCallFn:function(e){var t=new jQuery.Deferred;sap.ushell.Container.getServiceAsync("AppLifeCycle").then(function(r){r.getCurrentApplication().getSystemContext().then(function(r){e.oMessageData.body.oIdentifier.contentProviderId=r.id;sap.ushell.Container.getServiceAsync("Bookmark").then(function(r){r.deleteCustomBookmarks(e.oMessageData.body.oIdentifier).then(t.resolve,t.reject)})})});return t.promise()}},addBookmarkToPage:{executeServiceCallFn:function(e){var t=new jQuery.Deferred;sap.ushell.Container.getServiceAsync("AppLifeCycle").then(function(r){r.getCurrentApplication().getSystemContext().then(function(r){sap.ushell.Container.getServiceAsync("Bookmark").then(function(n){n.addBookmarkToPage(e.oMessageData.body.oParameters,e.oMessageData.body.sPageId,r.id).then(t.resolve,t.reject)})})});return t.promise()}}}},"sap.ushell.services.AppLifeCycle":{oServiceCalls:{getFullyQualifiedXhrUrl:{executeServiceCallFn:function(e){var t="",r="",n=new jQuery.Deferred,a=e.oMessageData.body.path;if(a!==""&&a!==undefined&&a!==null){sap.ushell.Container.getServiceAsync("AppLifeCycle").then(function(e){e.getCurrentApplication().getSystemContext().then(function(e){r=e.getFullyQualifiedXhrUrl(a);var o="",s="",l="",c=sap.ushell.Container.getFLPUrl(true),u=new i(c);if(u.protocol()!==null&&u.protocol()!==undefined&&u.protocol()!==""){s=u.protocol()+"://"}if(u.hostname()!==null&&u.hostname()!==undefined&&u.hostname()!==""){o=u.hostname()}if(u.port()!==null&&u.port()!==undefined&&u.port()!==""){l=":"+u.port()}t=s+o+l+r;n.resolve(t)})})}return n.promise()}},getSystemAlias:{executeServiceCallFn:function(e){var t=e.oContainer.getSystemAlias();if(t===null||t===undefined){t=""}return(new jQuery.Deferred).resolve(t).promise()}}}},"sap.ushell.services.AppConfiguration":{oServiceCalls:{setApplicationFullWidth:{executeServiceCallFn:function(e){a.setApplicationFullWidth(e.oMessageData.body.bValue);return(new jQuery.Deferred).resolve().promise()}}}},"sap.ushell.appRuntime":{oRequestCalls:{innerAppRouteChange:{isActiveOnly:true,distributionType:["all"]},keepAliveAppHide:{isActiveOnly:true,distributionType:["all"]},keepAliveAppShow:{isActiveOnly:true,distributionType:["all"]},hashChange:{isActiveOnly:true,distributionType:["URL"]},setDirtyFlag:{isActiveOnly:true,distributionType:["URL"]},getDirtyFlag:{isActiveOnly:true,distributionType:["URL"]},themeChange:{isActiveOnly:false,distributionType:["all"]},uiDensityChange:{isActiveOnly:false,distributionType:["all"]}},oServiceCalls:{hashChange:{executeServiceCallFn:function(e){var t=new jQuery.Deferred;window.hasher.disableBlueBoxHashChangeTrigger=true;window.hasher.replaceHash(e.oMessageData.body.newHash);window.hasher.disableBlueBoxHashChangeTrigger=false;var n=e.oMessageData.body.direction;if(n){sap.ushell.Container.getServiceAsync("ShellNavigation").then(function(e){e.hashChanger.fireEvent("hashReplaced",{hash:e.hashChanger.getHash(),direction:n});r.debug("PostMessageAPI.hashChange :: Informed by the Iframe, to change the "+"History direction property in FLP to: "+n);t.resolve()})}else{t.resolve()}return t.promise()}},iframeIsValid:{executeServiceCallFn:function(e){e.oContainer.setProperty("isIframeValidTime",{time:(new Date).getTime()},true);return(new jQuery.Deferred).resolve().promise()}},iframeIsBusy:{executeServiceCallFn:function(e){e.oContainer.setProperty("isIframeBusy",e.oMessageData.body.bValue,true);return(new jQuery.Deferred).resolve().promise()}}}},"sap.ushell.services.UserInfo":{oServiceCalls:{getThemeList:{executeServiceCallFn:function(e){var t=new jQuery.Deferred;sap.ushell.Container.getServiceAsync("UserInfo").then(function(e){e.getThemeList().then(t.resolve,t.reject)});return t.promise()}},getLanguageList:{executeServiceCallFn:function(e){var t=new jQuery.Deferred;sap.ushell.Container.getServiceAsync("UserInfo").then(function(e){e.getLanguageList().then(t.resolve,t.reject)});return t.promise()}},updateUserPreferences:{executeServiceCallFn:function(e){var t=new jQuery.Deferred;if(e.oMessageData.body.language){sap.ushell.Container.getUser().setLanguage(e.oMessageData.body.language);sap.ushell.Container.getServiceAsync("UserInfo").then(function(e){e.updateUserPreferences().then(function(){sap.ushell.Container.getUser().resetChangedProperty("language");t.resolve()},t.reject)})}else{t.resolve()}return t.promise()}},openThemeManager:{executeServiceCallFn:function(e){o.emit("openThemeManager",Date.now());return(new jQuery.Deferred).resolve().promise()}}}},"sap.ushell.services.ShellNavigation":{oServiceCalls:{toExternal:{executeServiceCallFn:function(e){sap.ushell.Container.getServiceAsync("ShellNavigation").then(function(t){t.toExternal(e.oMessageData.body.oArgs,undefined,e.oMessageData.body.bWriteHistory)});return(new jQuery.Deferred).resolve().promise()}},toAppHash:{executeServiceCallFn:function(e){sap.ushell.Container.getServiceAsync("ShellNavigation").then(function(t){t.toAppHash(e.oMessageData.body.sAppHash,e.oMessageData.body.bWriteHistory)});return(new jQuery.Deferred).resolve().promise()}}}},"sap.ushell.services.NavTargetResolution":{oServiceCalls:{getDistinctSemanticObjects:{executeServiceCallFn:function(){var e=new jQuery.Deferred;sap.ushell.Container.getServiceAsync("NavTargetResolution").then(function(t){t.getDistinctSemanticObjects().then(e.resolve,e.reject)});return e.promise()}},expandCompactHash:{executeServiceCallFn:function(e){var t=new jQuery.Deferred;sap.ushell.Container.getServiceAsync("NavTargetResolution").then(function(r){r.expandCompactHash(e.oMessageData.body.sHashFragment).then(t.resolve,t.reject)});return t.promise()}},resolveHashFragment:{executeServiceCallFn:function(e){var t=new jQuery.Deferred;sap.ushell.Container.getServiceAsync("NavTargetResolution").then(function(r){r.resolveHashFragment(e.oMessageData.body.sHashFragment).then(t.resolve,t.reject)});return t.promise()}},isNavigationSupported:{executeServiceCallFn:function(e){var t=new jQuery.Deferred;sap.ushell.Container.getServiceAsync("NavTargetResolution").then(function(r){r.isNavigationSupported(e.oMessageData.body.aIntents).then(t.resolve,t.reject)});return t.promise()}}}},"sap.ushell.services.Renderer":{oServiceCalls:{addHeaderItem:{executeServiceCallFn:function(e){y("addHeaderItem",e);return(new jQuery.Deferred).resolve().promise()}},addHeaderEndItem:{executeServiceCallFn:function(e){y("addHeaderEndItem",e);return(new jQuery.Deferred).resolve().promise()}},showHeaderItem:{executeServiceCallFn:function(e){sap.ushell.Container.getRenderer("fiori2").showHeaderItem(e.oMessageData.body.aIds,e.oMessageData.body.bCurrentState||true,e.oMessageData.body.aStates);return(new jQuery.Deferred).resolve().promise()}},showHeaderEndItem:{executeServiceCallFn:function(e){sap.ushell.Container.getRenderer("fiori2").showHeaderEndItem(e.oMessageData.body.aIds,e.oMessageData.body.bCurrentState||true,e.oMessageData.body.aStates);return(new jQuery.Deferred).resolve().promise()}},hideHeaderItem:{executeServiceCallFn:function(e){sap.ushell.Container.getRenderer("fiori2").hideHeaderItem(e.oMessageData.body.aIds,e.oMessageData.body.bCurrentState||true,e.oMessageData.body.aStates);return(new jQuery.Deferred).resolve().promise()}},hideHeaderEndItem:{executeServiceCallFn:function(e){sap.ushell.Container.getRenderer("fiori2").hideHeaderEndItem(e.oMessageData.body.aIds,e.oMessageData.body.bCurrentState||true,e.oMessageData.body.aStates);return(new jQuery.Deferred).resolve().promise()}},setHeaderTitle:{executeServiceCallFn:function(e){sap.ushell.Container.getRenderer("fiori2").setHeaderTitle(e.oMessageData.body.sTitle);return(new jQuery.Deferred).resolve().promise()}},setHeaderVisibility:{executeServiceCallFn:function(e){sap.ushell.Container.getRenderer("fiori2").setHeaderVisibility(e.oMessageData.body.bVisible,e.oMessageData.body.bCurrentState||true,e.oMessageData.body.aStates);return(new jQuery.Deferred).resolve().promise()}},createShellHeadItem:{executeServiceCallFn:function(e){var t=e.oMessageData.body.params;t.press=function(){e.oContainer.postMessageRequest("sap.ushell.appRuntime.buttonClick",{buttonId:t.id})};new sap.ushell.ui.shell.ShellHeadItem(t);return(new jQuery.Deferred).resolve().promise()}},showActionButton:{executeServiceCallFn:function(e){sap.ushell.Container.getRenderer("fiori2").showActionButton(e.oMessageData.body.aIds,e.oMessageData.body.bCurrentState,e.oMessageData.body.aStates);return(new jQuery.Deferred).resolve().promise()}},hideActionButton:{executeServiceCallFn:function(e){sap.ushell.Container.getRenderer("fiori2").hideActionButton(e.oMessageData.body.aIds,e.oMessageData.body.bCurrentState,e.oMessageData.body.aStates);return(new jQuery.Deferred).resolve().promise()}},addUserAction:{executeServiceCallFn:function(e){e.oMessageData.body.oParameters.oControlProperties.press=function(){e.oContainer.postMessageRequest("sap.ushell.appRuntime.buttonClick",{buttonId:e.oMessageData.body.oParameters.oControlProperties.id})};sap.ushell.Container.getRenderer("fiori2").addUserAction(e.oMessageData.body.oParameters);return(new jQuery.Deferred).resolve().promise()}},addOptionsActionSheetButton:{executeServiceCallFn:function(e){var t=Array.isArray(e.oMessageData.body)?e.oMessageData.body:[e.oMessageData.body];t.forEach(function(t){if(sap.ui.getCore().byId(t.id)){sap.ui.getCore().byId(t.id).destroy()}new sap.m.Button({id:t.id,text:t.text,icon:t.icon,tooltip:t.tooltip,press:function(){e.oContainer.postMessageRequest("sap.ushell.appRuntime.buttonClick",{buttonId:t.id})}});sap.ushell.Container.getRenderer("fiori2").showActionButton([t.id],true,t.aStates)});return(new jQuery.Deferred).resolve().promise()}},removeOptionsActionSheetButton:{executeServiceCallFn:function(e){var t=Array.isArray(e.oMessageData.body)?e.oMessageData.body:[e.oMessageData.body];t.forEach(function(e){sap.ushell.Container.getRenderer("fiori2").hideActionButton(e.id,true,e.aStates);if(sap.ui.getCore().byId(e.id)){sap.ui.getCore().byId(e.id).destroy()}});return(new jQuery.Deferred).resolve().promise()}},updateHeaderItem:{executeServiceCallFn:function(e){sap.ushell.Container.getRenderer("fiori2").updateHeaderItem(e.oMessageData.body.sId,e.oMessageData.body.oControlProperties);return(new jQuery.Deferred).resolve().promise()}},destroyButton:{executeServiceCallFn:function(e){sap.ushell.Container.getRenderer("fiori2").destroyButton(e.oMessageData.body.aIds);return(new jQuery.Deferred).resolve().promise()}}}},"sap.ushell.services.LaunchPage":{oServiceCalls:{getGroupsForBookmarks:{executeServiceCallFn:function(){var e=new jQuery.Deferred;sap.ushell.Container.getServiceAsync("LaunchPage").then(function(t){t.getGroupsForBookmarks().then(e.resolve,e.reject)});return e.promise()}}}},"sap.ushell.services.Menu":{oServiceCalls:{getSpacesPagesHierarchy:{executeServiceCallFn:function(){var e=new jQuery.Deferred;sap.ushell.Container.getServiceAsync("Menu").then(function(t){t.getSpacesPagesHierarchy().then(function(t){e.resolve(t)})});return e.promise()}}}},"sap.ushell.services.CommonDataModel":{oServiceCalls:{getAllPages:{executeServiceCallFn:function(){var e=new jQuery.Deferred;sap.ushell.Container.getServiceAsync("CommonDataModel").then(function(t){t.getAllPages().then(function(t){e.resolve(t)})});return e.promise()}}}}};function f(){this._getBrowserURL=function(){return document.URL};Object.keys(g).forEach(function(e){if(e.indexOf(p)!==0){throw new Error("All Post Message APIs must start with '"+p+"' - "+e)}});s.init(true,f.prototype.registerShellCommunicationHandler.bind(this))}f.prototype.getAPIs=function(){return g};function v(e,t){var r=g[e],n;if(r){if(t.oServiceCalls){Object.keys(t.oServiceCalls).forEach(function(e){r.oServiceCalls[e]=t.oServiceCalls[e]})}if(t.oRequestCalls){Object.keys(t.oRequestCalls).forEach(function(e){r.oRequestCalls[e]=t.oRequestCalls[e]})}return}n={oRequestCalls:{},oServiceCalls:{}};if(t.oServiceCalls){Object.keys(t.oServiceCalls).forEach(function(e){n.oServiceCalls[e]=t.oServiceCalls[e]})}if(t.oRequestCalls){Object.keys(t.oRequestCalls).forEach(function(e){n.oRequestCalls[e]=t.oRequestCalls[e]})}g[e]=n}f.prototype._getPostMesageInterface=function(e,t){var r,n=this.getAPIs();if(n[e]){r=n[e];if(r&&r.oRequestCalls&&r.oRequestCalls[t]){return r.oRequestCalls[t]}}return undefined};f.prototype.registerShellCommunicationHandler=function(e){Object.keys(e).forEach(function(t){v(t,e[t])})};f.prototype.isActiveOnly=function(e,t){var r=this._getPostMesageInterface(e,t);if(r){return r.isActiveOnly}return undefined};f.prototype.getResponseHandler=function(e,t){var r=this._getPostMesageInterface(e,t);if(r){return r.fnResponseHandler}return undefined};f.prototype._createNewInnerAppState=function(e){return new Promise(function(t){var r,n,a,o,s;sap.ushell.Container.getServiceAsync("AppState").then(function(i){r=i.createEmptyAppState(undefined,false);if(e.oMessageData.body.sData!==undefined){try{s=JSON.parse(e.oMessageData.body.sData)}catch(t){s=e.oMessageData.body.sData}}else{s=""}r.setData(s);r.save();o=r.getKey();n=window.hasher.getHash();if(n.indexOf("&/")>0){if(n.indexOf("sap-iapp-state=")>0){a=/(?:sap-iapp-state=)([^&/]+)/.exec(n)[1];n=n.replace(a,o)}else{n=n+"/sap-iapp-state="+o}}else{n=n+"&/sap-iapp-state="+o}window.hasher.disableBlueBoxHashChangeTrigger=true;window.hasher.replaceHash(n);window.hasher.disableBlueBoxHashChangeTrigger=false;t(o)})})};function h(e){if(e===true){if(sap.ui.getCore().byId("shell-header")){sap.ui.getCore().byId("shell-header").setBlocked(true);var t=jQuery("#shell-header-blockedLayer");t.addClass("sapUshellShellBlocked")}if(sap.ui.getCore().byId("menuBar")){sap.ui.getCore().byId("menuBar").setBlocked(true);var r=jQuery("#menuBar-blockedLayer");r.addClass("sapUshellMenuBarBlocked")}}else if(e===false){if(sap.ui.getCore().byId("shell-header")){sap.ui.getCore().byId("shell-header").setBlocked(false)}if(sap.ui.getCore().byId("menuBar")){sap.ui.getCore().byId("menuBar").setBlocked(false)}}}function y(e,t){sap.ushell.Container.getRenderer("fiori2")[e]("sap.ushell.ui.shell.ShellHeadItem",{id:t.oMessageData.body.sId,tooltip:t.oMessageData.body.sTooltip,icon:t.oMessageData.body.sIcon,floatingNumber:t.oMessageData.body.iFloatingNumber,press:function(){t.oContainer.postMessageRequest("sap.ushell.appRuntime.buttonClick",{buttonId:t.oMessageData.body.sId})}},t.oMessageData.body.bVisible,t.oMessageData.body.bCurrentState||true,t.oMessageData.body.aStates)}f.prototype.registerAsyncDirtyStateProvider=function(e){sap.ushell.Container.setAsyncDirtyStateProvider(function(t){return new Promise(function(r){var n=e.oContainer.createPostMessageRequest("sap.ushell.appRuntime.handleDirtyStateProvider",{oNavigationContext:t}),a;e.oContainer.postMessageToCurrentIframe(n,true).then(function(e){if(a){clearTimeout(a)}r(e&&e.body&&e.body.result||false)});a=setTimeout(function(){r(false)},2500)})})};f.prototype.deregisterAsyncDirtyStateProvider=function(e){sap.ushell.Container.setAsyncDirtyStateProvider(undefined)};f.prototype._sendEmail=function(e,t,n,a,o,s,i){var l=this._getBrowserURL&&this._getBrowserURL()||document.URL;function c(e,r,a,o,s,i){t=t&&t.includes(e)?t.replace(e,r):t;n=n&&n.includes(e)?n.replace(e,r):n;t=t&&a&&s&&t.includes(a)?t.replace(a,s):t;t=t&&o&&i&&t.includes(o)?t.replace(o,i):t;n=n&&a&&s&&n.includes(a)?n.replace(a,s):n;n=n&&o&&i&&n.includes(o)?n.replace(o,i):n}if(i){sap.ushell.Container.getServiceAsync("AppState").then(function(i){i.setAppStateToPublic(s).done(function(r,i,u,p,d){if(p!==undefined){l=l.replace(i,p)}if(d!==undefined){l=l.replace(u,d)}c(s,l,i,u,p,d);sap.m.URLHelper.triggerEmail(e,t,n,a,o)}).fail(r.error)})}else{c(s,l);sap.m.URLHelper.triggerEmail(e,t,n,a,o)}};f.prototype._stripBookmarkServiceUrlForLocalContentProvider=function(e,t){if(!e||!e.serviceUrl||!t){return}if(t.id===""||t.id==="saas_approuter"){e.serviceUrl=undefined;r.warning("Dynamic data bookmarks tiles are not supported for local content providers",null,"sap/ushell/components/applicationIntegration/application/PostMessageAPI")}};return new f});
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/applicationIntegration/application/PostMessageAPIInterface", ["sap/ui/thirdparty/jquery"],function(jQuery){"use strict";var e="user.postapi.";function s(){var e,s;this.init=function(t,n){e=t;s=n};this.getInterface=function(){var i={};i.registerPostMessageAPIs=t.bind(null,s);i[e===true?"postMessageToApp":"postMessageToFlp"]=n.bind(null,e);i.createPostMessageResult=r;return i}}function t(s,t,n){var r={status:"success",desc:""};var i={isActiveOnly:true,distributionType:["all"],fnResponseHandler:function(){}};if(t===undefined||Object.keys(t).length<=0){r.status="error";r.desc="no handler was found to register";return r}if(n===undefined){n=false}Object.keys(t).forEach(function(s){if(typeof s!=="string"){r.status="error";r.desc="oPostMessageAPIs should contain only string keys"}else if(n===false&&s.indexOf(e)!==0){r.status="error";r.desc="all user custom Message APIs must start with '"+e+"'"}else{Object.keys(t[s]).forEach(function(e){if(e=="inCalls"){t[s].oServiceCalls=t[s][e];delete t[s][e]}else if(e=="outCalls"){Object.keys(t[s][e]).forEach(function(n){t[s][e][n]=jQuery.extend(true,{},i,t[s][e][n])});t[s].oRequestCalls=t[s][e];delete t[s][e]}else{r.status="error";r.desc="api should contain either 'inCalls' or 'outCalls'"}})}});if(r.status==="success"){s(t)}return r}function n(e,s,t,n){var r=new jQuery.Deferred;if(n===undefined){n={}}if(e){sap.ui.require(["sap/ushell/components/applicationIntegration/AppLifeCycle"],function(e){e.postMessageToIframeApp(s,t,n,true).then(function(e){r.resolve(e&&e[0]&&e[0].body.result)})})}else{sap.ui.require(["sap/ushell/appRuntime/ui5/AppRuntimeService"],function(e){e.sendMessageToOuterShell(s+"."+t,n).done(function(e){r.resolve(e)})})}return r.promise()}function r(e){if(e===undefined){e={}}return(new jQuery.Deferred).resolve(e).promise()}return new s});
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/applicationIntegration/configuration/AppMeta", ["sap/ushell/services/AppConfiguration","sap/ushell/components/applicationIntegration/elements/model","sap/ui/Device","sap/ushell/Config","sap/ushell/utils","sap/ushell/resources","sap/ushell/EventHub","sap/ushell/components/applicationIntegration/relatedShellElements/RelatedShellElements","sap/ui/thirdparty/jquery","sap/ui/performance/Measurement","sap/ui/util/Mobile"],function(e,t,n,i,a,s,o,r,jQuery,l,c){"use strict";function u(){var u,p=this,h,f,m;this.getIsTitleChanged=function(){return u};this.getIsRelatedAppsChanged=function(){return m};this.getHierarchyDefaultValue=function(){var e=[];var t=i.last("/core/shell/model/currentState/stateName");if(t&&(t==="app"||t==="embedded")){e=[{icon:"sap-icon://home",title:s.i18n.getText("actionHomePage"),intent:f?"#"+f:"#"}];var n=i.last("/core/shell/model/currentSpaceAndPage");if(n!==undefined){e.splice(0,0,{icon:"sap-icon://circle-task-2",title:n.pageTitle,subtitle:n.pageTitle!==n.spaceTitle?n.spaceTitle:undefined,intent:"#"+n.hash})}}return e};this.init=function(e){f=e};this.getIsHierarchyChanged=function(){return h};this.onHierarchyChange=function(e){h=true;var n=e.getParameters().data,a=[],s=i.last("/core/shell/model/currentState/stateName");if(!n){n=[]}var o=p.getHierarchyDefaultValue();n.forEach(function(e,t){a[t]=jQuery.extend({},e)});a=a.concat(o);if(s==="home"){t.updateStateProperty("application/hierarchy",a,false,["home"])}t.updateStateProperty("application/hierarchy",a,true)};this.onRelatedAppsChange=function(e){m=true;var n=e.getParameters().data,a=i.last("/core/shell/model/currentState/stateName");if(!n){n=[]}if(a==="home"){t.updateStateProperty("application/relatedApps",n,false,["home"])}t.updateStateProperty("application/relatedApps",n,true)};this.resetShellUIServiceHandlers=function(){m=false;h=false;u=false};this.onTitleChange=function(e){u=true;var n=e.getParameters().data;if(!n){n=this.getAppMeta().getTitleDefaultValue()}var s=i.last("/core/shell/model/currentState/stateName");if(s==="home"){t.updateStateProperty("application/title",n,false,["home"])}t.updateStateProperty("application/title",n,true);r.genericSetItem("application/title",n);window.document.title=n;a.setPerformanceMark("FLP -- title change");o.emit("TitleChanged",n)};this._getDefaultFavIcon=function(e){var t=e.get("sapUiShellFavicon");if(t){var n=/url[\s]*\('?"?([^'")]*)'?"?\)/.exec(t);if(n){t=n[1]}else if(t==="''"||t==="none"){t=null}}if(!t){var i=sap.ui.require.toUrl("sap/ushell");return i+"/themes/base/img/launchpad_favicon.ico"}return t};this.getFavIconHref=function(){return jQuery("link").filter('[rel="shortcut icon"]').attr("href")||""};this.getAppIcon=function(){var t="sap-icon://folder",n=e.getMetadata();if(n&&n.icon){t=n.icon}return t};this.setAppIcons=function(e){l.start("FLP:ShellController.setAppIcons","setValues","FLP");sap.ui.require(["sap/ui/core/theming/Parameters"],function(t){if(sap.ui.getCore().isThemeApplied()){this.setValues(e,t)}else{sap.ui.getCore().attachThemeChanged(function(){this.setValues(e,t)}.bind(this))}}.bind(this));l.end("FLP:ShellController.setAppIcons")};this.setValues=function(e,t){var i=sap.ui.require.toUrl("sap/ushell"),a=e&&e.homeScreenIconPhone||i+"/themes/base/img/launchicons/57_iPhone_Desktop_Launch.png",s=e&&e["homeScreenIconPhone@2"]||i+"/themes/base/img/launchicons/114_iPhone-Retina_Web_Clip.png",o=e&&e.homeScreenIconTablet||i+"/themes/base/img/launchicons/72_iPad_Desktop_Launch.png",r=e&&e["homeScreenIconTablet@2"]||i+"/themes/base/img/launchicons/144_iPad_Retina_Web_Clip.png",l=e&&e.favIcon||this._getDefaultFavIcon(t),u=this.getFavIconHref();if(n.os.ios){c.setIcons({phone:a,"phone@2":s,tablet:o,"tablet@2":r,favicon:l,precomposed:false})}else if(u!==l){c.setIcons({phone:"","phone@2":"",tablet:"","tablet@2":"",favicon:l,precomposed:true})}};this._applyContentDensityByPriority=function(t,i){var a=this;return new Promise(function(s){sap.ushell.Container.getServiceAsync("UserInfo").then(function(o){var r;if(t===undefined){if(n.system.combi){var l=o.getUser(),c="autoDetect";if(l){c=l.getContentDensity()}switch(c){case"cozy":t=false;break;case"compact":t=true;break;default:r=e.getMetadata();if(r.compactContentDensity&&!r.cozyContentDensity){t=true}else{t=false}}}else{r=e.getMetadata();if(r.compactContentDensity&&!r.cozyContentDensity){t=true}else if(!r.compactContentDensity&&r.cozyContentDensity){t=false}else{t=a._isCompactContentDensityByDevice()}}}a._applyContentDensityClass(t,i).then(s)})})};this._applyContentDensityClass=function(e,t){return new Promise(function(n,i){function a(e){jQuery("body").toggleClass("sapUiSizeCompact",e).toggleClass("sapUiSizeCozy",!e);if(t===true){sap.ui.require(["sap/ushell/components/applicationIntegration/AppLifeCycle"],function(t){t.postMessageToIframeApp("sap.ushell.appRuntime","uiDensityChange",{isTouch:e?"0":"1"})})}n()}if(e===undefined){sap.ushell.Container.getServiceAsync("UserInfo").then(function(e){var t=e.getUser?e.getUser():undefined;var n;if(t&&t.getContentDensity()==="compact"){n=true}else if(t&&t.getContentDensity()==="cozy"){n=false}else{n=p._isCompactContentDensityByDevice()}a(n)})}else{a(!!e)}})};this._isCompactContentDensityByDevice=function(){return!n.support.touch||n.system.combi};this.getTitleDefaultValue=function(){var t="",n=e.getMetadata();if(n&&n.title){t=n.title}return t};this.create=function(){};this.restore=function(e){this._applyContentDensityByPriority();this.setAppIcons(e)};this.store=function(e){};this.destroy=function(e){}}return new u},true);
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/applicationIntegration/elements/model", ["sap/ushell/EventHub","sap/ushell/Config","sap/ushell/utils","sap/ushell/components/HeaderManager","sap/ushell/components/StateHelper","sap/ui/performance/Measurement","sap/base/Log","sap/base/util/deepExtend","sap/ui/thirdparty/jquery","sap/ushell/utils/UrlParsing"],function(t,e,n,a,i,o,s,r,jQuery,l){"use strict";var h;var u;function f(){return{home:{actions:["ContactSupportBtn"]},app:{actions:["ContactSupportBtn","aboutBtn"]},minimal:{actions:["ContactSupportBtn","aboutBtn"]},standalone:{actions:["ContactSupportBtn","aboutBtn"]},embedded:{actions:["ContactSupportBtn","aboutBtn"]},"embedded-home":{actions:["ContactSupportBtn","aboutBtn"]},lean:{actions:["ContactSupportBtn","aboutBtn"]}}}function d(){return{blank:{stateName:"blank",showCurtain:false,showCatalog:false,showPane:false,showRightFloatingContainer:true,showRecentActivity:true,paneContent:[],actions:[],floatingActions:[],subHeader:[],toolAreaItems:[],RightFloatingContainerItems:[],toolAreaVisible:false,floatingContainerContent:[],search:""},"blank-home":{stateName:"blank-home",showCurtain:false,showCatalog:false,showPane:false,showRightFloatingContainer:true,showRecentActivity:true,paneContent:[],actions:[],floatingActions:[],subHeader:[],toolAreaItems:[],RightFloatingContainerItems:[],toolAreaVisible:false,floatingContainerContent:[],search:""},home:{stateName:"home",showCurtain:false,showCatalog:false,showPane:false,showRightFloatingContainer:true,showRecentActivity:true,search:"",paneContent:[],actions:["openCatalogBtn","userSettingsBtn"],floatingActions:[],subHeader:[],toolAreaItems:[],RightFloatingContainerItems:[],toolAreaVisible:false,floatingContainerContent:[]},app:{stateName:"app",showCurtain:false,showCatalog:false,showPane:false,showRightFloatingContainer:true,showRecentActivity:true,paneContent:[],search:"",actions:["openCatalogBtn","userSettingsBtn"],floatingActions:[],subHeader:[],toolAreaItems:[],RightFloatingContainerItems:[],toolAreaVisible:false,floatingContainerContent:[]},minimal:{stateName:"minimal",showCurtain:false,showCatalog:false,showPane:false,showRightFloatingContainer:true,showRecentActivity:true,paneContent:[],actions:["openCatalogBtn","userSettingsBtn"],floatingActions:[],subHeader:[],toolAreaItems:[],RightFloatingContainerItems:[],toolAreaVisible:false,floatingContainerContent:[],search:""},standalone:{stateName:"standalone",showCurtain:false,showCatalog:false,showPane:false,showRightFloatingContainer:true,showRecentActivity:true,paneContent:[],actions:[],floatingActions:[],subHeader:[],toolAreaItems:[],RightFloatingContainerItems:[],toolAreaVisible:false,floatingContainerContent:[],search:""},embedded:{stateName:"embedded",showCurtain:false,showCatalog:false,showPane:false,showRightFloatingContainer:true,showRecentActivity:true,paneContent:[],actions:[],floatingActions:[],subHeader:[],toolAreaItems:[],RightFloatingContainerItems:[],toolAreaVisible:false,floatingContainerContent:[],search:""},"embedded-home":{stateName:"embedded-home",showCurtain:false,showCatalog:false,showPane:false,showRightFloatingContainer:true,showRecentActivity:true,paneContent:[],actions:[],floatingActions:[],subHeader:[],toolAreaItems:[],RightFloatingContainerItems:[],toolAreaVisible:false,floatingContainerContent:[],search:""},headerless:{stateName:"headerless",showCurtain:false,showCatalog:false,showPane:false,showRightFloatingContainer:true,showRecentActivity:true,paneContent:[],actions:[],floatingActions:[],subHeader:[],toolAreaItems:[],RightFloatingContainerItems:[],toolAreaVisible:false,floatingContainerContent:[],search:""},merged:{stateName:"merged",showCurtain:false,showCatalog:false,showPane:false,showRightFloatingContainer:true,showRecentActivity:true,paneContent:[],actions:[],floatingActions:[],subHeader:[],toolAreaItems:[],RightFloatingContainerItems:[],toolAreaVisible:false,floatingContainerContent:[],search:""},"headerless-home":{stateName:"headerless-home",showCurtain:false,showCatalog:false,showPane:false,showRightFloatingContainer:true,showRecentActivity:true,paneContent:[],actions:[],floatingActions:[],subHeader:[],toolAreaItems:[],RightFloatingContainerItems:[],toolAreaVisible:false,floatingContainerContent:[],search:""},"merged-home":{stateName:"merged-home",showCurtain:false,showCatalog:false,showPane:false,showRightFloatingContainer:true,showRecentActivity:true,paneContent:[],actions:[],floatingActions:[],subHeader:[],toolAreaItems:[],RightFloatingContainerItems:[],toolAreaVisible:false,floatingContainerContent:[],search:""},lean:{stateName:"lean",showCurtain:false,showCatalog:false,showPane:false,showRightFloatingContainer:true,showRecentActivity:false,paneContent:[],search:"",actions:[],floatingActions:[],subHeader:[],toolAreaItems:[],RightFloatingContainerItems:[],toolAreaVisible:false,floatingContainerContent:[]},"lean-home":{stateName:"lean-home",showCurtain:false,showCatalog:false,showPane:false,showRightFloatingContainer:true,showRecentActivity:false,paneContent:[],search:"",actions:[],floatingActions:[],subHeader:[],toolAreaItems:[],RightFloatingContainerItems:[],toolAreaVisible:false,floatingContainerContent:[]}}}function c(t,e){return Object.keys(t).reduce(function(n,a){if(!e[a]){n[a]=t[a]}return n},{})}function g(t,e){return e!==undefined}function m(){return true}function S(t,e){var n=e.split("/");var a=t;n.shift();n.forEach(function(t){if(!a){return}a=a[t]});return a}function p(t,e,n){var a=t.split("/");var i=n;a.shift();var o=a.pop();a.forEach(function(t){i=i[t]});i[o]=e}function C(){var C;var v;var w;var A;var I;var b;var R;var _;var y;var F;this.createDefaultTriggers=function(e){var n=function(t,e,n){if(n.sProperty==="actions"){var a=S(n.oModel,n.path);if(a&&a.length===0&&n.aIds&&n.aIds.length>0){this._renderShellState()}}}.bind(this);var a=function(t){function e(t,e){var n=l.getHash(t),a=l.getHash(e),i=l.parseShellHash(n).appSpecificRoute,o=l.parseShellHash(a).appSpecificRoute;return i!==o}var n=e(t.oldURL,t.newURL);if(n){this.addHeaderItem(["backBtn"],true)}}.bind(this);this.createTriggersOnBaseStates([{sName:"onAddFirstAction",fnRegister:function(){sap.ui.getCore().getEventBus().subscribe("launchpad","updateShell",n,this)},fnUnRegister:function(){sap.ui.getCore().getEventBus().unsubscribe("launchpad","updateShell",n,this)}}],["blank","blank-home"],e);var i=this;var o;this.createTriggersOnBaseStates([{sName:"onAddFirstAction",fnRegister:function(){window.addEventListener("hashchange",a);var e=0;o=t.on("AppRendered").do(function(){e++;if(e>=2){i.addHeaderItem(["backBtn"],true)}})},fnUnRegister:function(){window.removeEventListener("hashchange",a);if(o){o.off()}}}],["lean","lean-home"],e)};this.init=function(t,n){h=d();u=f();v=e.last("/core/shell/model");C={};I={};b=false;_=false;y=[];F=true;A=n;R=undefined;if(t){o.start("FLP:ElementsModel.init","moveShellHeaderEndItems","FLP");if(t.moveContactSupportActionToShellHeader){this._removeCustomDataActionBtnFromMeArea("ContactSupportBtn")}if(t.moveAppFinderActionToShellHeader){this._removeActionFromMeArea("openCatalogBtn")}if(t.moveUserSettingsActionToShellHeader){this._removeActionFromMeArea("userSettingsBtn")}o.end("FLP:ElementsModel.init")}var a=t&&t.appState?t.appState:"home";this.createDefaultTriggers(a);this.switchState(a)};this.destroy=function(){v=undefined;C=undefined;A=undefined;I=undefined;b=undefined;F=undefined;_=undefined;R=undefined;h=undefined;u=undefined};this.getModel=function(){var t=sap.ushell.Container.getRenderer("fiori2");if(!t){return undefined}return t._oShellView.getModel()};this._removeCustomDataActionBtnFromMeArea=function(t){for(var e in u){var n=u[e];var a=n.actions;var i=a.indexOf(t);if(i!==-1){u[e].actions.splice(i,1)}}};this._removeActionFromMeArea=function(t){var e;for(e in h){var n=h[e];if(e==="blank"||e==="blank-home"){continue}var a=n.actions;var i=a.indexOf(t);if(i!==-1){h[e].actions.splice(i,1)}}};this.destroyManageQueue=function(){this._destroyManageQueue(["home","embedded-home","headerless-home","merged-home","blank-home","lean-home"])};this.switchState=function(t){var n=r({},h[t]);var i=c(n,{aTriggers:true});e.emit("/core/shell/model/currentState",i);a.switchState(t);w=A.customShellState;R=undefined;this._renderShellState();return n};this.setLeftPaneVisibility=function(t,e,n){this.updateStateProperty("showPane",t,e,n)};this.setHeaderHiding=function(){s.warning("Application Life Cycle model: headerHiding property is deprecated and has no effect")};this._createHeaderEventPayload=function(t,e,n,a,i,o){var s={propertyName:t,value:e,aStates:a,bCurrentState:n,action:o,bDoNotPropagate:i};return s};this.setHeaderVisibility=function(t,e,n){var i=this._createHeaderEventPayload("headerVisible",t,e,n,false);a.updateStates(i)};this.showLogo=function(t,e){this.updateShowLogo(true,t,e,false)};this.updateShowLogo=function(t,e,n,i){var o=this._createHeaderEventPayload("showLogo",t,e,n,i);a.updateStates(o)};this.addHeaderItem=function(t,e,n){if(t.length){var i=this._createHeaderEventPayload("headItems",t,e,n,false);a.updateStates(i)}};this.removeHeaderItem=function(t,e,n){var i=this._createHeaderEventPayload("headItems",t,e,n,false,"remove");a.updateStates(i)};this.addHeaderEndItem=function(t,e,n,i){if(t.length){var o=this._createHeaderEventPayload("headEndItems",t,e,n,i);a.updateStates(o)}};this.removeHeaderEndItem=function(t,e,n){var i=this._createHeaderEventPayload("headEndItems",t,e,n,false,"remove");a.updateStates(i)};this.addSubHeader=function(t,e,n){if(t.length){this._addShellItem("subHeader",t,e,n)}};this.removeSubHeader=function(t,e,n){this._removeShellItem("subHeader",t,e,n)};this.addActionButton=function(t,e,n){this._addActionButton("actions",t,e,n)};this.removeActionButton=function(t,e,n){this._removeShellItem("actions",t,e,n)};this.addToolAreaItem=function(t,e,n,a){if(t.length){this._addToolAreaItem("toolAreaItems",t,e,n,a)}};this.removeToolAreaItem=function(t,e,n){this._removeShellItem("toolAreaItems",t,e,n)};this.addLeftPaneContent=function(t,e,n){if(t.length){this._addShellItem("paneContent",t,e,n)}};this.removeLeftPaneContent=function(t,e,n){this._removeShellItem("paneContent",t,e,n)};this.addRightFloatingContainerItem=function(t,e,n){if(t.length){this._addRightFloatingContainerItem("RightFloatingContainerItems",t,e,n)}};this.removeRightFloatingContainerItem=function(t,e,n){this._removeShellItem("RightFloatingContainerItems",t,e,n)};this.showSettingsButton=function(t,e){this.addActionButton(["userSettingsBtn"],t,e,false)};this.showSignOutButton=function(t,e){this.addActionButton(["logoutBtn"],t,e,false)};this.showRightFloatingContainer=function(t){this._showRightFloatingContainer(t)};this.addFloatingActionButton=function(t,e,n){if(t.length){this._addShellItem("floatingActions",t,e,n)}};this.removeFloatingActionButton=function(t,e,n){this._removeShellItem("floatingActions",t,e,n)};this.updateStateProperty=function(t,e,n,i,o){if(t.startsWith("application")){var s=this._createHeaderEventPayload(t,e,n,i,false);a.updateStates(s);return}this._setShellItem(t,e,n,i,g,p,o)};this._handleTriggers=function(t){var e,n,a=[],i={};F=false;while(y.length>0){e=y.pop();if(t[e.sName]){a.push(e);i[e.sName]=e}else{e.fnUnRegister(this)}}for(var o in t){if(t.hasOwnProperty(o)){if(!i[o]){n=t[o];n.fnRegister(this);a.push(n)}}}y=a;F=true};this._registerTriggers=function(t){F=false;t.forEach(function(t){t.fnRegister(this);y.push(t)});F=true};function B(t,e){var n=[];if(!e.aTriggers){e.aTriggers=[]}t.forEach(function(t){var a={sName:t.sName,fnRegister:t.fnRegister,fnUnRegister:t.fnUnRegister};e.aTriggers.push(a);n.push(a)});return n}this.createTriggersOnState=function(t){var e=B(t,h);if(!b){this._registerTriggers(e)}};this.createTriggersOnBaseStates=function(t,e,n){var a=[];e.forEach(function(e){var n=h[e];a=B(t,n)});var i=e.indexOf(n)>=0;if(i&&!b){this._registerTriggers(a)}};this.createTriggers=function(t,e,n){var a=v.currentState;if(e===true){this.createTriggersOnState(t,a);return}this.createTriggersOnBaseStates(t,n,a.stateName)};this.showShellItem=function(t,e,n){var a=i.getModelStates(e),o="/currentState"+t,s;for(var r=0;r<a.length;r++){s=h[a[r]].stateName;h[s][t.split("/")[1]]=n}if(v.currentState.stateName===e){p(o,n,v);if(!b){this._renderShellState()}}};this.addCustomItems=function(t,e,n,a){if(this._isValidStateEntry(t)){this._isValidStateEntry(t).fnAdd(e,n,a)}else{throw new Error("Invalid state entry:"+t)}};this.removeCustomItems=function(t,e,n,a){if(this._isValidStateEntry(t)){this._isValidStateEntry(t).fnRemove(e,n,a)}else{throw new Error("Invalid state entry:"+t)}};this.applyExtendedShellState=function(t){R=t;this._renderShellState()};this.addEntryInShellStates=function(t,e,n,a,i){var o,s;if(!C[t]){C[t]={fnAdd:n,fnHide:a};var r=this._getStatesList();for(o=0;o<r.length;o++){s=r[o];h[s][t]=i[s]}this["remove"+e]=a;this["add"+e]=n}else{throw new Error("State entry already exsists:"+t)}};this.addElementToManagedQueue=function(t){var n=e.last("/core/shell/model/currentState/stateName"),a,i=t.getId();if(!A){A={extendedShellStates:{},aTriggers:[],customShellState:this._createCustomShellState("custom")}}a=A.extendedShellStates;if(!a[n]){a[n]={managedObjects:[],customState:undefined}}a[n].managedObjects.push(i);var o=I[i];if(o){o.nRefCount++}else{o={oItem:t,nRefCount:1};I[i]=o}};this.updateNeededTriggersMap=function(t,e){var n;if(!e){return}for(n=0;n<e.length;n++){t[e[n].sName]=e[n]}};this._renderShellState=function(){var t=e.last("/core/shell/model/currentState/stateName"),n,i,o=r({},h[t]),s=A,l,u={};if(b){return}if(s&&s.customShellState){l=s.customShellState.currentState}var f={currentState:r({},o)};v=f;b=true;if(R&&s.extendedShellStates&&s.extendedShellStates[R]){n=s.extendedShellStates[R].customState;i=n.currentState;this._addCustomShellStates(i)}if(l){this._addCustomShellStates(l)}v=e.last("/core/shell/model");if(o&&o.aTriggers){this.updateNeededTriggersMap(u,o.aTriggers)}if(i&&i.aTriggers){this.updateNeededTriggersMap(u,i.aTriggers)}if(l&&l.aTriggers){this.updateNeededTriggersMap(u,l.aTriggers)}if(F){this._handleTriggers(u)}delete f.currentState.aTriggers;var d=c(f.currentState,{aTriggers:true});a.recalculateState(R);e.emit("/core/shell/model/currentState",d);b=false};this._addCustomShellStates=function(t){this.addToolAreaItem(t.toolAreaItems,false,true);this.addSubHeader(t.subHeader,true);this.addRightFloatingContainerItem(t.RightFloatingContainerItems,true);this.addActionButton(t.actions,true,undefined,false);this.addLeftPaneContent(t.paneContent,true);this.addFloatingActionButton(t.floatingActions,true);this.showRightFloatingContainer(t.showRightFloatingContainer)};this._createCustomShellState=function(t){var e={currentState:{stateName:t,headEndItems:[],paneContent:[],headItems:[],actions:[],floatingActions:[],subHeader:[],toolAreaItems:[],RightFloatingContainerItems:[],application:{},showRightFloatingContainer:undefined,headerHeading:undefined}};var n=u[t];if(n){jQuery.extend(e.currentState,n)}return e};this._showRightFloatingContainer=function(t){this._setShellItem("showRightFloatingContainer",t,true,[],g,p)};this._addActionButton=function(t,e,a,i){function o(t,e,a){var i=S(a,t);var o=i.indexOf("logoutBtn");if(o>-1){i.splice.apply(i,[o,0].concat(e))}else{i=i.concat(e)}var s=n.removeDuplicatedActions(i);function r(t){var e=[],n=["recentActivitiesBtn","frequentActivitiesBtn","openCatalogBtn","userSettingsBtn","ActionModeBtn","EditModeBtn","ContactSupportBtn"];for(var a=0;a<n.length;a++){var i=t.indexOf(n[a]);if(i>-1){e.push(t.splice(i,1)[0])}}e=e.concat(t);return e}var l=r(s);p(t,l,a)}this._setShellItem(t,e,a,i,m,o)};this.setFloatingContainerContent=function(t,e,n,a){function i(t,e,n){return e.length===1}function o(t,e,n){p(t,e,n)}this._setShellItem(t,e,n,a,i,o)};this._addShellItem=function(t,e,n,a){function i(t,e,n){if(t.length>0){s.warning("You can only add one item. Replacing existing item: "+t[0]+" in state: "+n+", with the new item: "+e[0]+".")}return true}function o(t,n,a){p(t,e.slice(0),a)}this._setShellItem(t,e,n,a,i,o)};this._addRightFloatingContainerItem=function(t,e,n,a){function i(t,e,n){var a=S(n,t);a=a.concat(e);p(t,a,n)}this._setShellItem(t,e,n,a,m,i)};this._addToolAreaItem=function(t,e,n,a,o){function s(t,e,n){var a=S(n,t),i,o;if(typeof e==="string"){e=[e]}for(o=0;o<e.length;o++){i=e[o];if(a.indexOf(i)<0){a.push(i)}}p(t,a,n)}if(n){var r,l=i.getPassStates(o);for(r=0;r<l.length;r++){this.showShellItem("/toolAreaVisible",l[r],true)}}this._setShellItem(t,e,a,o,m,s)};this._removeShellItem=function(t,e,n,a){function i(t,e){var n,a,i;for(i=0;i<e.length;i++){a=e[i];n=t.indexOf(a);if(n<0){s.warning("You cannot remove Item: "+a+", the Item does not exists.");return false}}return true}function o(t,e,n){var a=S(n,t),i,o,s;for(s=0;s<e.length;s++){o=e[s];i=a.indexOf(o);if(i>-1){a.splice(i,1)}}p(t,a,n)}this._setShellItem(t,e,n,a,i,o)};this._setShellItem=function(t,e,n,a,o,s,r){var l,u;var f=Array.isArray(e)?e.slice(0):e;if(n===true){l="/currentState/"+t;u=S(v,l);if(o(u,f,"currentState")===false){return}if(!_&&!b){s(l,f,w);sap.ui.getCore().getEventBus().publish("launchpad","updateShell",{oModel:v,path:l,aIds:f,sProperty:t});this._renderShellState()}else{s(l,f,v)}}else{var d=r?a:i.getPassStates(a),c,g=v.currentState.stateName;for(c=0;c<d.length;c++){var m=d[c],p;u=S(h[m],"/"+t);if(o(u,f,m)===false){continue}var C=i.getModelStates(m,r);for(p=0;p<C.length;p++){l="/"+C[p]+"/"+t;s(l,f,h);if(g===C[p]){if(!b){this._renderShellState()}}}}}};this._getStatesList=function(){return Object.keys(h)};this._destroyManageQueue=function(){var t,e,n,a,i,o;a=A.extendedShellStates;for(i in a){if(a.hasOwnProperty(i)){o=a[i].managedObjects;for(t=0;t<o.length;t++){e=o[t];n=I[e];n.nRefCount--;if(n.nRefCount===0){n.oItem.destroy();I[e]=null}}delete a[i]}}};this._isValidStateEntry=function(t){return!!C[t]};this.getModelToUpdate=function(){return v};this.setModelToUpdate=function(t,e){_=e;v=t};this._getManagedElements=function(){return I};this.extendStates=function(t){var e;for(e in t){if(t.hasOwnProperty(e)){n.updateProperties(h[e],t[e])}}};this.getBaseStateMember=function(t,e){return h[t][e]};this.getCustomStateDeltaMember=function(t,e){return u[t][e]};this.getAllStatesInDelta=function(){return Object.keys(u)}}var v=new C;return v},true);
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/applicationIntegration/relatedServices/RelatedServices", [],function(){"use strict";function t(){var t=false,i,a=false;this.resetBackNavigationFlag=function(){a=false};sap.ui.getCore().getEventBus().subscribe("relatedServices","resetBackNavigation",this.resetBackNavigationFlag,this);this._defaultBackNavigation=function(){window.history.back()};this.isBackNavigation=function(){return a};this.navigateBack=function(){var e=this;a=true;if(t===true){this._defaultBackNavigation()}else if(i){i()}else{sap.ushell.Container.getServiceAsync("CrossApplicationNavigation").then(function(t){t.isInitialNavigationAsync().then(function(i){if(i){t.toExternal({target:{shellHash:"#"},writeHistory:false});return}e._defaultBackNavigation()})})}};this.setNavigateBack=function(a){t=false;i=a};this.resetNavigateBack=function(){t=true;i=undefined};this.restore=function(a){t=a.bDefaultBrowserBack;i=a.fnCustomBackNavigation};this.store=function(a){a.bDefaultBrowserBack=t;a.fnCustomBackNavigation=i}}return new t},true);
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/applicationIntegration/relatedShellElements/RelatedShellElements", ["sap/ui/thirdparty/jquery","sap/base/Log"],function(jQuery,e){"use strict";function t(){var t=[],n,a,i={},s,o=false,l={},r,d=[],h={home:{actions:[]},app:{actions:["aboutBtn"]},minimal:{actions:["aboutBtn"]},standalone:{actions:["aboutBtn"]},embedded:{actions:["aboutBtn"]},"embedded-home":{actions:["aboutBtn"]},lean:{actions:["aboutBtn"]}},c={home:{NWBC:{headerless:"headerless",default:"minimal"},TR:{headerless:"minimal",default:"minimal"},default:{default:"home"}},app:{NWBC:{headerless:"headerless",default:"app"},TR:{headerless:"minimal",default:"app"},default:{default:"app"}}};this.init=function(e,t){n=e;if(t&&t.length>0){Object.keys(h).forEach(function(e){h[e].actions=t.concat(h[e].actions)})}};this.processDangling=function(){var e,n;for(e=0;e<t.length;e++){n=t.pop();n.func.apply(this,n.args)}};this.setDangling=function(e){o=e};this.calculateElementsState=function(e,t,n,a){var i=c[e]?c[e]:c.default,s=i[a?undefined:t]?i[t]:i.default,o=s[n]?s[n]:s.default;return o};this.createCustomShellState=function(e){var t={currentState:{stateName:e,headEndItems:[],paneContent:[],headItems:[],actions:[],floatingActions:[],subHeader:[],toolAreaItems:[],RightFloatingContainerItems:[],application:{},showRightFloatingContainer:undefined,headerHeading:undefined}},n=h[e];if(n){jQuery.extend(t.currentState,n)}return t};this.createExtendedShellState=function(e,t){var n,i=this.createCustomShellState(e);n=a.extendedShellStates;if(n[e]){return false}s=i;t();if(n[e]){n[e].customState=i}else{n[e]={managedObjects:[],customState:i}}s=a.customShellState;return true};this.assignNew=function(e){i=this.createCustomShellState(e);a.customShellState=i;a.aTriggers=[];a.extendedShellStates={};a.oCheckPoints={};this._updateModel();s=a.customShellState};this._genericSetItem=function(e,t){var a=e.split("/");var i=a.pop();var o=a.reduce(function(e,t){return e[t]},s.currentState);o[i]=t;n._renderShellState()};this._genericAddItems=function(e,t){var a=s.currentState[e];s.currentState[e]=a.concat(t);n._renderShellState()};this.genericSetItem=function(e,n){if(o){t.push({func:this._genericSetItem,args:arguments})}else{this._genericSetItem(e,n)}};this.genericAddItems=function(e,n){if(o){t.push({func:this.genericAddItems,args:arguments})}else{this._genericAddItems(e,n)}};this.setShellModelForApplications=function(t,n){var a=["paneContent","headItems","RightFloatingContainerItems","toolAreaItems","floatingActions","showRightFloatingContainer","headEndItems","headerVisible","subHeader","actions"];if(a.indexOf(t)>-1){this.genericSetItem(t,n)}else{e.error("Not a valid attribute:"+t)}};this.addShellModelForApplications=function(t,n){var a=["paneContent","headItems","RightFloatingContainerItems","toolAreaItems","floatingActions","showRightFloatingContainer","headEndItems","headerVisible","subHeader","actions"];if(a.indexOf(t)>-1){this.genericAddItems(t,n)}else{e.error("Not a valid attribute:"+t)}};this.setStateModelToUpdate=function(e){s=e};this.getStateModelToUpdate=function(){return s};this.model=function(){if(!a){this.create()}r={customShellState:a.customShellState,aTriggers:a.aTriggers,extendedShellStates:a.extendedShellStates,oCheckPoints:a.oCheckPoints};return r};this._updateModel=function(){if(r){r.customShellState=a.customShellState;r.aTriggers=a.aTriggers;r.extendedShellStates=a.extendedShellStates;r.oCheckPoints=a.oCheckPoints}};this.getAppRelatedElement=function(){return{customShellState:a.customShellState,aTriggers:a.aTriggers,extendedShellStates:a.extendedShellStates,oCheckPoints:a.oCheckPoints}};this.create=function(){a={extendedShellStates:{},oCheckPoints:l,aTriggers:d,customShellState:{currentState:{stateName:"app",headEndItems:[],paneContent:[],headItems:[],actions:["aboutBtn"],floatingActions:[],subHeader:[],toolAreaItems:[],RightFloatingContainerItems:[],application:{},showRightFloatingContainer:undefined,headerHeading:undefined}}};s=a.customShellState;this._updateModel();return a};this.restore=function(e){if(e&&e.appRelatedElements){var t=e.appRelatedElements;a.aTriggers=t.aTriggers;a.extendedShellStates=t.extendedShellStates;a.oCheckPoints=t.oCheckPoints;a.customShellState=t.customShellState}this._updateModel();s=a.customShellState};this.store=function(e){};this.clean=function(){a=undefined};this.destroy=function(e){}}return new t},true);
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/components/container/ApplicationContainer", ["sap/base/Log","sap/base/security/encodeXML","sap/base/util/deepEqual","sap/base/util/uid","sap/base/util/UriParameters","sap/m/MessagePopover","sap/m/Text","sap/ui/core/Component","sap/ui/core/ComponentContainer","sap/ui/core/Control","sap/ui/core/Icon","sap/ui/core/mvc/View","sap/ui/core/routing/History","sap/ui/Device","sap/ui/thirdparty/jquery","sap/ui/thirdparty/URI","sap/ushell/ApplicationType","sap/ushell/Config","sap/ushell/EventHub","sap/ushell/library","sap/ushell/resources","sap/ushell/System","sap/ushell/User","sap/ushell/utils","sap/ushell/utils/UrlParsing"],function(e,t,a,n,r,o,i,s,p,l,u,f,d,c,jQuery,g,m,h,y,v,C,I,b,_,P){"use strict";var A="sap.ushell.components.container.",S=A+"ApplicationContainer",E="sap.ushell.Container.dirtyState.",w="autoplay;battery;camera;display-capture;geolocation;gyroscope;magnetometer;microphone;midi;clipboard-write;clipboard-read;fullscreen;serial;",x,U,R,T=false,M=false,D=[],L=0,F=0;var O=["sap-ach","sap-fiori-id","sap-hide-intent-link","sap-priority","sap-tag","sap-ui-app-id-hint","sap-ui-debug","sap-ui-fl-control-variant-id","sap-ui-fl-max-layer","sap-ui-tech-hint","sap-ui2-tcode","sap-ui2-wd-app-id","sap-ui2-wd-conf-id","sap-ushell-cdm-site-url","sap-ushell-navmode","sap-ushell-next-navmode","sap-ushell-url","sap-app-origin-hint"];function N(e){sap.ushell.Container.getServiceAsync("CrossApplicationNavigation").then(function(t){t.isUrlSupported(e.url).done(function(){e.promise.resolve({allowed:true,id:e.id})}).fail(function(){e.promise.resolve({allowed:false,id:e.id})})})}function H(e){var t={asyncURLHandler:he.prototype._adaptIsUrlSupportedResultForMessagePopover};if(o&&o.setDefaultHandlers){o.setDefaultHandlers(t)}y.emit("StepDone",e.stepName)}y.once("initMessagePopover").do(H);x=new _.Map;function V(e){return x.get(e.getId())}function j(){return U}function W(e){var t=new r(e).mParams,a=t["sap-xapp-state"],n;delete t["sap-xapp-state"];n={startupParameters:t};if(a){n["sap-xapp-state"]=a}return n}function k(e,t){return C.i18n.getText(e,t)}function q(){return new u({size:"2rem",src:"sap-icon://error",tooltip:he.prototype._getTranslatedText("an_error_has_occured")})}function B(t){var a=t.getAggregation("child"),n;if(a instanceof p){n=a.getComponentInstance().getMetadata().getName().replace(/\.Component$/,"");e.debug("unloading component "+n,null,S)}t.destroyAggregation("child")}function J(t,a,n){return new Promise(function(r){var o,i,l,u,d,c={},g,m;function h(e){e.setWidth(t.getWidth());e.setHeight(t.getHeight());e.addStyleClass("sapUShellApplicationContainer");t.setAggregation("child",e,true)}o=a.indexOf("?");if(o>=0){u=he.prototype._getParameterMap(a);c=u.startupParameters;a=a.slice(0,o)}if(a.slice(-1)!=="/"){a+="/"}if(/\.view\.(\w+)$/i.test(n)){l=/^SAPUI5=(?:([^/]+)\/)?([^/]+)\.view\.(\w+)$/i.exec(n);if(!l){e.error("Invalid SAPUI5 URL",n,S);r(he.prototype._createErrorControl());return}d=l[1];g=l[2];m=l[3].toUpperCase();if(d){g=d+"."+g}else{i=g.lastIndexOf(".");if(i<1){e.error("Missing namespace",n,S);return he.prototype._createErrorControl()}d=g.slice(0,i)}}else{d=n.replace(/^SAPUI5=/,"")}var y={};var v=d.replace(/\./g,"/");y[d]=a+v;sap.ui.loader.config({paths:y});he.prototype._destroyChild(t);if(g){if(t.getApplicationConfiguration()){c.config=t.getApplicationConfiguration()}f.create({id:t.getId()+"-content",type:m,viewData:c||{},viewName:g}).then(function(e){t.fireEvent("applicationConfiguration");h(e);r(e)})}else{e.debug("loading component "+d,null,S);var C=u?{startupParameters:u.startupParameters}:{startupParameters:{}};if(u&&u["sap-xapp-state"]){C["sap-xapp-state"]=u["sap-xapp-state"]}if(t.getApplicationConfiguration()){C.config=t.getApplicationConfiguration()}s.create({id:t.getId()+"-component",componentData:C,name:d}).then(function(e){t.fireEvent("applicationConfiguration",{configuration:e.getMetadata().getConfig()});var a=new p({id:t.getId()+"-content",component:e});h(a);r(a)})}})}function K(e,t){setTimeout(function(){sap.ui.getCore().getEventBus().publish("sap.ushell",e,t)},0)}function z(t,a,n){var r=this,o,i={oControl:undefined,oPromise:undefined},l,u,f,d={startupParameters:{}},c,g=t.getComponentHandle(),m,h;function y(e){t.fireEvent("applicationConfiguration",{configuration:e.getMetadata().getConfig()});u=new p({id:t.getId()+"-content",component:e});u.setHeight(t.getHeight());u.setWidth(t.getWidth());u.addStyleClass("sapUShellApplicationContainer");t._disableRouterEventHandler=he.prototype._disableRouter.bind(r,e);sap.ui.getCore().getEventBus().subscribe("sap.ushell.components.container.ApplicationContainer","_prior.newUI5ComponentInstantion",t._disableRouterEventHandler);t.setAggregation("child",u,true);sap.ushell.Container.getServiceAsync("PluginManager").then(function(t){m=t.getPluginLoadingPromise("RendererExtensions");h=m&&m.state();if(h==="pending"){m.done(function(){he.prototype._publishExternalEvent("appComponentLoaded",{component:e})}).fail(function(){he.prototype._publishExternalEvent("appComponentLoaded",{component:e})})}if(h==="resolved"||h==="rejected"){he.prototype._publishExternalEvent("appComponentLoaded",{component:e})}});return u}l=a.indexOf("?");if(l>=0){f=he.prototype._getParameterMap(a);d={startupParameters:f.startupParameters};if(f["sap-xapp-state"]){d["sap-xapp-state"]=f["sap-xapp-state"]}a=a.slice(0,l)}if(t.getApplicationConfiguration()){d.config=t.getApplicationConfiguration()}if(a.slice(-1)!=="/"){a+="/"}he.prototype._destroyChild(t);c={id:t.getId()+"-component",name:n,componentData:d};e.debug("Creating component instance for "+n,JSON.stringify(c),S);sap.ui.getCore().getEventBus().publish("sap.ushell.components.container.ApplicationContainer","_prior.newUI5ComponentInstantion",{name:n});if(g){var v=g.getInstance(c);i.oControl=y(v)}else{o=new jQuery.Deferred;var C={};var I=n.replace(/\./g,"/");C[I]=a;sap.ui.loader.config({paths:C});e.error("No component handle available for '"+n+"'; fallback to component.load()",null,S);s.create({id:t.getId()+"-component",name:n,manifest:false,componentData:d}).then(function(e){o.resolve(y(e))});i.oPromise=o.promise()}return i}function G(t){var a;if(t instanceof s&&typeof t.getRouter==="function"){a=t.getRouter();if(a&&typeof a.stop==="function"){e.info("router stopped for instance "+t.getId());a.stop()}}}function $(e){var t=document.createElement("a"),a=new r(e).get("sap-client"),n;t.href=e;n=t.protocol+"//"+t.host;return new I({alias:a?n+"?sap-client="+a:n,baseUrl:n,client:a||undefined,platform:"abap"})}function Q(e,t){var a=false,n=e.getDomRef(),r,o;if(e.getIframeWithPost()===true&&n&&n.getAttribute&&n.getAttribute("sap-iframe-app")=="true"){n=jQuery("#"+n.getAttribute("id")+"-iframe")[0]}if(n){r=g(e._getIFrameUrl(n)||window.location&&window.location.href||"");o=r.protocol()+"://"+r.host();a=t.source===n.contentWindow||t.origin===o}return a}function X(t,a,r){var o=JSON.stringify({type:"request",service:a,request_id:n(),body:{}});e.debug("Sending post message request to origin ' "+r+"': "+o,null,"sap.ushell.components.container.ApplicationContainer");t.postMessage(o,r)}function Y(){var e=this.getDomRef();if(!e||e.tagName!=="IFRAME"){if(this.getIframeWithPost()===true&&e&&e.getAttribute&&e.getAttribute("sap-iframe-app")=="true"){return jQuery("#"+e.getAttribute("id")+"-iframe")[0]}return null}return e}function Z(e){var t;if(e===undefined){e=this._getIFrame()}if(this.getIframeWithPost()===true){t=jQuery("#"+e.getAttribute("id").replace("-iframe","-form"))[0].action;if(t===undefined&&(new g).query(true).hasOwnProperty("sap-isolation-enabled")){t=e.src}}else{t=e.src}return t}function ee(t,a){var n=t&&t.getUi5ComponentName&&t.getUi5ComponentName(),r=a.data,o=typeof r==="string"&&r.indexOf("sap.ushell.appRuntime.iframeIsValid")>0;if(t&&!t.getActive()&&o!==true){e.debug("Skipping handling of postMessage 'message' event with data '"+JSON.stringify(r)+"' on inactive container '"+t.getId()+"'","Only active containers can handle 'message' postMessage event","sap.ushell.components.container.ApplicationContainer");return}if(typeof n==="string"){e.debug("Skipping handling of postMessage 'message' event with data '"+JSON.stringify(r)+"' on container of UI5 application '"+n+"'","Only non UI5 application containers can handle 'message' postMessage event","sap.ushell.components.container.ApplicationContainer");return}var i={bPluginsStatusChecked:T,bKeepMessagesForPlugins:M,bApiRegistered:true};R(t,a,i);he.prototype._handlePostMessagesForPluginsPostLoading(t,a,i)}function te(t,a,n){var r,o;if(n.bApiRegistered!==false){return}sap.ushell.Container.getServiceAsync("PluginManager").then(function(n){if(T===false){T=true;r=n.getPluginLoadingPromise("RendererExtensions");o=r&&r.state();if(o==="pending"){M=true;r.always(function(){var t;M=false;e.debug("Processing post messages queue after 'RendererExtensions' plugins loaded, queue size is: "+D.length,null,"sap.ushell.components.container.ApplicationContainer");for(var a=0;a<D.length;a++){t=D[a];try{he.prototype._handleMessageEvent.call(t.that,t.oContainer,t.oMessage)}catch(t){e.error(t.message||t,null,"sap.ushell.components.container.ApplicationContainer")}}D=[]})}}if(M===true){D.push({index:L++,that:this,oContainer:t,oMessage:a})}})}function ae(){T=false;M=false;D=[];L=0}function ne(e,t){var a=e._getIFrame(),n=e.getApplicationType();if(_.isApplicationTypeEmbeddedInIframe(e.getApplicationType(n))&&a){var r=new g(e._getIFrameUrl(a));var o=r.protocol()+"://"+r.host();a.contentWindow.postMessage(JSON.stringify({action:"pro54_disableDirtyHandler"}),o);t.preventDefault()}}function re(e,t,a){e.openStart("div",t).accessibilityState(t).class("sapUShellApplicationContainer").style("height",t.getHeight()).style("width",t.getWidth()).openEnd();if(a){e.renderControl(a)}e.close("div")}function oe(e,t,a){if(_.isApplicationTypeEmbeddedInIframe(t)||_.isApplicationTypeEmbeddedInIframe(e.getFrameworkId())){var n=e.getTargetNavigationMode();a=he.prototype._adjustNwbcUrl(a,t,n,e.getIsStateful());_.localStorageSetItem(e.globalDirtyStorageKey,sap.ushell.Container.DirtyState.INITIAL)}return a}function ie(e,t,a,n){var o,i=function(){var e=_.getParameterValueBoolean("sap-accessibility");if(e!==undefined){return e}return sap.ushell.Container.getUser().getAccessibilityMode()},s=function(){var t=new r(e)||{mParams:{}};if(t.mParams["sap-theme"]===undefined){return sap.ushell.Container.getUser().getTheme(b.prototype.constants.themeFormat.NWBC)}return undefined},p=function(){var t=false,a=new r(e)||{mParams:{}};t=sap.ui.getCore().getConfiguration().getStatistics()&&a.mParams["sap-statistics"]===undefined;return t},l=function(){var e=window.hasher&&window.hasher.getHash(),t="",a;if(e&&e.length>0&&e.indexOf("sap-iapp-state=")>0){a=/(?:sap-iapp-state=)([^&/]+)/.exec(e);if(a&&a.length===2){t=a[1]}}return t},u=function(){var e="";var t=!!jQuery("body.sapUiSizeCompact").length;var a=!!jQuery("body.sapUiSizeCozy").length;if(t===true){e="0"}else if(a){e="1"}return e};e+=e.indexOf("?")>=0?"&":"?";e+="sap-ie=edge";o=s();if(o){e+=e.indexOf("?")>=0?"&":"?";e+="sap-theme="+encodeURIComponent(o)}if(a){e+=e.indexOf("?")>=0?"&":"?";e+="sap-target-navmode="+encodeURIComponent(a)}if(i()){e+=e.indexOf("?")>=0?"&":"?";e+="sap-accessibility=X"}if(p()){e+=e.indexOf("?")>=0?"&":"?";e+="sap-statistics=true"}if(t==="TR"||t==="GUI"){e+=e.indexOf("?")>=0?"&":"?";e+="sap-keepclientsession=2"}else if(n){e+=e.indexOf("?")>=0?"&":"?";e+="sap-keepclientsession=1"}var f=l();if(f&&f.length>0){e+=e.indexOf("?")>=0?"&":"?";e+="sap-iapp-state="+f}var d=u();if(d&&d.length>0){e+=e.indexOf("?")>=0?"&":"?";e+="sap-touch="+d}var c=0;if(h.last("/core/shell/sessionTimeoutIntervalInMinutes")>0){c=h.last("/core/shell/sessionTimeoutIntervalInMinutes")}e+=e.indexOf("?")>=0?"&":"?";e+="sap-ushell-timeout="+c;return _.appendSapShellParam(e,t)}function se(e,t,a,n){var r=t.getAggregation("child"),o,i;if(!r||t._bRecreateChild){i=he.prototype._createUi5Component(t,a,n);if(i.oControl!==undefined){t._bRecreateChild=false;he.prototype._renderControlInDiv(e,t,i.oControl)}else{t.oDeferredControlCreation=new jQuery.Deferred;he.prototype._renderControlInDiv(e,t);i.oPromise.then(function(e){t._bRecreateChild=false;o=sap.ui.getCore().createRenderManager();o.renderControl(e);o.flush(jQuery("#"+t.getId())[0]);o.destroy();t.oDeferredControlCreation.resolve()})}}else{he.prototype._renderControlInDiv(e,t,r)}}function pe(e,t,n){var r=e.getProperty(t);if(a(r,n)){return}e.setProperty(t,n);e._bRecreateChild=true}function le(t,a,n,o,i){var s,p=true,l=false;localStorage.removeItem(a.globalDirtyStorageKey);a.oDeferredControlCreation=undefined;if(i&&i.indexOf("SAPUI5.Component=")===0&&n===m.URL.type){se(t,a,o,i.replace(/^SAPUI5\.Component=/,""));return}if(i&&i.indexOf("SAPUI5=")===0&&n===m.URL.type){he.prototype._renderControlInDiv(t,a,undefined,"open");a.oDeferredControlCreation=new jQuery.Deferred;he.prototype._createUi5View(a,o,i).then(function(e){var n,r=jQuery("#"+a.getId());if(r&&r.length>0){n=sap.ui.getCore().createRenderManager();n.renderControl(e);n.flush(jQuery("#"+a.getId())[0]);n.destroy()}else{t.renderControl(e)}a.oDeferredControlCreation.resolve()});he.prototype._renderControlInDiv(t,a,undefined,"close");return}e.debug('Not resolved as "SAPUI5.Component=" or "SAPUI5=" , '+"will attempt to load into iframe "+i);if(!a.getActive()){e.debug("Skipping rendering container iframe","Container '"+a.getId()+"' is inactive");return}try{o=a.getFrameSource(n,o)}catch(n){e.error(n.message||n,null,S);a.fireEvent("applicationConfiguration");t.renderControl(he.prototype._createErrorControl());return}if(sap.ushell.Container){s=he.prototype._getLogoutHandler(a);if(!s){if(_.isApplicationTypeEmbeddedInIframe(n)){s=he.prototype._logout.bind(null,a);x.put(a.getId(),s);sap.ushell.Container.attachLogoutEvent(s);sap.ushell.Container.addRemoteSystem(he.prototype._createSystemForUrl(o))}}else if(!_.isApplicationTypeEmbeddedInIframe(n)){sap.ushell.Container.detachLogoutEvent(s);x.remove(a.getId())}}o=he.prototype._checkNwbcUrlAdjustment(a,n,o);var u=new r(document.URL);if(u.has("sap-iframe-params")){var f=u.get("sap-iframe-params")||"",d=f.split(",");if(d.length>0){var c=new g(o);d.forEach(function(e){if(e&&e.length>0){if(u.has(e)){c.addQuery(e,u.get(e))}}});o=c.toString()}}if(n==="TR"){a.setProperty("iframePostAllParams",true,true)}if(u.get("sap-post")==="false"){p=false}else if(window.QUnit!==undefined){p=a.getIframeWithPost()}if(p===true&&a.getOpenWithPostByAppParam()===false){p=false}if(u.get("sap-post")==="true"){l=true}if(p===true&&(n==="NWBC"||n==="TR"||n==="WDA")||l===true){a.setProperty("iframeWithPost",true,true);a.oDeferredRenderer=new jQuery.Deferred;o=he.prototype._filterURLParams(o);var y=[];var v=he.prototype._getParamKeys(o,y);he.prototype._generateRootElementForIFrame(t,a,true);if(v.length>0){sap.ushell.Container.getServiceAsync("CrossApplicationNavigation").then(function(e){e.getAppStateData(v).then(function(e){var n;var r=jQuery("#"+a.getId());if(r.length>0){n=sap.ui.getCore().createRenderManager();he.prototype._buildHTMLElements(n,a,e,y,o);n.flush(r[0]);n.destroy()}else{he.prototype._buildHTMLElements(t,a,e,y,o)}setTimeout(a.oDeferredRenderer.resolve,0)},function(e){he.prototype._buildHTMLElements(t,a,undefined,y,o);setTimeout(a.oDeferredRenderer.resolve,0)})})}else{he.prototype._buildHTMLElements(t,a,undefined,y,o);setTimeout(a.oDeferredRenderer.resolve,0)}he.prototype._generateRootElementForIFrame(t,a,false);return}if(a.getFrameworkId&&a.getFrameworkId()==="UI5"&&a.getIsStateful&&a.getIsStateful()===true){a.setProperty("isIframeBusy",true,true)}a.fireEvent("applicationConfiguration");t.openStart("iframe",a).accessibilityState(a).attr("src",o).attr("title",C.i18n.getText("AppilcationContainer.IframeTitle")).attr("sap-iframe-idx",++F).class("sapUShellApplicationContainer").style("height",a.getHeight()).style("width",a.getWidth());if(h.last("/core/shell/enableFeaturePolicyInIframes")===true){t.attr("allow",w)}t.openEnd().close("iframe")}function ue(e){var t=new g(e);t=t.removeSearch(O);return t.toString()}function fe(e,t){var a=[],n;if(e.indexOf("sap-intent-param=")>0){n=/(?:sap-intent-param=)([^&/]+)/.exec(e);if(n&&n.length===2){a.push([n[1]]);t.push("sap-intent-param-data")}}if(e.indexOf("sap-xapp-state=")>0){n=/(?:sap-xapp-state=)([^&/]+)/.exec(e);if(n&&n.length===2){a.push([n[1]]);t.push("sap-xapp-state-data")}}if(e.indexOf("sap-iapp-state=")>0){n=/(?:sap-iapp-state=)([^&/]+)/.exec(e);if(n&&n.length===2){a.push([n[1]]);t.push("sap-iapp-state-data")}}return a}function de(e,t,a,n,o){var i=t.getId()+"-form",s="",p=false;if(a===undefined){a=[]}a.push([sap.ushell.Container.getFLPUrl(true)]);n.push("sap-flp-url");a.push([t.getSystemAlias()]);n.push("system-alias");var l="";var u={};n.forEach(function(e,t){if(a[t][0]){u[e]=a[t][0]}});var f=o;l=JSON.stringify(u);var d={};if(t.getIframePostAllParams()===true){d=new r(o);s=ce(t,d,false);if(s!==""){o=ge(o,d)}}t.fireEvent("applicationConfiguration");e.openStart("form").attr("id",i).attr("method","post").attr("name",i).attr("target",t.getId()+"-iframe").attr("action",o).style("display","none").openEnd();e.voidStart("input").attr("name","sap-flp-params").attr("value",l).voidEnd();if(t.getIframePostAllParams()===true){ce(t,d,true,e)}e.close("form");var c=t.sId;if(t.hasStyleClass("sapUShellApplicationContainerIframeHidden")){p=true;t.toggleStyleClass("sapUShellApplicationContainerIframeHidden",false)}t.sId+="-iframe";e.openStart("iframe",t).attr("name",t.getId()).accessibilityState(t).attr("sap-orig-src",f).attr("title",C.i18n.getText("AppilcationContainer.IframeTitle")).attr("sap-iframe-idx",++F).class("sapUShellApplicationContainer").style("height",t.getHeight()).style("width",t.getWidth());if(h.last("/core/shell/enableFeaturePolicyInIframes")===true){e.attr("allow",w.replaceAll(";"," "+new g(o).origin()+";"))}e.openEnd().close("iframe");t.sId=c;if(p){t.toggleStyleClass("sapUShellApplicationContainerIframeHidden",true)}}function ce(e,t,a,n){var r="";var o="";if(t.has("sap-iframe-hint")){r=t.get("sap-iframe-hint")}var i=t.mParams;if(e.getApplicationType()==="TR"||r==="GUI"){var s,p;for(s in i){if(s==="sap-iframe-hint"||s==="sap-keep-alive"){continue}p=i[s][0];if(a===true){n.voidStart("input").attr("name",s).attr("value",p).voidEnd()}else{o+="*"}}}return o}function ge(e,t){var a=t.get("sap-iframe-hint"),n=t.get("sap-keep-alive"),r=new g(e).query("");if(typeof a==="string"){r.addSearch("sap-iframe-hint",a)}if(typeof n==="string"){r.addSearch("sap-keep-alive",n)}return r.toString()}function me(e,t,a){if(a){e.openStart("div",t).attr("sap-iframe-app","true").class("sapUShellApplicationContainer").style("height",t.getHeight()).style("width",t.getWidth()).openEnd()}else{e.close("div")}}var he=l.extend(S,{metadata:{properties:{additionalInformation:{defaultValue:"",type:"string"},application:{type:"object"},applicationConfiguration:{type:"object"},applicationType:{defaultValue:"URL",type:A+"ApplicationType"},height:{defaultValue:"100%",type:"sap.ui.core.CSSSize"},navigationMode:{defaultValue:"",type:"string"},targetNavigationMode:{defaultValue:"",type:"string"},text:{defaultValue:"",type:"string"},url:{defaultValue:"",type:"string"},visible:{defaultValue:true,type:"boolean"},active:{defaultValue:true,type:"boolean"},"sap-system":{type:"string"},applicationDependencies:{type:"object"},componentHandle:{type:"object"},ui5ComponentName:{type:"string"},width:{defaultValue:"100%",type:"sap.ui.core.CSSSize"},shellUIService:{type:"object"},appIsolationService:{type:"object"},reservedParameters:{type:"object"},coreResourcesFullyLoaded:{type:"boolean"},isStateful:{defaultValue:false,type:"boolean"},iframeHandlers:{defaultValue:"",type:"string"},openWithPostByAppParam:{defaultValue:true,type:"boolean"},iframeWithPost:{defaultValue:false,type:"boolean"},beforeAppCloseEvent:{type:"object"},extendedInfo:{type:"object"},systemAlias:{defaultValue:"",type:"string"},iframePostAllParams:{defaultValue:false,type:"boolean"},isKeepAlive:{defaultValue:false,type:"boolean"},frameworkId:{defaultValue:"",type:"string"},iframeReusedForApp:{defaultValue:false,type:"boolean"},isIframeValidTime:{defaultValue:{time:0},type:"object"},isIframeBusy:{defaultValue:false,type:"boolean"}},events:{applicationConfiguration:{}},aggregations:{child:{multiple:false,type:"sap.ui.core.Control",visibility:"hidden"}},library:"sap.ushell",designtime:"sap/ushell/designtime/ApplicationContainer.designtime"},exit:function(){var e,t=this;if(sap.ushell.Container){e=he.prototype._getLogoutHandler(t);if(e){sap.ushell.Container.detachLogoutEvent(e);x.remove(t.getId())}}localStorage.removeItem(t.globalDirtyStorageKey);if(t._unloadEventListener){removeEventListener("unload",t._unloadEventListener)}if(t._disableRouterEventHandler){sap.ui.getCore().getEventBus().unsubscribe("sap.ushell.components.container.ApplicationContainer","_prior.newUI5ComponentInstantion",t._disableRouterEventHandler)}if(t._storageEventListener){removeEventListener("storage",t._storageEventListener)}if(t._messageEventListener){removeEventListener("message",t._messageEventListener)}he.prototype._destroyChild(t);if(l.exit){l.exit.apply(t)}},setHandleMessageEvent:function(e){R=e},init:function(){var t=this;t.globalDirtyStorageKey=E+n();t._unloadEventListener=t.exit.bind(t);addEventListener("unload",t._unloadEventListener);t._storageEventListener=function(a){var n=t.getApplicationType();if(a.key===t.globalDirtyStorageKey&&a.newValue===sap.ushell.Container.DirtyState.PENDING&&_.isApplicationTypeEmbeddedInIframe(n)){var r=t._getIFrame();if(r){e.debug("getGlobalDirty() send pro54_getGlobalDirty ",null,"sap.ushell.components.container.ApplicationContainer");var o=new g(t._getIFrameUrl(r));var i=o.protocol()+"://"+o.host();r.contentWindow.postMessage(JSON.stringify({action:"pro54_getGlobalDirty"}),i)}}};addEventListener("storage",t._storageEventListener);t._messageEventListener=he.prototype._handleMessageEvent.bind(null,t);addEventListener("message",t._messageEventListener)},onAfterRendering:function(){var e=this;this.rerender=function(){};if(c.os.ios&&this.$().prop("tagName")==="IFRAME"){this.$().parent().css("overflow","auto")}if(this.oDeferredRenderer){this.oDeferredRenderer.done(function(){var t=document.getElementById(e.getId()+"-form");if(t){t.submit()}})}},renderer:{apiVersion:2,render:function(t,a){var n=a.getApplication(),r=a.launchpadData,o;if(!a.getVisible()){he.prototype._renderControlInDiv(t,a);return}if(a.bTestControl){he.prototype._renderControlInDiv(t,a,a.oTestControl)}else if(a.error){delete a.error;he.prototype._renderControlInDiv(t,a,he.prototype._createErrorControl())}else if(!n){he.prototype._render(t,a,a.getApplicationType(),a.getUrl(),a.getAdditionalInformation())}else if(!n.isResolvable()){he.prototype._render(t,a,n.getType(),n.getUrl(),"")}else if(r){he.prototype._render(t,a,r.applicationType,r.Absolute.url.replace(/\?$/,""),r.applicationData)}else{e.debug("Resolving "+n.getUrl(),null,S);n.resolve(function(t){e.debug("Resolved "+n.getUrl(),JSON.stringify(t),S);a.launchpadData=t;he.prototype._destroyChild(a)},function(e){var t=n.getMenu().getDefaultErrorHandler();if(t){t(e)}he.prototype._destroyChild(a);a.error=e});o=new i({text:he.prototype._getTranslatedText("loading",[n.getText()])});he.prototype._destroyChild(a);a.setAggregation("child",o);he.prototype._renderControlInDiv(t,a,o)}}}});he.prototype.getFrameSource=function(e,t){if(!Object.prototype.hasOwnProperty.call(m.enum,e)){throw new Error("Illegal application type: "+e)}return t};he.prototype.setUrl=function(e){pe(this,"url",e)};he.prototype.setAdditionalInformation=function(e){pe(this,"additionalInformation",e)};he.prototype.setApplicationType=function(e){pe(this,"applicationType",e)};he.prototype.createPostMessageRequest=function(e,t){var a=Date.now().toString();return{type:"request",request_id:a,service:e,body:t}};he.prototype.setNewTRApplicationContext=function(e){var t=new jQuery.Deferred,a=this._getIFrame(),n,r,o=this;if(!a){return t.promise().reject({message:"Expected an existing TR application application frame but found none."})}function i(){if(r){r["sap-flp-url"]=sap.ushell.Container.getFLPUrl(true);r["system-alias"]=o.getSystemAlias();n["sap-flp-params"]=r}var e=o.createPostMessageRequest("sap.its.startService",n);o.postMessageToIframe(e,a,true).then(function(){t.resolve()}).catch(function(e){t.reject({eventData:e,message:"Failed to change application context."})})}e=_.appendSapShellParam(e);e=he.prototype._filterURLParams(e);n={url:e};if(this.getIframeWithPost&&this.getIframeWithPost()===true){var s=[];var p=he.prototype._getParamKeys(e,s);if(p.length>0){sap.ushell.Container.getServiceAsync("CrossApplicationNavigation").then(function(e){e.getAppStateData(p).then(function(e){r={};s.forEach(function(t,a){if(e[a][0]){r[t]=e[a][0]}});i()},function(e){i()})})}else{r={};i()}}else{i()}return t.promise()};he.prototype.postMessageToIframe=function(t,a,n){var r=this;var o=t.request_id;return new Promise(function(i,s){function p(a){var n={};try{if(typeof a.data==="string"&&a.data.indexOf("{")===0){try{n=JSON.parse(a.data)}catch(e){n={}}}else{return}if(!n.request_id||o!==n.request_id){return}if(n.status==="success"){i(n)}else{s(n)}window.removeEventListener("message",p)}catch(n){i();e.warning("Obtained bad response from framework in response to message "+t.request_id);e.debug("Underlying framework returned invalid response data: '"+a.data+"'")}}var l=JSON.stringify(t);e.debug("Sending postMessage "+l+" to application container '"+r.getId()+"'");var u=new g(r._getIFrameUrl(a));var f=u.protocol()+"://"+u.host();if(n){window.addEventListener("message",p,false);a.contentWindow.postMessage(l,f)}else{a.contentWindow.postMessage(l,f);i()}})};he.prototype.postMessageToCurrentIframe=function(e,t){if(t===undefined){t=false}var a=this._getIFrame();if(!a){if(t){return Promise.reject({message:"Expected opened iframe not found."})}return}return this.postMessageToIframe(e,a,t)};he.prototype.setNewApplicationContext=function(e,t){var a=this;var n=this["setNew"+e+"ApplicationContext"];if(!n){return Promise.reject({message:"Unsupported application type"})}var r=this._getIFrame();if(!r){return Promise.reject({message:"Expected an existing TR application application frame but found none."})}var o=this.createPostMessageRequest("sap.gui.triggerCloseSessionImmediately",{});return this.postMessageToIframe(o,r,true).then(function(){return n.call(a,t)},function(e){return Promise.reject({eventData:e,message:"Failed to change application context."})})};he.prototype.onApplicationOpened=function(e){var t=this.getIsStateful();if(!t){return Promise.resolve()}var a=this.getApplicationType();if(a==="TR"&&e!=="TR"){var n=this._getIFrame();if(!n){return Promise.reject({message:"Expected an exisiting TR application application frame but found none."})}var r=this.createPostMessageRequest("sap.gui.triggerCloseSession",{});return this.postMessageToIframe(r,n,false).catch(function(e){return Promise.reject({eventData:e,message:"Failed to change application context."})})}return Promise.resolve()};he.prototype.postMessageRequest=function(e,t){var a=this._getIFrame();if(!a){return Promise.reject({message:"Expected an exisiting TR application application frame but found none."})}var n=this.createPostMessageRequest(e,t||{});return this.postMessageToIframe(n,a,false).catch(function(e){return Promise.reject({eventData:e,message:"Failed to post message."})})};he.prototype.sendBeforeAppCloseEvent=function(){var e=this.getBeforeAppCloseEvent&&this.getBeforeAppCloseEvent(),t;if(e&&e.enabled&&e.enabled===true){t=this.createPostMessageRequest("sap.ushell.services.CrossApplicationNavigation.beforeAppCloseEvent",e.params);return this.postMessageToIframe(t,this._getIFrame(),true)}return undefined};he.prototype.getDeffedControlCreation=function(e){return this.oDeferredControlCreation?this.oDeferredControlCreation.promise():jQuery.Deferred().resolve().promise()};he.prototype._getCommunicationHandlers=j;he.prototype._adaptIsUrlSupportedResultForMessagePopover=N;he.prototype._getLogoutHandler=V;he.prototype._getParameterMap=W;he.prototype._getTranslatedText=k;he.prototype._createErrorControl=q;he.prototype._destroyChild=B;he.prototype._createUi5View=J;he.prototype._publishExternalEvent=K;he.prototype._createUi5Component=z;he.prototype._disableRouter=G;he.prototype._createSystemForUrl=$;he.prototype._isTrustedPostMessageSource=Q;he.prototype._handleMessageEvent=ee;he.prototype._logout=ne;he.prototype._renderControlInDiv=re;he.prototype._checkNwbcUrlAdjustment=oe;he.prototype._adjustNwbcUrl=ie;he.prototype._render=le;he.prototype._getParamKeys=fe;he.prototype._buildHTMLElements=de;he.prototype._buildHTMLForAllPostParams=ce;he.prototype._generateRootElementForIFrame=me;he.prototype._backButtonPressedCallback=X;he.prototype._getIFrame=Y;he.prototype._getIFrameUrl=Z;he.prototype._filterURLParams=ue;he.prototype._resetPluginsLoadIndications=ae;he.prototype._handlePostMessagesForPluginsPostLoading=te;return he},true);
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/iconfonts", ["sap/ui/core/IconPool"],function(F){"use strict";var E={};E.registerFiori2IconFont=function(){F.registerFont({fontFamily:"BusinessSuiteInAppSymbols",fontURI:sap.ui.require.toUrl("sap/ushell/themes/base/fonts"),lazy:true});F.registerFont({fontFamily:"SAP-icons-TNT",fontURI:sap.ui.require.toUrl("sap/tnt/themes/base/fonts"),lazy:true});F.registerFont({fontFamily:"SAP-icons-TNT",collectionName:"TNTIcons",fontURI:sap.ui.require.toUrl("sap/tnt/themes/base/fonts"),lazy:true});var E={fontFamily:"SAP-Icons",collectionName:"Fiori2",icons:[["F0017","e05e"],["F0020","e0c3"],["F0021","e10d"],["F0392","e04f"],["F0394","e044"],["F0395","e132"],["F0396","e064"],["F0397","e0a4"],["F0398","e0a4"],["F0399","e044"],["F0401","e08d"],["F0402","e13e"],["F0403","e13e"],["F0404","e033"],["F0405","e0b3"],["F0406","e043"],["F0407","e043"],["F0408","e043"],["F0409","e075"],["F0410","e007"],["F0411","e075"]]},e={fontFamily:"Fiori2",collectionName:"Fiori2",icons:[["F0002","E236"],["F0003","E202"],["F0004","E203"],["F0005","E204"],["F0006","E205"],["F0009","E206"],["F0010","E207"],["F0012","E208"],["F0014","E209"],["F0018","E200"],["F0019","E201"],["F0023","E20A"],["F0024","E20B"],["F0025","E20C"],["F0026","E20D"],["F0072","E23A"],["F0100","E23B"],["F0101","E23C"],["F0102","E23D"],["F0106","E20F"],["F0144","E210"],["F0190","E23E"],["F0194","E23F"],["F0210","E242"],["F0211","E243"],["F0212","E244"],["F0217","E211"],["F0220","E213"],["F0243","E215"],["F0244","E216"],["F0245","E217"],["F0248","E21A"],["F0249","E21B"],["F0252","E21E"],["F0257","E21F"],["F0281","E220"],["F0282","E221"],["F0283","E222"],["F0284","E223"],["F0292","E224"],["F0295","E225"],["F0296","E226"],["F0316","E227"],["F0317","E228"],["F0321","E229"],["F0339","E22A"],["F0340","E22B"],["F0341","E22C"],["F0342","E22D"],["F0365","E212"],["F0366","E22F"],["F0367","E230"],["F0368","E231"],["F0369","E235"],["F0370","E22E"],["F0372","E232"],["F0380","E233"],["F0381","E234"],["F0382","E246"],["F0390","E20E"],["F0412","E214"],["F0429","E2A6"],["F0013","E237"],["F0016","E238"],["F0028","E239"],["F0029","E283"],["F0030","E284"],["F0031","E285"],["F0032","E286"],["F0033","E287"],["F0034","E288"],["F0036","E289"],["F0038","E28A"],["F0039","E28B"],["F0041","E28C"],["F0044","E28D"],["F0293","E28E"],["F0294","E28F"],["F0297","E290"],["F0298","E291"],["F0299","E292"],["F0300","E293"],["F0301","E294"],["F0302","E295"],["F0303","E296"],["F0304","E297"],["F0305","E298"],["F0306","E299"],["F0323","E29A"],["F0324","E29B"],["F0326","E29C"],["F0327","E29D"],["F0328","E29E"],["F0329","E29F"],["F0331","E2A1"],["F0332","E2A2"],["F0343","E2A3"],["F0344","E2A4"],["F0345","E2A5"],["F0388","E2A7"],["F0391","E2A0"],["F0260","E2B4"],["FD10N","E2B5"],["FK10N","E2B6"],["FS10N","E2B7"],["FBL5N","E2B8"],["FBL1N","E2B9"],["FFS01","E2BA"],["FBL3N","E2BB"],["FCOA1","E2BC"]]},i={fontFamily:"Fiori2",collectionName:"Fiori3",icons:[["F0246","E218"],["F0247","E219"],["F0250","E21C"],["F0251","E21D"],["F0263","E2A8"],["F0508","E2A9"],["F0509","E2AA"],["F0510","E2AB"],["F0533","E2AC"],["F0534","E2AD"],["F0535","E2AE"],["F0536","E2AF"],["F0537","E2B0"],["F0538","E2B1"],["Lumira001","E2B2"]]},o={fontFamily:"Fiori2",collectionName:"Fiori4",icons:[["F0194","E2BD"],["F0260","E2B4"],["F0433","E2BE"],["F0499","E2BF"],["F0500","E2C0"],["F0501","E2C1"],["F0502","E2C2"],["F0503","E2C3"],["F0504","E2C4"],["F0507","E2C5"],["F0530","E2C6"],["F0531","E2C7"],["F0539","E2C8"],["F0544","E2C9"],["F0545","E2CA"],["F0547","E2CB"],["F0576","E2CC"],["F0578","E2CD"],["F0579","E2CE"],["F0580","E2CF"],["F0581","E2D0"],["F0582","E2D1"],["F0583","E2D2"],["F0584","E2D3"],["F0586","E2D4"],["F0587","E2D5"],["F0588","E2D6"],["F0589","E2D7"],["F0590","E2D8"],["F0591","E2D9"],["F0593","E2DA"],["F0594","E2DB"],["F0597","E2DC"],["F0603","E2DD"],["F0604","E2DE"],["F0605","E2DF"],["F0606","E2E0"],["F0607","E2E1"],["F0608","E2E2"],["F0609","E2E3"],["F0615","E2E4"],["F0616","E2E5"],["F0618","E2E6"],["F0617","E2E7"],["F0622","E2E8"],["F0623","E2E9"],["F0624","E2EA"],["F0625","E2EB"],["F0626","E2EC"],["F0627","E2ED"],["F0629","E2EE"],["F0630","E2EF"],["F0632","E2F0"],["F0633","E2F1"],["F0634","E2F2"],["F0635","E2F3"],["F0636","E2F4"],["F0638","E2F5"],["F0639","E2F6"],["F0643","E2F7"],["F0644","E2F8"],["F0645","E2F9"],["F0646","E2FA"],["F0648","E2FB"],["F0649","E2FC"],["F0650","E2FD"],["F0654","E2FE"],["F0655","E2FF"],["F0659","E300"],["F0660","E301"],["F0661","E302"],["F0665","E303"],["F0666","E304"],["F0667","E305"],["F0671","E306"],["F0672","E307"],["F0673","E308"],["F0675","E309"],["F0676","E30A"],["F0677","E30B"],["F0678","E30C"],["F0679","E30D"],["F0680","E30E"],["F0682","E30F"],["F0683","E310"],["F0684","E240"],["F0685","E312"],["F0686","E313"],["F0687","E314"],["F0690","E315"],["F0691","E316"],["F0692","E317"],["F0693","E318"],["F0694","E319"],["F0695","E31A"],["F0700","E31B"],["F0598","E31C"]]},n={fontFamily:"Fiori2",collectionName:"Fiori5",icons:[["F0263","E321"],["F0266","E322"],["F2001","E31E"],["F0839","E320"],["F0270","E323"],["F0273","E324"],["F0439","E325"],["F0443","E326"],["F0549","E327"],["F0550","E328"],["F0551","E329"],["F0577","E32A"],["F0585","E32B"],["F0637","E32C"],["F0668","E32D"],["F0669","E32E"],["F0670","E330"],["F0688","E331"],["F0689","E332"],["F0701","E333"],["F0702","E334"],["F0703","E335"],["F0706","E336"],["F0707","E337"],["F0708","E338"],["F0711","E339"],["F0712","E33A"],["F0731","E33B"],["F0732","E33C"],["F0733","E33D"],["F0735","E33E"],["F0736","E340"],["F0737","E341"],["F0742","E342"],["F0743","E343"],["F0744","E344"],["F0745","E345"],["F0746","E346"],["F0747","E347"],["F0748","E348"],["F0749","E349"],["F0750","E34A"],["F0751","E34B"],["F0755","E34C"],["F0756","E34D"],["F0757","E34E"],["F0758","E350"],["F0759","E351"],["F0760","E352"],["F0761","E353"],["F0763","E354"],["F0764","E355"],["F0765","E356"],["F0768","E357"],["F0770","E358"],["F0771","E359"],["F0772","E35A"],["F0774","E35B"],["F0776","E35C"],["F0777","E35D"],["F0778","E35E"],["F0788","E360"],["F0789","E361"],["F0790","E362"],["F0791","E363"],["F0792","E364"],["F0793","E365"],["F0794","E366"],["F0806","E367"],["F0807","E368"],["F0808","E369"],["F0809","E36A"],["F0810","E36B"],["F0811","E36C"],["F0812","E36D"],["F0813","E36E"],["F0814","E370"],["F0815","E371"],["F0816","E372"],["F0817","E373"],["F0818","E374"],["F0819","E375"],["F0820","E376"],["F0821","E377"],["F0822","E378"],["F0823","E379"],["F0824","E37A"],["F0825","E37B"],["F0826","E37C"],["F0827","E37D"],["F0828","E37E"],["F0829","E380"],["F0830","E381"],["F0831","E382"],["F0717","E384"],["F0718","E383"],["F0241","E385"],["F0246","E386"],["F0250","E387"],["F0248","E388"],["F0252","E389"],["F0600","E38A"],["F0674","E38B"],["F0247","E38E"],["F0251","E390"]]},t={fontFamily:"Fiori2",collectionName:"Fiori6",icons:[["F0795","E397"],["F0866","E3A0"],["F0865","E3A1"],["F0867","E3A2"],["F0868","E3A3"],["F0869","E3A4"],["F0870","E3A5"],["F0138","E3A6"],["F0752","E3A7"],["F0753","E3A8"],["F0773","E3A9"],["F0891","E3AA"],["F0892","E3AB"],["F1023","E3AC"],["F0767","E3AD"],["F0849","E3AE"],["F0670-1","E393"],["F0670-2","E394"],["F0670-3","E395"],["F0670-4","E396"]]},r={fontFamily:"Fiori2",collectionName:"Fiori7",icons:[["F1079","E3B0"],["F0738","E3B1"],["F1301","E3B2"],["F1302","E3B3"],["F1303","E3B4"],["F1338","E3B5"],["F1263","E3B6"],["F1373","E3B7"],["F0863","E3B8"],["F1068","E3BA"],["F0955","E3B9"],["F1242","E3BB"],["F1405","E3BC"],["F1406","E3BD"],["F1407","E3BE"],["F1408","E3BF"],["F1409","E3C0"],["F1410","E3C1"],["F1411","E3C2"],["F1412","E3C3"],["F1413","E3C4"],["F1414","E3C5"],["F1415","E3C6"],["F0797","E3C8"],["F0798","E3C9"],["F0800","E3CA"],["F0801","E3CB"],["F0804","E3CC"],["F0850","E3CD"],["F0890","E3CE"],["F1075","E3CF"],["F1394","E3D0"],["F1061","E3D1"],["F1062","E3D2"],["F1255","E3D3"],["F1077","E3D4"],["F0843","E3D5"],["F1076","E3D6"],["F0859","E3D7"],["F1060","E3D8"],["F1053","E3D9"],["F0900","E3DA"],["F0840","E3DB"],["F0842-1","E3A6"],["F0842-2","E22C"],["F1476","E3C7"]]},a={fontFamily:"Fiori2",collectionName:"Fiori8",icons:[["F1317","E3DC"],["F1318","E3DD"],["F1319","E3DE"],["F1369","E3DF"],["F1475","E3E0"],["F1345","E3E1"],["F1248","E3E2"],["F1067","E3E3"],["F1332","E3E4"],["F1333","E3E5"],["F1334","E3E6"],["F1335","E3E7"],["F1520","E3E8"],["F1457","E3E9"],["F1504","E3EA"],["F1505","E3EB"]]},l={fontFamily:"Fiori2",collectionName:"Fiori9",icons:[["F1094","E3EC"],["F1096","E3ED"],["F1353","E3EE"],["F1354","E3EF"],["F1428","E3F0"],["F1492","E3F1"],["F1515","E3F2"],["F1516","E3F3"],["F0997","E400"],["F1512","E401"],["F1562","E402"],["F1564","E403"],["F1599","E404"],["F1596","E405"],["F1254","E406"],["F1618","E407"],["F1561","E408"],["learning-compass","E409"],["partner-enablement","E40A"]]},s={fontFamily:"Fiori2",collectionName:"S4Hana",icons:[["S0001","E3F4"],["S0002","E3F5"],["S0003","E3F6"],["S0004","E3F7"],["S0005","E3F8"],["S0006","E3F9"],["S0007","E3FA"],["S0008","E3FB"],["S0009","E3FC"],["S0010","E3FD"],["S0011","E3FE"],["S0012","E3FF"]]},A={fontFamily:"FioriInAppIcons",collectionName:"FioriInAppIcons",icons:[["Hierarchal Tree","E700"],["Open","E701"],["Blocked","E702"],["Partially Blocked","E703"],["Open1","E704"],["Partially Adopted","E705"],["Due","E706"],["Overdue","E707"],["Sort","E708"],["Missing Parts","E709"],["Fire","E70A"],["Dangerous Chemicals","E70B"],["Share","E70C"],["Entertainment","E70D"],["Gift","E70E"],["QR Code","E70F"],["Wifi-Online","E710"],["Wifi-Offline","E711"],["Sunrise","E712"],["Sunset","E713"],["Afternoon","E714"],["Night","E715"],["Loading Date","E715"],["Cloudy","e717"],["Rain","e718"],["Storm","e719"],["Partly Sunny","e71A"],["Heavy Rain","e71B"],["Foggy","e71C"],["Snow","e71D"],["Risk Assessment","e71E"],["Database","e71f"],["Marine","e720"],["Blister","e721"],["Pills","e722"],["Main-Sequence","e723"],["Parallel Sequence","e724"],["Alternative Sequence","e725"],["3D","e726"],["Presentation","e727"],["Mute","e728"],["Windy","e729"],["Oil Tank","e72A"],["Location Assets","e72B"],["Transport Systems","e72C"],["Field","e72D"],["Field Group","e72E"],["Record","e730"],["Record Group","e731"]]},c={fontFamily:"Fiori2",collectionName:"FioriNonNative",icons:[["FN0001","E392"],["FN0002","E398"],["FN0003","E399"],["FN0004","E39A"],["FN0005","E39B"],["FN0006","E39C"],["FN0007","E39D"],["FN0008","E39E"],["FN0009","E39F"]]};this.registerFonts(E,i,e,A,o,n,c,t,r,a,l,s)};E.registerFonts=function(){var E,e,i,o;for(e=0;e<arguments.length;e=e+1){E=arguments[e];for(i=0;i<E.icons.length;i=i+1){o={};o.fontFamily=E.fontFamily;o.content=E.icons[i][1];o.overWrite=false;o.suppressMirroring=true;F.addIcon(E.icons[i][0],E.collectionName,o)}}};return E},true);
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/library", ["sap/ui/core/Core","sap/ui/core/library","sap/m/library"],function(e,l,a){"use strict";var s=sap.ui.getCore().initLibrary({name:"sap.ushell",version:"1.108.12",dependencies:["sap.ui.core","sap.m"],types:["sap.ushell.AllMyAppsState","sap.ushell.AllMyAppsProviderType","sap.ushell.AppTitleState","sap.ushell.ContentNodeType","sap.ushell.components.container.ApplicationType","sap.ushell.DisplayFormat","sap.ushell.NavigationState","sap.ushell.ui.launchpad.ViewPortState","sap.ushell.ui.tile.State","sap.ushell.ui.tile.StateArrow","sap.ushell.VisualizationLoadState","sap.ushell.AppType","sap.ushell.AppBoxPreviewSize","sap.ushell.FloatingNumberType"],interfaces:[],controls:["sap.ushell.components.container.ApplicationContainer","sap.ushell.components.factsheet.controls.PictureTile","sap.ushell.components.factsheet.controls.PictureViewer","sap.ushell.components.factsheet.controls.PictureViewerItem","sap.ushell.components.shell.Settings.userDefaults.UserDefaultsForm","sap.ushell.components.tiles.sbtilecontent","sap.ushell.components.workPageBuilder.controls.WorkPage","sap.ushell.components.workPageBuilder.controls.WorkPageButton","sap.ushell.components.workPageBuilder.controls.WorkPageCell","sap.ushell.components.workPageBuilder.controls.WorkPageColumn","sap.ushell.components.workPageBuilder.controls.WorkPageColumnResizer","sap.ushell.components.workPageBuilder.controls.WorkPageRow","sap.ushell.components.workPageBuilder.controls.WorkPageSection","sap.ushell.components.workPageBuilder.controls.WorkPageWidgetContainer","sap.ushell.services._VisualizationInstantiation.VizInstance","sap.ushell.services._VisualizationInstantiation.VizInstanceAbap","sap.ushell.services._VisualizationInstantiation.VizInstanceCdm","sap.ushell.services._VisualizationInstantiation.VizInstanceLaunchPage","sap.ushell.services._VisualizationInstantiation.VizInstanceLink","sap.ushell.ui.AppContainer","sap.ushell.ui.ContentNodeSelector","sap.ushell.ui.ContentNodeTreeItem","sap.ushell.ui.CustomGroupHeaderListItem","sap.ushell.ui.ShellHeader","sap.ushell.ui.appfinder.AppBox","sap.ushell.ui.appfinder.PinButton","sap.ushell.ui.contentFinder.AppBox","sap.ushell.ui.footerbar.AboutButton","sap.ushell.ui.footerbar.AddBookmarkButton","sap.ushell.ui.footerbar.ContactSupportButton","sap.ushell.ui.footerbar.JamDiscussButton","sap.ushell.ui.footerbar.JamShareButton","sap.ushell.ui.footerbar.LogoutButton","sap.ushell.ui.footerbar.SendAsEmailButton","sap.ushell.ui.footerbar.SettingsButton","sap.ushell.ui.footerbar.UserPreferencesButton","sap.ushell.ui.launchpad.ActionItem","sap.ushell.ui.launchpad.AnchorItem","sap.ushell.ui.launchpad.AnchorNavigationBar","sap.ushell.ui.launchpad.CatalogEntryContainer","sap.ushell.ui.launchpad.CatalogsContainer","sap.ushell.ui.launchpad.DashboardGroupsContainer","sap.ushell.ui.launchpad.GroupHeaderActions","sap.ushell.ui.launchpad.GroupListItem","sap.ushell.ui.launchpad.LinkTileWrapper","sap.ushell.ui.launchpad.LoadingDialog","sap.ushell.ui.launchpad.Page","sap.ushell.ui.launchpad.PlusTile","sap.ushell.ui.launchpad.Section","sap.ushell.ui.launchpad.Tile","sap.ushell.ui.launchpad.TileContainer","sap.ushell.ui.launchpad.TileState","sap.ushell.ui.launchpad.section.CompactArea","sap.ushell.ui.shell.FloatingContainer","sap.ushell.ui.shell.NavigationMiniTile","sap.ushell.ui.shell.OverflowListItem","sap.ushell.ui.shell.RightFloatingContainer","sap.ushell.ui.shell.ShellAppTitle","sap.ushell.ui.shell.ShellFloatingAction","sap.ushell.ui.shell.ShellFloatingActions","sap.ushell.ui.shell.ShellHeadItem","sap.ushell.ui.shell.ShellLayout","sap.ushell.ui.shell.ShellNavigationMenu","sap.ushell.ui.shell.ToolArea","sap.ushell.ui.shell.ToolAreaItem","sap.ushell.ui.tile.DynamicTile","sap.ushell.ui.tile.ImageTile","sap.ushell.ui.tile.StaticTile","sap.ushell.ui.tile.TileBase"],elements:["sap.ushell.ui.launchpad.AccessibilityCustomData"],extensions:{"sap.ui.support":{diagnosticPlugins:["sap/ushell/support/plugins/flpConfig/FlpConfigurationPlugin"]}}});s.AllMyAppsState={FirstLevel:"FirstLevel",SecondLevel:"SecondLevel",Details:"Details",FirstLevelSpread:"FirstLevelSpread"};s.AllMyAppsProviderType={HOME:0,EXTERNAL:1,CATALOG:2};s.AppTitleState={ShellNavMenuOnly:"ShellNavMenuOnly",AllMyAppsOnly:"AllMyAppsOnly",ShellNavMenu:"ShellNavMenu",AllMyApps:"AllMyApps"};s.ContentNodeType={HomepageGroup:"HomepageGroup",Space:"Space",Page:"Page"};s.components.container.ApplicationType={NWBC:"NWBC",SAPUI5:"SAPUI5",TR:"TR",URL:"URL",WCF:"WCF",WDA:"WDA"};s.DisplayFormat={Standard:"standard",Compact:"compact",Flat:"flat",FlatWide:"flatWide",StandardWide:"standardWide"};s.NavigationState={InProgress:"InProgress",Finished:"Finished"};s.ui.launchpad.ViewPortState={Left:"Left",Center:"Center",Right:"Right",LeftCenter:"LeftCenter",CenterLeft:"CenterLeft",RightCenter:"RightCenter",CenterRight:"CenterRight"};s.ui.tile.State={Neutral:"Neutral",None:"None",Negative:"Negative",Error:"Error",Positive:"Positive",Success:"Success",Critical:"Critical",Warning:"Warning"};s.ui.tile.StateArrow={None:"None",Up:"Up",Down:"Down"};s.VisualizationLoadState={Loading:"Loading",Loaded:"Loaded",InsufficientRoles:"InsufficientRoles",OutOfRoleContext:"OutOfRoleContext",NoNavTarget:"NoNavTarget",Failed:"Failed",Disabled:"Disabled"};s.AppType={OVP:"OVP",SEARCH:"Search",FACTSHEET:"FactSheet",COPILOT:"Co-Pilot",URL:"External Link",APP:"Application"};s.AppBoxPreviewSize={Small:"Small",Large:"Large"};s.FloatingNumberType={None:"None",Notifications:"Notifications",OverflowButton:"OverflowButton"};return s});
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/navigationMode", ["sap/base/Log","sap/base/util/isPlainObject"],function(e,n){"use strict";var a={};var i=function(n){var a=true;if(n){if(typeof n!=="object"){a=false}else{Object.keys(n).forEach(function(e){if(["GUI","WDA","WCF"].indexOf(e)===-1){a=false}else if(typeof n[e]!=="boolean"){a=false}})}}if(!a){e.error("Invalid parameter: 'enableInPlaceForClassicUIs' must be an object; allowed properties: GUI|WDA, type boolean","Actual parameter: "+JSON.stringify(n),"sap.ushell.services.navigationMode")}};a._isLegacyApplicationType=function(e){switch(e){case"WDA":case"TR":case"NWBC":case"WCF":return true;default:return false}};var t=function(e){switch(e){case"TR":return"GUI";case"WDA":return"WDA";case"WCF":return"WCF";default:return undefined}};var o=function(e,a){if(n(e)){return e[t(a)]}return false};a.compute=function(n,t,d,r,l){var s,p;i(l);var f={};if(["inplace","explace"].indexOf(t)>=0){f["sap-ushell-next-navmode"]=t}if(["inplace","explace","frameless"].indexOf(d)>=0){s=a._getInternalNavigationMode(d,n);e.debug("Navigation mode was forced to "+s,"because sap-ushell-navmode parameter was set to "+d+" for target with applicationType: "+r,"sap.ushell.navigationMode");f.navigationMode=s;f.explicitNavMode=true;return f}p=a._isLegacyApplicationType(r)&&a._isLegacyApplicationType(n);if(o(l,n)===true&&!p){f.navigationMode="embedded"}return f};a._getInternalNavigationMode=function(n,a){var i={SAPUI5:{inplace:"embedded",explace:"newWindowThenEmbedded",frameless:"newWindowThenEmbedded"},WDA:{inplace:"embedded",explace:"newWindowThenEmbedded",frameless:"newWindow"},TR:{inplace:"embedded",explace:"newWindowThenEmbedded",frameless:"newWindow"},URL:{inplace:"embedded",explace:"newWindow",frameless:"newWindow"},WCF:{inplace:"embedded",explace:"newWindowThenEmbedded",frameless:"newWindow"}};if(!i.hasOwnProperty(a)){e.error(a+" is not a valid application type","expected one of "+Object.keys(i).join(", "),"sap.ushell.navigationMode");return null}if(n!=="inplace"&&n!=="explace"&&n!=="frameless"){e.error(n+" is not a valid external navigation mode","expected one of 'inplace', 'explace' or 'frameless'","sap.ushell.navigationMode");return null}if(a==="SAPUI5"&&n==="frameless"){e.error("'"+n+"' is not a valid external navigation mode for application type '"+a+"'","falling back to internal navigation mode '"+i.SAPUI5.frameless+"'","sap.ushell.navigationMode")}return i[a][n]};a.getExternalNavigationMode=function(n){var a={embedded:"inplace",newWindowThenEmbedded:"explace",replace:"inplace",newWindow:"explace"};if(!a.hasOwnProperty(n)){e.error(n+" is not a recognized internal navigation mode","expected one of "+Object.keys(a).join(","),"sap.ushell.navigationMode");return null}return a[n]};var d=["NWBC","WDA","TR","WCF"];a.getNavigationMode=function(n,a){var i=n.additionalInformation,t=n.applicationType,o,r;if(d.indexOf((a||{}).applicationType)>-1&&!(a||{}).explicitNavMode){return"newWindowThenEmbedded"}if(n.appCapabilities&&n.appCapabilities.navigationMode){return n.appCapabilities.navigationMode}if((i===null||typeof i==="string"||typeof i==="undefined")&&(t==="URL"||t==="SAPUI5")){if(i&&i.indexOf("managed=")===0){if(i==="managed=FioriWave1"){return"embedded"}if(i==="managed="){return"newWindow"}return undefined}if(i&&i.indexOf("SAPUI5.Component=")===0){o="[a-zA-Z0-9_]+";r=["^SAPUI5.Component=",o,"([.]",o,")*$"].join("");if(!new RegExp(r).test(i)){e.warning(["The UI5 component name in",i,"is not valid.","Please use names satisfying",r].join(" "))}return"embedded"}return"newWindow"}if(d.indexOf(t)>-1){return"newWindowThenEmbedded"}return undefined};a.computeNavigationModeForHomepageTiles=function(e,n,a){var i={applicationType:e,additionalInformation:n};if(d.indexOf(e)>-1&&a){return"embedded"}return this.getNavigationMode(i)};return a},false);
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/resources", ["sap/ui/model/resource/ResourceModel"],function(e){"use strict";var r={};r.getTranslationModel=function(o){var u;if(r._oResourceModel){u=r._oResourceModel}else{u=new e({bundleUrl:sap.ui.require.toUrl("sap/ushell/renderers/fiori2/resources/resources.properties"),bundleLocale:o});r._oResourceModel=u}return u};r.i18nModel=r.getTranslationModel(sap.ui.getCore().getConfiguration().getLanguage());r.i18n=r.i18nModel.getResourceBundle();return r},true);
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/AppConfiguration", ["sap/ushell/utils/UrlParsing","sap/ushell/utils","sap/ushell/EventHub","sap/base/Log","sap/ui/util/Mobile","sap/ui/thirdparty/jquery","sap/base/util/ObjectPath","sap/base/i18n/ResourceBundle","sap/ushell/resources","sap/ui/core/IconPool","sap/m/library"],function(e,t,n,i,a,jQuery,r,s,o,u,p){"use strict";var c=p.ButtonType;function l(){var p={},l=true,f=null,h=[],g=[];n.on("AppRendered").do(m.bind(this));function m(){l=false;while(g.length>0){g.shift()()}}this.addActivity=function(e){var t=new jQuery.Deferred;sap.ushell.Container.getServiceAsync("UserRecents").then(function(n){n.addActivity(e).done(t.resolve).fail(t.reject)}).catch(t.reject);return t.promise()};this.setApplicationInInitMode=function(){l=true};this.getApplicationRequestQueue=function(){return g};this.getCurrentApplication=function(){return f};this.getCurrentAppliction=this.getCurrentApplication;this.getMetadata=function(e){if(!e){e=f}if(e){var t=hasher&&hasher.getHash?hasher.getHash():"";var n=this._getMemoizationKey(t);return this._getMetadata(e,n)}return{}};this._getMemoizationKey=function(t){var n=t.split("?");var i=n[0];var a=n[1];a=this._processParams(a);if(a){return i+a}var r=e.parseShellHash(t);i=r?r.semanticObject+"-"+r.action:"";return i};this._processParams=function(e){if(e){var t="";var n={};e.split("&").forEach(function(e){var t=e.split("=");n[t[0]]=t[1]});var i=Object.keys(n).sort();var a="";i.forEach(function(e,i){t=i?"&":"?";a+=t+e+"="+n[e]});return a}return""};this._getMetadata=function(e,t){if(!p.hasOwnProperty(t)||!p[t].complete){this.addMetadata(e,t)}if(!p[t]){p[t]={complete:false}}if(!p[t].title){p[t].title=e.text||o.i18n.getText("default_app_title")}return p[t]};this.setCurrentApplication=function(e){f=e;g.splice(0)};this.setHeaderHiding=function(){i.warning("Application configuration headerHiding property is deprecated and has no effect")};this.addApplicationSettingsButtons=function(e){if(l){g.push(function(){d(e)})}else{d(e)}};function d(e){var t,n=[],i=sap.ushell.Container.getRenderer("fiori2");for(t=0;t<e.length;t++){var a=e[t];n.push(a.getId());a.setIcon(a.getIcon()||u.getIconURI("customize"));if(o.i18n.getText("userSettings")===a.getProperty("text")){a.setProperty("text",o.i18n.getText("userAppSettings"))}a.setType(c.Unstyled)}if(sap.ushell.Container&&i){if(h.length){i.hideActionButton(h,true)}h=n;i.showActionButton(n,true,undefined,true)}}this.setWindowTitle=function(e){window.document.title=e};this.setIcons=function(e){a.setIcons(e)};this.setApplicationFullWidth=function(e){n.emit("setApplicationFullWidth",{bValue:e,date:Date.now()})};this.getSettingsControlAsync=function(){var e=new jQuery.Deferred;sap.ui.require(["sap/ushell/ui/footerbar/SettingsButton"],function(t){e.resolve(new t)});return e.promise()};this.getSettingsControl=function(){var e="sap/ushell/ui/footerbar/SettingsButton",t=sap.ui.require(e);if(t){return new t}i.warning("sap.ushell.services.AppConfiguration.getSettingsControl is deprecated. Use getSettingsControlasync instead.");i.error("sap.ushell.services.AppConfiguration.getSettingsControl: sap.ushell.ui.footerbar.SettingsButton must be loaded before use.");return undefined};this.getApplicationName=function(e){var t,n=e&&e.additionalInformation||null;if(n){t=/^SAPUI5\.Component=(.+)$/i.exec(n);if(t){return t[1]}}return null};this.getApplicationUrl=function(e){var t=e&&e.url||null,n="P_TCODE",i;if(t){if(e.applicationType==="NWBC"&&t.indexOf(n)){return t}i=t.indexOf("?");if(i>=0){t=t.slice(0,i)}if(t.slice(-1)!=="/"){t+="/"}}return t};this.getPropertyValueFromConfig=function(e,t,n){var i;if(n&&e.hasOwnProperty(t+"Resource")){i=n.getText(e[t+"Resource"])}else if(e.hasOwnProperty(t)){i=e[t]}return i};this.getPropertyValueFromManifest=function(e,t,n){var i=t[n].manifestEntryKey,a=t[n].path,s=e.getManifestEntry(i);return r.get(a||"",s)};this.addMetadata=function(e,n){try{var a=this.getApplicationName(e),r=this.getApplicationUrl(e),o,u,c={fullWidth:{manifestEntryKey:"sap.ui",path:"fullWidth"},hideLightBackground:{manifestEntryKey:"sap.ui",path:"hideLightBackground"},title:{manifestEntryKey:"sap.app",path:"title"},icon:{manifestEntryKey:"sap.ui",path:"icons.icon"},favIcon:{manifestEntryKey:"sap.ui",path:"icons.favIcon"},homeScreenIconPhone:{manifestEntryKey:"sap.ui",path:"icons.phone"},"homeScreenIconPhone@2":{manifestEntryKey:"sap.ui",path:"icons.phone@2"},homeScreenIconTablet:{manifestEntryKey:"sap.ui",path:"icons.tablet"},"homeScreenIconTablet@2":{manifestEntryKey:"sap.ui",path:"icons.tablet@2"},startupImage320x460:{manifestEntryKey:"sap.ui",path:"icons.startupImage640x920"},startupImage640x920:{manifestEntryKey:"sap.ui",path:"icons.startupImage640x920"},startupImage640x1096:{manifestEntryKey:"sap.ui",path:"icons.startupImage640x1096"},startupImage768x1004:{manifestEntryKey:"sap.ui",path:"icons.startupImage768x1004"},startupImage748x1024:{manifestEntryKey:"sap.ui",path:"icons.startupImage748x1024"},startupImage1536x2008:{manifestEntryKey:"sap.ui",path:"icons.startupImage1536x2008"},startupImage1496x2048:{manifestEntryKey:"sap.ui",path:"icons.startupImage1496x2048"},compactContentDensity:{manifestEntryKey:"sap.ui5",path:"contentDensities.compact"},cozyContentDensity:{manifestEntryKey:"sap.ui5",path:"contentDensities.cozy"}},l,f,h,g,m,d,y,I=e&&e.componentHandle;if(n){if(!p.hasOwnProperty(n)){p[n]={complete:false}}if(!p[n].complete){if(I){o=I.getMetadata()}else if(a){i.warning("No component handle available for '"+a+"'; SAPUI5 component metadata is incomplete",null,"sap.ushell.services.AppConfiguration");return}if(o){u=o.getConfig();g=o.getManifest()!==undefined;p[n].complete=true;if(u){d=u.resourceBundle||"";if(d){if(d.slice(0,1)!=="/"){d=r+d}y=s.create({url:d,locale:sap.ui.getCore().getConfiguration().getLanguage()})}}for(m in c){if(c.hasOwnProperty(m)){if(g){p[n][m]=this.getPropertyValueFromManifest(o,c,m)}if(u&&p[n][m]===undefined){p[n][m]=this.getPropertyValueFromConfig(u,m,y)}}}p[n].version=o.getVersion();p[n].technicalName=o.getComponentName()}else if(t.isApplicationTypeEmbeddedInIframe(e.applicationType)){var v="/~canvas;window=app/wda/",x=e.url.indexOf(v),b="/sap/bc/webdynpro/sap/",A="/bc/gui/sap/its/webgui",C=e.url.indexOf(A);if(x>=0){p[n].technicalName=e.url.substring(x+v.length,e.url.indexOf("/",x+v.length))}if(e.url.indexOf(b)>=0){p[n].technicalName=new RegExp(b+"(.*)[?]").exec(e.url)[1]}p[n].complete=true;if(C>=0){var E="etransaction=",w=e.url.indexOf(E,C+A.length),P=e.url.indexOf("&",w),S=P>=0?P:e.url.length;p[n].technicalName=decodeURIComponent(e.url.substring(w+E.length,S))+" (TCODE)"}}else{i.warning("No technical information for the given application could be determined",null,"sap.ushell.services.AppConfiguration")}}l=["favIcon","homeScreenIconPhone","homeScreenIconPhone@2","homeScreenIconTablet","homeScreenIconTablet@2","startupImage320x460","startupImage640x920","startupImage640x1096","startupImage768x1004","startupImage748x1024","startupImage1536x2008","startupImage1496x2048"];f=r&&r[r.length-1]==="/"?r.substring(0,r.length-1):r;h=function(e){if(e.match(/^https?:\/\/.*/)){return false}return e&&e[0]!=="/"};l.forEach(function(e){var t=p[n][e],i=null;if(t){i=h(t)?f+"/"+t:t}p[n][e]=i})}}catch(e){i.warning("Application configuration could not be parsed")}}}return new l},true);
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/AppState", ["sap/ushell/services/_AppState/WindowAdapter","sap/ushell/services/_AppState/SequentializingAdapter","sap/ushell/services/_AppState/AppState","sap/ushell/services/_AppState/Sequentializer","sap/ushell/services/_AppState/AppStatePersistencyMethod","sap/ushell/utils","sap/ui/thirdparty/jquery"],function(e,t,n,i,s,a,jQuery){"use strict";function r(e){return a.isDefined(e)&&a.isDefined(e.transient)?!!e.transient:true}function o(n,i,s,a){this._oConfig=a&&a.config;this._sSessionKey="";this._oAdapter=new t(n);this._oAdapter=new e(this,this._oAdapter,a)}o.prototype._getSessionKey=function(){if(!this._sSessionKey){this._sSessionKey=this._getGeneratedKey()}return this._sSessionKey};o.prototype.getAppState=function(e){var t=new jQuery.Deferred,i=this,s;this._loadAppState(e).done(function(e,a,r,o){s=new n(i,e,false,a,undefined,undefined,undefined,r,o);t.resolve(s)}).fail(function(){s=new n(i,e);t.resolve(s)});return t.promise()};o.prototype._getGeneratedKey=function(e){var t=a.generateRandomKey();if(e){t=("TAS"+t).substring(0,41)}else{t=("AS"+t).substring(0,40)}return t};o.prototype.createEmptyAppState=function(e,t,i,a){var o;var p="";var d="";var f=t||r(this._oConfig);var u=this._getGeneratedKey(f);if(i!==undefined&&!this.isPersistencyMethodSupported(i)){i=undefined;a=undefined}if(e){if(!(e instanceof sap.ui.core.UIComponent)){throw new Error("oComponent passed must be a UI5 Component")}if(e.getMetadata&&e.getMetadata()&&typeof e.getMetadata().getName==="function"){p=e.getMetadata().getName()||""}if(!p&&e.getMetadata&&e.getMetadata().getComponentName){p=e.getMetadata().getComponentName()}if(e.getMetadata&&e.getMetadata()&&typeof e.getMetadata().getManifest==="function"&&typeof e.getMetadata().getManifest()==="object"&&typeof e.getMetadata().getManifest()["sap.app"]==="object"){d=e.getMetadata().getManifest()["sap.app"].ach||""}}if(f===true){i=a=undefined}else if(i===undefined&&this.isPersistencyMethodSupported(s.PersonalState)){i=s.PersonalState;a=undefined}o=new n(this,u,true,undefined,p,d,f,i,a);return o};o.prototype.createEmptyUnmodifiableAppState=function(){var e=this._getGeneratedKey(),t;t=new n(this,e,false);return t};o.prototype._saveAppState=function(e,t,n,i,o,p,d){var f=this._getSessionKey(),u=a.isDefined(o)?o:r(this._oConfig);if(u){p=undefined;d=undefined}else if(p!==undefined){if(!this.isPersistencyMethodSupported(p)){if(this.isPersistencyMethodSupported(s.PersonalState)){p=s.PersonalState}else{p=undefined}d=undefined}}return this._oAdapter.saveAppState(e,f,t,n,i,u,p,d)};o.prototype._loadAppState=function(e){return this._oAdapter.loadAppState(e)};o.prototype.deleteAppState=function(e){return this._oAdapter.deleteAppState(e)};o._getSequentializer=function(){return new i};o.prototype.getSupportedPersistencyMethods=function(){if(this._oAdapter.getSupportedPersistencyMethods){return this._oAdapter.getSupportedPersistencyMethods()}return[]};o.prototype.isPersistencyMethodSupported=function(e){var t=this.getSupportedPersistencyMethods();if(t.length>0&&e!==undefined){return t.indexOf(e)>=0}return false};o.prototype.setAppStateToPublic=function(e){var t=p(e,"sap-xapp-state"),n=p(e,"sap-iapp-state"),i=(new jQuery.Deferred).resolve(),a=(new jQuery.Deferred).resolve(),r=new jQuery.Deferred,o,d;if(t!==undefined){i=this.makeStatePersistent(t,s.PublicState).done(function(n){if(t!==n){e=e.replace(t,n);o=n}}).fail(r.reject)}if(n!==undefined){a=this.makeStatePersistent(n,s.PublicState).done(function(t){if(n!==t){e=e.replace(n,t);d=t}}).fail(r.reject)}jQuery.when(i,a).done(function(){r.resolve(e,t,n,o,d)});return r.promise()};function p(e,t){var n=new RegExp("(?:"+t+"=)([^&/]+)"),i=n.exec(e),s;if(i&&i.length===2){s=i[1]}return s}o.prototype.makeStatePersistent=function(e,t,n){var i=new jQuery.Deferred;if(this.getSupportedPersistencyMethods().length===0){return i.resolve(e)}if(this.isPersistencyMethodSupported(t)){this.getAppState(e).done(function(s){if(s._iPersistencyMethod!==t){s.bTransient=false;s._iPersistencyMethod=t;s._oPersistencySettings=n;if(e.startsWith("TAS")){e=e.substring(1,e.length)}this._saveAppState(e,s._sData,s._sAppName,s._sACHComponent,false,t,n).done(function(){i.resolve(e)}).fail(i.reject)}else{i.resolve(e)}}.bind(this)).fail(i.reject)}else{i.reject("AppState.makeStatePersistent - adapter does not support persistence method: "+t)}return i.promise()};o.WindowAdapter=e;o.hasNoAdapter=false;return o},true);
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/Bookmark", ["sap/ui/thirdparty/jquery","sap/ushell/Config","sap/ushell/library","sap/base/util/deepClone","sap/base/util/deepExtend","sap/base/Log"],function(jQuery,e,r,o,t,n){"use strict";var i="X-SAP-UI2-HANA:hana?remoteId=HANA_CATALOG";var a=r.ContentNodeType;function s(){this._oLaunchPageServicePromise=sap.ushell.Container.getServiceAsync("LaunchPage");if(e.last("/core/spaces/enabled")){this._oPagesServicePromise=sap.ushell.Container.getServiceAsync("Pages")}this._addBookmarkToContentNodes=function(e,r,o,t){var n=r.map(function(r){if(r&&r.hasOwnProperty("type")&&r.isContainer){switch(r.type){case a.Page:return this.addBookmarkToPage(e,r.id,t);case a.HomepageGroup:return new Promise(function(e,o){this._oLaunchPageServicePromise.then(function(t){t.getGroupById(r.id).done(e).fail(o)})}.bind(this)).then(function(r){return this.addBookmarkToHomepageGroup(e,r,o,t)}.bind(this));default:return Promise.reject("Bookmark Service: The API needs to be called with a valid content node type. '"+r.type+"' is not supported.")}}return Promise.reject("Bookmark Service: Not a valid content node.")}.bind(this));return Promise.all(n)};this.addBookmark=function(r,o,t){var n=new jQuery.Deferred;var i=e.last("/core/shell/enablePersonalization");var a=e.last("/core/spaces/enabled");var s=e.last("/core/spaces/myHome/enabled");if(!i&&(!a||!s)){return n.resolve().promise()}if(typeof o==="undefined"&&a){sap.ushell.Container.getServiceAsync("Menu").then(function(e){return e.getDefaultSpace()}).then(function(e){var r=e&&e.children&&e.children[0];return r}).then(function(e){this._addBookmarkToContentNodes(r,[e],false,t).then(n.resolve).catch(n.reject)}.bind(this));return n.promise()}if((typeof o==="undefined"||!o.hasOwnProperty("type"))&&!Array.isArray(o)){this.addBookmarkToHomepageGroup(r,o,false,t).then(n.resolve).catch(n.reject);return n.promise()}var u=[].concat(o);this._addBookmarkToContentNodes(r,u,false,t).then(n.resolve).catch(n.reject);return n.promise()};this.addCustomBookmark=function(e,r,n,i){var a=o(r);var s=t(a,{vizType:e,vizConfig:{"sap.flp":{chipConfig:a.chipConfig},"sap.platform.runtime":{includeManifest:!a.loadManifest}}});delete s.chipConfig;delete s.loadManifest;var u=[].concat(n);return this._addBookmarkToContentNodes(s,u,true,i)};this.addBookmarkToHomepageGroup=function(r,o,t,n){if(e.last("/core/spaces/enabled")){var i="Bookmark Service: The API is not available in spaces mode.";return Promise.reject(i)}return new Promise(function(e,i){this._oLaunchPageServicePromise.then(function(a){var s;if(t){s=a.addCustomBookmark(r,o,n)}else{s=a.addBookmark(r,o,n)}s.done(function(r){var t={tile:r,group:o};sap.ui.getCore().getEventBus().publish("sap.ushell.services.Bookmark","bookmarkTileAdded",t);e()}).fail(i)})}.bind(this))};this.addBookmarkToPage=function(r,o,t){if(!e.last("/core/spaces/enabled")){return Promise.reject("Bookmark Service: 'addBookmarkToPage' is not valid in launchpad homepage mode, use 'addBookmark' instead.")}var n=e.last("/core/shell/enablePersonalization");var i=e.last("/core/spaces/myHome/enabled");var a=e.last("/core/spaces/myHome/myHomePageId");if(!n&&(!i||i&&o!==a)){return Promise.reject("Bookmark Service: Add bookmark is not allowed as the personalization functionality is not enabled.")}if(r&&(typeof r.title!=="string"||typeof r.url!=="string")){return Promise.reject("Bookmark Service - Invalid bookmark data.")}return this._oPagesServicePromise.then(function(e){return e.addBookmarkToPage(o,r,undefined,t)})};this.addBookmarkByGroupId=function(r,o,t){var n=new jQuery.Deferred;if(e.last("/core/spaces/enabled")){var i="Bookmark Service: The API 'addBookmarkByGroupId' is not supported in launchpad spaces mode.";return n.reject(i).promise()}this._oLaunchPageServicePromise.then(function(e){e.getGroups().done(function(e){e=jQuery.grep(e,function(e){return e.id===o});var i=null;if(e.length>0){i=e[0]}this.addBookmark(r,i,t).done(n.resolve).fail(n.reject)}.bind(this)).fail(n.reject)}.bind(this)).catch(n.reject);return n.promise()};this.getShellGroupIDs=function(r){var o=new jQuery.Deferred;if(e.last("/core/spaces/enabled")){var t="Bookmark Service: The API 'getShellGroupIDs' is not supported in launchpad spaces mode.";return o.reject(t).promise()}this._oLaunchPageServicePromise.then(function(e){e.getGroupsForBookmarks(r).done(function(r){r=r.map(function(r){return{id:e.getGroupId(r.object),title:r.title}});o.resolve(r)}).fail(o.reject)});return o.promise()};this._doAddCatalogTileToGroup=function(e,r,o,t){this._oLaunchPageServicePromise.then(function(i){if(t){i.getGroups().fail(e.reject).done(function(a){var s=a.some(function(n){if(i.getGroupId(n)===t){this._addToGroup(o,e,r,n);return true}}.bind(this));if(!s){var u="Group '"+t+"' is unknown";n.error(u,null,"sap.ushell.services.Bookmark");e.reject(u)}}.bind(this))}else{i.getDefaultGroup().fail(e.reject).done(function(t){this._addToGroup(o,e,r,t)}.bind(this))}}.bind(this));return e.promise()};this._isSameCatalogTile=function(e,r,o){var t=o.getCatalogTileId(r);if(t===undefined){return false}return t.indexOf(e)===0};this._addToGroup=function(e,r,o,t){return this._oLaunchPageServicePromise.then(function(i){i.getCatalogTiles(e).fail(r.reject).done(function(a){var s=i.getGroupId(t);var u=a.some(function(e){if(this._isSameCatalogTile(o,e,i)){i.addTile(e,t).fail(r.reject).done(function(){r.resolve();sap.ui.getCore().getEventBus().publish("sap.ushell.services.Bookmark","catalogTileAdded",s)});return true}}.bind(this));if(!u){var c="No tile '"+o+"' in catalog '"+i.getCatalogId(e)+"'";n.error(c,null,"sap.ushell.services.Bookmark");r.reject(c)}}.bind(this))}.bind(this))};this.addCatalogTileToGroup=function(r,o,t){var a=new jQuery.Deferred;var s;if(e.last("/core/spaces/enabled")){s="Bookmark Service: The API 'addCatalogTileToGroup' is not supported in launchpad spaces mode.";return a.reject(s).promise()}this._oLaunchPageServicePromise.then(function(e){var u=t?this._isMatchingRemoteCatalog:this._isLegacyHANACatalog;t=t||{id:i};e.onCatalogTileAdded(r);e.getCatalogs().fail(a.reject).done(function(i){var c;i.forEach(function(r){if(u(r,t,e)){if(!c){c=r}else{n.warning("More than one matching catalog: "+JSON.stringify(t),null,"sap.ushell.services.Bookmark")}}});if(c){this._doAddCatalogTileToGroup(a,r,c,o)}else{s="No matching catalog found: "+JSON.stringify(t);n.error(s,null,"sap.ushell.services.Bookmark");a.reject(s)}}.bind(this))}.bind(this));return a.promise()};this._isMatchingRemoteCatalog=function(e,r,o){var t=o.getCatalogData(e);return t.remoteId===r.remoteId&&t.baseUrl.replace(/\/$/,"")===r.baseUrl.replace(/\/$/,"")};this._isLegacyHANACatalog=function(e,r,o){return o.getCatalogId(e)===i};this.countBookmarks=function(r,o){var t=new jQuery.Deferred;if(e.last("/core/spaces/enabled")){this._oPagesServicePromise.then(function(e){return e.countBookmarks({url:r,contentProviderId:o})}).then(t.resolve,t.reject)}else{this._oLaunchPageServicePromise.then(function(e){e.countBookmarks(r,o).done(t.resolve).fail(t.reject)})}return t.promise()};this.countCustomBookmarks=function(r){if(!r||!r.url||!r.vizType){return Promise.reject("countCustomBookmarks: Some required parameters are missing.")}if(e.last("/core/spaces/enabled")){return this._oPagesServicePromise.then(function(e){return e.countBookmarks(r)})}return this._oLaunchPageServicePromise.then(function(e){return e.countCustomBookmarks(r)})};this.deleteBookmarks=function(r,o){var t=new jQuery.Deferred;if(e.last("/core/spaces/enabled")){this._oPagesServicePromise.then(function(e){return e.deleteBookmarks({url:r,contentProviderId:o})}).then(t.resolve,t.reject)}else{this._oLaunchPageServicePromise.then(function(e){e.deleteBookmarks(r,o).done(function(e){sap.ui.getCore().getEventBus().publish("sap.ushell.services.Bookmark","bookmarkTileDeleted",r);t.resolve(e)}).fail(t.reject)})}return t.promise()};this.deleteCustomBookmarks=function(r){if(!r||!r.url||!r.vizType){return Promise.reject("deleteCustomBookmarks: Some required parameters are missing.")}if(e.last("/core/spaces/enabled")){return this._oPagesServicePromise.then(function(e){return e.deleteBookmarks(r)})}return this._oLaunchPageServicePromise.then(function(e){return e.deleteCustomBookmarks(r)}).then(function(){sap.ui.getCore().getEventBus().publish("sap.ushell.services.Bookmark","bookmarkTileDeleted",r.url)})};this.updateBookmarks=function(r,o,t){var n=new jQuery.Deferred;if(e.last("/core/spaces/enabled")){this._oPagesServicePromise.then(function(e){return e.updateBookmarks({url:r,contentProviderId:t},o)}).then(n.resolve,n.reject)}else{this._oLaunchPageServicePromise.then(function(e){e.updateBookmarks(r,o,t).done(n.resolve).fail(n.reject)})}return n.promise()};this.updateCustomBookmarks=function(r,o){if(!r||!r.url||!r.vizType){return Promise.reject("deleteCustomBookmarks: Some required parameters are missing.")}var n=t({},o,{vizConfig:{"sap.flp":{chipConfig:o.chipConfig},"sap.platform.runtime":{includeManifest:!o.loadManifest}}});delete n.chipConfig;delete n.loadManifest;if(e.last("/core/spaces/enabled")){return this._oPagesServicePromise.then(function(e){return e.updateBookmarks(r,n)})}return this._oLaunchPageServicePromise.then(function(e){return e.updateCustomBookmarks(r,n)})};this.getContentNodes=function(){if(e.last("/core/spaces/enabled")){return sap.ushell.Container.getServiceAsync("Menu").then(function(e){return e.getContentNodes()})}return new Promise(function(e,r){this._oLaunchPageServicePromise.then(function(o){o.getGroupsForBookmarks().done(function(r){var t=r.map(function(e){return{id:o.getGroupId(e.object),label:e.title,type:a.HomepageGroup,isContainer:true}});e(t)}).fail(r)})}.bind(this))}}s.hasNoAdapter=true;return s},true);
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/CommonDataModel", ["sap/ushell/services/_CommonDataModel/PersonalizationProcessor","sap/base/util/ObjectPath","sap/ui/thirdparty/jquery","sap/base/util/isPlainObject","sap/ushell/services/_CommonDataModel/SiteConverter","sap/base/util/isEmptyObject","sap/base/util/deepClone","sap/base/util/extend","sap/base/util/deepExtend","sap/base/util/Version","sap/ushell/Config","sap/base/util/includes","sap/base/util/values","sap/ushell/library","sap/ushell/utils","sap/ushell/adapters/cdm/v3/_LaunchPage/readApplications","sap/base/Log","sap/ui/core/Manifest"],function(e,t,jQuery,i,n,r,o,s,a,l,u,p,c,h,f,d,g,P){"use strict";var v=h.DisplayFormat;var _=h.ContentNodeType;var y="sap.ushell.services.CommonDataModel",m={STATIC_LAUNCHER:"sap.ushell.StaticAppLauncher",DYNAMIC_LAUNCHER:"sap.ushell.DynamicAppLauncher",CARD:"sap.ushell.Card"};function z(t,i,r,o){this._oAdapter=t;this._oPersonalizationProcessor=new e;this._oSiteDeferred=new jQuery.Deferred;this._oOriginalSite={};this._oPersonalizedSite={};this._oContentProviderIndex={};this._oSiteConverter=new n;this._oPersonalizationDeltas={};this._bLoadPersonalization=f.isFlpHomeIntent();this._oManifestCache={};this._oGetSitePromise=t.getSite().then(function(e){this._oOriginalSite=a({},e);if(this._bLoadPersonalization){this._loadAndApplyPersonalization(e)}return e}.bind(this)).fail(function(e){this._oSiteDeferred.reject(e);this._bLoadPersonalization=true}.bind(this))}z.prototype._loadAndApplyPersonalization=function(e){var t=new l(e._version);if(t.compareTo("3.1.0")<0){this._oAdapter.getPersonalization(t).then(function(t){if(t){this._oPersonalizationDeltas=o(t)}else{this._oPersonalizationDeltas={version:"3.0.0",_version:"3.0.0"}}this._triggerMixinPersonalisationInSite(e,t)}.bind(this)).fail(this._oSiteDeferred.reject)}else{this._oPersonalizedPages={};this._ensureStandardVizTypesPresent(this._oOriginalSite).then(function(e){this._oOriginalSite=e;this._oOriginalSite=this._ensureProperDisplayFormats(this._oOriginalSite);this._oSiteDeferred.resolve(this._oOriginalSite)}.bind(this))}};z.prototype._applyPagePersonalization=function(e,t){var i=e.identification.id;if(Object.keys(t).length){var n=t.classicHomePage;if(n&&n.version==="3.1.0"){Object.keys(n).forEach(function(e){if(!t[e]){t[e]=n[e]}});delete t.classicHomePage;t._version=t.version}var r=new l(t._version||t.version);if(r.compareTo("3.1.0")<0){t={classicHomePage:t,_version:"3.1.0",version:"3.1.0"}}}this._oPersonalizationDeltas=t;var s=o(t[i],20)||{};var a=this._oSiteConverter.convertTo("3.0.0",o(e,20));return this._triggerMixinPersonalisationInSite(a,s).then(function(e){this._oPersonalizedPages[i]=this._oSiteConverter.convertTo("3.1.0",o(e,20));return this._oPersonalizedPages[i]}.bind(this))};z.prototype._migratePersonalizedPages=function(e){if(typeof this._oAdapter.migratePersonalizedPages!=="function"){return Promise.resolve(e)}return this._oAdapter.migratePersonalizedPages(e).then(function(e){if(e.length===0){return null}return this.save(e)}.bind(this)).then(function(){return e})};z.prototype._triggerMixinPersonalisationInSite=function(e,t){return new Promise(function(i,n){this._oPersonalizationProcessor.mixinPersonalization(e,t).done(function(e){this._oPersonalizedSite=this._ensureCompleteSite(e);this._oPersonalizedSite=this._ensureGroupsOrder(this._oPersonalizedSite);this._ensureStandardVizTypesPresent(this._oPersonalizedSite).then(function(e){this._oPersonalizedSite=e;this._oPersonalizedSite=this._ensureProperDisplayFormats(this._oPersonalizedSite);this._oSiteDeferred.resolve(this._oPersonalizedSite);i(this._oPersonalizedSite)}.bind(this)).catch(n)}.bind(this)).fail(function(e){this._oSiteDeferred.reject(e);n()}.bind(this))}.bind(this))};z.prototype.getHomepageGroups=function(){var e=new jQuery.Deferred;this.getSite().then(function(t){var i=t&&t.site&&t.site.payload&&t.site.payload.groupsOrder?t.site.payload.groupsOrder:[];e.resolve(i)});return e.promise()};z.prototype.getGroups=function(){var e=new jQuery.Deferred;this.getSite().then(function(t){var i=[];Object.keys(t.groups).forEach(function(e){i.push(t.groups[e])});e.resolve(i)});return e.promise()};z.prototype.getGroup=function(e){var t=new jQuery.Deferred;this.getSite().then(function(i){var n=i.groups[e];if(n){t.resolve(n)}else{t.reject("Group "+e+" not found")}});return t.promise()};z.prototype.getSite=function(){if(!this._bLoadPersonalization){this.getSiteWithoutPersonalization().then(this._loadAndApplyPersonalization.bind(this));this._bLoadPersonalization=true}return this._oSiteDeferred.promise()};z.prototype.getSiteWithoutPersonalization=function(){return this._oGetSitePromise};z.prototype.getPage=function(e){var t=u.last("/core/shell/enablePersonalization");var i=u.last("/core/spaces/myHome/enabled");var n=u.last("/core/spaces/myHome/myHomePageId");var r=u.last("/core/stableIDs/enabled");var o=u.last("/core/stableIDs/migratePersonalization");return Promise.resolve(this._oGetSitePromise).then(function(){if(this._oPersonalizedPages[e]){return this._oPersonalizedPages[e]}if(t||i&&e===n){return Promise.all([this._getPageFromAdapter(e),this._oAdapter.getPersonalization(this._oOriginalSite._version)]).catch(function(){return Promise.reject("CommonDataModel Service: Cannot get page "+e)}).then(function(e){return this._applyPagePersonalization(e[0],e[1]).catch(function(){return Promise.reject("Personalization Processor: Cannot mixin the personalization.")})}.bind(this)).then(function(e){if(r&&o){return this._migratePersonalizedPages([e]).then(function(e){return e[0]})}return e}.bind(this))}return this._getPageFromAdapter(e)}.bind(this))};z.prototype._getPageFromAdapter=function(e){if(!this._oAdapter.getPage){return Promise.resolve(o(this._oOriginalSite.pages[e],20))}return this._oAdapter.getPage(e).then(function(t){return Promise.all([this.getCachedVisualizations(),this.getCachedVizTypes()]).then(function(i){var n=i[0];var r=i[1];this._oOriginalSite.pages[e]=t;this._oOriginalSite.visualizations=n;this._oOriginalSite.vizTypes=r;return o(t,20)}.bind(this))}.bind(this))};z.prototype._filterForProperPages=function(e){return e.filter(function(e){return!!e})};z.prototype.getPages=function(e){var t=u.last("/core/shell/enablePersonalization");var i=u.last("/core/spaces/myHome/enabled");var n=u.last("/core/spaces/myHome/myHomePageId");var r=u.last("/core/stableIDs/enabled");var o=u.last("/core/stableIDs/migratePersonalization");return Promise.resolve(this._oGetSitePromise).then(function(){if(t||i){return Promise.all([this._getPagesFromAdapter(e),this._oAdapter.getPersonalization(this._oOriginalSite._version)]).catch(function(){return Promise.reject("CommonDataModel Service: Cannot get pages")}).then(function(e){var i=e[0];var s=e[1];return Promise.all(Object.keys(i).map(function(e){if(this._oPersonalizedPages[e]){return Promise.resolve(this._oPersonalizedPages[e])}if(!t&&e!==n){return Promise.resolve(i[e])}return this._applyPagePersonalization(i[e],s).catch(function(){return Promise.reject("Personalization Processor: Cannot mixin the personalization.")})}.bind(this))).then(function(e){if(r&&o){return this._migratePersonalizedPages(e)}return e}.bind(this)).then(function(e){return this._filterForProperPages(e)}.bind(this))}.bind(this))}return this._getPagesFromAdapter(e).then(function(e){return this._filterForProperPages(c(e))}.bind(this))}.bind(this))};z.prototype._getPagesFromAdapter=function(e){if(!this._oAdapter.getPages){var t={};for(var i in this._oOriginalSite.pages){if(p(e,this._oOriginalSite.pages[i].identification.id)){t[i]=this._oOriginalSite.pages[i]}}return Promise.resolve(o(t,20))}return this._oAdapter.getPages(e).then(function(e){return Promise.all([this.getCachedVisualizations(),this.getCachedVizTypes()]).then(function(t){var i=t[0];var n=t[1];this._oOriginalSite.visualizations=i;this._oOriginalSite.vizTypes=n;Object.keys(e).forEach(function(t){this._oOriginalSite.pages[t]=e[t]}.bind(this));return o(e,20)}.bind(this))}.bind(this))};z.prototype.getAllPages=function(e){if(e&&e.personalizedPages){return this._getAllPersonalizedPages()}return this._getAssignedPageIds().then(function(e){return this.getPages(e)}.bind(this))};z.prototype._getAssignedPageIds=function(){return sap.ushell.Container.getServiceAsync("Menu").then(function(e){return e.getContentNodes()}).then(function(e){var t=[];e.forEach(function(e){this._collectPageIds(e,t)}.bind(this));return t}.bind(this))};z.prototype._collectPageIds=function(e,t){if(e.type===_.Page){if(t.indexOf(e.id)===-1){t.push(e.id)}}if(e.children!==undefined){e.children.forEach(function(e){this._collectPageIds(e,t)}.bind(this))}};z.prototype._getAllPersonalizedPages=function(){return Promise.resolve(this._oGetSitePromise).then(function(){return Promise.all([this._getAssignedPageIds(),new Promise(function(e,t){this._oAdapter.getPersonalization(this._oOriginalSite._version).done(e).catch(t)}.bind(this))])}.bind(this)).then(function(e){var t=e[0];var i=e[1];var n=[];Object.keys(i).forEach(function(e){if(e==="version"||e==="_version"){return}if(!t.includes(e)){return}var r=i[e];if(Object.keys(r).length>1){n.push(e)}});if(n.length>0){return this.getPages(n)}return[]}.bind(this))};z.prototype.getApplications=function(){return new Promise(function(e,t){this.getSite().then(function(i){var n=i.applications;if(n){e(n)}else{t("CDM applications not found.")}}).fail(t)}.bind(this))};z.prototype.getVizTypes=function(){if(typeof this._oAdapter.getVizTypes==="function"){return Promise.all([this._getSiteProperty("vizTypes"),this._oAdapter.getVizTypes()]).then(function(e){var t=e[0];var i=e[1];return s(t,i)})}return this.getCachedVizTypes()};z.prototype.getCachedVizTypes=function(){var e=Promise.resolve();if(typeof this._oAdapter.getCachedVizTypes==="function"){e=this._oAdapter.getCachedVizTypes()}return Promise.all([this._getSiteProperty("vizTypes"),e]).then(function(e){var t=e[0];var i=e[1];return s(t,i)})};z.prototype.getVizType=function(e){var t=Promise.resolve();if(typeof this._oAdapter.getVizType==="function"){t=this._oAdapter.getVizType(e)}return Promise.all([this._getSiteProperty("vizTypes"),t]).then(function(t){var i=t[0];var n=t[1];if(n){i[e]=n}return i[e]})};z.prototype.getVisualizations=function(){if(typeof this._oAdapter.getVisualizations==="function"){return Promise.all([this._getSiteProperty("visualizations"),this._oAdapter.getVisualizations()]).then(function(e){var t=e[0];var i=e[1];return s(t,i)})}return this.getCachedVisualizations()};z.prototype.getCachedVisualizations=function(){var e=Promise.resolve();if(typeof this._oAdapter.getCachedVisualizations==="function"){e=this._oAdapter.getCachedVisualizations()}return Promise.all([this._getSiteProperty("visualizations"),e]).then(function(e){var t=e[0];var i=e[1];return s(t,i)})};z.prototype._getSiteProperty=function(e){return new Promise(function(i,n){this.getSite().then(function(r){var o=t.get(e,r);if(o){i(o)}else{var s=e.toString();n("CDM "+s+" not found.")}}).fail(n)}.bind(this))};z.prototype.getGroupFromOriginalSite=function(e){var t=new jQuery.Deferred;if(typeof e==="string"&&this._oOriginalSite&&this._oOriginalSite.groups&&this._oOriginalSite.groups[e]){t.resolve(jQuery.extend(true,{},this._oOriginalSite.groups[e]))}else{t.reject("Group does not exist in original site.")}return t.promise()};z.prototype.getOriginalPage=function(e){return o(this._oOriginalSite.pages[e],20)};z.prototype.save=function(e){var t=new jQuery.Deferred;if(this._oOriginalSite._version==="3.1.0"){if(!e){return t.reject("No page id was provided").promise()}if(typeof e==="string"){e=[e]}this._saveCdmVersion31(e).then(t.resolve).catch(t.reject)}else{this._saveCdmVersion30().then(t.resolve).catch(t.reject)}return t.promise()};z.prototype._saveCdmVersion30=function(){var e=this._oOriginalSite;var t=this._oPersonalizedSite;return new Promise(function(i,n){this._oPersonalizationProcessor.extractPersonalization(o(t,20),o(e,20)).done(i).fail(n)}.bind(this)).catch(function(){return Promise.reject("Personalization Processor: Cannot extract personalization.")}).then(function(e){if(!r(e)){if(this._oPersonalizationDeltas.version===undefined||this._oPersonalizationDeltas._version===undefined){this._oPersonalizationDeltas.version=this._oOriginalSite._version;this._oPersonalizationDeltas._version=this._oOriginalSite._version}this._oPersonalizationDeltas=e;return this._setPersonalization(this._oPersonalizationDeltas)}return Promise.resolve()}.bind(this))};z.prototype._saveCdmVersion31=function(e){var t=e.map(function(e){var t=this._oSiteConverter.convertTo("3.0.0",this._oOriginalSite.pages[e]);var i=this._oSiteConverter.convertTo("3.0.0",this._oPersonalizedPages[e]);return new Promise(function(n,r){this._oPersonalizationProcessor.extractPersonalization(o(i,20),o(t,20)).done(function(t){n({pageId:e,personalization:t})}).fail(function(t){g.error("Cannot extract personalization of page "+e+": "+t,null,y);n()})}.bind(this))}.bind(this));return Promise.all(t).then(function(e){var t=false;e.forEach(function(e){if(!e){return}if(!r(e.personalization)){t=true;if(this._oPersonalizationDeltas.version===undefined||this._oPersonalizationDeltas._version===undefined){this._oPersonalizationDeltas.version=this._oOriginalSite._version;this._oPersonalizationDeltas._version=this._oOriginalSite._version}this._oPersonalizationDeltas[e.pageId]=e.personalization}}.bind(this));if(t){return this._setPersonalization(this._oPersonalizationDeltas)}return Promise.resolve()}.bind(this))};z.prototype._setPersonalization=function(e,t){if(this._oPendingPersonalizationDeferred){if(!this._oNextPersonalizationQuery){this._oNextPersonalizationQuery={fnNextCall:null,aPromiseResolvers:[]}}return new Promise(function(i,n){this._oNextPersonalizationQuery.fnNextCall=this._setPersonalization.bind(this,e,t);this._oNextPersonalizationQuery.aPromiseResolvers.push({resolve:i,reject:n})}.bind(this))}this._oPendingPersonalizationDeferred=this._oAdapter.setPersonalization(e,t);return new Promise(function(e,t){this._oPendingPersonalizationDeferred.then(e).fail(t).always(function(){delete this._oPendingPersonalizationDeferred;if(this._oNextPersonalizationQuery){var e=this._oNextPersonalizationQuery.fnNextCall();this._cleanupPersonalizationQueuePromises(e,this._oNextPersonalizationQuery.aPromiseResolvers);delete this._oNextPersonalizationQuery}}.bind(this))}.bind(this))};z.prototype._cleanupPersonalizationQueuePromises=function(e,t){t.forEach(function(t){e.then(t.resolve).catch(t.reject)})};z.prototype._getUnreferencedCatalogApplications=function(e){var t={};var i=Object.keys(e.applications).map(function(t){return e.applications[t]["sap.app"].id}).reduce(function(e,t){e[t]=true;return e},{});var n=e.catalogs;Object.keys(n).forEach(function(e){var r=n[e].payload.appDescriptors;r.map(function(e){return e.id}).filter(function(e){return!i[e]}).forEach(function(i){if(!t.hasOwnProperty(e)){t[e]={}}t[e][i]=true})});return t};z.prototype._formatUnreferencedApplications=function(e,t){return"One or more apps from "+e+" content provider are not listed among the applications section "+"of the extended site and will be discarded - "+Object.keys(t).map(function(e){var i=Object.keys(t[e]).map(function(e){return"'"+e+"'"});return"From catalog '"+e+"': "+i.join(", ")}).join("; ")};z.prototype._removeUnreferencedApplications=function(e,t){Object.keys(e.catalogs).forEach(function(i){var n=e.catalogs[i].payload;var r=n.appDescriptors;n.appDescriptors=r.filter(function(e){return t[i]&&!t[i][e.id]})})};z.prototype.getExtensionSites=function(){var e=new jQuery.Deferred;sap.ushell.Container.getServiceAsync("PluginManager").then(function(t){t.loadPlugins("ContentProvider").done(function(){var t=Object.keys(this._oContentProviderIndex),i=t.length;if(i===0){e.resolve([]);return}var n=t.map(function(t){var i=this._oContentProviderIndex[t];var n;try{n=i.getSite();if(!n||typeof n.then!=="function"){n=Promise.reject("Call to getSite failed: getSite did not return a Promise")}}catch(e){n=Promise.reject("Call to getSite failed: "+e)}return n.then(function(t,i){var n=jQuery.extend(true,{},i);var r=this._getUnreferencedCatalogApplications(i);if(Object.keys(r).length>0){var o=this._formatUnreferencedApplications(t,r);g.error(o,null,y);this._removeUnreferencedApplications(n,r)}var s={providerId:t,success:true,site:n};e.notify(s);return s}.bind(this,t)).catch(function(e,t){return{providerId:e,success:false,error:t}}.bind(null,t))}.bind(this));Promise.all(n).then(e.resolve)}.bind(this))}.bind(this));return e.promise()};z.prototype.registerContentProvider=function(e,t){if(this._oContentProviderIndex[e]){g.error("a content provider with ID '"+e+"' is already registered",null,y);return}this._oContentProviderIndex[e]=t;g.debug("ContentProvider '"+e+"' was registered",null,y)};z.prototype._ensureCompleteSite=function(e){if(e.groups){var t=e.groups;Object.keys(t).forEach(function(e){if(!t[e]){delete t[e]}else{if(!t[e].payload){t[e].payload={}}if(!t[e].payload.links){t[e].payload.links=[]}if(!t[e].payload.tiles){t[e].payload.tiles=[]}if(!t[e].payload.groups){t[e].payload.groups=[]}}})}return e};z.prototype._ensureGroupsOrder=function(e){var i=t.get("site.payload.groupsOrder",e),n=e.groups,r,o=0;if(!i){return e}while(o<i.length){r=i[o];if(!n[r]){i.splice(o,1)}else{o++}}return e};z.prototype.getPlugins=function(){var e,n,r;n=function(e,i){var n,r=Object.keys(i).length;if(r===0){return{}}if(!i.hasOwnProperty("Shell-plugin")){g.error("Cannot find inbound with id 'Shell-plugin' for plugin '"+e+"'","plugin startup configuration cannot be determined correctly",y);return{}}if(r>1){g.warning("Multiple inbounds are defined for plugin '"+e+"'","plugin startup configuration will be determined using "+"the signature of 'Shell-plugin' inbound.",y)}n=t.get("signature.parameters",i["Shell-plugin"])||{};return Object.keys(n).reduce(function(e,i){var r=t.get(i+".defaultValue.value",n);if(typeof r==="string"){e[i]=r}return e},{})};e=function(t){Object.keys(t).filter(function(e){return typeof t[e]==="object"}).forEach(function(i){t[i]=e(t[i])});return Object.freeze(t)};return function(o){if(o!==undefined){r=o}if(r){return jQuery.when(r)}r={};return this.getSiteWithoutPersonalization().then(function(o){var s=o.applications||{};Object.keys(s).filter(function(e){return t.get("type",this[e]["sap.flp"])==="plugin"},s).forEach(function(e){var o,s,a=this[e],l={};if(!i(a["sap.platform.runtime"])){g.error("Cannot find 'sap.platform.runtime' section for plugin '"+e+"'","plugin might not be started correctly","sap.ushell.services.CommonDataModel")}else if(!i(a["sap.platform.runtime"].componentProperties)){g.error("Cannot find 'sap.platform.runtime/componentProperties' "+"section for plugin '"+e+"'","plugin might not be started correctly","sap.ushell.services.CommonDataModel")}else{l=a["sap.platform.runtime"].componentProperties}r[e]={url:l.url,component:a["sap.ui5"].componentName};var u=t.get("crossNavigation.inbounds",a["sap.app"])||{};s=n(e,u);o=jQuery.extend(l.config||{},s);if(o){r[e].config=o}if(l.asyncHints){r[e].asyncHints=l.asyncHints}var p=t.get("deviceTypes",a["sap.ui"]);if(p){r[e].deviceTypes=p}},s);return e(r)},function(e){return e})}}();z.prototype._mapDisplayFormats=function(e){var t={tile:v.Standard,standard:v.Standard,link:v.Compact,compact:v.Compact,flat:v.Flat,flatWide:v.FlatWide,tileWide:v.StandardWide,standardWide:v.StandardWide};var i=Object.keys(t).filter(function(t){return e.indexOf(t)>-1});return i.map(function(e){return t[e]})};z.prototype._ensureProperDisplayFormats=function(e){if(e.vizTypes){Object.keys(e.vizTypes).forEach(function(i){if(e.vizTypes[i]["sap.flp"]&&e.vizTypes[i]["sap.flp"].vizOptions){var n=e.vizTypes[i];var r=t.get("vizOptions.displayFormats.supported",n["sap.flp"]);var o=t.get("vizOptions.displayFormats.default",n["sap.flp"]);if(r){e.vizTypes[i]["sap.flp"].vizOptions.displayFormats.supported=this._mapDisplayFormats(r)}if(o){e.vizTypes[i]["sap.flp"].vizOptions.displayFormats.default=this._mapDisplayFormats([o])[0]}}}.bind(this))}if(e.hasOwnProperty("pages")){Object.keys(e.pages).forEach(function(t){var i=e.pages[t];if(i.payload&&i.payload.sections){var n=i.payload.sections;Object.keys(n).forEach(function(e){var t=n[e];Object.keys(t.viz).forEach(function(e){var i=t.viz[e];if(i.displayFormatHint){var n=this._mapDisplayFormats([i.displayFormatHint])[0];i.displayFormatHint=n||i.displayFormatHint}}.bind(this))}.bind(this))}}.bind(this))}else if(e.hasOwnProperty("groups")){Object.keys(e.groups).forEach(function(t){var i=e.groups[t];i.payload.tiles.forEach(function(e){if(e.displayFormatHint){var t=this._mapDisplayFormats([e.displayFormatHint])[0];e.displayFormatHint=t||e.displayFormatHint}}.bind(this))}.bind(this))}return e};z.prototype._ensureStandardVizTypesPresent=function(e){if(!(e._version&&e._version.startsWith("3."))){return Promise.resolve(e)}if(!e.vizTypes){e.vizTypes={}}var t=[];var i={};i[m.STATIC_LAUNCHER]="sap/ushell/components/tiles/cdm/applauncher/manifest.json";i[m.DYNAMIC_LAUNCHER]="sap/ushell/components/tiles/cdm/applauncherdynamic/manifest.json";i[m.CARD]="sap/ushell/services/_CommonDataModel/vizTypeDefaults/cardManifest.json";Object.keys(i).forEach(function(n){if(!e.vizTypes[n]){var r=i[n];var o=this._loadManifest(r).then(function(t){e.vizTypes[n]=t});t.push(o)}}.bind(this));if(t.length===0){return Promise.resolve(e)}return Promise.all(t).then(function(){return e})};z.prototype._loadManifest=function(e){if(!this._oManifestCache[e]){var t=sap.ui.require.toUrl(e);this._oManifestCache[e]=P.load({manifestUrl:t,async:true}).then(function(e){return e.getRawJson()})}return this._oManifestCache[e].then(function(e){return o(e)})};z.prototype.getMenuEntries=function(e){return new Promise(function(i,n){this.getSite().then(function(n){var r=t.get("menus."+e+".payload.menuEntries",n);i(o(r)||[])})}.bind(this))};z.prototype.getContentProviderIds=function(){return new Promise(function(e,t){this.getSite().then(function(t){var i=Object.keys(t.systemAliases);var n={};c(t.applications).forEach(function(e){var t=d.getContentProviderId(e);if(p(i,t)){n[t]=true}});e(Object.keys(n))})}.bind(this))};z.hasNoAdapter=false;return z},true);
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/ContentExtensionAdapterFactory", ["sap/ushell/Config","sap/ushell/services/_ContentExtensionAdapterFactory/ContentExtensionAdapterConfig","sap/ui/thirdparty/jquery","sap/base/util/ObjectPath"],function(e,r,jQuery,n){"use strict";var t={};t.getAdapters=function(r){var n=t._getConfigAdapters(r);var a={};var i=n.map(function(r){var n=e.last(r.configSwitch);if(!n){return Promise.resolve()}var i=t._getAdapter(r);i.then(function(e){a[r.contentProviderName]=e});return i});return new Promise(function(e){jQuery.when.apply(jQuery,i).then(function(){e(a)})})};t._getConfigAdapters=function(e){if(!e){e=r._getConfigAdapters()}if(!Array.isArray(e)){e=[e]}return e};t._getAdapter=function(e){var r=new jQuery.Deferred;var n=e.configHandler?e.configHandler():{};var a=e.adapter.replace(/\./g,"/");sap.ui.require([a],function(){var a=t._getAdapterInstance(e.adapter,e.system,null,n);r.resolve(a)});return r.promise()};t._getAdapterInstance=function(e,r,n,t){var a=sap.ui.require(e.replaceAll(".","/"));if(a){var i={config:t||{}};return new a(r,n,i)}return null};return t});
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/CrossApplicationNavigation", ["sap/ushell/services/AppConfiguration","sap/ushell/services/_CrossApplicationNavigation/utils","sap/ushell/utils/type","sap/ushell/TechnicalParameters","sap/ushell/components/applicationIntegration/AppLifeCycle","sap/base/util/isPlainObject","sap/base/util/UriParameters","sap/ui/thirdparty/jquery","sap/base/util/ObjectPath","sap/base/util/merge","sap/ushell/utils","sap/ushell/ApplicationType","sap/ushell/UI5ComponentType","sap/base/Log","sap/ushell/utils/UrlParsing","sap/base/util/deepClone"],function(e,t,n,a,i,r,s,jQuery,o,p,c,l,u,f,h,g){"use strict";function m(m,v,d){var A;if(d&&d.config){A=d.config}function y(a,i){var o,p,c,l,u;if(typeof a!=="string"&&!r(a)&&a!==undefined){f.error("Unexpected input type",null,"sap.ushell.services.CrossApplicationNavigation");return undefined}if(a===undefined){return undefined}o=e.getCurrentApplication();if(i){if(typeof i.getComponentData!=="function"||!r(i.getComponentData())||!i.getComponentData().startupParameters||!r(i.getComponentData().startupParameters)){f.error("Cannot call getComponentData on component","the component should be an application root component","sap.ushell.services.CrossApplicationNavigation")}else{u=i.getComponentData().startupParameters;if(u.hasOwnProperty("sap-system")){p=u["sap-system"][0]}if(u.hasOwnProperty("sap-ushell-next-navmode")){c=u["sap-ushell-next-navmode"][0]}}}else{if(o&&o["sap-system"]){p=o["sap-system"]}else if(o&&o.url){p=new s(o.url).get("sap-system")}if(o&&o["sap-ushell-next-navmode"]){c=o["sap-ushell-next-navmode"]}else if(o&&o.url){c=new s(o.url).get("sap-ushell-next-navmode")}}if(o){l=o.contentProviderId}var h=t._injectParameters({type:n,inject:{"sap-system":p,"sap-ushell-navmode":c,"sap-app-origin-hint":l},injectEmptyString:{"sap-app-origin-hint":true},args:a});return h}function S(e){var t,n,a;if(localStorage&&localStorage["sap-ushell-enc-test"]==="false"){return e}if(!A||!A["sap-ushell-enc-test"]){if(localStorage&&localStorage["sap-ushell-enc-test"]!=="true"){return e}}if(typeof e!=="string"&&!r(e)&&e!==undefined){f.error("Unexpected input type",null,"sap.ushell.services.CrossApplicationNavigation");return undefined}if(e===undefined){return undefined}if(r(e)){n=jQuery.extend(true,{},e);if(n.target&&n.target.shellHash){if(typeof n.target.shellHash==="string"){if(n.target.shellHash!=="#"&&n.target.shellHash!==""){n.target.shellHash=S(n.target.shellHash)}}return n}n.params=n.params||{};n.params["sap-ushell-enc-test"]=["A B%20C"];return n}a=e;if(!/[?&]sap-system=/.test(a)){t=a.indexOf("?")>-1?"&":"?";a+=t+"sap-ushell-enc-test="+encodeURIComponent("A B%20C")}return a}this._extractInnerAppRoute=function(e){var t=this,n,a;if(typeof e==="string"){n=e.split("&/");a=n.shift();return{intent:a,innerAppRoute:n.length>0?"&/"+n.join("&/"):""}}if(Object.prototype.toString.apply(e)==="[object Object]"){var i=o.get("target.shellHash",e);if(typeof i==="string"){var r=t._extractInnerAppRoute(i);e.target.shellHash=r.intent;return{intent:e,innerAppRoute:r.innerAppRoute}}if(e.hasOwnProperty("appSpecificRoute")){var s=e.appSpecificRoute;delete e.appSpecificRoute;var p=typeof s==="string"&&s.indexOf("&/")!==0&&s.length>0;return{innerAppRoute:p?"&/"+s:s,intent:e}}return{intent:e,innerAppRoute:""}}f.error("Invalid input parameter","expected string or object","sap.ushell.services.CrossApplicationNavigation");return{intent:e}};this._injectInnerAppRoute=function(e,t){var n,a=this;if(!t){return e}if(typeof e==="string"){return e+t}if(Object.prototype.toString.apply(e)==="[object Object]"){n=o.get("target.shellHash",e);if(typeof n==="string"){e.target.shellHash=a._injectInnerAppRoute(n,t);return e}e.appSpecificRoute=t}return e};this.hrefForExternal=function(e,r,s){if(typeof r!=="object"&&r!==undefined&&r!==null){s=r;r=undefined}if(s){var o=new jQuery.Deferred;this.hrefForExternalAsync(e,r).then(o.resolve).catch(o.reject);return o.promise()}f.error("Deprecated option 'bAsync=false'. Please use 'bAsync=true' instead",null,"sap.ushell.services.CrossApplicationNavigation");var c=p({},e);var l=this._extractInnerAppRoute(c);var u=l.intent;t.addXAppStateFromParameter(u,"sap-xapp-state-data");c=y(u,r);c=t.injectStickyParameters({args:c,appLifeCycle:i,technicalParameters:a,type:n});c=S(c);c=this._injectInnerAppRoute(c,l.innerAppRoute);var h=sap.ushell.Container.getService("ShellNavigation");if(!h){f.debug("Shell not available, no Cross App Navigation");return""}return h.hrefForExternal(c,undefined,r,s)};this.hrefForExternalAsync=function(e,r){var s=p({},e);var o=this._extractInnerAppRoute(s);var c=o.intent;return Promise.resolve().then(function(){return t.addXAppStateFromParameterAsync(c,"sap-xapp-state-data")}).then(function(){s=y(c,r);return t.injectStickyParametersAsync({args:s,appLifeCycle:i,technicalParameters:a,type:n})}).then(function(e){s=e;s=S(s);s=this._injectInnerAppRoute(s,o.innerAppRoute);return sap.ushell.Container.getServiceAsync("ShellNavigation")}.bind(this)).then(function(e){return new Promise(function(t,n){e.hrefForExternal(s,undefined,r,true).done(t).fail(n)})}).catch(function(){f.debug("Shell not available, no Cross App Navigation");return""})};this.expandCompactHash=function(e){var t=new jQuery.Deferred;sap.ushell.Container.getServiceAsync("NavTargetResolution").then(function(n){n.expandCompactHash(e).done(t.resolve).fail(t.reject)});return t.promise()};this.backToPreviousApp=function(){return this.isInitialNavigationAsync().then(function(e){if(e){return this.toExternal({target:{shellHash:"#"},writeHistory:false})}this.historyBack();return undefined}.bind(this))};this.historyBack=function(e){var t=-1;if(e&&typeof e==="number"){if(e<=0){f.warning("historyBack called with an argument <= 0 and will result in a forward navigation or refresh","expected was an argument > 0","sap.ushell.services.CrossApplicationNavigation#historyBack")}t=e*-1}window.history.go(t)};this.isInitialNavigation=function(){f.error("Deprecated API call of 'sap.ushell.CrossApplicationNavigation.isInitialNavigation'. Please use 'isInitialNavigationAsync' instead",null,"sap.ushell.services.CrossApplicationNavigation");var e=sap.ushell&&sap.ushell.Container&&typeof sap.ushell.Container.getService==="function"&&sap.ushell.Container.getService("ShellNavigation");if(!e){f.debug("ShellNavigation service not available","This will be treated as the initial navigation","sap.ushell.services.CrossApplicationNavigation");return true}var t=e.isInitialNavigation();if(typeof t==="undefined"){return true}return t};this.isInitialNavigationAsync=function(){return sap.ushell.Container.getServiceAsync("ShellNavigation").then(function(e){var t=e.isInitialNavigation();if(typeof t==="undefined"){return true}return t}).catch(function(){f.debug("ShellNavigation service not available","This will be treated as the initial navigation","sap.ushell.services.CrossApplicationNavigation");return true})};this.toExternal=function(e,r){var s=e.writeHistory;var o=p({},e);var c=p({},o);this._processShellHashWithParams(o);var l=this._extractInnerAppRoute(o);var u=l.intent;var h;var g;return Promise.all([sap.ushell.Container.getServiceAsync("AppLifeCycle"),sap.ushell.Container.getServiceAsync("ShellNavigation")]).then(function(e){var t=e[0];h=e[1];g=t.getCurrentApplication();return g&&g.getIntent()}).then(function(e){this._checkIfAppNeedsToBeReloaded(c,g,e,h.hashChanger);return t.addXAppStateFromParameterAsync(u,"sap-xapp-state-data")}.bind(this)).then(function(){o=y(u,r);return t.injectStickyParametersAsync({args:o,appLifeCycle:i,technicalParameters:a,type:n})}).then(function(e){o=e;o=S(o);delete o.writeHistory;o=this._injectInnerAppRoute(o,l.innerAppRoute);return h.toExternal(o,r,s)}.bind(this)).catch(function(e){f.warning("Shell not available, no Cross App Navigation")})};this._checkIfAppNeedsToBeReloaded=function(e,t,n,a){if(!t||!n||!e||!e.target){return}if(e.target.shellHash){var i=h.parseShellHash(e.target.shellHash)||{};e.target={semanticObject:i.semanticObject,action:i.action,contextRaw:i.contextRaw};e.appSpecificRoute=i.appSpecificRoute;e.params=Object.assign({},e.params,i.params)}if(e.appSpecificRoute){return}if(t.applicationType!=="UI5"){return}if(e.target.semanticObject!==n.semanticObject){return}if(e.target.action!==n.action){return}var r={};if(e.params){Object.keys(e.params).forEach(function(t){var n=e.params[t];var a=Array.isArray(n)?n:[n];r[t]=a.map(function(e){return e.toString()})})}if(!a.haveSameIntentParameters(r,n.params)){return}a.setReloadApplication(true)};this.hrefForAppSpecificHash=function(e){f.error("Deprecated API call of 'sap.ushell.CrossApplicationNavigation.hrefForAppSpecificHash'. Please use 'hrefForAppSpecificHashAsync' instead",null,"sap.ushell.services.CrossApplicationNavigation");if(sap.ushell&&sap.ushell.Container&&typeof sap.ushell.Container.getService==="function"){var t=sap.ushell.Container.getService("ShellNavigation");if(t){return t.hrefForAppSpecificHash(e)}}f.debug("Shell not available, no Cross App Navigation; fallback to app-specific part only");return"#"+encodeURI(e)};this.hrefForAppSpecificHashAsync=function(e){return sap.ushell.Container.getServiceAsync("ShellNavigation").then(function(t){return t.hrefForAppSpecificHash(e)}).catch(function(){f.debug("Shell not available, no Cross App Navigation; fallback to app-specific part only");return"#"+encodeURI(e)})};this.getPrimaryIntent=function(e,t){var n={},a,i=/^#\w+-displayFactSheet(?:$|\?.)/;n.tags=["primaryAction"];n.semanticObject=e;if(t){n.params=t}return this.getLinks(n).then(function(e){if(e.length===0){delete n.tags;n.action="displayFactSheet";a=function(e,t){var n;if(e.intent===t.intent){return 0}n=i.test(e.intent)^i.test(t.intent);if(n){return i.test(e.intent)?-1:1}return e.intent<t.intent?-1:1};return this.getLinks(n)}a=function(e,t){if(e.intent===t.intent){return 0}return e.intent<t.intent?-1:1};return e}.bind(this)).then(function(e){return e.length===0?null:e.sort(a)[0]})};this.getSemanticObjectLinks=function(e,r,s,o,p,l){var u=new jQuery.Deferred;Promise.resolve().then(function(){return t.injectStickyParametersAsync({args:{params:r},appLifeCycle:i,technicalParameters:a,type:n})}).then(function(t){t=y(t,o).params;t=S({params:t}).params;var n;if(Array.isArray(e)){n=[];e.forEach(function(e){n.push([{semanticObject:e[0],params:e[1],ignoreFormFactor:!!e[2],ui5Component:e[3],appStateKey:e[4],compactIntents:!!e[5]}])})}else{n={semanticObject:e,params:t,ignoreFormFactor:s,ui5Component:o,appStateKey:p,compactIntents:!!l}}return Promise.all([sap.ushell.Container.getServiceAsync("NavTargetResolution"),n])}).then(function(e){var t=e[0];var n=e[1];c.invokeUnfoldingArrayArguments(t.getLinks.bind(t),[n]).done(u.resolve).fail(u.reject)});return u.promise()};this.getLinks=function(e){var t;t=c.invokeUnfoldingArrayArguments(this._getLinks.bind(this),[e]);return t};this._getLinks=function(e){var r=new jQuery.Deferred;if(typeof e==="undefined"){e={}}var s=jQuery.extend(true,{},e);s.compactIntents=!!s.compactIntents;s.action=s.action||undefined;s.paramsOptions=t.extractGetLinksParameterOptions(s.params);Promise.resolve().then(function(){return t.injectStickyParametersAsync({args:s,appLifeCycle:i,technicalParameters:a,type:n})}).then(function(e){s=e;var n;if(s.params){n=t.extractGetLinksParameterDefinition(s.params)}else{n=s.params}var a=y({params:n},s.ui5Component).params;a=S({params:a}).params;if(s.appStateKey){a["sap-xapp-state"]=[s.appStateKey];delete s.appStateKey}s.params=a;return sap.ushell.Container.getServiceAsync("NavTargetResolution")}).then(function(e){e.getLinks(s).done(r.resolve).fail(r.reject)});return r.promise()};this.getDistinctSemanticObjects=function(){var e=new jQuery.Deferred;sap.ushell.Container.getServiceAsync("NavTargetResolution").then(function(t){t.getDistinctSemanticObjects().done(e.resolve).fail(e.reject)});return e.promise()};this.isIntentSupported=function(e,t){var n=new jQuery.Deferred,a={},i=e.map(function(e){var n=y(e,t);a[n]=e;return n});sap.ushell.Container.getServiceAsync("NavTargetResolution").then(function(e){e.isIntentSupported(i).done(function(e){var t={};Object.keys(e).forEach(function(n){t[a[n]]=e[n]});n.resolve(t)}).fail(n.reject.bind(n))});return n.promise()};this.isNavigationSupported=function(e,t){var n=new jQuery.Deferred;var a=g(e).map(function(e){var n=this._extractInnerAppRoute(e);return y(n.intent,t)}.bind(this));sap.ushell.Container.getServiceAsync("NavTargetResolution").then(function(e){e.isNavigationSupported(a).done(n.resolve).fail(n.reject)});return n.promise()};this.isUrlSupported=function(e){var t=new jQuery.Deferred;if(typeof e!=="string"){t.reject();return t.promise()}if(h.isIntentUrl(e)){var n=h.getHash(e);this.isIntentSupported(["#"+n]).done(function(e){if(e["#"+n]&&e["#"+n].supported){t.resolve()}else{t.reject()}}).fail(function(){t.reject()})}else{t.resolve()}return t.promise()};this.createComponentInstance=function(e,t,n){var a=new jQuery.Deferred,i=sap.ushell.Container,r;this.createComponentData(e,t).then(function(e){i.getServiceAsync("Ui5ComponentLoader").then(function(t){return t.modifyComponentProperties(e,u.Application).then(function(e){r=e;return t})}).then(function(e){if(n){n.runAsOwner(function(){t(r)})}else{t(r)}function t(t){t.loadDefaultDependencies=false;e.instantiateComponent(t).then(function(e){a.resolve(e.componentHandle.getInstance())},function(e){e=e||"";f.error("Cannot create UI5 component: "+e,e.stack,"sap.ushell.services.CrossApplicationNavigation");a.reject(e)})}})},function(e){a.reject(e)});return a.promise()};this.createComponentData=function(e,t){return new Promise(function(n,a){var i=sap.ushell.Container,r,s;if(!t){t={}}else{s=Object.keys(t).length;if(s>1||s===1&&!t.componentData){a("`oConfig` argument should either be an empty object or contain only the `componentData` property.");return}}if(t.componentData){delete t.componentData.startupParameters;delete t.componentData.config;delete t.componentData["sap-xapp-state"]}r=h.constructShellHash(h.parseShellHash(e));if(!r){a("Navigation intent invalid!");return}i.getServiceAsync("NavTargetResolution").then(function(s){s.resolveHashFragment("#"+r).then(function(r){function s(e){e=jQuery.extend(true,{},e,t);if(!e.ui5ComponentName){if(e.additionalInformation){e.ui5ComponentName=e.additionalInformation.replace(/^SAPUI5\.Component=/,"")}else if(e.name){e.ui5ComponentName=e.name}}return e}if(r.applicationType===l.URL.type&&r.appCapabilities&&r.appCapabilities.appFrameworkId==="UI5"&&sap.ushell.Container.inAppRuntime()){sap.ui.require(["sap/ushell/appRuntime/ui5/services/AppLifeCycleAgent"],function(t){t.getAppInfo(r.appCapabilities.technicalAppComponentId).then(function(t){t=s(t);if(t.url&&e.indexOf("?")>0){t.url+="?"+e.split("?")[1]}o({ui5ComponentName:r.appCapabilities.technicalAppComponentId,applicationDependencies:t,url:t.url})})})}else if(r.applicationType!==l.URL.type&&!/^SAPUI5\.Component=/.test(r.additionalInformation)){a("The resolved target mapping is not of type UI5 component.")}else{o(r)}function o(e){i.getServiceAsync("Ui5ComponentLoader").then(function(t){e=s(e);e.loadDefaultDependencies=false;t.createComponentData(e).then(function(e){n(e)},function(e){e=e||"";f.error("Cannot get UI5 component data: "+e,e.stack,"sap.ushell.services.CrossApplicationNavigation");a(e)})})}})})})};this.createEmptyAppState=function(e,t,n,a){f.error("Deprecated API call of 'sap.ushell.CrossApplicationNavigation.createEmptyAppState'. Please use 'createEmptyAppStateAsync' instead",null,"sap.ushell.services.CrossApplicationNavigation");var i=sap.ushell.Container.getService("AppState");if(!(e instanceof sap.ui.core.UIComponent)){throw new Error("The passed oAppComponent must be a UI5 Component.")}return i.createEmptyAppState(e,t,n,a)};this.createEmptyAppStateAsync=function(e,t,n,a){if(!(e instanceof sap.ui.core.UIComponent)){return Promise.reject("The passed oAppComponent must be a UI5 Component.")}return sap.ushell.Container.getServiceAsync("AppState").then(function(i){return i.createEmptyAppState(e,t,n,a)})};this.getStartupAppState=function(e){this._checkComponent(e);var t=e.getComponentData()&&e.getComponentData()["sap-xapp-state"]&&e.getComponentData()["sap-xapp-state"][0];return this.getAppState(e,t)};this._checkComponent=function(e){if(!(e instanceof sap.ui.core.UIComponent)){throw new Error("oComponent passed must be a UI5 Component")}};this.getAppState=function(e,t){var n;var a=new jQuery.Deferred;this._checkComponent(e);sap.ushell.Container.getServiceAsync("AppState").then(function(i){if(typeof t!=="string"){if(t!==undefined){f.error("Illegal Argument sAppStateKey ")}setTimeout(function(){n=i.createEmptyUnmodifiableAppState(e);a.resolve(n)},0);return}i.getAppState(t).done(a.resolve).fail(a.reject)});return a.promise()};this.getAppStateData=function(e){return c.invokeUnfoldingArrayArguments(this._getAppStateData.bind(this),[e])};this._getAppStateData=function(e){var t=new jQuery.Deferred;sap.ushell.Container.getServiceAsync("AppState").then(function(n){if(typeof e!=="string"){if(e!==undefined){f.error("Illegal Argument sAppStateKey ")}setTimeout(function(){t.resolve(undefined)},0)}else{n.getAppState(e).done(function(e){t.resolve(e.getData())}).fail(t.resolve.bind(t,undefined))}});return t.promise()};this.saveMultipleAppStates=function(e){var t=[],n=new jQuery.Deferred;e.forEach(function(e){t.push(e.save())});jQuery.when.apply(this,t).done(function(){n.resolve(t)}).fail(function(){n.reject("save failed")});return n.promise()};this._processShellHashWithParams=function(e){if(e&&e.processParams===true&&e.target&&e.target.shellHash&&e.params){var t=h.parseShellHash(e.target.shellHash);e.target={semanticObject:t.semanticObject,action:t.action,contextRaw:t.contextRaw};e.appSpecificRoute=t.appSpecificRoute;e.params=Object.assign({},e.params,t.params)}};this.getSupportedAppStatePersistencyMethods=function(){f.error("Deprecated API call of 'sap.ushell.CrossApplicationNavigation.getSupportedAppStatePersistencyMethods'. Please use 'getSupportedAppStatePersistencyMethodsAsync' instead",null,"sap.ushell.services.CrossApplicationNavigation");var e=sap.ushell.Container.getService("AppState");return e.getSupportedPersistencyMethods()};this.getSupportedAppStatePersistencyMethodsAsync=function(){return sap.ushell.Container.getServiceAsync("AppState").then(function(e){return e.getSupportedPersistencyMethods()})};this.makeStatePersistent=function(e,t,n){var a=new jQuery.Deferred;sap.ushell.Container.getServiceAsync("AppState").then(function(i){i.makeStatePersistent(e,t,n).done(a.resolve).fail(a.reject)});return a.promise()};this.resolveIntent=function(e){var t=new jQuery.Deferred;sap.ushell.Container.getServiceAsync("NavTargetResolution").then(function(n){n.resolveHashFragment(e).then(function(e){t.resolve({url:e.url})}).fail(function(e){t.reject(e)})});return t.promise()}}m.hasNoAdapter=true;return m},true);
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/LaunchPage", ["sap/base/Log","sap/ushell/services/ContentExtensionAdapterFactory","sap/ui/thirdparty/jquery","sap/ushell/resources","sap/ushell/services/_AppState/AppStatePersistencyMethod","sap/ushell/Config","sap/m/library","sap/m/GenericTile"],function(e,t,jQuery,r,i,o,n,a){"use strict";var s=n.LoadState;function u(i){var n=this,u=[],l=t.getAdapters();this.oAdapters={default:i};l.then(function(e){jQuery.extend(this.oAdapters,e)}.bind(this));this.getGroups=function(){if(o.last("/core/spaces/enabled")){return(new jQuery.Deferred).resolve([]).promise()}var t=new jQuery.Deferred;l.then(function(){var r=Object.keys(n.oAdapters).map(function(e){return n._getAdapter(e).getGroups()});jQuery.when.apply(jQuery,r).done(function(){var e=[].concat.apply([],arguments);t.resolve(e)}).fail(function(){e.error("getGroups failed")})});return t.promise()};this.getGroupsForBookmarks=function(t){var i=new jQuery.Deferred;this.getGroups().then(function(o){this.getDefaultGroup().then(function(e){if(o.length>0){o=o.filter(function(e){if(t===true){return this.isGroupVisible(e)}return!this.isGroupLocked(e)&&this.isGroupVisible(e)}.bind(this));o=o.map(function(t){return{title:t===e&&r.i18n.getText("my_group")||this.getGroupTitle(t),object:t}}.bind(this))}i.resolve(o)}.bind(this),function(t){e.error("getGroupsForBookmarks - getDefaultGroup - failed: "+t.message)})}.bind(this),function(t){e.error("getGroupsForBookmarks - getGroups - failed: "+t.message)});return i.promise()};this.getDefaultGroup=function(){var t=this._getAdapter().getDefaultGroup();t.fail(function(){e.error("getDefaultGroup failed")});return t};this.getGroupTitle=function(e){return this._getAdapter(e.contentProvider).getGroupTitle(e)};this.getGroupId=function(e){return this._getAdapter(e.contentProvider).getGroupId(e)};this.getGroupById=function(e){var t=new jQuery.Deferred,r=this;this.getGroups().then(function(i){i=jQuery.grep(i,function(t){return r.getGroupId(t)===e});t.resolve(i&&i.length>0?i[0]:undefined)});return t.promise()};this.getGroupTiles=function(e){return this._getAdapter(e.contentProvider).getGroupTiles(e)};this.getTilesByGroupId=function(e){var t=new jQuery.Deferred,r=this;this.getGroupById(e).then(function(i){if(i){var o=r._getAdapter(i.contentProvider).getGroupTiles(i);if(o){o=o.map(function(t){return{id:r.getTileId(t),title:r.getTileTitle(t),subtitle:r.getCatalogTilePreviewSubtitle(t),url:r.getCatalogTileTargetURL(t),icon:r.getCatalogTilePreviewIcon(t),groupId:e}})}else{o=[]}t.resolve(o)}else{t.resolve([])}});return t.promise()};this.getLinkTiles=function(e){return this._getAdapter(e.contentProvider).getLinkTiles(e)};this.addGroupAt=function(t,r){var i,o=r,n=this._getAdapter();if(n.addGroupAt){i=n.addGroupAt(t,r);i.fail(function(){e.error("addGroup "+t+" failed")})}else{var a=new jQuery.Deferred;i=n.addGroup(t);i.done(function(e){var t=this.moveGroup(e,o),r=e;t.done(function(){a.resolve(r)});t.fail(function(){a.reject()})}.bind(this));i.fail(function(){e.error("addGroup "+t+" failed");a.reject()});return a.promise()}return i};this.addGroup=function(t){var r=this._getAdapter().addGroup(t);r.fail(function(){e.error("addGroup "+t+" failed")});return r};this.removeGroup=function(t,r){var i=this._getAdapter(t.contentProvider).removeGroup(t,r);i.fail(function(){e.error("Fail to removeGroup "+n.getGroupTitle(t))});return i};this.resetGroup=function(t,r){var i=this._getAdapter(t.contentProvider).resetGroup(t,r);i.fail(function(){e.error("Fail to resetGroup "+n.getGroupTitle(t))});return i};this.isGroupRemovable=function(e){return this._getAdapter(e.contentProvider).isGroupRemovable(e)};this.isGroupLocked=function(e){var t=this._getAdapter(e.contentProvider);if(typeof t.isGroupLocked==="function"){return t.isGroupLocked(e)}return false};this.isGroupFeatured=function(e){var t=this._getAdapter(e.contentProvider);if(typeof t.isGroupFeatured==="function"){return t.isGroupFeatured(e)}return false};this.moveGroup=function(t,r){var i=this._getAdapter(t.contentProvider).moveGroup(t,r);i.fail(function(){e.error("Fail to moveGroup "+n.getGroupTitle(t))});return i};this.setGroupTitle=function(t,r){var i=this._getAdapter(t.contentProvider).setGroupTitle(t,r);i.fail(function(){e.error("Fail to set Group title: "+n.getGroupTitle(t))});return i};this.hideGroups=function(t){var r=new jQuery.Deferred,i=this._getAdapter();if(typeof i.hideGroups!=="function"){r.reject("hideGroups() is not implemented in the Adapter.")}else{i.hideGroups(t).done(function(){r.resolve()}).fail(function(t){e.error("Fail to store groups visibility."+t);r.reject()})}return r.promise()};this.isGroupVisible=function(e){var t=this._getAdapter(e.contentProvider);if(typeof t.isGroupVisible==="function"){return t.isGroupVisible(e)}return true};this.addTile=function(t,r){return this._getAdapter(r.contentProvider).addTile(t,r).fail(function(){e.error("Fail to add Tile: "+n.getCatalogTileId(t))})};this.removeTile=function(t,r,i){var o=new jQuery.Deferred;sap.ushell.Container.getServiceAsync("AppState").then(function(n){this._getAdapter(t.contentProvider).removeTile(t,r,i).done(function(){var e=this.getCatalogTileTargetURL(r);this.deleteURLStatesPersistentData(e,n);o.resolve()}.bind(this)).fail(function(t){e.error("Fail to remove Tile: "+this.getTileId(r));o.reject(t)}.bind(this))}.bind(this)).catch(o.reject);return o.promise()};this.moveTile=function(t,r,i,o,a,s){var u=this._getAdapter().moveTile(t,r,i,o,a,s);u.fail(function(){e.error("Fail to move Tile: "+n.getTileId(t))});return u};this.isLinkPersonalizationSupported=function(e){var t=e&&e.contentProvider,r=this._getAdapter(t);if(typeof r.isLinkPersonalizationSupported==="function"){return r.isLinkPersonalizationSupported(e)}return false};this.getTileId=function(e){var t=e&&e.contentProvider;return this._getAdapter(t).getTileId(e)};this.getTileTitle=function(e){var t=e&&e.contentProvider;return this._getAdapter(t).getTileTitle(e)};this.getTileType=function(e){var t=e&&e.contentProvider,r=this._getAdapter(t);if(r.getTileType){return r.getTileType(e)}return"tile"};this.getTileView=function(e){var t=e&&e.contentProvider,r=this._getAdapter(t).getTileView(e);if(!jQuery.isFunction(r.promise)){r=(new jQuery.Deferred).resolve(r).promise()}return r};this.getCardManifest=function(e){var t=e&&e.contentProvider;return this._getAdapter(t).getCardManifest(e)};this.getAppBoxPressHandler=function(e){var t=e&&e.contentProvider,r=this._getAdapter(t);if(r.getAppBoxPressHandler){return r.getAppBoxPressHandler(e)}return undefined};this.getTileSize=function(e){var t=e&&e.contentProvider;return this._getAdapter(t).getTileSize(e)};this.getTileTarget=function(e){var t=e&&e.contentProvider;return this._getAdapter(t).getTileTarget(e)};this.getTileDebugInfo=function(e){var t=e&&e.contentProvider,r=this._getAdapter(t);if(typeof r.getTileDebugInfo==="function"){return r.getTileDebugInfo(e)}return undefined};this.isTileIntentSupported=function(e){var t=e&&e.contentProvider,r=this._getAdapter(t);if(typeof r.isTileIntentSupported==="function"){return r.isTileIntentSupported(e)}return true};this.refreshTile=function(e){var t=e&&e.contentProvider;this._getAdapter(t).refreshTile(e)};this.setTileVisible=function(e,t){var r=e&&e.contentProvider;this._getAdapter(r).setTileVisible(e,t)};this.registerTileActionsProvider=function(e){if(typeof e!=="function"){throw new Error("Tile actions Provider is not a function")}u.push(e)};this.getTileActions=function(e){var t=[],r,i=e&&e.contentProvider,o=this._getAdapter(i);if(typeof o.getTileActions==="function"){r=o.getTileActions(e);if(r&&r.length){t.push.apply(t,r)}}for(var n=0;n<u.length;n++){r=u[n](e);if(r&&r.length){t.push.apply(t,r)}}return t};this.getCatalogs=function(){return this._getAdapter().getCatalogs()};this.isCatalogsValid=function(){return this._getAdapter().isCatalogsValid()};this.getCatalogData=function(t){var r=this._getAdapter();if(typeof r.getCatalogData!=="function"){e.warning("getCatalogData not implemented in adapter",null,"sap.ushell.services.LaunchPage");return{id:this.getCatalogId(t)}}return r.getCatalogData(t)};this.getCatalogError=function(e){return this._getAdapter().getCatalogError(e)};this.getCatalogId=function(e){return this._getAdapter().getCatalogId(e)};this.getCatalogTitle=function(e){return this._getAdapter().getCatalogTitle(e)};this.getCatalogTiles=function(t){var r=this._getAdapter().getCatalogTiles(t);r.fail(function(){e.error("Fail to get Tiles of Catalog: "+n.getCatalogTitle(t))});return r};this.getCatalogTileId=function(e){return this._getAdapter(e.contentProvider).getCatalogTileId(e)};this.getStableCatalogTileId=function(e){var t=this._getAdapter(e.contentProvider);if(t&&!t.getStableCatalogTileId){return null}return t.getStableCatalogTileId(e)};this.getCatalogTileTitle=function(e){var t=e&&e.contentProvider;return this._getAdapter(t).getCatalogTileTitle(e)};this.getCatalogTileSize=function(e){var t=e&&e.contentProvider;return this._getAdapter(t).getCatalogTileSize(e)};this.getCatalogTileViewControl=function(e){var t=e&&e.contentProvider;var r=this._getAdapter(t);if(typeof r.getCatalogTileViewControl==="function"){return r.getCatalogTileViewControl(e)}var i=new jQuery.Deferred;var o=this.getCatalogTileView(e);i.resolve(o);return i.promise()};this.getCatalogTileView=function(t){e.error("Deprecated API call of 'sap.ushell.LaunchPage.getCatalogTileView'. Please use 'getCatalogTileViewControl' instead",null,"sap.ushell.services.LaunchPage");var r=t&&t.contentProvider;var i=this._getAdapter(r);if(i.getCatalogTileView){return i.getCatalogTileView(t)}var o=this.getTileTitle(t)||this.getCatalogTileTitle(t);return this._createErrorTile(o,"The LaunchPageAdapter does not support getCatalogTileView")};this._createErrorTile=function(e,t){var r=new a({state:s.Failed,header:e,subheader:t||""}).addStyleClass("sapUshellTileError");return r};this.getCatalogTileTargetURL=function(e){var t=e&&e.contentProvider;return this._getAdapter(t).getCatalogTileTargetURL(e)};this.getCatalogTileTags=function(e){var t=e&&e.contentProvider;var r=this._getAdapter(t);if(typeof r.getCatalogTileTags==="function"){return r.getCatalogTileTags(e)}return[]};this.getCatalogTileKeywords=function(e){var t=e&&e.contentProvider;return this._getAdapter(t).getCatalogTileKeywords(e)};this.getCatalogTilePreviewTitle=function(e){var t=e&&e.contentProvider;return this._getAdapter(t).getCatalogTilePreviewTitle(e)};this.getCatalogTilePreviewInfo=function(e){var t=e&&e.contentProvider;if(this._getAdapter(t).getCatalogTilePreviewInfo){return this._getAdapter(t).getCatalogTilePreviewInfo(e)}return""};this.getCatalogTilePreviewSubtitle=function(e){var t=e&&e.contentProvider;var r=this._getAdapter(t);if(r.getCatalogTilePreviewSubtitle){return r.getCatalogTilePreviewSubtitle(e)}return undefined};this.getCatalogTilePreviewIcon=function(e){var t=e&&e.contentProvider;return this._getAdapter(t).getCatalogTilePreviewIcon(e)};this.addBookmark=function(t,r,i){var o=new jQuery.Deferred;if(this._hasRequiredBookmarkParameters(t)){if(r&&this.isGroupLocked(r)){var n="Tile cannot be added, target group ("+this.getGroupTitle(r)+")is locked!";e.error(n);return o.reject(n)}this.changeURLStatesToPersistent(t.url).done(function(n){var a=r&&r.contentProvider;t.url=n;this._getAdapter(a).addBookmark(t,r,i).done(o.resolve).fail(function(){e.error("Fail to add bookmark for URL: "+t.url+" and Title: "+t.title);o.reject()})}.bind(this)).fail(function(r){e.error(r||"Fail to change url states to persistent: "+t.url);o.reject()})}return o.promise()};this.addCustomBookmark=function(t,r,i){var o=new jQuery.Deferred;if(this._hasRequiredBookmarkParameters(t)){if(r&&this.isGroupLocked(r)){var n="Tile cannot be added, target group ("+this.getGroupTitle(r)+")is locked!";e.error(n);return o.reject(n)}this.changeURLStatesToPersistent(t.url).done(function(n){var a=r&&r.contentProvider;t.url=n;this._getAdapter(a).addCustomBookmark(t,r,i).done(o.resolve).fail(function(){e.error("Fail to add bookmark for URL: "+t.url+" and Title: "+t.title);o.reject()})}.bind(this)).fail(function(r){e.error(r||"Fail to change url states to persistent: "+t.url);o.reject()})}return o.promise()};this._hasRequiredBookmarkParameters=function(t){if(!t.title){e.error("Add Bookmark - Missing title");throw new Error("Title missing in bookmark configuration")}if(!t.url){e.error("Add Bookmark - Missing URL");throw new Error("URL missing in bookmark configuration")}return true};this.countBookmarks=function(t,r){if(!t||typeof t!=="string"){e.error("Fail to count bookmarks. No valid URL");throw new Error("Missing URL")}var i=this._getAdapter().countBookmarks(t,r);i.fail(function(){e.error("Fail to count bookmarks")});return i};this.countCustomBookmarks=function(e){if(!e.url||!e.vizType){return Promise.reject("countCustomBookmarks: Some required parameters are missing.")}return this._getAdapter().countCustomBookmarks(e)};this.deleteBookmarks=function(t,r){var i=new jQuery.Deferred;if(!t||typeof t!=="string"){return i.reject(new Error("Missing URL")).promise()}sap.ushell.Container.getServiceAsync("AppState").then(function(o){this._getAdapter().deleteBookmarks(t,undefined,r).done(function(e){this.deleteURLStatesPersistentData(t,o);i.resolve(e)}.bind(this)).fail(function(r){e.error("Fail to delete bookmark for: "+t);i.reject(r)})}.bind(this)).catch(i.reject);return i.promise()};this.deleteCustomBookmarks=function(e){if(!e.url||!e.vizType){return Promise.reject("deleteCustomBookmarks: Some required parameters are missing.")}return this._getAdapter().deleteCustomBookmarks(e)};this.updateBookmarks=function(t,r,i){if(!t||typeof t!=="string"){e.error("Fail to update bookmark. No valid URL");throw new Error("Missing URL")}if(!r||typeof r!=="object"){e.error("Fail to update bookmark. No valid parameters, URL is: "+t);throw new Error("Missing parameters")}var o=new jQuery.Deferred;this.changeURLStatesToPersistent(r.url).done(function(n){r.url=n;this._getAdapter().updateBookmarks(t,r,undefined,i).done(o.resolve).fail(function(){e.error("Fail to update bookmark for: "+t);o.reject()})}.bind(this)).fail(function(t){e.error(t||"Fail to change url states to persistent: "+r.url);o.reject()});return o.promise()};this.updateCustomBookmarks=function(e,t){if(!e.url||!e.vizType||!t){return Promise.reject("updateCustomBookmarks: Some required parameters are missing.")}return this._getAdapter().updateCustomBookmarks(e,t)};this.onCatalogTileAdded=function(e){this._getAdapter().onCatalogTileAdded(e)};this.changeURLStatesToPersistent=function(t){var r=new jQuery.Deferred;sap.ushell.Container.getServiceAsync("AppState").then(function(i){if(i.getSupportedPersistencyMethods().length===0){r.resolve(t);return}if(t&&t.length>0){try{i.setAppStateToPublic(t).done(r.resolve).fail(r.reject)}catch(t){e.error("error in converting transient state to personal persistent when bookmark is added",t,"sap.ushell.services.LaunchPage");r.reject()}}else{r.resolve(t)}});return r.promise()};this.deleteURLStatesPersistentData=function(t,r){if(r.getSupportedPersistencyMethods().length===0){return}if(t&&t.length>0){try{var i=d(t,"sap-xapp-state"),o=d(t,"sap-iapp-state");if(i!==undefined||o!==undefined){this.countBookmarks(t).done(function(e){if(e===0){if(i!==undefined){r.deleteAppState(i)}if(o!==undefined){r.deleteAppState(o)}}})}}catch(t){e.error("error in deleting persistent state when bookmark is deleted",t,"sap.ushell.services.LaunchPage")}}};function d(e,t){var r=new RegExp("(?:"+t+"=)([^&/]+)"),i=r.exec(e),o;if(i&&i.length===2){o=i[1]}return o}}u.prototype._getAdapter=function(e){return this.oAdapters[e]||this.oAdapters.default};u.hasNoAdapter=false;return u},true);
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/Menu", ["sap/ushell/Config","sap/ushell/library","sap/ushell/utils","sap/ui/model/json/JSONModel","sap/base/util/deepClone","sap/base/Log","sap/ushell/resources"],function(e,t,n,r,i,o,a){"use strict";var u=t.ContentNodeType;function s(){this._init.apply(this,arguments)}s.prototype._init=function(e){this.oAdapter=e;this.oModel=new r;this.oModel.setSizeLimit(1e3);this._aBlockedList=[]};s.prototype.isMenuEnabled=function(){return this.oAdapter.isMenuEnabled()};s.prototype.getMenuEntries=function(){return this.oAdapter.getMenuEntries().then(function(t){if(e.last("/core/homeApp/enabled")){var n={title:a.i18n.getText("HomeApp.Menu.Title"),"help-id":"homeApp-menuEntry",description:"",icon:undefined,type:"IBN",target:{semanticObject:"Shell",action:"home",parameters:[],innerAppRoute:undefined},menuEntries:[]};t.splice(0,0,n)}return t}).then(function(e){return e.map(function(e){e.uid=n.generateUniqueId([]);if(e.menuEntries){e.menuEntries.forEach(function(e){e.uid=n.generateUniqueId([])})}return e})})};s.prototype.getSpacesPagesHierarchy=function(){var e;if(this.oAdapter.getContentNodeEntries){e=this.oAdapter.getContentNodeEntries()}else{e=this.getMenuEntries()}return e.then(function(e){return{spaces:e.reduce(function(e,t){var n;if(t.menuEntries&&t.menuEntries.length){n=this._getAccessiblePages(t.menuEntries)}else{n=this._getAccessiblePages([t])}if(n.length){e.push({title:t.title,id:n[0].spaceId,pages:n.map(function(e){return{title:e.title,id:e.id}})})}return e}.bind(this),[])}}.bind(this)).catch(function(){return{spaces:[]}})};s.prototype.getContentNodes=function(e,t){if(!e){e=Object.values(u)}t=!!t;return this.oAdapter.getContentNodes().then(function(n){n=i(n);var r=this._filterContentNodes(n,e,t);return r}.bind(this))};s.prototype._filterContentNodes=function(e,t,n){if(!Array.isArray(e)){return[]}return e.reduce(function(e,r){r.children=this._filterContentNodes(r.children,t,n);var i=t.includes(r.type);if(i||n&&r.children.length){e.push(r)}return e}.bind(this),[])};s.prototype.getDefaultSpace=function(){return this.getContentNodes([u.Space,u.Page]).then(function(e){var t=e.find(function(e){return e.children.length});return t})};s.prototype.getMyHomeSpace=function(){if(!e.last("/core/spaces/myHome/enabled")){return Promise.resolve(null)}var t=e.last("/core/spaces/myHome/myHomeSpaceId");return this.getContentNodes([u.Space,u.Page]).then(function(e){return e.find(function(e){return e.type===u.Space&&e.id===t})||null})};s.prototype._getAccessiblePages=function(e){return e.filter(function(e){return e&&e.type==="IBN"&&e.target&&e.target.semanticObject==="Launchpad"&&e.target.action==="openFLPPage"}).map(function(e){var t=e.target.parameters.find(function(e){return e.name==="spaceId"});var n=e.target.parameters.find(function(e){return e.name==="pageId"});return{title:e.title,id:n&&n.value,spaceId:t&&t.value}})};s.prototype.hasMultiplePages=function(e){return this.getContentNodes([u.Space,u.Page]).then(function(t){var n=t.find(function(t){return t.type===u.Space&&t.id===e});return n&&n.children.length>1})};s.prototype.isSpacePageAssigned=function(e,t){return this.getContentNodes([u.Space,u.Page]).then(function(n){var r=n.find(function(t){return t.type===u.Space&&t.id===e});if(!r){return false}var i=r.children.find(function(e){return e.type===u.Page&&e.id===t});return!!i})};s.prototype.getSpaceAndPageTitles=function(e,t){return this.getContentNodes([u.Space,u.Page]).then(function(n){var r,i;r=n.find(function(t){return t.type===u.Space&&t.id===e});if(r){i=r.children.find(function(e){return e.type===u.Page&&e.id===t})}if(i){return{spaceTitle:r.label,pageTitle:i.label}}return null})};s.prototype.getMenuModel=function(){return this.getMenuEntries().then(function(e){this.oModel.setData(e);return this.oModel}.bind(this))};s.prototype.isWorkPage=function(e){if(this.oAdapter.isWorkPage){return this.oAdapter.isWorkPage(e)}return Promise.resolve(false)};s.prototype._getNodeInfo=function(e,t,n,r){var i;for(var o=0;o<t.length;o++){if(!n){r=this._getManagerIdInNodeTree(e,t[o])}if(t[o].id===e){return{node:t[o],isRootNode:!n,managerId:r||null}}if(t[o].menuEntries&&t[o].menuEntries.length>0){i=this._getNodeInfo(e,t[o].menuEntries,true,r);if(i.node){return i}}}return{node:null,isRootNode:false,managerId:null}};s.prototype._nodeManagementPermitted=function(e,t,n){var r=this._getNodeInfo(e,t);if(!r.node){o.error("Node with id "+e+" cannot be found and will be skipped.");return false}if(!!r.managerId&&r.managerId!==n){o.error("Node with id "+e+" cannot be managed by '"+n+"'"+" because it is already managed by '"+r.managerId+"'.");return false}return true};s.prototype._getManagerIdInNodeTree=function(e,t,n){if(t.id===e){return n||t.managerId}if(t.managerId){n=t.managerId}if(t.menuEntries&&t.menuEntries.length>0){for(var r=0;r<t.menuEntries.length;++r){n=this._getManagerIdInNodeTree(e,t.menuEntries[r],n)}return n}return null};s.prototype._updateNode=function(e,t,r){var o=i(r||{});function a(e){if(e){e.uid=e.uid||n.generateUniqueId([]);(e.menuEntries||[]).forEach(a)}}a(o);return t.map(function(t){if(t.id===e){return o}if(t.menuEntries&&t.menuEntries.length>0){t.menuEntries=this._updateNode(e,t.menuEntries,o)}return t}.bind(this))};s.prototype._createEntryProviders=function(e,t,n){var r=n.getData();var i={};var o;for(var a=0;a<t.length;++a){o=t[a];if(!this._nodeManagementPermitted(o,r,e)){continue}i[o]={setData:function(e,t){var i=this._updateNode(e,r,t);n.setData(i)}.bind(this,o)}}return i};s.prototype._isManagerBlocked=function(e){return this._aBlockedList.indexOf(e)>-1};s.prototype._setManagerBlocked=function(e){this._aBlockedList.push(e)};s.prototype.getEntryProvider=function(e,t){if(this._isManagerBlocked(e)){o.error("ManagerId '"+e+"' is already listed as an entry manager.");return Promise.reject("ManagerId "+e+" is already listed as an entry manager.")}this._setManagerBlocked(e);return this.getMenuModel().then(function(n){return this._createEntryProviders(e,t,n)}.bind(this))};s.hasNoAdapter=false;return s});
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/NavTargetResolution", ["sap/ushell/services/AppConfiguration","sap/ushell/utils","sap/ushell/utils/UrlParsing","sap/ushell/utils/UrlShortening","sap/ushell/navigationMode","sap/ui/thirdparty/jquery","sap/ui/performance/Measurement","sap/base/util/deepExtend","sap/base/util/isPlainObject","sap/base/util/UriParameters","sap/base/Log"],function(e,t,n,i,r,jQuery,a,s,o,l,u){"use strict";function c(c,p,f,h){var d=h&&h.config,g=function(e){var t=this._isClientSideTargetResolutionEnabled()?this._resolveHashFragmentClientSide(e):c.resolveHashFragment(e);return t}.bind(this),v,m=[{name:"DefaultAdapter",isApplicable:function(){return true},resolveHashFragment:g.bind(this)}],S;this._isClientSideTargetResolutionEnabled=function(){return!!(d&&d.enableClientSideTargetResolution)};this._nextResolveHashFragment=function(e,t){var n=e.pop();if(n.isApplicable(t)){u.info("NavTargetResolution: custom resolver "+n.name+" resolves "+t);var i=this._nextResolveHashFragment.bind(this,e);return n.resolveHashFragment(t,i)}return this._nextResolveHashFragment(e,t)};this._resolveHashFragmentClientSide=function(e){var t=this._validateHashFragment(e),n;if(!t.success){return(new jQuery.Deferred).reject(e+" is not a valid hash fragment").promise()}n=t.hashFragmentWithoutHash;return this._resolveHashFragmentClientSideAndFixApplicationType(n)};this._resolveHashFragmentClientSideAndFixApplicationType=function(e){var t=new jQuery.Deferred;sap.ushell.Container.getServiceAsync("ClientSideTargetResolution").then(function(n){n.resolveHashFragment(e).done(function(e){if(e&&e.applicationType==="SAPUI5"){e.applicationType="URL"}t.resolve(e)}).fail(t.reject)}).catch(t.reject);return t.promise()};this._validateHashFragment=function(e){var n="",i={success:false};if(e&&e.charAt(0)!=="#"){throw new t.Error("Hash fragment expected in _validateHashFragment","sap.ushell.services.NavTargetResolution")}n=e.substring(1);if(n){i.success=true}i.hashFragmentWithoutHash=n;return i};this.expandCompactHash=function(e){var t,r=new jQuery.Deferred;t=n.parseShellHash(e);if(t&&t.params&&t.params["sap-intent-param"]){sap.ushell.Container.getServiceAsync("AppState").then(function(n){n.getAppState(t.params["sap-intent-param"][0]).done(function(t){var n=t.getData("sap-intent-param");var a=e;if(n){a=i.expandParamGivenRetrievalFunction(e,"sap-intent-param",function(){return n})}r.resolve(a)}).fail(function(){r.resolve(e)})}).catch(r.reject)}else{r.resolve(e)}return r.promise()};var b=["NWBC","WDA","TR"];this._adjustResolutionResultForUi5Components=function(e){var t,n;if(typeof e!=="object"){return}delete e["sap.platform.runtime"];if(e&&e.applicationType&&e.applicationType==="SAPUI5"){e.applicationType="URL"}if(e.applicationType==="URL"){t=/^SAPUI5\.Component=(.*)/.exec(e.additionalInformation);n=t&&t[1];if(n){e.ui5ComponentName=n}}};this._getSapSystem=function(e,t){var n;if(t&&t["sap-system"]){return t["sap-system"]}if(t&&t.url){n=new l(t.url).get("sap-system");if(n){return n}}if(b.indexOf(t.applicationType)>=0&&e&&e.substring(1)){n=new l(e.substring(1)).get("sap-system");if(n){return n}}return undefined};this.resolveTarget=function(e){var i;var r=s({},e);var o=new jQuery.Deferred;a.average("sap.ushell.navigation.resolveTarget");t.storeSapSystemToLocalStorage(r);i=n.constructShellHash(r);sap.ushell.Container.getServiceAsync("NavTargetResolution").then(function(e){e.resolveHashFragment("#"+i).done(function(e){a.end("sap.ushell.navigation.resolveTarget");o.resolve({url:e.url,text:e.text,externalNavigationMode:e.targetNavigationMode==="explace"})}).fail(o.reject)}).catch(o.reject);return o.promise()};this.resolveHashFragment=function(t){var n=new jQuery.Deferred;a.average("sap.ushell.navigation.resolveHashFragment");this.expandCompactHash(t).done(function(i){var s=jQuery.when();if(i.indexOf("sap-ushell-enc-test")>=0){var l=/sap-ushell-enc-test=([^&]*)(&.*)?$/.exec(i);if(l){var u=l[1];if(u!=="A%20B%2520C"){s=new jQuery.Deferred;sap.ushell.Container.getServiceAsync("Message").then(function(e){e.error("This navigation is flagged as erroneous because"+" (likely the calling procedure) generated a wrong encoded hash."+" Please track down the encoding error and make sure to use the CrossApplicationNavigation service for navigation.","Navigation encoding wrong");s.resolve()}).catch(s.reject)}i=i.replace(/sap-ushell-enc-test=([^&]*)&/,"");i=i.replace(/[&?]sap-ushell-enc-test=([^&]*)$/,"")}}var p=this._invokeResolveHashChain(i);if(typeof c.processPostResolution==="function"){p=c.processPostResolution(i,p)}jQuery.when(p,s).done(function(i){this._adjustResolutionResultForUi5Components(i);if(o(i)){if(!i.hasOwnProperty("navigationMode")){i.navigationMode=r.getNavigationMode(i,e.getCurrentApplication())}i.targetNavigationMode=r.getExternalNavigationMode(i.navigationMode)}if(o(i)&&!i.hasOwnProperty("sap-system")){var s=this._getSapSystem(t,i);if(s){i["sap-system"]=s}}a.end("sap.ushell.navigation.resolveHashFragment");n.resolve(i)}.bind(this)).fail(n.reject)}.bind(this)).fail(n.reject);return n.promise()};this._invokeResolveHashChain=function(e){var t=m.map(function(e){return e});return this._nextResolveHashFragment(t,e).done(function(e){S=e})};this.baseResolveHashFragment=g.bind(this);this._getGetLinksResolver=function(e){var t;if(this._isClientSideTargetResolutionEnabled()){t=this._getLinksClientSide.bind(this);return{resolver:t,warning:undefined,isGetSemanticObjectLinksCall:false}}if(Object.prototype.toString.apply(e.paramsOptions)==="[object Array]"&&e.paramsOptions.length>0){u.warning("Parameter options supplied to #getLinks will be ignored because FLP is not configured to use sap.ushell.services.ClientSideTargetResolution for target resolution","provided parameters options: "+JSON.stringify(e.paramsOptions,null,4),"sap.ushell.services.NavTargetResolution")}t=c&&c.getLinks&&c.getLinks.bind(c);if(t){return{resolver:t,warning:undefined,isGetSemanticObjectLinksCall:false}}t=c&&c.getSemanticObjectLinks&&c.getSemanticObjectLinks.bind(c);if(t){return{resolver:t,warning:e.hasOwnProperty("action")?"the action argument was given, however, NavTargetResolutionAdapter does not implement getLinks method. Action will be ignored.":undefined,isGetSemanticObjectLinksCall:true}}return{resolver:undefined,warning:"Cannot determine resolver for getLinks method",isGetSemanticObjectLinksCall:undefined}};this.getLinks=function(e){var t=e.semanticObject;var n=e.params;var i=e.ignoreFormFactor;var r=e.ui5Component;var a=e.appStateKey;var s=e.compactIntents;var o=new jQuery.Deferred;if(/\?/.test(t)){throw new Error("Parameter must not be part of semantic object")}var l=n===undefined?undefined:JSON.parse(JSON.stringify(n));if(a){l=l||{};l["sap-xapp-state"]=encodeURIComponent(a)}var c=this._getGetLinksResolver(e);if(c.warning){u.warning("A problem occurred while determining the resolver for getLinks",c.warning,"sap.ushell.services.NavTargetResolution")}var p=c.resolver;if(p){var f=function(e){if(s){this._shortenGetSemanticObjectLinksResults(e,r).done(o.resolve)}else{o.resolve(e)}}.bind(this);if(c.isGetSemanticObjectLinksCall){var h={target:{semanticObject:t,action:"dummyAction"},params:l};sap.ushell.Container.getServiceAsync("ShellNavigation").then(function(e){e.hrefForExternal(h,true,r,true).done(function(e){var n=e.params||l;p(t,n,i).done(f).fail(o.reject)}).fail(o.reject)})}else{p(e).done(f).fail(o.reject)}}else{o.resolve([])}return o.promise()};this.getDistinctSemanticObjects=function(){var e=new jQuery.Deferred;if(this._isClientSideTargetResolutionEnabled()){sap.ushell.Container.getServiceAsync("ClientSideTargetResolution").then(function(t){t.getDistinctSemanticObjects().done(e.resolve).fail(e.reject)}).catch(e.reject);return e.promise()}if(c&&c.getDistinctSemanticObjects){return c.getDistinctSemanticObjects.call(c)}u.error("Cannot execute getDistinctSemanticObjects method","ClientSideTargetResolution must be enabled or NavTargetResolutionAdapter must implement getDistinctSemanticObjects method","sap.ushell.services.NavTargetResolution");return e.reject("Cannot execute getDistinctSemanticObjects").promise()};this._getLinksClientSide=function(e){var t=new jQuery.Deferred;var i=new jQuery.Deferred;if((e.params||{}).hasOwnProperty("sap-intent-param")){var r="#"+e.semanticObject+"-dummyAction?"+n.paramsToString(e.params);this.expandCompactHash(r).done(function(e){var t=n.parseShellHash(e);i.resolve(t.params)}).fail(t.reject)}else{i.resolve(e.params)}i.done(function(){sap.ushell.Container.getServiceAsync("ClientSideTargetResolution").then(function(n){n.getLinks(e).done(t.resolve).fail(t.reject)}).catch(t.reject)});return t.promise()};this._shortenGetSemanticObjectLinksResults=function(e,t){var i=[];var r=0;var a=e.length;var s=new jQuery.Deferred;sap.ushell.Container.getServiceAsync("ShellNavigation").then(function(o){e.forEach(function(e){var l=n.parseShellHash(e.intent);var c=o.compactParams(l.params,undefined,t);i.push(c);i[r].done(function(t,r){i[t]={text:e.text,intent:"#"+l.semanticObject+"-"+l.action+"?"+n.paramsToString(r)}}.bind(null,r)).fail(function(t,n){u.warning("Cannot shorten GetSemanticObjectLinks result, using expanded form","Failure message: "+n+"; intent had title ''"+e.title+"'' and link ''"+e.intent+"'","sap.ushell.services.NavTargetResolution");i[t]={text:e.text,intent:e.intent}}.bind(null,r)).always(function(){a--;if(a===0){s.resolve(i)}});r++})}).catch(s.reject);return s.promise()};this.isIntentSupported=function(e){var t={};var n=new jQuery.Deferred;if(this._isClientSideTargetResolutionEnabled()){sap.ushell.Container.getServiceAsync("ClientSideTargetResolution").then(function(t){t.isIntentSupported(e).done(n.resolve).fail(n.reject)}).catch(n.reject);return n.promise()}if(c.isIntentSupported){return c.isIntentSupported(e)}e.forEach(function(e){t[e]={supported:undefined}});return n.resolve(t).promise()};this.isNavigationSupported=function(e){var t=new jQuery.Deferred,i=[];i=e.map(function(e){if(typeof e==="string"){return e}return"#"+n.constructShellHash(e)});this.isIntentSupported(i).done(function(e){var n=i.map(function(t){return e[t]||{supported:false}});t.resolve(n)}).fail(t.reject.bind(t));return t.promise()};this.registerCustomResolver=function(e){if(typeof e.name!=="string"){u.error("NavTargetResolution: Custom Resolver must have name {string} member");return false}if(typeof e.isApplicable!=="function"){u.error("NavTargetResolution: Custom Resolver must have isApplicable member");return false}if(typeof e.resolveHashFragment!=="function"){u.error('NavTargetResolution: Custom Resolver must have "resolveHashFragment" member');return false}m.push(e);return true};if(d&&Array.isArray(d.resolveLocal)){v=d.resolveLocal.map(function(e){return e.linkId});this.registerCustomResolver({name:"localResolveNavigationResolver",cleanHash:function(e){if(e===""){return"#"}var t=n.parseShellHash(e.substring(1));if(!t){return"#"}e="#"+t.semanticObject+"-"+t.action;return e},_getIndex:function(e){var t=this.cleanHash(e);return v.indexOf(t.substring(1))},isApplicable:function(e){return this._getIndex(e)>=0},resolveHashFragment:function(e){var t,i=this._getIndex(e),r,a,s,o;t=new jQuery.Deferred;r=JSON.parse(JSON.stringify(d.resolveLocal[i].resolveTo));a=n.parseShellHash(e);if(a&&a.params){o=n.paramsToString(a.params);if(o){s=r.url.indexOf("?")>=0;r.url=r.url+(s?"&":"?")+o}}t.resolve(r);return t.promise()}})}this.registerCustomResolver({name:"LocalResolver",aElement:undefined,cleanHash:function(e){if(e===""){return undefined}var t=n.parseShellHash(e.substring(1));if(!t){return undefined}e="#"+t.semanticObject+"-"+t.action;return e},isApplicable:function(e){e=this.cleanHash(e);if(!e){return false}return e==="#Test-url"||e==="#Test-local1"||e==="#Test-local2"||e==="#Test-config"||e==="#Test-clear"},parseUrl:function(e){if(!this.aElement){this.aElement=window.document.createElement("a")}this.aElement.href=e;return this.aElement},resolveHashFragment:function(e){var n=new jQuery.Deferred,i=null,r,a,s,o,c,p=this;e=this.cleanHash(e);if(!e){return false}i={"#Test-config":{applicationType:"URL",url:"/sap/bc/ui5_ui5/ui2/ushell/test-resources/sap/ushell/demoapps/FioriSandboxConfigApp",additionalInformation:"SAPUI5.Component=sap.ushell.demoapps.FioriSandboxConfigApp"},none:{applicationType:"URL",url:"",additionalInformation:""}};function f(e){if(localStorage){return localStorage[e]}return undefined}function h(e){if(t.calculateOrigin(p.parseUrl(e))!==t.calculateOrigin(window.location)){return undefined}return e}function g(e){return new l(window.location.href).get(e)}function v(e,t){if(localStorage){localStorage[e]=t}}if(i[e]){r=i[e]}else if(e==="#Test-clear"){v("sap.ushell.#Test-local1",undefined);v("sap.ushell.#Test-local2",undefined);u.info("NavTargetResolution: Local storage keys for #Test have been cleared");r=i["#Test-config"]}else if(e==="#Test-local1"||e==="#Test-local2"||e==="#Test-url"){r=f("sap.ushell."+e);if(!r||r==="undefined"){a={applicationType:"URL"}}else{a=JSON.parse(r)}if(window.location.hostname==="localhost"||d&&d.allowTestUrlComponentConfig){o="sap-ushell-test-"+e.substring(6);s=g(o+"-additionalInformation");if(s){a.additionalInformation=s}c=g(o+"-url");if(c){a.url=h(c)}}if(!a.url){u.info("NavTargetResolution: No configured app for "+e+" found ( local storage or url params sap-ushell-test-local1-url  sap-ushell-test-local1-additionalInfo  not supplied? ");u.info("NavTargetResolution: Defaulting to config app ...\n");n.reject("URL is not resolvable");return n.promise()}a.url=h(a.url);r=a}if(r.url===undefined){n.reject("URL is not resolvable");return n.promise()}u.info("NavTargetResolution: As URL:  http://localhost:8080/sap/bc/ui5_ui5/ui2/ushell/shells/abap/FioriLaunchpad.html?sap-ushell-test-local1-url="+encodeURIComponent(r&&r.url||"")+"&sap-ushell-test-local1-additionalInformation="+encodeURIComponent(r&&r.additionalInfo||"")+"#Test-local1");u.info("NavTargetResolution: Resolving "+e+" to "+JSON.stringify(r));n.resolve(r);return n.promise()}});this.getCurrentResolution=function(){return S}}c.hasNoAdapter=false;return c},true);
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/PluginManager", ["sap/ushell/services/_PluginManager/Extensions","sap/base/Log","sap/ui/thirdparty/jquery","sap/base/util/UriParameters","sap/ushell/utils","sap/ushell/components/applicationIntegration/application/PostMessageAPIInterface","sap/ushell/UI5ComponentType"],function(e,n,jQuery,i,t,o,r){"use strict";var a="sap.ushell.services.PluginManager";var s="sap-ushell-plugin-type";var l="RendererExtensions";var u="sap.ushell.components.shell.defaults";var g=[l,"EarlyLoading","UserDefaults","UserImage","ContentProvider","AppWarmup"];function f(f,c,p){var d=this;this._oPluginCollection={};this._oCategoryLoadingProgress={};this._mInitializedComponentPromise={};this._sPluginAgentsNames="";this._oConfig=p&&p.config||{};if(this._oConfig.isBlueBox===undefined){this._oConfig.isBlueBox=false}g.forEach(function(e){d._oPluginCollection[e]={};d._oCategoryLoadingProgress[e]=new jQuery.Deferred});this._handlePluginCreation=function(e,i,o,r){var s=this,l=s._oPluginCollection[e][i];t.setPerformanceMark("FLP -- PluginManager.loadPlugin["+e+"]["+i+"]");try{if(l.hasOwnProperty("component")){if(s._mInitializedComponentPromise.hasOwnProperty(l.component)){s._mInitializedComponentPromise[l.component].then(function(){s._instantiateComponent(l,o,r)},function(){s._instantiateComponent(l,o,r)})}else{s._mInitializedComponentPromise[l.component]=s._instantiateComponent(l,o,r)}}else{n.error("Invalid plugin configuration. The plugin "+i+" must contain a <component> key",a)}}catch(e){n.error("Error while loading bootstrap plugin: "+l.component||"",a);if(o){o.reject(e)}}};this._getFileNameForXhrAuth=function(){return"Component-preload.js"};this._handleXhrAuthentication=function(e,i){var t;if(e&&["true",true,"X"].indexOf(e["sap-ushell-xhr-authentication"])>-1){if(!i){n.error(["Illegal state: configuration parameter 'sap-ushell-xhr-authentication-timeout' set, but no component URL specified.","XHR authentication request will not be sent. Please check the target mapping definitions for plug-ins","and the application index."].join(" "),undefined,a);return jQuery.when()}if(e.hasOwnProperty("sap-ushell-xhr-authentication-timeout")){t=parseInt(e["sap-ushell-xhr-authentication-timeout"],10);if(isNaN(t)){n.error(["Invalid value for configuration parameter 'sap-ushell-xhr-authentication-timeout' for plug-in component with URL '",i,"': '",e["sap-ushell-xhr-authentication-timeout"],"' is not a number. Timeout will be ignored."].join(""),undefined,a)}else{sap.ushell.Container.setXhrLogonTimeout(i,t)}}return jQuery.ajax(i+"/"+this._getFileNameForXhrAuth(),{dataType:"text"})}return jQuery.when()};this._instantiateComponent=function(i,t,o){var s=new jQuery.Deferred,l=JSON.parse(JSON.stringify(i)),u={ui5ComponentName:l.component,url:l.url,getExtensions:e.bind(null,i.component)};function g(e){return function(i){e=e||"Cannot create UI5 plugin component: (componentId/appdescrId :"+u.ui5ComponentName+")\n"+i+" properties "+JSON.stringify(u)+"\n This indicates a plugin misconfiguration, see e.g. Note 2316443.";i=i||"";n.error(e,i.stack,a);if(t){t.reject.apply(this,arguments)}s.reject.apply(this,arguments)}}l.name=l.component;delete l.component;u.applicationDependencies=l;if(l.config){u.applicationConfiguration=l.config;delete l.config}u.loadDefaultDependencies=false;if(o!==undefined){u.oPostMessageInterface=o}sap.ushell.Container.getServiceAsync("Ui5ComponentLoader").then(function(e){this._handleXhrAuthentication(u.applicationConfiguration,l.url).done(function(){e.createComponent(u,{},[],r.Plugin).done(function(e){if(t){t.resolve(e)}s.resolve.apply(this,arguments)}).fail(g())}).fail(g("XHR logon for FLP plugin failed"))}.bind(this)).catch(g());return s.promise()};this.getSupportedPluginCategories=function(){return JSON.parse(JSON.stringify(g))};this.getRegisteredPlugins=function(){return JSON.parse(JSON.stringify(this._oPluginCollection))};this.registerPlugins=function(e){var t=this,o,r,u,f=[],c,p;if(!e){return}if(this._oConfig.isBlueBox===true){c=new i(window.location.href).get("sap-plugins");if(c&&c.length>0){c=","+c+","}else{c=undefined}}Object.keys(e).sort().forEach(function(i){o=e[i]||{};r=o.config||{};u=r[s]||"";if(o.enabled===false){return}if(!t._isFormFactorSupported(o)){n.info("Plugin '"+i+"' filtered from result: form factor not supported");return}if(t._oConfig.isBlueBox===true){if(o.config&&o.config["sap-plugin-agent"]===true){p=o.config["sap-plugin-agent-id"]||i;if(c){if(c.indexOf(","+p+",")<0){return}}else{return}}}if(o.enabled===undefined){o.enabled=true}if(o.hasOwnProperty("module")){var d=(o.module||"").replace(/\./g,"/");n.error("Plugin "+i+" cannot get registered, because the module mechanism for plugins is not valid anymore. Plugins need to be defined as SAPUI5 components.",a);try{sap.ui.requireSync(d)}catch(e){n.error("Plugin module "+d+" is not found.")}return}if(r&&r.hasOwnProperty(s)){if(g&&Array.prototype.indexOf.call(g,u)!==-1){if(f.indexOf(u)===-1){f.push(u)}t._oPluginCollection[u][i]=JSON.parse(JSON.stringify(o))}else{n.warning("Plugin "+i+" will not be inserted into the plugin collection of the PluginManager, because of unsupported category "+u,a)}}else{t._oPluginCollection[l][i]=JSON.parse(JSON.stringify(o));if(f.indexOf(l)===-1){f.push(l)}}});try{if(t._oConfig.isBlueBox!==true){t._buildNamesOfPluginsWithAgents()}}catch(e){n.error("failed to build plugin agents names list",e.message||e.toString(),"sap.ushell.services.PluginManager")}f.forEach(function(e){if(t._oCategoryLoadingProgress.hasOwnProperty(e)&&t._oCategoryLoadingProgress[e].state()==="resolved"){t.loadPlugins(e)}})};this._isFormFactorSupported=function(e){var n=e.deviceTypes,i=t.getFormFactor();if(n&&n[i]===false){return false}return true};this.getPluginLoadingPromise=function(e){if(this._oCategoryLoadingProgress.hasOwnProperty(e)){return this._oCategoryLoadingProgress[e].promise()}};this.loadPlugins=function(e){var r=this,s,f,c,p;t.setPerformanceMark("FLP -- PluginManager.startLoadPlugins["+e+"]");if(e===l){p=o.getInterface()}if(g&&Array.prototype.indexOf.call(g,e)!==-1){if(r._oCategoryLoadingProgress[e].pluginLoadingTriggered===undefined){r._oCategoryLoadingProgress[e].pluginLoadingTriggered=true}if(Object.keys(r._oPluginCollection[e]).length>0){s=[];c=Object.keys(r._oPluginCollection[e]);if(new i(window.location.href).get("sap-ushell-xx-pluginmode")==="discard"&&(e==="RendererExtensions"||e==="AppWarmup")){c=c.filter(function(n){return r._oPluginCollection[e][n].component===u})}c.forEach(function(n){var i=r._oPluginCollection[e][n];if(!i.loaded){i.loaded=true;f=new jQuery.Deferred;s.push(f.promise());r._handlePluginCreation(e,n,f,p)}});if(s.length>0){jQuery.when.apply(undefined,s).done(function(){t.setPerformanceMark("FLP -- PluginManager.endLoadPlugins["+e+"]");r._oCategoryLoadingProgress[e].resolve()}).fail(r._oCategoryLoadingProgress[e].reject.bind())}}else{r._oCategoryLoadingProgress[e].resolve()}}else{n.error("Plugins with category "+e+" cannot be loaded by the PluginManager",a);r._oCategoryLoadingProgress[e].reject("Plugins with category "+e+" cannot be loaded by the PluginManager")}return r._oCategoryLoadingProgress[e].promise()};this._buildNamesOfPluginsWithAgents=function(){var e=this,n="",i;Object.keys(e._oPluginCollection).forEach(function(t){Object.keys(e._oPluginCollection[t]).forEach(function(o){i=e._oPluginCollection[t][o];if(i&&i.enabled&&i.enabled===true){if(i.config&&i.config["sap-plugin-agent"]===true){n+=(i.config["sap-plugin-agent-id"]||o)+","}}})});if(n.endsWith(",")){n=n.slice(0,-1)}this._sPluginAgentsNames=n};this._getNamesOfPluginsWithAgents=function(){return this._sPluginAgentsNames}}f.hasNoAdapter=true;return f},true);
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/ShellNavigation", ["sap/ushell/services/ShellNavigationHashChanger","sap/m/MessageBox","sap/ui/core/routing/HashChanger"],function(t,i,e){"use strict";var a=i.Action;var n=i.Icon;function s(i,s,h){function r(){sap.ui.require(["sap/m/MessageBox"],function(t){t.show("Due to a configuration change on the server,\nclient and server are out of sync.\n We strongly recommend to reload the page soon.\nReload page now?",{icon:n.ERROR,title:"Client out of sync with server.",actions:[a.YES,a.NO],onClose:function(t){if(t===a.YES){window.setTimeout(function(){window.location.reload()},0)}}})})}var o=h&&h.config;this.hashChanger=new t(o);this._navigationFilterForForwardingToRegisteredRouters=function(t,i){var e=this._aRouters.some(function(t){return t.match(i)});if(e){var a=t.getCurrentApplication();var n=a&&a.componentInstance&&!a.homePage;if(n){var s=a.componentInstance.getRouter();if(s){s.stop()}}return this.NavigationFilterStatus.Keep}return this.NavigationFilterStatus.Continue};this.getNavigationContext=function(){var t=this.hashChanger.getCurrentNavigationState();var i=!this.hashChanger.isInnerAppNavigation(t.oldHash,t.newHash);return{status:t.status,isCrossAppNavigation:i,innerAppRoute:this.hashChanger.getHash()}};this.isInitialNavigation=function(){return this._bIsInitialNavigation};this.setIsInitialNavigation=function(t){this._bIsInitialNavigation=t};this.hrefForExternal=function(t,i,e,a){return this.hashChanger.hrefForExternal(t,i,e,a)};this.hrefForAppSpecificHash=function(t){return this.hashChanger.hrefForAppSpecificHash(t)};this.compactParams=function(t,i,e,a){return this.hashChanger.compactParams(t,i,e,a)};this.toExternal=function(t,i,e){return this.hashChanger.toExternal(t,i,e)};this.toAppHash=function(t,i){this.hashChanger.toAppHash(t,i)};this.init=function(t){this._bIsInitialNavigation=true;hasher.prependHash="";e.replaceHashChanger(this.hashChanger);var i=sap.ui.getCore().getEventBus();i.subscribe("sap.ui.core.UnrecoverableClientStateCorruption","RequestReload",r);this.hashChanger.initShellNavigation(t);this._enableHistoryEntryReplacedDetection();return this};this._enableHistoryEntryReplacedDetection=function(){this._lastHashChangeMode=null;this._fnOriginalSetHash=hasher.setHash;this._fnOriginalReplaceHash=hasher.replaceHash;hasher.setHash=function(){this._hashChangedByApp=true;this._lastHashChangeMode="setHash";return this._fnOriginalSetHash.apply(hasher,arguments)}.bind(this);hasher.replaceHash=function(){this._hashChangedByApp=true;this._lastHashChangeMode="replaceHash";return this._fnOriginalReplaceHash.apply(hasher,arguments)}.bind(this)};this.wasHistoryEntryReplaced=function(){return this._lastHashChangeMode==="replaceHash"};this.resetHistoryEntryReplaced=function(){this._lastHashChangeMode=null};this.replaceHashWithoutNavigation=function(t){hasher.changed.active=false;this._fnOriginalSetHash(t);hasher.changed.active=true};this.NavigationFilterStatus=this.hashChanger.NavigationFilterStatus;this.registerNavigationFilter=function(t){this.hashChanger.registerNavigationFilter(t)};this._aRouters=[];this.registerExtraRouter=function(t){this._aRouters.push(t)};this.unregisterNavigationFilter=function(t){this.hashChanger.unregisterNavigationFilter(t)};this.registerNavigationFilter(function(){if(!this._hashChangedByApp){this.resetHistoryEntryReplaced()}this._hashChangedByApp=undefined;return this.NavigationFilterStatus.Continue}.bind(this));this.registerPrivateFilters=function(t){this.registerNavigationFilter(this._navigationFilterForForwardingToRegisteredRouters.bind(this,t))}}s.hasNoAdapter=true;return s},true);
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/ShellNavigationHashChanger", ["sap/ushell/library","sap/ushell/utils/UrlShortening","sap/ushell/utils/UrlParsing","sap/ui/core/routing/HashChanger","sap/ui/thirdparty/hasher","sap/ushell/TechnicalParameters","sap/base/util/merge","sap/base/util/isEmptyObject","sap/ui/thirdparty/jquery","sap/base/Log","sap/base/util/deepEqual"],function(e,t,a,i,r,n,s,o,jQuery,p,h){"use strict";var l=e.NavigationState;var u={HASH_SET:{name:"hashSet",historyEntry:true},HASH_REPLACED:{name:"hashReplaced",historyEntry:false},SHELL_HASH_CHANGED:{name:"shellHashChanged",historyEntry:true,usedByUi5HistoryDetection:true,ui5EventParameterNames:{oldHash:"oldAppSpecificRouteNoSeparator",newHash:"newAppSpecificRouteNoSeparator"},updateHashOnly:true},SHELL_HASH_PARAMETER_CHANGED:{name:"shellHashParameterChanged",historyEntry:null},HASH_CHANGED:{name:"hashChanged",historyEntry:false,usedByUi5HistoryDetection:true,ui5EventParameterNames:{newHash:"newHash",fullHash:"fullHash"}}};var c=i.extend("sap.ushell.services.ShellNavigationHashChanger",{constructor:function(e){this.oServiceConfig=e;this._oNavigationState={};i.apply(this);this._initializedByShellNav=false;this._bReloadApplication=false;this.privfnShellCallback=null;this.privappHashPrefix="&/";this.privhashPrefix="#";this.aNavigationFilters=[];this.NavigationFilterStatus={Continue:"Continue",Custom:"Custom",Abandon:"Abandon",Keep:"Keep"};this.getRelevantEventsInfo=function(){return this._getAllEvents().filter(function(e){return e.usedByUi5HistoryDetection}).map(function(e){var t={name:e.name,paramMapping:e.ui5EventParameterNames};if(e.updateHashOnly!==undefined){t.updateHashOnly=e.updateHashOnly}return t})}}});c.prototype.privgetCurrentShellHash=function(){var e=this.privsplitHash(r.getHash());return{hash:"#"+(e&&e.shellPart?e.shellPart:"")}};c.prototype.privconstructHash=function(e){var t=this.privgetCurrentShellHash();t.hash+=e;return t};c.prototype.privconstructShellHash=function(e){return a.constructShellHash(e)};c.prototype.privsplitHash=function(e){var t,i,r;if(e===undefined||e===null||e===""){return{shellPart:null,appSpecificRoute:null,intent:null,params:null}}t=a.parseShellHash(e);if(t===undefined||t===null){return null}i=t.params&&!o(t.params)?t.params:null;r=t.appSpecificRoute;t.appSpecificRoute=undefined;return{shellPart:this.privstripLeadingHash(this.privconstructShellHash(t))||null,appSpecificRoute:r||null,intent:t.semanticObject&&t.action&&t.semanticObject+"-"+t.action+(t.contextRaw||"")||null,params:i}};c.prototype.privsetHash=function(e,t,a){r.prependHash="";e=this.privstripLeadingHash(e);t=t||"";if(a===undefined){a=true}if(a){this.fireEvent(u.HASH_SET.name,{sHash:t});r.setHash(e)}else{this.fireEvent(u.HASH_REPLACED.name,{sHash:t});r.replaceHash(e)}};c.prototype.privstripLeadingHash=function(e){if(e[0]==="#"){return e.substring(1)}return e};c.prototype.registerNavigationFilter=function(e){if(typeof e!=="function"){throw new Error("fnFilter must be a function")}this.aNavigationFilters.push(e)};c.prototype.unregisterNavigationFilter=function(e){if(typeof e!=="function"){throw new Error("fnFilter must be a function")}this.aNavigationFilters=this.aNavigationFilters.filter(function(t){return t!==e})};function f(e,t,a){this.oAppState=undefined;this.oPromise=(new jQuery.Deferred).resolve();this.getNextKey=function(){this.oAppState=e.createEmptyAppState(t,a);return this.oAppState.getKey()};this.store=function(e){var t;this.oAppState.setData(e);t=this.oAppState.save();this.oPromise=jQuery.when(this.oPromise,t)};this.getPromise=function(){return this.oPromise}}c.prototype.compactParams=function(e,i,r,n){var s=new jQuery.Deferred;var o=a.constructShellHash({target:{semanticObject:"SO",action:"action"},params:e});if(e===undefined||Object.keys(e).length===0){return s.resolve(e).promise()}sap.ushell.Container.getServiceAsync("AppState").then(function(e){var p=new f(e,r,n);var h=t.compactHash(o,i,p);var l=a.parseParameters(h.hash.match(/\?.*/)[0]);var u=p.getPromise();u.done(function(){s.resolve(l)}).fail(function(e){s.reject(e)})});return s.promise()};c.prototype.hrefForExternal=function(e,t,a,i){var r=this.hrefForExternalNoEnc(e,t,a,i);function n(e,t){if(t===true){e.hash=encodeURI(e.hash)}else{e=encodeURI(e)}return e}if(!i){return n(r,t)}var s=new jQuery.Deferred;r.then(function(e){s.resolve(n(e,t))}).catch(s.reject.bind(s));return s};c.prototype.hrefForExternalNoEnc=function(e,t,a,i){if(i){var r=new jQuery.Deferred;this.hrefForExternalNoEncAsync(e,t,a).then(r.resolve).catch(r.reject);return r.promise()}p.error("Deprecated option 'bAsync=false'. Please use 'bAsync=true' instead",null,"sap.ushell.services.ShellNavigationHashChanger");var n;var s=sap.ushell.Container.getService("AppState");var o=new f(s,a);var h=this.privhrefForExternalNoEnc(e,o);if(t===true){n={hash:h.hash,params:h.params,skippedParams:h.skippedParams}}else{n=h.hash}return n};c.prototype.hrefForExternalNoEncAsync=function(e,t,a){return sap.ushell.Container.getServiceAsync("AppState").then(function(i){var r;var n=new f(i,a);var s=this.privhrefForExternalNoEnc(e,n);if(t===true){r={hash:s.hash,params:s.params,skippedParams:s.skippedParams}}else{r=s.hash}return new Promise(function(e,t){n.getPromise().done(function(){e(r)}).fail(t)})}.bind(this))};c.prototype.privhrefForExternalNoEnc=function(e,a){var i;if(e===undefined){return this.privgetCurrentShellHash()}if(e&&e.target&&(typeof e.target.semanticObject==="string"||typeof e.target.shellHash==="string")){i="#"+this.privconstructShellHash(e);return t.compactHash(i,undefined,a)}return this.privgetCurrentShellHash()};c.prototype.privgetAppHash=function(e){var t,i;if(e&&e.target&&typeof e.target.shellHash==="string"){i=a.parseShellHash(e.target.shellHash);t=i&&i.appSpecificRoute;t=t&&t.substring(2)}return t};c.prototype.hrefForAppSpecificHash=function(e){return encodeURI(this.privconstructHash(this.privappHashPrefix+e).hash)};c.prototype.toExternal=function(e,t,a){return sap.ushell.Container.getServiceAsync("AppState").then(function(i){var r=new f(i,t);var n=this.privhrefForExternalNoEnc(e,r).hash;var s=this.privgetAppHash(e);this.privsetHash(n,s,a)}.bind(this))};c.prototype.toAppHash=function(e,t){var a=this.privconstructHash(this.privappHashPrefix+e).hash;this.privsetHash(a,e,t)};c.prototype.initShellNavigation=function(e){if(this._initializedByShellNav){p.info("initShellNavigation already called on this ShellNavigationHashChanger instance.");return false}this.privfnShellCallback=e;r.changed.add(this.treatHashChanged,this);if(!r.isActive()){r.initialized.addOnce(this.treatHashChanged,this);r.init()}else{this.treatHashChanged(r.getHash())}this._initializedByShellNav=true;return true};c.prototype.init=function(){if(this._initialized){p.info("init already called on this ShellNavigationHashChanger instance.");return false}var e=this.privsplitHash(r.getHash());var t=(e&&e.appSpecificRoute||"  ").substring(2);var a=t?"&/":"";var i=e&&e.shellPart||"";this.fireEvent(u.HASH_CHANGED.name,{newHash:t,fullHash:i+a+t});this._initialized=true;return true};c.prototype._removeInnerAppSeparator=function(e){return(e||"").replace("&/","")};c.prototype._setNavigationStatus=function(e){this._oNavigationState.status=e};c.prototype._trackNavigation=function(e,t){this._oNavigationState.newHash=e;this._oNavigationState.oldHash=t};c.prototype.getCurrentNavigationState=function(){return this._oNavigationState};c.prototype.treatHashChanged=function(e,i){this._trackNavigation(e,i);this._setNavigationStatus(l.InProgress);if(this.inAbandonFlow){this._setNavigationStatus(l.Finished);this.setReloadApplication(false);return}var n;e=t.expandHash(e);i=t.expandHash(i);var s=this.privsplitHash(e);var o=this.privsplitHash(i);if(!s){var h=new Error("Illegal new hash - cannot be parsed: '"+e+"'");this.fireEvent(u.SHELL_HASH_CHANGED.name,{newShellHash:e,newAppSpecificRoute:null,fullHash:e,oldShellHash:o?o.shellPart:i,error:h});this.privfnShellCallback(e,null,o?o.shellPart:i,o?o.appSpecificRoute:null,h);this._setNavigationStatus(l.Finished);this.setReloadApplication(false);return}if(!o){o={shellPart:i,appSpecificRoute:null}}for(var c=0;c<this.aNavigationFilters.length;c++){try{var f;var v=this.aNavigationFilters[c].call(undefined,e,i);var H=v;if(typeof v!=="string"){H=v.status;f=v.hash}if(H===this.NavigationFilterStatus.Custom){if(f&&f.length>0){this.inAbandonFlow=true;r.replaceHash(f);this.inAbandonFlow=false}this._setNavigationStatus(l.Finished);this.setReloadApplication(false);return}if(H===this.NavigationFilterStatus.Abandon){this.inAbandonFlow=true;r.replaceHash(i);this.inAbandonFlow=false;this._setNavigationStatus(l.Finished);this.setReloadApplication(false);return}if(H===this.NavigationFilterStatus.Keep){n=true}}catch(e){p.error("Error while calling Navigation filter! ignoring filter...",e.message,"sap.ushell.services.ShellNavigation")}}if(n){this.fireEvent(u.HASH_CHANGED.name,{newHash:e,oldHash:i,fullHash:e});this._setNavigationStatus(l.Finished);this.setReloadApplication(false);return}var S=i===undefined;var g=this._compareHashes(s,o,S);var d=g.sameIntent&&g.sameParameters&&g.sameAppSpecificRoute;if(d){p.info("Navigation happened but hash stayed the same",null,"sap.ushell.services.ShellNavigation");this.fireEvent(u.HASH_CHANGED.name,{newHash:this._removeInnerAppSeparator(s.appSpecificRoute),oldHash:this._removeInnerAppSeparator(o.appSpecificRoute),fullHash:e});this._setNavigationStatus(l.Finished);sap.ui.getCore().getEventBus().publish("relatedServices","resetBackNavigation");this.setReloadApplication(false);return}var m=g.sameIntent&&g.sameParameters;if(m){if(this.getReloadApplication()){this.setReloadApplication(false)}else{var A=this._removeInnerAppSeparator(s.appSpecificRoute);var y=this._removeInnerAppSeparator(o.appSpecificRoute);p.info("Inner App Hash changed from '"+y+"' to '"+A+"'",null,"sap.ushell.services.ShellNavigation");this.fireEvent(u.HASH_CHANGED.name,{newHash:A,oldHash:y,fullHash:e});this._setNavigationStatus(l.Finished);sap.ui.getCore().getEventBus().publish("relatedServices","resetBackNavigation");return}}if(g.sameIntent&&this.hasListeners(u.SHELL_HASH_PARAMETER_CHANGED.name)){var E=a.paramsToString(s.params);var N=a.paramsToString(o.params);p.info("Shell hash parameters changed from '"+N+"' to '"+E+"'",null,"sap.ushell.services.ShellNavigation");this.fireEvent(u.SHELL_HASH_PARAMETER_CHANGED.name,{oNewParameters:s.params,oOldParameters:o.params});this._setNavigationStatus(l.Finished);this.setReloadApplication(false);return}p.info("Outer shell hash changed from '"+i+"' to '"+e+"'",null,"sap.ushell.services.ShellNavigation");this.fireEvent(u.SHELL_HASH_CHANGED.name,{newShellHash:s.shellPart,newAppSpecificRoute:s.appSpecificRoute,fullHash:e,oldShellHash:o.shellPart,oldAppSpecificRoute:o.appSpecificRoute,error:"",oldAppSpecificRouteNoSeparator:this._removeInnerAppSeparator(o.appSpecificRoute),newAppSpecificRouteNoSeparator:this._removeInnerAppSeparator(s.appSpecificRoute)});this.privfnShellCallback(s.shellPart,s.appSpecificRoute,o.shellPart,o.appSpecificRoute);if(g.sameIntent){sap.ui.getCore().getEventBus().publish("relatedServices","resetBackNavigation")}this._setNavigationStatus(l.Finished);this.setReloadApplication(false)};c.prototype._parametersChanged=function(e,t){return!h(e,t)};c.prototype._compareHashes=function(e,t,a){return{sameIntent:this._haveSameIntent(e,t)&&!a,sameParameters:this.haveSameIntentParameters(e.params,t.params),sameAppSpecificRoute:e.appSpecificRoute===t.appSpecificRoute}};c.prototype.setHash=function(e){this.toAppHash(e,true)};c.prototype.replaceHash=function(e){this.toAppHash(e,false)};c.prototype.getHash=function(){return this.getAppHash()};c.prototype.getAppHash=function(){var e=this.privsplitHash(r.getHash());var t=(e&&e.appSpecificRoute||"  ").substring(2);return t};c.prototype.destroy=function(){r.changed.remove(this.treatHashChanged,this);i.prototype.destroy.apply(this,arguments)};c.prototype._getAllEvents=function(){return Object.keys(u).map(function(e){return u[e]})};c.prototype.getReplaceHashEvents=function(){return this._getAllEvents().filter(function(e){return e.historyEntry===false}).map(function(e){return e.name})};c.prototype.getSetHashEvents=function(){return this._getAllEvents().filter(function(e){return e.historyEntry===true}).map(function(e){return e.name})};c.prototype.isInnerAppNavigation=function(e,t){var a=this.privsplitHash(e)||{};var i=this.privsplitHash(t)||{};var r=t===undefined;var n=this._haveSameIntent(a,i)&&!r;var s=this.haveSameIntentParameters(a.params,i.params);return n&&s};c.prototype._haveSameIntent=function(e,t){return e.intent===t.intent};c.prototype._removeNonIntentParameters=function(e){var t=n.getParameters({isIntentParameter:false});var a;if(e){for(var i=0;i<t.length;i++){a=t[i];if(e[a.name]){delete e[a.name]}}}return e||{}};c.prototype.haveSameIntentParameters=function(e,t){var a=s({},e);var i=s({},t);return!this._parametersChanged(this._removeNonIntentParameters(a),this._removeNonIntentParameters(i))};c.prototype.getReloadApplication=function(){return this._bReloadApplication};c.prototype.setReloadApplication=function(e){this._bReloadApplication=e};return c},true);
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/URLParsing", ["sap/ushell/utils","sap/base/util/UriParameters","sap/ushell/utils/UrlParsing","sap/base/Log"],function(t,e,s,r){"use strict";function n(){this.getShellHash=function(t){return s.getShellHash(t)};this.getHash=function(t){return s.getHash(t)};this.isIntentUrl=function(t){r.error("Deprecated API call of 'sap.ushell.URLParsing.isIntentUrl'. Please use 'isIntentUrlAsync' instead",null,"sap.ushell.services.URLParsing");return s.isIntentUrl(t)};this.isIntentUrlAsync=function(t){return s.isIntentUrlAsync(t)};this.parseParameters=function(t){return s.parseParameters(t)};this.paramsToString=function(t){return s.paramsToString(t)};this.privparamsToString=function(t,e,r){return s.privparamsToString(t,e,r)};this.parseShellHash=function(t){return s.parseShellHash(t)};this.privstripLeadingHash=function(t){return s.privstripLeadingHash(t)};this.splitHash=function(t){return s.splitHash(t)};this.constructShellHash=function(t){return s.constructShellHash(t)};this.addSystemToServiceUrl=function(s,r){var n,a,i=r;if(!s||s.indexOf("/")!==0||s.indexOf("//")===0){throw new t.Error("Invalid URL: "+s,"sap.ushell.services.URLParsing")}if(r instanceof sap.ui.core.Component){a=typeof r.getComponentData==="function"&&r.getComponentData();i=a&&a.startupParameters&&a.startupParameters["sap-system"]&&a.startupParameters["sap-system"][0]}n=sap.ushell.Container.getService("NavTargetResolution").getCurrentResolution();if(!i&&!r&&n&&n.url){i=new e(n.url).get("sap-system")}if(/^[^?]*(;mo([/;?]|$))/.test(s)){}else if(/^[^?]*(;o=([/;?]|$))/.test(s)){s=s.replace(/;o=([/;?]|$)/,(i?";o="+i:"")+"$1")}else if(!/^[^?]*;o=/.test(s)&&i){s=s.replace(/(\/[^?]*?)(\/$|$|(\/?\?.*))/,"$1;o="+i+"$2")}sap.ushell.Container.addRemoteSystemForServiceUrl(s);return s}}n.hasNoAdapter=true;return n},true);
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/URLShortening", ["sap/ushell/utils/UrlShortening"],function(n){"use strict";function e(){this.compactHash=n.compactHash.bind(n);this.checkHashLength=n.checkHashLength.bind(n);this.expandHash=n.expandHash.bind(n);this.expandParamGivenRetrievalFunction=n.expandParamGivenRetrievalFunction.bind(n)}e.hasNoAdapter=true;return e},true);
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/Ui5ComponentHandle", function(){"use strict";var t=function(t){this._oComponent=t};t.onBeforeApplicationInstanceCreated=function(){sap.ui.require(["sap/ushell/Fiori20AdapterTest"],function(){})};t.prototype.getInstance=function(){return this._oComponent};t.prototype.getMetadata=function(){return this._oComponent.getMetadata()};return t});
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/Ui5ComponentLoader", ["sap/ushell/Config","sap/ushell/utils","sap/ushell/services/Ui5ComponentHandle","sap/ushell/services/_Ui5ComponentLoader/utils","sap/ushell/EventHub","sap/ui/thirdparty/jquery"],function(e,o,t,n,s,jQuery){"use strict";function r(e,r,i,a){this._oConfig=a&&a.config||{};this._oAdapter=e;this._logStackTrace=function(e,o){var t=JSON.stringify(e,null,4);n.logInstantiateComponentError(e.name,o+"",o.status,o.stack,t);return Promise.reject(o)};this.modifyComponentProperties=function(e,o){if(!this._oAdapter.modifyComponentProperties){return Promise.resolve(e)}return this._oAdapter.modifyComponentProperties(e.componentProperties,o).then(function(o){e.componentProperties=o;return e})};this.createComponent=function(e,o,t,n){var s=new jQuery.Deferred,r=this;this.createComponentData(e,o,t).then(function(e){return r.modifyComponentProperties(e,n)}).then(function(e){r.instantiateComponent(e).then(s.resolve,s.reject)},function(){s.resolve(e)});return s.promise()};this.createComponentData=function(e,t,s){var r=this;return new Promise(function(i,a){var c={},p=e||{},l=n.shouldLoadCoreExt(p),u=n.shouldUseAmendedLoading(r._oConfig),m=n.shouldLoadDefaultDependencies(p,r._oConfig,u),d=o.getParameterValueBoolean("sap-ushell-nocb"),C=p.applicationDependencies||{};n.logAnyApplicationDependenciesMessages(C.name,C.messages);if(!p.ui5ComponentName){a();return}delete p.loadCoreExt;delete p.loadDefaultDependencies;var f=n.createComponentData(p.componentData||{},p.url,p.applicationConfiguration,p.reservedParameters);if(p.getExtensions){f.getExtensions=p.getExtensions;delete p.getExtensions}if(p.oPostMessageInterface){f.oPostMessageInterface=p.oPostMessageInterface;delete p.oPostMessageInterface}var h=n.constructAppComponentId(t||{}),g=l&&u,P=n.prepareBundle(r._oConfig.coreResourcesComplement),v=n.createComponentProperties(g,m,d,s,p.applicationDependencies||{},p.ui5ComponentName,p.url,h,P);c.componentData=f;c.componentProperties=v;c.appPropertiesSafe=p;c.loadCoreExt=l;i(c)})};this.instantiateComponent=function(e){var o=e.componentProperties;var r=e.componentData;var i=e.appPropertiesSafe;var a=e.loadCoreExt;t.onBeforeApplicationInstanceCreated.call(null,o);var c=new jQuery.Deferred;n.createUi5Component(o,r).then(function(e){var o=new t(e);i.componentHandle=o;var n=a;if(n){i.coreResourcesFullyLoaded=n;s.emit("CoreResourcesComplementLoaded",{status:"success"})}c.resolve(i)}).fail(this._logStackTrace.bind(this,o)).catch(c.reject);return c.promise()};this.getCoreResourcesComplementBundle=function(){return n.prepareBundle(this._oConfig.coreResourcesComplement)};this.loadCoreResourcesComplement=function(){if(!this.loadCoreResourcesComplementPromise){this.loadCoreResourcesComplementPromise=new Promise(function(e,o){var t=n.prepareBundle(this._oConfig.coreResourcesComplement);n.loadBundle(t).then(function(){s.emit("CoreResourcesComplementLoaded",{status:"success"});e()}).catch(function(){s.emit("CoreResourcesComplementLoaded",{status:"failed"});o()})}.bind(this));this.loadCoreResourcesComplementPromise.finally(function(){this.loadCoreResourcesComplementPromise=undefined}.bind(this))}return this.loadCoreResourcesComplementPromise};s.once("loadCoreResourcesComplement").do(function(){this.loadCoreResourcesComplement()}.bind(this))}r.hasNoAdapter=false;return r});
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/UserInfo", ["sap/base/Log","sap/ushell/Config","sap/ushell/User"],function(e,t,r){"use strict";function s(t,r){this.getId=function(){return sap.ushell.Container.getUser().getId()};this.getFirstName=function(){return sap.ushell.Container.getUser().getFirstName()};this.getLastName=function(){return sap.ushell.Container.getUser().getLastName()};this.getFullName=function(){return sap.ushell.Container.getUser().getFullName()};this.getEmail=function(){return sap.ushell.Container.getUser().getEmail()};this.getUser=function(){return sap.ushell.Container.getUser()};this.getThemeList=function(){var r=t.getThemeList();r.fail(function(){e.error("getThemeList failed")});return r};this.updateUserPreferences=function(){var r=t.updateUserPreferences(sap.ushell.Container.getUser());r.fail(function(){e.error("updateAttributes: ")});return r};this.getLanguageList=function(){var r=t.getLanguageList();r.fail(function(){e.error("getLanguageList failed")});return r};this.getUserSettingList=function(){var r=t.getUserProfilePropertyValueLists();r.fail(function(){e.error("getUserProfilePropertyValueLists failed")});return r};this.getUserSettingListEditSupported=function(){if(typeof t.getUserProfilePropertyValueLists!=="undefined"){return true}return false}}s.hasNoAdapter=false;return s},true);
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/_AppState/AppState", ["sap/base/Log","sap/ui/thirdparty/jquery"],function(t,jQuery){"use strict";function e(e,n,r,a,o,h,c,p,_){this._oServiceInstance=e;this._sKey=n;this._sData=a;this._sAppName=o;this._sACHComponent=h;this._bTransient=c;this._bModifiable=r;this._sPersistencyMethod=p;this._oPersistencySettings=_;if(this._bModifiable){this.setData=function(e){try{this._sData=JSON.stringify(e)}catch(e){t.error("Data can not be serialized","sap.ushell.services.AppState.AppState");this._sData=undefined}};this.save=s.bind(this);this.delete=i.bind(this)}}function s(){var t=new jQuery.Deferred;this._oServiceInstance._saveAppState(this._sKey,this._sData,this._sAppName,this._sACHComponent,this._bTransient,this._sPersistencyMethod,this._oPersistencySettings).done(function(){t.resolve()}).fail(function(e){t.reject(e)});return t.promise()}function i(){var t=new jQuery.Deferred;this._oServiceInstance._deleteAppState(this._sKey).done(function(){t.resolve()}).fail(function(e){t.reject(e)});return t.promise()}e.prototype.getData=function(){var e;if(this._sData===undefined||this._sData===""){return undefined}try{e=JSON.parse(this._sData)}catch(e){t.error("Could not parse ["+this._sData+"]"+e)}return e};e.prototype.getPersistencyMethod=function(){return this._sPersistencyMethod};e.prototype.getPersistencySettings=function(){return this._oPersistencySettings};e.prototype.getKey=function(){return this._sKey};return e});
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/_AppState/AppStatePersistencyMethod", [],function(){"use strict";function t(){this.PersonalState="PersonalState";this.ACLProtectedState="ACLProtectedState";this.PublicState="PublicState";this.AuthorizationProtectedState="AuthorizationProtectedState"}return new t});
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/_AppState/LimitedBuffer", [],function(){"use strict";function t(t){this.index=-1;this.capacity=t;this.array=[]}t.prototype._clear=function(){this.array=[];this.index=-1};t.prototype.addAsHead=function(t,i,e,a){this.index=(this.index+1)%this.capacity;this.array[this.index]={key:t,value:i,persistencyMethod:e,persistencySettings:a}};t.prototype.getByKey=function(t){var i,e;for(i=0;i<=this.capacity-1;i=i+1){e=(this.capacity+this.index-i)%this.capacity;if(this.array[e]&&this.array[e].key===t){return this.array[e]}}return undefined};t.prototype.deleteByKey=function(t){var i,e,a=false;for(i=0;i<=this.capacity-1;i=i+1){e=(this.capacity+this.index-i)%this.capacity;if(this.array[e]&&this.array[e].key===t){delete this.array[e];a=true}}return a};return t});
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/_AppState/Sequentializer", ["sap/ui/thirdparty/jquery"],function(jQuery){"use strict";function e(){this.oLastPromise=new jQuery.Deferred;this.oLastPromise.resolve()}e.prototype.addToQueue=function(e){var r=new jQuery.Deferred;this.oLastPromise.always(function(){var t=e();t.done(function(){r.resolve.apply(r,arguments)}).fail(function(){r.reject.apply(r,arguments)})});this.oLastPromise=r;return r.promise()};return e});
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/_AppState/SequentializingAdapter", ["sap/ushell/services/_AppState/Sequentializer"],function(e){"use strict";function t(t){this._oSequentializer=new e;this._oUnderlyingAdapter=t}t.prototype.saveAppState=function(e,t,r,n,i,p,d){var o;o=this._oUnderlyingAdapter.saveAppState.bind(this._oUnderlyingAdapter,e,t,r,n,i,p,d);return this._oSequentializer.addToQueue(o)};t.prototype.loadAppState=function(e){return this._oUnderlyingAdapter.loadAppState(e)};t.prototype.deleteAppState=function(e){if(this._oUnderlyingAdapter&&this._oUnderlyingAdapter.deleteAppState){return this._oUnderlyingAdapter.deleteAppState(e)}};t.prototype.getSupportedPersistencyMethods=function(){if(this._oUnderlyingAdapter&&this._oUnderlyingAdapter.getSupportedPersistencyMethods){return this._oUnderlyingAdapter.getSupportedPersistencyMethods()}return[]};return t});
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/_AppState/WindowAdapter", ["sap/ushell/services/_AppState/LimitedBuffer","sap/base/Log","sap/ui/thirdparty/jquery"],function(e,t,jQuery){"use strict";var r=500;var a=18;function o(){this._init.apply(this,arguments)}o.prototype._init=function(t,a,p){var n=p&&p.config&&p.config.initialAppStates||{};var i=p&&p.config&&p.config.initialAppStatesPromise;this._oServiceInstance=t;this._oBackendAdapter=a;if(!o.prototype.data){o.prototype.data=new e(r)}if(i){i.then(function(e){if(typeof e==="object"){Object.keys(e).forEach(function(t){o.prototype.data.addAsHead(t,e[t])})}})}Object.keys(n).forEach(function(e){o.prototype.data.addAsHead(e,n[e])})};o.prototype.saveAppState=function(e,t,r,a,p,n,i,s){this.sComponent=p;var d=new jQuery.Deferred;o.prototype.data.addAsHead(e,r,i,s);if(this._oBackendAdapter&&!n){return this._oBackendAdapter.saveAppState(e,t,r,a,p,i,s)}d.resolve();return d.promise()};o.prototype._checkIfTransient=function(e){return e.startsWith("TAS")};o.prototype.loadAppState=function(e){var r=new jQuery.Deferred,p=o.prototype.data.getByKey(e);if(p){setTimeout(function(){r.resolve(e,p.value,p.persistencyMethod,p.persistencySettings)},0);return r.promise()}try{if(window.opener&&window.opener.sap&&window.opener.sap.ushell){var n=window.opener.sap.ui.require("sap/ushell/services/AppState").WindowAdapter.prototype.data.getByKey(e);if(n){r.resolve(e,n.value);return r.promise()}}}catch(e){if(e.code===a){t.warning("AppState.js - loadAppState: Opener is not of the same origin and cannot be used for AppState resolving.")}else{t.warning("AppState.js - loadAppState: Opener is a FLP but AppState could not get resolved from there.")}}if(this._oBackendAdapter&&!this._checkIfTransient(e)){this._oBackendAdapter.loadAppState(e).done(function(e,t,a,p){o.prototype.data.addAsHead(e,t);r.resolve(e,t,a,p)}).fail(r.reject.bind(r));return r.promise()}r.reject("AppState.js - loadAppState: Application State could not be loaded");return r.promise()};o.prototype.deleteAppState=function(e){var t=new jQuery.Deferred;o.prototype.data.deleteByKey(e);if(this._oBackendAdapter&&this._oBackendAdapter.deleteAppState&&!this._checkIfTransient(e)){return this._oBackendAdapter.deleteAppState(e)}t.resolve();return t.promise()};o.prototype.getSupportedPersistencyMethods=function(){if(this._oBackendAdapter&&this._oBackendAdapter.getSupportedPersistencyMethods){return this._oBackendAdapter.getSupportedPersistencyMethods()}return[]};return o});
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/_ClientSideTargetResolution/ParameterMapping", ["sap/base/Log"],function(e){"use strict";function a(a){var t={},n=a.intentParamsPlusAllDefaults;Object.keys(n).sort().forEach(function(s){var i=r(s,a.inbound.signature,n[s]);if(Array.isArray(a.intentParamsPlusAllDefaults[s])){if(t[i]){e.error('collision of values during parameter mapping : "'+s+'" -> "'+i+'"')}else{t[i]=a.intentParamsPlusAllDefaults[s]}}});a.mappedIntentParamsPlusSimpleDefaults=t}function r(e,a,r){if(!r||!Array.isArray(r)){return e}if(a&&a.parameters&&a.parameters[e]&&a.parameters[e].renameTo){return a.parameters[e].renameTo}return e}return{mapParameterNamesAndRemoveObjects:a,getRenameParameterName:r}});
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/_ClientSideTargetResolution/Utils", ["sap/base/util/deepExtend"],function(e){"use strict";function r(e,r,t){var n={};r.forEach(function(a){var i=t[a].dominatedBy;var u=i.some(function(t){var n=!!e[t];var i=t!==a;var u=r.indexOf(t)===-1;return n&&u&&i});if(u){n[a]=true}});return n}function t(e){var r={},t={};Object.keys(e).forEach(function(n){var a=e[n].renameTo||n;t[a]=t[a]||{renameTo:a,dominatedBy:[]};t[a].dominatedBy.push(n);t[a].dominatedBy=t[a].dominatedBy.sort();r[n]=t[a]});return r}function n(r,t,n){var a=n?r:e({},r);Object.keys(a).forEach(function(e){if(t(e)===false){delete a[e]}});return a}function a(e,r){var t;t=Object.keys(e).reduce(function(t,n){var a=e[n];if(r(n,a)){t[n]=a}return t},{});return t}function i(e,r){return r.every(function(r){var t,n,a;a=r.name;n=r.options;t=e[a];return Object.keys(n).every(function(e){var r=n[e];if(e==="required"){return!!(t||{}).required===r}return false})})}function u(e,r){var t={};e.forEach(function(e){if(r[e]){t[e]=r[e];delete r[e]}});return t}return{inboundSignatureMeetsParameterOptions:i,filterObjectKeys:n,filterObject:a,constructParameterDominatorMap:t,findDominatedDefaultParameters:r,extractParameters:u}});
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/_CommonDataModel/PersonalizationProcessor", ["sap/ui/thirdparty/jquery","sap/base/util/isEmptyObject","sap/base/Log","sap/base/util/ObjectPath","sap/base/util/deepClone"],function(jQuery,e,r,i,o){"use strict";function t(){}t.prototype._getItemIndex=function(e,r){var i;for(i=0;i<e.length;i++){if(e[i].id===r){break}}i=i>=e.length?-1:i;return i};t.prototype._applyRenameGroup=function(e,r,i){var o,t=false;if(!r){return false}if(e&&i&&i.groups&&i.groups[e]){o=i.groups[e];if(o.identification&&o.identification.title){i.groups[e].identification.title=r;t=true}}return t};t.prototype._applyGroupVisibility=function(e,r,i){var o=false;if(r===undefined){return false}if(e&&i&&i.groups&&i.groups[e]){i.groups[e].identification.isVisible=r;o=true}return o};t.prototype.mixinPersonalization=function(r,i){var o=new jQuery.Deferred,t=this;if(!i||e(i)){return o.resolve(r).promise()}if(i.groups){Object.keys(i.groups).forEach(function(e){var o=i.groups[e];if(r.groups[e]){if(o.identification){if(o.identification.title){t._applyRenameGroup(e,o.identification.title,r)}if(o.identification.hasOwnProperty("isVisible")&&o.identification.isVisible===false){t._applyGroupVisibility(e,false,r)}}}})}this._applyAddGroups(r,i);if(i.removedGroups&&Array.isArray(i.removedGroups)){i.removedGroups.forEach(function(e){t._applyRemoveGroup(r,e)})}this._applyMoveGroup(r,i);this._applyItemChanges(r,i);this._applyTileSettings(r,i);return o.resolve(r).promise()};t.prototype._applyAddGroups=function(e,r){var i=[];e.site=e.site||{};e.site.payload=e.site.payload||{};e.site.payload.groupsOrder=e.site.payload.groupsOrder||[];e.groups=e.groups||{};if(Array.isArray(r.groupOrder)){e.site.payload.groupsOrder.forEach(function(e){if(r.groupOrder.indexOf(e)===-1){if(r.removedGroups&&r.removedGroups.indexOf(e)===-1||!r.removedGroups){i.push(e)}}})}if(Array.isArray(r.groupOrder)&&r.addedGroups&&Object.keys(r.addedGroups).length>0){Object.keys(r.addedGroups).forEach(function(i){e.groups[i]=o(r.addedGroups[i],20);e.groups[i].payload.isPreset=false});e.site.payload.groupsOrder=r.groupOrder}i.forEach(function(r){e.site.payload.groupsOrder.push(r)})};t.prototype._checkRenameGroup=function(e,r,i,o){if(e&&r&&i){if(i[e]){if(r[e].identification.title!==i[e].identification.title){o=o||{};o.groups=o.groups||{};o.groups[e]=o.groups[e]||{};o.groups[e].identification=o.groups[e].identification||{};o.groups[e].identification.title=r[e].identification.title}}}return o};t.prototype._applyTileSettings=function(e,r){var i,o;if(!r.modifiedTiles){return}i=Object.keys(e.groups).map(function(e){return this[e]},e.groups);o=Object.keys(r.modifiedTiles).map(function(e){return this[e]},r.modifiedTiles);i.some(function(e){["tiles","links"].forEach(function(r){if(e.payload[r]){e.payload[r].some(function(e){var r;o.some(function(i,o){if(i.id===e.id){if(i.title!==undefined){e.title=i.title}if(i.subTitle!==undefined){e.subTitle=i.subTitle}if(i.info!==undefined){e.info=i.info}if(i.displayFormatHint!==undefined){e.displayFormatHint=i.displayFormatHint}r=o;return true}return false});if(r!==undefined){o.splice(r,1)}return o.length===0})}});return o.length===0})};t.prototype._checkGroupVisibility=function(e,r,i,o){if(e&&r&&i){if(i[e]){if(r[e].identification.isVisible!==i[e].identification.isVisible&&typeof r[e].identification.isVisible==="boolean"){o=o||{};o.groups=o.groups||{};o.groups[e]=o.groups[e]||{};o.groups[e].identification=o.groups[e].identification||{};o.groups[e].identification.isVisible=r[e].identification.isVisible}}}return o};t.prototype._addGroupToPersonalizationDelta=function(e,r,i){var o=false,t,a;if(e&&e.site&&e.site.payload&&e.site.payload.groupsOrder&&e.groups&&i&&e.groups[i]&&r){t=e.site.payload.groupsOrder;a=e.groups[i];r.addedGroups=r.addedGroups||{};r.addedGroups[i]={};r.addedGroups[i].identification=jQuery.extend({},a.identification);r.addedGroups[i].payload=jQuery.extend({},a.payload);r.addedGroups[i].payload.tiles=[];r.addedGroups[i].payload.links=[];r.groupOrder=t;o=true}return o};t.prototype.extractPersonalization=function(r,i){var o=new jQuery.Deferred,t,a={},s,p,n=this;if(r&&r.groups&&i&&i.groups){t=r.groups;s=i.groups;p=this._getExtractHelperObject(i,r,a);Object.keys(s).forEach(function(e){n._checkRemoveGroup(r,a,e);n._extractFromOriginalSiteOneGroup(i,p,e,"tiles");n._extractFromOriginalSiteOneGroup(i,p,e,"links")});Object.keys(t).forEach(function(e){if(s[e]){n._checkRenameGroup(e,t,s,a);n._checkGroupVisibility(e,t,s,a)}else{n._addGroupToPersonalizationDelta(r,a,e)}n._extractFromPersonalizedSiteOneGroup(r,p,e,"tiles");n._extractFromPersonalizedSiteOneGroup(r,p,e,"links")});this._checkMoveGroup(r,i,a);this._cleanupRemovedGroups(i,a);if(p.oPersonalizationDelta.movedTiles&&e(p.oPersonalizationDelta.movedTiles)){delete p.oPersonalizationDelta.movedTiles}if(p.oPersonalizationDelta.movedLinks&&e(p.oPersonalizationDelta.movedLinks)){delete p.oPersonalizationDelta.movedLinks}}if(i._version){a._version=i._version}return o.resolve(a).promise()};t.prototype._checkRemoveGroup=function(e,r,i){var o=false;if(e&&e.groups&&r&&i){if(!e.groups[i]){r.removedGroups=r.removedGroups||[];r.groupOrder=r.groupOrder||[];if(r.removedGroups.indexOf(i)===-1){r.removedGroups.push(i)}if(e.site&&e.site.payload&&e.site.payload.groupsOrder&&Array.isArray(e.site.payload.groupsOrder)){r.groupOrder=e.site.payload.groupsOrder.slice(0)}}o=true}return o};t.prototype._applyRemoveGroup=function(e,r){var i,o,t;if(e&&e.groups&&e.site&&e.site.payload&&e.site.payload.groupsOrder&&r){i=e.groups;o=e.site.payload.groupsOrder;t=o.indexOf(r);if(!(t===-1)){o.splice(t,1);delete i[r];return true}}return false};t.prototype._checkMoveGroup=function(e,r,i){var o,t,a=false,s=false;if(e.site&&e.site.payload&&Array.isArray(e.site.payload.groupsOrder)&&r.site&&r.site.payload&&Array.isArray(r.site.payload.groupsOrder)){o=e.site.payload.groupsOrder;t=r.site.payload.groupsOrder;if(o.length===t.length){a=function(){var e=false,r;for(r=0;r<t.length;r++){if(t[r]!==o[r]){e=true;break}}return e}();if(a){i.groupOrder=o;s=true}}}return s};t.prototype._applyMoveGroup=function(e,r){var i=false;if(Array.isArray(r.groupOrder)){e.site=e.site||{};e.site.payload=e.site.payload||{};if(!Array.isArray(e.site.payload.groupsOrder)){e.site.payload.groupsOrder=[]}if(e.site.payload.groupsOrder.length===r.groupOrder.length){e.site.payload.groupsOrder=r.groupOrder;i=true}}return i};t.prototype._getHashedItemsFromSite=function(e){var r=null;if(e&&e.groups){if(Object.keys(e.groups).length>0){r={};Object.keys(e.groups).forEach(function(i){var o=e.groups[i],t;r[i]={};if(o.payload){["tiles","links"].forEach(function(e){r[i][e]={};if(Array.isArray(o.payload[e])){t=o.payload[e];t.forEach(function(o,t){var a;if(o&&o.id){a=o.id;r[i][e][a]={iIndex:t,sItemId:o}}})}})}})}}return r};t.prototype._getExtractHelperObject=function(e,r,i){var o=null;o={};o.oHashedItemsOriginal=this._getHashedItemsFromSite(e)||{};o.oHashedItemsPersonalized=this._getHashedItemsFromSite(r);o.oPersonalizationDelta=i;return o};t.prototype._extractFromOriginalSiteOneGroup=function(e,r,i,o){var t=false,a,s,p,n="movedTiles";o=o||"tiles";if(o!=="tiles"){n="movedLinks"}p=function(e,r){s[e]=s[e]?s[e]:{};s[e].fromGroup=r;s[e].toGroup=null};if(r&&r.oHashedItemsPersonalized&&r.oPersonalizationDelta&&e&&e.groups&&e.groups[i]&&e.groups[i].payload&&Array.isArray(e.groups[i].payload[o])){a=e.groups[i].payload[o];r.oPersonalizationDelta[n]=r.oPersonalizationDelta[n]?r.oPersonalizationDelta[n]:{};s=r.oPersonalizationDelta[n];if(r.oHashedItemsPersonalized[i]){a.forEach(function(e){if(!r.oHashedItemsPersonalized[i][o][e.id]){p(e.id,i)}});t=true}else{a.forEach(function(e){p(e.id,i)});t=true}}return t};t.prototype._extractPersonalizationDeltaForTile=function(r,o,t,a){var s=i.get(["oHashedItemsOriginal",t,a,r.id,"sItemId"],o);if(!s){return false}var p={};if(r.title!==s.title){p.title=r.title}if(r.subTitle!==s.subTitle){p.subTitle=r.subTitle}if(r.info!==s.info){p.info=r.info}if(r.displayFormatHint!==s.displayFormatHint&&!(r.displayFormatHint==="default"&&!s.displayFormatHint)){p.displayFormatHint=r.displayFormatHint}if(e(p)){return false}if(!o.oPersonalizationDelta.modifiedTiles){o.oPersonalizationDelta.modifiedTiles={}}var n=o.oPersonalizationDelta.modifiedTiles;p.id=r.id;n[r.id]=p;return true};t.prototype._extractFromPersonalizedSiteOneGroup=function(e,i,o,t){var a=false,s,p,n=false,l,u=this,d="movedTiles";t=t||"tiles";if(t!=="tiles"&&t!=="links"){return a}if(t!=="tiles"){d="movedLinks"}if(i&&i.oPersonalizationDelta&&e&&e.groups&&e.groups[o]&&e.groups[o].payload&&Array.isArray(e.groups[o].payload[t])){l=e.groups[o].payload[t];i.oPersonalizationDelta[d]=i.oPersonalizationDelta[d]?i.oPersonalizationDelta[d]:{};s=i.oPersonalizationDelta[d];p=[];l.forEach(function(e,a){if(!e){return}p.push(e.id);if(i.oHashedItemsOriginal[o]&&i.oHashedItemsOriginal[o][t][e.id]){if(s[e.id]){r.error("Extract personalization failed","The Tile ID "+e.id+" is not unique in the site","PersonalizationProcessor");delete s[e.id]}if(i.oHashedItemsOriginal[o][t][e.id].iIndex!==a){n=true}u._extractPersonalizationDeltaForTile(e,i,o,t)}else{n=true;if(s[e.id]){if(s[e.id].fromGroup&&s[e.id].fromGroup!==o){if(!s[e.id].toGroup){s[e.id].toGroup=o;u._extractPersonalizationDeltaForTile(e,i,s[e.id].fromGroup,t)}}}else{s[e.id]={};s[e.id].fromGroup=null;s[e.id].toGroup=o;s[e.id].item=e}}});if(n){i.oPersonalizationDelta.groups=i.oPersonalizationDelta.groups||{};i.oPersonalizationDelta.groups[o]=i.oPersonalizationDelta.groups[o]||{};i.oPersonalizationDelta.groups[o].payload=i.oPersonalizationDelta.groups[o].payload||{};if(t==="tiles"){i.oPersonalizationDelta.groups[o].payload.tileOrder=p}else{i.oPersonalizationDelta.groups[o].payload.linkOrder=p}}a=true}return a};t.prototype._cleanupRemovedGroups=function(e,r){var i,o;if(r.removedGroups&&r&&Array.isArray(r.removedGroups)&&r.removedGroups.length>0){r.removedGroups.forEach(function(t){if(e&&e.groups&&e.groups[t]&&e.groups[t].payload){[{sType:"tiles",sPersonalizationDeltaType:"movedTiles"},{sType:"links",sPersonalizationDeltaType:"movedLinks"}].forEach(function(a){if(Array.isArray(e.groups[t].payload[a.sType])){i=e.groups[t].payload[a.sType];i.forEach(function(e){if(r[a.sPersonalizationDeltaType]){o=r[a.sPersonalizationDeltaType][e.id];if(o&&o.fromGroup&&o.fromGroup===t&&!o.toGroup){delete r[a.sPersonalizationDeltaType][e.id]}}})}})}})}};t.prototype._setItemOrderOnSiteCollection=function(e,r){var i=true,o=e.length,t,a={},s,p,n,l;if(!Array.isArray(e)||!Array.isArray(e)||e.length!==r.length){return false}t=e.splice(0,e.length);for(s=0;s<r.length;s++){n=r[s];p=t.shift();if(p&&n===p.id){e.push(p)}else if(a[n]){e.push(a[n]);delete a[n];if(p){a[p.id]=p}}else if(p){a[p.id]=p;l=false;while(t.length>0){p=t.shift();if(n===p.id){e.push(p);l=true;break}else{a[p.id]=p}}if(!l){i=false}}}if(e.length!==o){i=false}return i};t.prototype._setItemOrderOnSiteGroupForItemType=function(e,r,i){var o=true,t,a;if(i==="tiles"||i==="links"){a=i==="tiles"?"tileOrder":"linkOrder"}else{return false}if(r.payload&&Array.isArray(r.payload[a])&&r.payload[a].length>0){if(e.payload&&Array.isArray(e.payload[i])&&e.payload[i].length>0){t=this._setItemOrderOnSiteCollection(e.payload[i],r.payload[a]);if(!t){o=false}}else{o=false}}return o};t.prototype._setItemOrderOnSite=function(e,r){var i=true,o,t=this;if(e.groups&&r.groups){Object.keys(r.groups).forEach(function(a){if(r.groups[a]&&e.groups[a]){o=t._setItemOrderOnSiteGroupForItemType(e.groups[a],r.groups[a],"tiles");if(!o){i=false}o=t._setItemOrderOnSiteGroupForItemType(e.groups[a],r.groups[a],"links");if(!o){i=false}}})}return i};t.prototype._applyMoveItemsWithoutOrder=function(r,i,o){var t=true,a,s,p="tileOrder",n,l,u,d=[],f=this;function y(e,t){var a=true;if(r.groups[t]&&r.groups[t].payload&&i.groups&&i.groups[t]&&i.groups[t].payload&&Array.isArray(i.groups[t].payload[p])&&i.groups[t].payload[p].length>0){if(!Array.isArray(r.groups[t].payload[o])){r.groups[t].payload[o]=[]}r.groups[t].payload[o].push(e)}else{a=false}return a}if(o==="tiles"||o==="links"){s=o==="tiles"?"movedTiles":"movedLinks";p=o==="tiles"?"tileOrder":"linkOrder"}else{return false}if(!r||!r.groups||!r.site||!r.site.payload||!Array.isArray(r.site.payload.groupsOrder)||!i){return false}if(i[s]){Object.keys(i[s]).forEach(function(p){n=i[s][p];if(n.fromGroup){if(n.toGroup){if(n.fromGroup!==n.toGroup){if(r.groups[n.fromGroup]&&r.groups[n.fromGroup].payload&&Array.isArray(r.groups[n.fromGroup].payload[o])){d=r.groups[n.fromGroup].payload[o];l=f._getItemIndex(d,p);if(l>=0){u=d.splice(l,1);a=y(u[0],n.toGroup);if(!a){t=false}}else{t=false}}else{t=false}}else{t=false}}else if(r.groups[n.fromGroup]&&r.groups[n.fromGroup].payload&&Array.isArray(r.groups[n.fromGroup].payload[o])){d=r.groups[n.fromGroup].payload[o];l=f._getItemIndex(d,p);if(l>=0){d.splice(l,1)}else{t=false}}else{t=false}}else if(n.toGroup){if(n.item&&!e(n.item)){a=y(n.item,n.toGroup);if(!a){t=false}}else{t=false}}else{t=false}})}return t};t.prototype._applyItemChanges=function(e,r){var i=true,o;o=this._applyMoveItemsWithoutOrder(e,r,"tiles");if(!o){i=false}o=this._applyMoveItemsWithoutOrder(e,r,"links");if(!o){i=false}if(r.groups){o=this._setItemOrderOnSite(e,r);if(!o){i=false}}return i};return t});
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/_CommonDataModel/SiteConverter", ["sap/base/Log"],function(e){"use strict";var i=function(){};i.prototype.convertTo=function(i,t){if(t._version==="3.0.0"||t.identification&&t.payload){switch(i){case"3.0.0":return this._convertPageToSite(t);case"3.1.0":return this._convertSiteToPage(t);default:e.error("The received version for the site/page conversion is not supported");return{}}}else{e.error("The site converter did not receive a correct page/site object.");return{}}};i.prototype._convertPageToSite=function(e){var i={groups:{},_version:"3.0.0",site:{identification:e.identification,payload:{groupsOrder:e.payload.layout.sectionOrder}}};var t=e.payload.sections;for(var o=0;o<Object.keys(t).length;o++){var r=Object.keys(t)[o];var a=e.payload.sections[r];i.groups[r]={identification:{id:a.id,title:a.title},payload:{tiles:this._convertVizPayloadObjectToArray(a)}};if("visible"in a){i.groups[r].identification.isVisible=a.visible}if("preset"in a){i.groups[r].payload.isPreset=a.preset}if("locked"in a){i.groups[r].payload.locked=a.locked}if("default"in a){i.groups[r].payload.isDefaultGroup=a.default}}return i};i.prototype._convertSiteToPage=function(e){var i={identification:e.site.identification,payload:{layout:{sectionOrder:e.site.payload.groupsOrder},sections:{}}};var t=e.groups;var o;var r;var a;for(var n=0;n<Object.keys(t).length;n++){o=Object.keys(t)[n];r=e.groups[o];a=this._createVizPayloadObject(r.payload.tiles);i.payload.sections[o]={id:r.identification.id,title:r.identification.title,layout:a.layout,viz:a.viz};var s=i.payload.sections[o];if("isVisible"in r.identification){s.visible=r.identification.isVisible}if("isPreset"in r.payload){s.preset=r.payload.isPreset}if("locked"in r.payload){s.locked=r.payload.locked}if("isDefaultGroup"in r.payload){s.default=r.payload.isDefaultGroup}}return i};i.prototype._createVizPayloadObject=function(e){var i=[];var t={};var o=e.reduce(function(e,t){i.push(t.id);e[t.id]=t;return e},{});t.layout={vizOrder:i};t.viz=o;return t};i.prototype._convertVizPayloadObjectToArray=function(e){return e.layout.vizOrder.reduce(function(i,t){i.push(e.viz[t]);return i},[])};return i});
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/_ContentExtensionAdapterFactory/ContentExtensionAdapterConfig", ["sap/ushell/Config","sap/ushell/System","sap/ushell/services/_ContentExtensionAdapterFactory/FeaturedGroupConfig"],function(e,t,r){"use strict";var a={};var n=[{contentProviderName:"featured",adapter:"sap.ushell.adapters.cdm.v3.StaticGroupsAdapter",configSwitch:"/core/home/featuredGroup/enable",system:{alias:"",platform:"cdm"},configHandler:function(){var t=e.last("/core/shell/enableRecentActivity")&&e.last("/core/shell/model/currentState/showRecentActivity"),a=t&&e.last("/core/home/featuredGroup/frequentCard"),n=t&&e.last("/core/home/featuredGroup/recentCard");return r.getMockAdapterConfig(a,n)}}];a._getConfigAdapters=function(){n.forEach(function(e){e.system=new t(e.system)});return n};return a});
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/_ContentExtensionAdapterFactory/FeaturedGroupConfig", ["sap/ushell/resources"],function(e){"use strict";var t={},a=e.i18n.getText("featuredGroup.title"),i=e.i18n.getText("recentActivities"),r=e.i18n.getText("frequentActivities"),n=e.i18n.getText("top",4),s={_version:"3.0.0",site:{identification:{version:"3.0",id:"c9dcc1f3-dec0-4db4-91d3-639bf38d91ce",title:"Featured Group",description:"Sample site for featured group cards"},payload:{groupsOrder:["FeaturedGroupCards"]}},catalogs:{},vizTypes:{"sap.ushell.Card":{"sap.app":{id:"sap.ushell.Card",type:"card",applicationVersion:{version:"1.0.0"}},"sap.ui":{deviceTypes:{desktop:true,tablet:true,phone:true}}}},visualizations:{FrequentCard:{vizType:"sap.ushell.Card",businessApp:"fin.cash.bankmaster.manage.BusinessApp",target:{appId:"fin.cash.bankmaster.manage",inboundId:"Bank-manage",parameters:{}},vizConfig:{"sap.flp":{columns:"4",rows:"4"},"sap.app":{id:"FrequentCard",type:"card"},"sap.ui5":{services:{CardNavigationService:{factoryName:"sap.ushell.ui5service.CardNavigation"},CardUserFrequentsService:{factoryName:"sap.ushell.ui5service.CardUserFrequents"}}},"sap.card":{type:"List",header:{title:r,status:{text:n},actions:[{type:"Navigation",service:"CardNavigationService",parameters:{openUI:"FrequentActivities"}}]},content:{maxItems:4,data:{service:{name:"CardUserFrequentsService"}},item:{title:{value:"{Name}"},description:{value:"{Description}"},highlight:"{Highlight}",icon:{src:"{Icon}",label:"icon"},actions:[{type:"Navigation",service:"CardNavigationService",parameters:{title:"{Name}",url:"{Url}",intentSemanticObject:"{Intent/SemanticObject}",intentAction:"{Intent/Action}",intentAppRoute:"{Intent/AppSpecificRoute}",intentParameters:"{Intent/Parameters}"}}]}}}}},RecentCard:{vizType:"sap.ushell.Card",businessApp:"fin.cash.bankmaster.manage.BusinessApp",target:{appId:"fin.cash.bankmaster.manage",inboundId:"Bank-manage",parameters:{}},vizConfig:{"sap.flp":{columns:"4",rows:"4"},"sap.app":{id:"RecentCard",type:"card"},"sap.ui5":{services:{CardNavigationService:{factoryName:"sap.ushell.ui5service.CardNavigation"},CardUserRecentsService:{factoryName:"sap.ushell.ui5service.CardUserRecents"}}},"sap.card":{type:"List",header:{title:i,status:{text:n},actions:[{type:"Navigation",service:"CardNavigationService",parameters:{openUI:"RecentActivities"}}]},content:{maxItems:4,data:{service:{name:"CardUserRecentsService"}},item:{title:{label:"{{title_label}}",value:"{Name}"},description:{label:"{{description_label}}",value:"{Description}"},icon:{src:"{Icon}",label:"icon"},highlight:"{Highlight}",actions:[{type:"Navigation",service:"CardNavigationService",parameters:{title:"{Name}",url:"{Url}",intentSemanticObject:"{Intent/SemanticObject}",intentAction:"{Intent/Action}",intentAppRoute:"{Intent/AppSpecificRoute}",intentParameters:"{Intent/Parameters}"}}]}}}}}},applications:{},groups:{FeaturedGroupCards:{identification:{id:"FeaturedGroupCards",title:a},contentProvider:"featured",isFeatured:true,payload:{locked:true,tiles:[{id:"frequentCard",vizId:"FrequentCard",contentProvider:"featured"},{id:"recentCard",vizId:"RecentCard",contentProvider:"featured"}],links:[],groups:[]}}},systemAliases:{}};t.getMockAdapterConfig=function(e,t){var a=s.groups.FeaturedGroupCards.payload.tiles,i=s.visualizations;for(var r=0;r<a.length;r++){var n=a[r],c=!e&&n.vizId==="FrequentCard",p=!t&&n.vizId==="RecentCard";if(c||p){delete i[n.vizId];a.splice(r,1);r--}}return s};return t},true);
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/_CrossApplicationNavigation/utils", ["sap/base/util/ObjectPath","sap/base/Log","sap/ushell/utils/UrlParsing"],function(e,t,r){"use strict";var a={};a.extractGetLinksParameterOptions=function(e){return a.parseGetLinksParameters(e).filter(function(e){return Object.keys(e.options).length>0}).map(function(e){return{name:e.name,options:e.options}})};a.extractGetLinksParameterDefinition=function(e){return a.parseGetLinksParameters(e).reduce(function(e,t){e[t.name]=t.value;return e},{})};a.parseGetLinksParameters=function(e){if(Object.prototype.toString.apply(e)!=="[object Object]"){return[]}var t=JSON.parse(JSON.stringify(e));return Object.keys(t).map(function(e){var r=t[e];var a={};if(Object.prototype.toString.apply(r)==="[object Object]"){r=r.value;delete t[e].value;a=t[e]}return{name:e,value:r,options:a}})};a.safeParseToObject=function(e){try{return JSON.parse(e)}catch(r){t.error("Cannot parse the given string to object",e,"sap.ushell.services.CrossApplicationNavigation")}return null};a.createAppStateFromData=function(e){t.error("Deprecated API call of '_CrossApplicationNavigation.utils.createAppStateFromData'. Please use 'createAppStateFromDataAsync' instead",null,"sap.ushell.services._CrossApplicationNavigation.utils");var r=sap.ushell.Container.getService("AppState");var a=r.createEmptyAppState(null);a.setData(e);a.save();return a.getKey()};a.createAppStateFromDataAsync=function(e){return sap.ushell.Container.getServiceAsync("AppState").then(function(t){var r=t.createEmptyAppState(null);r.setData(e);r.save();return r.getKey()})};a.extractParameter=function(n,i){var s;var c=null;if(typeof n==="string"){if(n.indexOf(i+"=")===-1){return{intent:n,data:null}}var p=r.parseShellHash(n);if(!p){return{intent:n,data:null}}c=p.params[i];delete p.params[i];s=r.constructShellHash(p);return{intent:s,data:c}}if(Object.prototype.toString.apply(n)==="[object Object]"){var o=e.get("target.shellHash",n);if(typeof o==="string"){var u=a.extractParameter(o,i);n.target.shellHash=u.intent;return{intent:n,data:u.data}}var l=n.params;if(l&&l[i]){c=typeof l[i]==="string"?[l[i]]:l[i];delete l[i]}return{intent:n,data:c}}t.error("Invalid input parameter","expected string or object","sap.ushell.services.CrossApplicationNavigation");return{intent:n}};a.addXAppStateFromParameter=function(e,t){var r=a.extractParameter(e,t);var n=r.intent;var i=r.data&&r.data[0];if(!i){return}var s=a.safeParseToObject(i);if(!s){return}var c=a.createAppStateFromData(s);a.injectParameter(n,"sap-xapp-state",c)};a.addXAppStateFromParameterAsync=function(e,t){var r=a.extractParameter(e,t);var n=r.intent;var i=r.data&&r.data[0];if(!i){return Promise.resolve()}var s=a.safeParseToObject(i);if(!s){return Promise.resolve()}return a.createAppStateFromDataAsync(s).then(function(e){a.injectParameter(n,"sap-xapp-state",e)})};a.injectParameter=function(t,n,i){if(typeof t==="string"){var s=r.parseShellHash(t);s.params[n]=i;return r.constructShellHash(s)}if(Object.prototype.toString.apply(t)==="[object Object]"){var c=e.get("target.shellHash",t);if(typeof c==="string"){t.target.shellHash=a.injectParameter(c,n,i);return t}if(!t.params){t.params={}}t.params[n]=i}return t};a._injectParameters=function(e){var t=e.inject;var r=e.injectEmptyString||{};var n=e.type;var i=e.args;function s(e,t){return e||e===""&&t}if(n.isPlainObject(i)){if(i.target&&i.target.shellHash){if(typeof i.target.shellHash==="string"){i.target.shellHash=a._injectParameters({inject:t,injectEmptyString:r,type:e.type,args:i.target.shellHash})}return i}var c=Object.keys(t).reduce(function(e,a){var n=t[a];var i=r[a]===true;if(s(n,i)&&typeof e==="string"){var c=new RegExp("[&]"+a);var p=!c.test(e);if(p){var o=e?"&":"";e+=o+a+"="+n}}else if(s(n,i)&&!e.hasOwnProperty(a)){e[a]=n}return e},i.params||{});if(c&&Object.keys(c).length>0){i.params=c}return i}var p=i;if(p){Object.keys(t).forEach(function(e){var a=t[e];var n=r[e]===true;var i=new RegExp("[?&]"+e);var c=!i.test(p);if(s(a,n)&&c){var o=p.indexOf("?")>-1?"&":"?";p+=o+e+"="+a}})}return p};a.injectStickyParameters=function(e){t.error("Deprecated API call of '_CrossApplicationNavigation.utils.injectStickyParameters'. Please use 'injectStickyParametersAsync' instead",null,"sap.ushell.services._CrossApplicationNavigation.utils");var r=sap.ushell.Container.getService("AppLifeCycle");return a._injectStickyParameters(e,r)};a.injectStickyParametersAsync=function(e){return sap.ushell.Container.getServiceAsync("AppLifeCycle").then(function(t){return a._injectStickyParameters(e,t)})};a._injectStickyParameters=function(e,t){if(!t||Object.keys(t).length<=0){return e.args}var r=t.getCurrentApplication();if(!r||Object.keys(r).length<=0){return e.args}var n=e.appLifeCycle;var i=e.technicalParameters;var s=i.getParameters({sticky:true}).reduce(function(e,t){var a=t.name;var s=r.componentInstance;var c=r.applicationType;var p;if(c==="UI5"){p={}}else{p=n.getCurrentApplication().container}var o=i.getParameterValueSync(a,s,p,c);var u=t.stickyName||a;e[u]=o;return e},{});var c={type:e.type,inject:s,args:e.args};return a._injectParameters(c)};return a});
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/_PluginManager/Extensions", ["sap/ushell/services/_PluginManager/HeaderExtensions","sap/ushell/services/_PluginManager/MenuExtensions"],function(e,n){"use strict";var r={Header:i,Menu:s};function s(e){return Promise.resolve(n(e))}function i(){return Promise.resolve(e)}function u(e,n){var s=r[n];if(!s){return Promise.reject("Unsupported extension: '"+n+"'")}return s(e)}return u});
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/_PluginManager/HeaderExtensions", ["sap/ushell/EventHub"],function(e){"use strict";function t(t,n,r){e.emit("setHeaderCentralAreaElement",{id:t,currentState:n,states:r})}return{setHeaderCentralAreaElement:t}});
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/_PluginManager/MenuExtensions", [],function(){"use strict";function n(n){return function e(r){return sap.ushell.Container.getServiceAsync("Menu").then(function(e){return e.getEntryProvider(n,r)})}}return function(e){return{getMenuEntryProvider:n(e)}}});
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/services/_Ui5ComponentLoader/utils", ["sap/ui/thirdparty/jquery","sap/base/util/UriParameters","sap/ui/core/util/AsyncHintsHelper","sap/base/Log","sap/ui/core/Component","sap/ui/thirdparty/URI","sap/ushell/bootstrap/common/common.load.core-min"],function(jQuery,e,r,n,a,t,o){"use strict";var s=sap.ushell&&sap.ushell.Container&&sap.ushell.Container.getLogonSystem().getPlatform()==="abap";var i={name:"core-ext-light",count:4,debugName:undefined,path:s?"sap/ushell_abap/bootstrap/evo/":"sap/fiori/"};function u(e,r){var n=new jQuery.Deferred;e.componentData=r;if(e.manifest===undefined){e.manifest=false}else if(r.technicalParameters&&r.technicalParameters.hasOwnProperty("sap-ui-fl-version")){if(typeof e.manifest==="string"&&e.manifest.length>0){var o=new t(e.manifest);o.addQuery("version",r.technicalParameters["sap-ui-fl-version"][0]);e.manifest=o.toString()}}a.create(e).then(function(e){n.resolve(e)},function(e){n.reject(e)});return n.promise()}function p(e){var r=e&&e.hasOwnProperty("amendedLoading")?e.amendedLoading:true;return r}function l(e){var r=true;if(e.hasOwnProperty("loadCoreExt")){r=e.loadCoreExt}return r}function c(e,r,n){var a=true;if(e.hasOwnProperty("loadDefaultDependencies")){a=e.loadDefaultDependencies}if(r&&r.hasOwnProperty("loadDefaultDependencies")){a=a&&r.loadDefaultDependencies}a=a&&n;return a}function f(e){var r=e.semanticObject||null;var n=e.action||null;if(!r||!n){return null}return"application-"+r+"-"+n+"-component"}function d(e){return e&&e.indexOf("?")>=0}function m(e){var r=new RegExp("[/]~[\\w-]+~[A-Z0-9]?");return e.replace(r,"")}function y(e){if(!e){return e}var r=e.indexOf("?");if(r>=0){return e.slice(0,r)}return e}function h(e,r,a,t,o){var s="The issue is most likely caused by application "+e,i="Failed to load UI5 component with properties: '"+o+"'.";if(t){i+=" Error likely caused by:\n"+t}else{i+=" Error: '"+r+"'"}if(a==="parsererror"){s+=", as one or more of its resources could not be parsed"}s+=". Please create a support incident and assign it to the support component of the respective application.";n.error(s,i,e)}function g(r){var n=new e(r||window.location.href).mParams,a=n["sap-xapp-state"],t;delete n["sap-xapp-state"];t={startupParameters:n};if(a){t["sap-xapp-state"]=a}return t}function C(e,r){if(!Array.isArray(r)){return}r.forEach(function(r){var a=String.prototype.toLowerCase.call(r.severity||"");a=["trace","debug","info","warning","error","fatal"].indexOf(a)!==-1?a:"error";n[a](r.text,r.details,e)})}function v(e){var r,n={name:"CoreResourcesComplement"};if(P(e)){r=e}else{r=i}if(window["sap-ui-debug"]===true){if(r.debugName!==undefined){n.aResources=[r.path+r.debugName+".js"]}else{n.aResources=[]}}else if(o.loaded){n.aResources=b(r.name,r.path,r.count)}else{n.aResources=[]}return n}function b(e,r,a){var t=arguments[3]||[],o=r;if(typeof e!=="string"||typeof o!=="string"||typeof a!=="number"){n.error("Ui5ComponentLoader: _buildBundleResourcesArray called with invalid arguments");return null}if(o.substr(-1)!=="/"){o+="/"}if(a===1){t.push(o+e+".js")}if(t.length>=a){return t}t.push(o+e+"-"+t.length+".js");return b(e,o,a,t)}function P(e){var r=true;if(!e){return false}if(!e.name||typeof e.name!=="string"){n.error("Ui5ComponentLoader: Configured CoreResourcesComplement Bundle has incorrect 'name' property");r=false}if(!e.count||typeof e.count!=="number"){n.error("Ui5ComponentLoader: Configured CoreResourcesComplement Bundle has incorrect 'count' property");r=false}if(!e.debugName||typeof e.debugName!=="string"){n.error("Ui5ComponentLoader: Configured CoreResourcesComplement Bundle has incorrect 'debugName' property");r=false}if(!e.path||typeof e.path!=="string"){n.error("Ui5ComponentLoader: Configured CoreResourcesComplement Bundle has incorrect 'path' property");r=false}return r}function w(e){if(!e||!Array.isArray(e.aResources)||!e.name){n.error("Ui5ComponentLoader: loadBundle called with invalid arguments");return null}return Promise.all(e.aResources.map(function(e){return sap.ui.loader._.loadJSResourceAsync(e)})).catch(function(){n.error("Ui5ComponentLoader: failed to load bundle: "+e.name);return Promise.reject()})}function x(e,n,a,t,o,s,i,u,p){var l=jQuery.extend(true,{},o);if(!l.asyncHints){l.asyncHints=n?{libs:["sap.ca.scfld.md","sap.ca.ui","sap.me","sap.ui.unified"]}:{}}if(e){l.asyncHints.preloadBundles=l.asyncHints.preloadBundles||[];l.asyncHints.preloadBundles=l.asyncHints.preloadBundles.concat(p.aResources)}if(t){l.asyncHints.waitFor=t}if(!l.name){l.name=s}if(i){l.url=y(i)}if(u){l.id=u}if(a&&l.asyncHints){r.modifyUrls(l.asyncHints,m)}return l}function R(e,r,n,a){var t=jQuery.extend(true,{startupParameters:{}},e);if(n){t.config=n}if(a){t.technicalParameters=a}if(d(r)){var o=g(r);t.startupParameters=o.startupParameters;if(o["sap-xapp-state"]){t["sap-xapp-state"]=o["sap-xapp-state"]}}return t}return{constructAppComponentId:f,getParameterMap:g,logAnyApplicationDependenciesMessages:C,logInstantiateComponentError:h,shouldLoadCoreExt:l,shouldLoadDefaultDependencies:c,shouldUseAmendedLoading:p,urlHasParameters:d,removeParametersFromUrl:y,createUi5Component:u,prepareBundle:v,loadBundle:w,createComponentProperties:x,createComponentData:R,buildBundleResourcesArray:b}},false);
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui5service/ShellUIService", ["sap/ui/core/service/ServiceFactoryRegistry","sap/ui/core/service/ServiceFactory","sap/ui/core/service/Service","./_ShellUIService/shelluiservice.class.factory"],function(e,r,c,i){"use strict";return i({serviceRegistry:e,serviceFactory:r,service:c})},true);
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui5service/UserStatus", ["sap/ui/core/service/ServiceFactoryRegistry","sap/ui/core/service/ServiceFactory","sap/ui/core/service/Service","sap/ui/base/EventProvider"],function(e,t,a,r){"use strict";var s={statusChanged:"statusChanged",serviceStateChanged:"serviceStateChanged"};var i=a.extend("sap.ushell.ui5service.UserStatus",{init:function(){i.prototype.isEnabled=false;e.register("sap.ushell.ui5service.UserStatus",new t(i));this.oEventProvider=new r;i.prototype.AvailableStatus={AVAILABLE:"AVAILABLE",AWAY:"AWAY",BUSY:"BUSY",APPEAR_OFFLINE:"APPEAR_OFFLINE"}},exit:function(){this.oEventProvider.destroy()}});i.prototype.setEnabled=function(e){this.oEventProvider.fireEvent(s.serviceStateChanged,{data:e});i.prototype.isEnabled=e;return};i.prototype.setStatus=function(e){if(!i.prototype.isEnabled){throw new Error("Unable to change status because the UserStatus service is disabled.")}if(!i.prototype.AvailableStatus[e]&&e!==null){throw new Error("Enter a valid status.")}this.oEventProvider.fireEvent(s.statusChanged,{data:e})};i.prototype.attachStatusChanged=function(e){this.oEventProvider.attachEvent(s.statusChanged,e)};i.prototype.detachStatusChanged=function(e){this.oEventProvider.detachEvent(s.statusChanged,e)};return i});
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/ui5service/_ShellUIService/shelluiservice.class.factory", ["sap/ui/base/EventProvider","sap/ui/thirdparty/hasher","sap/base/util/isPlainObject","sap/base/util/Version","sap/base/Log","sap/ushell/utils/UrlParsing"],function(e,t,n,r,i,a){"use strict";return function(o){var s=o.serviceRegistry,c=o.serviceFactory,l=o.service;var u;var h=new e;var d={hierarchyChanged:"hierarchyChanged",relatedAppsChanged:"relatedAppsChanged",titleChanged:"titleChanged",backNavigationChanged:"backNavigationChanged"};var p;var v=l.extend("sap.ushell.ui5service.ShellUIService",{init:function(){var e=this,t=this.getInterface();t.init=function(){e._amendPublicServiceInstance.call(e,this)};s.register("sap.ushell.ui5service.ShellUIService",new c(t))},_setActiveComponentId:function(e){p=e},_getActiveComponentId:function(){return p},_shouldEnableAutoHierarchy:function(e){return typeof e.getManifestEntry==="function"&&e.getManifestEntry("/sap.ui5/services/ShellUIService/settings/setHierarchy")==="auto"},_shouldEnableAutoTitle:function(e){return typeof e.getManifestEntry==="function"&&e.getManifestEntry("/sap.ui5/services/ShellUIService/settings/setTitle")==="auto"},_enableAutoHierarchy:function(e){var t=this;var n=e.getRouter&&e.getRouter();if(!n){i.error("Could not enable automatic setHierarchy on the current app","Router could not be obtained on the app root component via getRouter","sap.ushell.ui5service.ShellUIService");return}n.attachTitleChanged(function(e){var n=e.getParameter("history");t.setHierarchy(n.reverse().map(function(e){var n=t._getCurrentShellHashWithoutAppRoute();return{title:e.title,intent:n+"&/"+e.hash}}))})},_enableAutoTitle:function(e){var t=this;var n=e.getRouter&&e.getRouter();if(!n){i.error("Could not enable automatic setTitle on the current app","Router could not be obtained on the app root component via getRouter","sap.ushell.ui5service.ShellUIService");return}var r=n.getTitleHistory()[0];if(r&&r.title){setTimeout(function(){t.setTitle(r.title)},0)}n.attachTitleChanged(function(e){var n=e.getParameter("title");t.setTitle(n)})},_getCurrentShellHashWithoutAppRoute:function(){var e="#"+t.getHash();var n=a.getShellHash(e);if(!n){i.error("Cannot get the current shell hash","UrlParsing service returned a falsy value for "+e,"sap.ushell.ui5service.ShellUIService");return""}return"#"+n},_getEventProvider:function(){return h},_getLastSetTitle:function(){return u},_ensureArrayOfObjectOfStrings:function(e,t){var r=Array.isArray(e)&&e.every(function(e){return n(e)&&Object.keys(e).length>0&&Object.keys(e).every(function(t){return typeof e[t]==="string"})});if(!r){i.error("'"+t+"' was called with invalid parameters","An array of non-empty objects with string values is expected","sap.ushell.ui5service.ShellUIService")}return r},_ensureFunction:function(e,t){var n=typeof e;if(n!=="function"){i.error("'"+t+"' was called with invalid arguments","the parameter should be a function, got '"+n+"' instead","sap.ushell.ui5service.ShellUIService");return false}return true},_ensureString:function(e,t){var n=typeof e;if(n!=="string"){i.error("'"+t+"' was called with invalid arguments","the parameter should be a string, got '"+n+"' instead","sap.ushell.ui5service.ShellUIService");return false}return true},_addCallAllowedCheck:function(e,t){var n=this;e[t]=function(){var r=e.getContext();if(!r||r.scopeObject.getId()!==p){i.warning("Call to "+t+" is not allowed","This may be caused by an app component other than the active '"+p+"' that tries to call the method","sap.ushell.ui5service.ShellUIService");return undefined}if(t==="setHierarchy"&&r.scopeType==="component"&&r.scopeObject&&n._shouldEnableAutoHierarchy(r.scopeObject)){i.warning("Call to "+t+" is not allowed","The app defines that setHierarchy should be called automatically","sap.ushell.ui5service.ShellUIService");return undefined}if(t==="setTitle"&&r.scopeType==="component"&&r.scopeObject&&n._shouldEnableAutoTitle(r.scopeObject)){i.warning("Call to "+t+" is not allowed","The app defines that setTitle should be called automatically","sap.ushell.ui5service.ShellUIService");return undefined}return n[t].apply(e,arguments)}},_amendPublicServiceInstance:function(e){var t=this,n;n=e.getContext();if(typeof n==="undefined"){return}["setTitle","setHierarchy","setRelatedApps","setBackNavigation"].forEach(function(n){t._addCallAllowedCheck(e,n)});var r=n.scopeObject;if(n.scopeType==="component"&&r){this._setActiveComponentId(r.getId());if(this._shouldEnableAutoHierarchy(r)){this._enableAutoHierarchy(r)}if(this._shouldEnableAutoTitle(r)){this._enableAutoTitle(r)}return}i.error("Invalid context for ShellUIService interface","The context must be empty or an object like { scopeType: ..., scopeObject: ... }","sap.ushell.ui5service.ShellUIService")},setHierarchy:function(e){if(typeof e!=="undefined"&&!v.prototype._ensureArrayOfObjectOfStrings(e,"setHierarchy")){return}var t=this.getContext().scopeObject;h.fireEvent(d.hierarchyChanged,{data:e,component:t})},setTitle:function(e){if(typeof e!=="undefined"&&!v.prototype._ensureString(e,"setTitle")){return}var t=this.getContext().scopeObject;u=e;h.fireEvent(d.titleChanged,{data:e,component:t})},setBackNavigation:function(e){if(typeof e!=="undefined"&&!v.prototype._ensureFunction(e,"setBackNavigation")){return}var t=this.getContext().scopeObject;h.fireEvent(d.backNavigationChanged,{data:e,component:t})},getTitle:function(){return this._getLastSetTitle()},setRelatedApps:function(e){if(typeof e!=="undefined"&&!v.prototype._ensureArrayOfObjectOfStrings(e,"setRelatedApps")){return}var t=this.getContext().scopeObject;h.fireEvent(d.relatedAppsChanged,{data:e,component:t})},getUxdVersion:function(){if(new r(sap.ui.version).compareTo("1.37.0")>=0){return 2}return 1},_attachHierarchyChanged:function(e){this._getEventProvider().attachEvent(d.hierarchyChanged,e)},_detachHierarchyChanged:function(e){this._getEventProvider().detachEvent(d.hierarchyChanged,e)},_attachTitleChanged:function(e){this._getEventProvider().attachEvent(d.titleChanged,e)},_attachBackNavigationChanged:function(e){this._getEventProvider().attachEvent(d.backNavigationChanged,e)},_detachBackNavigationChanged:function(e){this._getEventProvider().detachEvent(d.backNavigationChanged,e)},_detachTitleChanged:function(e){this._getEventProvider().detachEvent(d.titleChanged,e)},_attachRelatedAppsChanged:function(e){this._getEventProvider().attachEvent(d.relatedAppsChanged,e)},_detachRelatedAppsChanged:function(e){this._getEventProvider().detachEvent(d.relatedAppsChanged,e)}});return v}});
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/utils", ["sap/base/Log","sap/base/util/ObjectPath","sap/base/util/uid","sap/base/util/UriParameters","sap/ui/Device","sap/ui/thirdparty/jquery","sap/ui/thirdparty/URI","sap/ushell/utils/clone","sap/ushell/utils/UrlParsing","sap/ushell/utils/objectOperations","sap/ushell/utils/type"],function(e,t,r,n,i,jQuery,a,o,s,u,l){"use strict";var c={};c.isArray=l.isArray;c.isPlainObject=l.isPlainObject;c.isDefined=l.isDefined;c.clone=o;c.getMember=u.getMember;c.updateProperties=u.updateProperties;c.getNestedObjectProperty=u.getNestedObjectProperty;c.removeDuplicatedActions=function(e){if(Array.isArray(e)){var t=e.reduce(function(e,t){if(e.indexOf(t)<0){e.push(t)}return e},[]);return t}return e};c.storeSapSystemData=function(t,r){var n,i,a,o=[t.id];if(arguments.length>1){o.unshift(r)}try{a=JSON.stringify(t)}catch(t){e.error("Cannot stringify and store expanded system data: "+t)}if(a){i=c.getLocalStorage();n=c.generateLocalStorageKey("sap-system-data",o);i.setItem(n,a)}};c.getLocalSystemInSidFormat=function(){var e=sap.ushell.Container.getLogonSystem(),t=e.getName(),r=e.getClient();return"sid("+t+"."+r+")"};c.matchesLocalSid=function(e){return c.getLocalSystemInSidFormat().toLowerCase()===e.toLowerCase()};c.storeSapSystemToLocalStorage=function(e){var t=(e||{}).params;if(!t||!t.hasOwnProperty("sap-system")){return}if(c.isPlainObject(t["sap-system"])){var r=t["sap-system"],n=t["sap-system-src"];if(typeof n==="string"){c.storeSapSystemData(r,n);t["sap-system-src"]=n}else{c.storeSapSystemData(r)}t["sap-system"]=r.id}else if(c.matchesLocalSid(t["sap-system"])){delete t["sap-system"]}};c.setPerformanceMark=function(e,t){if(performance&&performance.mark){if(!t){t={}}if(t.bUseUniqueMark){if(t.bUseLastMark){performance.clearMarks(e)}else if(performance.getEntriesByName(e,"mark").length>0){return}}performance.mark(e)}};c.setPerformanceMeasure=function(e,t,r){if(performance&&performance.measure&&t&&r){performance.measure(e,t,r)}};c.Error=function(t,r){this.name="sap.ushell.utils.Error";this.message=t;e.error(t,null,r)};c.Error.prototype=new Error;c.localStorageSetItem=function(t,r,n){var i;try{localStorage.setItem(t,r);if(n){i=document.createEvent("StorageEvent");i.initStorageEvent("storage",false,false,t,"",r,"",localStorage);dispatchEvent(i)}}catch(t){e.warning("Error calling localStorage.setItem(): "+t,null,"sap.ushell.utils")}};c.getLocalStorage=function(){return window.localStorage};c.getLocalStorageItem=function(e){return window.localStorage.getItem(e)};c.generateUniqueId=function(e){var t,r,n;if(Array.isArray(e)){r=e;n=function(e){return r.indexOf(e)===-1}}else{n=e}do{t=c._getUid()}while(!n(t));return t};c._getUid=function(){return r()};c.reload=function(){location.reload()};c.calculateOrigin=function(e){var t;if(e.origin){return e.origin}if(e.protocol&&e.hostname){return e.protocol+"//"+e.hostname+(e.port?":"+e.port:"")}if(e.href){t=new a(e.href);return t.protocol()+"://"+t.hostname()+(t.port()?":"+t.port():"")}return undefined};c.getPrivateEpcm=function(){if(window.external&&window.external&&typeof window.external.getPrivateEpcm!=="undefined"){return window.external.getPrivateEpcm()}return undefined};c.hasNativeNavigationCapability=function(){return c.isFeatureBitEnabled(1)};c.getShellType=function(){return c.isFeatureBitEnabled(1)?"NWBC":"FLP"};c.hasNativeLogoutCapability=function(){return c.isFeatureBitEnabled(2)};c.hasNavigationModeCapability=function(){return c.isFeatureBitEnabled(4)};c.hasFLPReadyNotificationCapability=function(){return c.isFeatureBitEnabled(8)};c.hasFLPReady2NotificationCapability=function(){return c.isFeatureBitEnabled(16)};c.isFeatureBitEnabled=function(t){var r="0",n;n=c.getPrivateEpcm();if(n){try{r=n.getNwbcFeatureBits();e.debug("Detected epcm getNwbcFeatureBits returned feature bits: "+r)}catch(t){e.error("failed to get feature bit vector via call getNwbcFeatureBits on private epcm object",t.stack,"sap.ushell.utils")}}return(parseInt(r,16)&t)>0};c.isApplicationTypeEmbeddedInIframe=function(e){return e==="NWBC"||e==="TR"||e==="WCF"};c.appendSapShellParam=function(e,t){var r=t==="TR"?"":"-NWBC",n=c.getUi5Version();if(n){e+=e.indexOf("?")>=0?"&":"?";e+="sap-shell="+encodeURIComponent("FLP"+n+r)}return e};function f(e){var t=/\d+\.\d+\.\d+/.exec(e);if(t&&t[0]){return t[0]}return undefined}c.getUi5VersionAsync=function(){return new Promise(function(t,r){sap.ui.require(["sap/ui/VersionInfo"],function(r){r.load().then(function(e){t(f(e.version))}).catch(function(){e.error("sap ui version could not be determined, using sap.ui.version (core version) as fallback");t(f(sap.ui.version))})})})};c.getUi5Version=function(){var t;try{t=sap.ui.getVersionInfo().version}catch(r){e.error("sap ui version could not be determined, using sap.ui.version (core version) as fallback "+r);t=sap.ui.version}return f(t)};c.isNativeWebGuiNavigation=function(e){var r=t.get("applicationType",e);var n=t.get("appCapabilities.nativeNWBCNavigation",e);if(this.hasNativeNavigationCapability()&&(r==="TR"||n)){return true}return false};c.Map=function(){this.entries={}};c.Map.prototype.put=function(e,t){var r=this.get(e);this.entries[e]=t;return r};c.Map.prototype.containsKey=function(e){if(typeof e!=="string"){throw new c.Error("Not a string key: "+e,"sap.ushell.utils.Map")}return Object.prototype.hasOwnProperty.call(this.entries,e)};c.Map.prototype.get=function(e){if(this.containsKey(e)){return this.entries[e]}};c.Map.prototype.keys=function(){return Object.keys(this.entries)};c.Map.prototype.remove=function(e){delete this.entries[e]};c.Map.prototype.toString=function(){var e=["sap.ushell.utils.Map("];e.push(JSON.stringify(this.entries));e.push(")");return e.join("")};c.getParameterValueBoolean=function(e,t){var r=n.fromQuery(t||window.location.search),i=r.getAll(e),a=["true","x"],o=["false",""],s;if(!i||i.length===0){return undefined}s=i[0].toLowerCase();if(a.indexOf(s)>=0){return true}if(o.indexOf(s)>=0){return false}return undefined};c.call=function(t,r,n){var i;if(n){setTimeout(function(){c.call(t,r,false)},0);return}try{t()}catch(t){i=t.message||t.toString();e.error("Call to success handler failed: "+i,t.stack,"sap.ushell.utils");if(r){r(i)}}};c.handleTilesVisibility=function(){c.getVisibleTiles()};c.refreshTiles=function(){sap.ui.getCore().getEventBus().publish("launchpad","refreshTiles")};c.setTilesNoVisibility=function(){sap.ui.getCore().getEventBus().publish("launchpad","setTilesNoVisibility")};c.getBasicHash=function(t){if(!c.validHash(t)){e.debug("Utils ; getBasicHash ; Got invalid hash");return false}var r=s.parseShellHash(t);return r?r.semanticObject+"-"+r.action:t};c.validHash=function(e){return e&&e.constructor===String&&jQuery.trim(e)!==""};c.getFormFactor=function(){var e=sap.ui.Device.system;if(e.desktop){return e.SYSTEMTYPE.DESKTOP}if(e.tablet){return e.SYSTEMTYPE.TABLET}if(e.phone){return e.SYSTEMTYPE.PHONE}return undefined};c.getVisibleTiles=function(){var e=document.body.clientHeight,t=sap.ui.getCore().byId("dashboardGroups"),r=sap.ui.getCore().byId("viewPortContainer"),n,i,a,o,s,u,l,f,p,d,g,h=jQuery("#shell-hdr").height(),m=[],y,v,b=[],w=sap.ui.getCore().getEventBus(),S,E,C,T;if(window.document.hidden){w.publish("launchpad","onHiddenTab")}if(t&&t.getGroups()&&r){y=jQuery(t.getDomRef());v=y?y.is(":visible"):false;S=t.getGroups();for(n=0;n<S.length;n=n+1){o=S[n];s=o.getTiles();u=o.getLinks();E=[s,u];for(a=0;a<E.length;a++){C=E[a];if(C){for(i=0;i<C.length;i++){l=C[i];if(!v||window.document.hidden){m.push(l)}else{f=jQuery(l.getDomRef());p=f.offset();if(p){d=f.offset().top;g=d+f.height();T=o.getVisible()&&g>h-300&&d<e+300;if(T){b.push({oTile:c.getTileModel(l),iGroup:n,bIsExtanded:!(g>h)||!(d<e)})}else if(b.length>0){w.publish("launchpad","visibleTilesChanged",b);return m}m.push(l)}}}}}}}if(b.length>0){w.publish("launchpad","visibleTilesChanged",b)}return m};c.getTileModel=function(e){var t;if(e.isA("sap.ui.integration.widgets.Card")){t=e.getBindingContext("ushellCardModel")}else{t=e.getBindingContext()}return t.getObject()?t.getObject():null};c.getTileObject=function(e){var t;if(e.isA("sap.ui.integration.widgets.Card")){t=e.getBindingContext("ushellCardModel")}else{t=e.getBindingContext()}return t.getObject()?t.getObject().object:null};c.recalculateBottomSpace=function(){var e=jQuery("#dashboardGroups").find(".sapUshellTileContainer:visible"),t=e.last(),r=jQuery(".sapUshellShellHead > header").height(),n=t.parent().height(),i=parseInt(t.find(".sapUshellContainerTitle").css("margin-top"),10),a=parseInt(jQuery(".sapUshellDashboardGroupsContainer").css("padding-bottom"),10),o;if(e.length===1){o=0}else{o=jQuery(window).height()-r-n-i-a;o=o<0?0:o}jQuery(".sapUshellDashboardGroupsContainer").css("margin-bottom",o+"px")};c.calcVisibilityModes=function(e,t){var r=true,n=true,a=e.pendingLinks&&e.pendingLinks.length?e.pendingLinks:e.links,o=c.groupHasVisibleTiles(e.tiles,a);if(!o&&(!t||e.isGroupLocked||e.isDefaultGroup||i.system.phone||i.system.tablet&&!i.system.desktop)){r=false}if(!o&&!t){n=false}return[r,n]};c.groupHasVisibleTiles=function(e,t){var r=false,n,i,a=!e?[]:e,o=!t?[]:t;a=a.concat(o);if(!a.length){return false}for(n=0;n<a.length;n=n+1){i=a[n];if(i.isTileIntentSupported){r=true;break}}return r};c.invokeUnfoldingArrayArguments=function(t,r){var n=this,i,a,o,s,u;if(!Array.isArray(r[0])){return t.apply(this,r)}i=r[0];if(i.length===0){return(new jQuery.Deferred).resolve([]).promise()}a=new jQuery.Deferred;o=[];s=[];u=(new jQuery.Deferred).resolve();i.forEach(function(r,i){if(!Array.isArray(r)){var a="Expected Array as nTh Argument of multivalue invocation: "+"first Argument must be array of array of arguments: single valued f(p1,p2), f(p1_2,p2_2), f(p1_3,p2_3) : "+"multivalued : f([[p1,p2],[p1_2,p2_2],[p1_3,p2_3]]";e.error(a);throw new Error(a)}var l=t.apply(n,r),c=new jQuery.Deferred;l.done(function(){var e=Array.prototype.slice.call(arguments);s[i]=e;c.resolve()}).fail(c.reject.bind(c));o.push(c.promise());u=jQuery.when(u,c)});jQuery.when.apply(jQuery,o).done(function(){a.resolve(s)}).fail(function(){a.reject("failure")});return a.promise()};c._getCurrentDate=function(){return new Date};c._convertToUTC=function(e){return Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds())};c.formatDate=function(e){var t,r,n,i,a,o;var s=sap.ui.require("sap/ushell/resources");t=c._convertToUTC(new Date(e));r=c._convertToUTC(c._getCurrentDate());n=r-t;i=parseInt(n/(1e3*60*60*24),10);if(i>0){if(i===1){return s.i18n.getText("time_day",i)}return s.i18n.getText("time_days",i)}a=parseInt(n/(1e3*60*60),10);if(a>0){if(a===1){return s.i18n.getText("time_hour",a)}return s.i18n.getText("time_hours",a)}o=parseInt(n/(1e3*60),10);if(o>0){if(o===1){return s.i18n.getText("time_minute",o)}return s.i18n.getText("time_minutes",o)}return s.i18n.getText("just_now")};c.toExternalWithParameters=function(e,t,r){return Promise.all([sap.ushell.Container.getServiceAsync("URLParsing"),sap.ushell.Container.getServiceAsync("CrossApplicationNavigation")]).then(function(n){var i=n[0];var a=n[1];var o={};var s=t.split("&/");if(s.length>1){o.appSpecificRoute="&/"+s[1]}o.target={semanticObject:e,action:s[0]};if(r&&r.length>0){o.params={};r.forEach(function(e){o.params[e.Key]=e.Value})}return a.toExternal({target:{shellHash:i.constructShellHash(o)}})})};c.moveElementInsideOfArray=function(e,t,r){if(!c.isArray(e)||t===undefined||r===undefined){throw new Error("Incorrect input parameters passed")}if(t>=e.length||r>=e.length||r<0||t<0){throw new Error("Index out of bounds")}var n=e.splice(t,1)[0];e.splice(r,0,n);return e};c.shallowMergeObject=function(e){return Array.prototype.slice.call(arguments,1,arguments.length).map(function(e){return{sourceObject:e,properties:Object.keys(e)}}).reduce(function(e,t){t.properties.forEach(function(r){e[r]=t.sourceObject[r]});return e},e)};c.getLocationHref=function(){return window.location.href};c.generateLocalStorageKey=function(e,t){var r=t.length;if(r===0){throw new Error("At least one id should be provided when generating the local storage key")}var n="$";if(r===2){n="#"}else if(r>2){n="@"+r+"@"}return e+n+t.join(":")};c.urlParametersToString=function(e,t,r){return s.privparamsToString(e,t,r)};c.isRootIntent=function(e){if(typeof e!=="string"){throw new Error("The given intent must be a string")}var r="renderers.fiori2.componentData.config.rootIntent";var n=t.get(r,window["sap-ushell-config"])||"#Shell-home";var i=n.replace("#","");var a=e.replace("#","");return a===""||a===i};c.isFlpHomeIntent=function(e){if(!e){e=window.location.hash;if(!e){e=t.get("renderers.fiori2.componentData.config.rootIntent",window["sap-ushell-config"])||"Shell-home"}}else if(typeof e!=="string"){throw new Error("The given intent must be a string")}var r=e.replace("#","");return r.indexOf("Shell-home")===0||r.indexOf("Launchpad-openFLPPage")===0||r.indexOf("Launchpad-openWorkPage")===0};c.generateRandomKey=function(){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";var t="";var r=new window.Uint32Array(40);window.crypto.getRandomValues(r);var n=function(t){var n=r[t]%e.length;return e[n]};while(t.length<40){t+=n(t.length)}return t};c.copyToClipboard=function(e){var t;var r=document.createElement("textarea");try{r.contentEditable=true;r.readonly=false;r.textContent=e;document.documentElement.appendChild(r);r.select();document.execCommand("copy");t=true}catch(e){t=false}finally{r.parentNode.removeChild(r)}return t};c._getUserSettingPersContainer=function(){return sap.ushell.Container.getServiceAsync("Personalization").then(function(e){var t={container:"sap.ushell.usersettings.personalization",item:"data"};var r={validity:"Infinity",keyCategory:e.constants.keyCategory.GENERATED_KEY,writeFrequency:e.constants.writeFrequency.HIGH,clientStorageAllowed:false};return e.getPersonalizer(t,r)})};c.getHideEmptySpacesEnabled=function(){return new Promise(function(e){sap.ui.require(["sap/ushell/Config"],function(t){e(t)})}).then(function(e){var t=e.last("/core/spaces/hideEmptySpaces/enabled");if(!t){return Promise.resolve(false)}return c._getUserSettingPersContainer().then(function(e){return new Promise(function(t,r){e.getPersData().done(t).fail(r)})}).then(function(t){var r=(t||{}).hideEmptySpaces!==false;if(e.last("/core/spaces/hideEmptySpaces/userEnabled")!==r){e.emit("/core/spaces/hideEmptySpaces/userEnabled",r)}return r})})};c.setHideEmptySpacesEnabled=function(e){return new Promise(function(e){sap.ui.require(["sap/ushell/Config"],function(t){e(t)})}).then(function(t){var r=t.last("/core/spaces/hideEmptySpaces/enabled");if(!r){return Promise.resolve()}return c._getUserSettingPersContainer().then(function(r){return new Promise(function(e,t){r.getPersData().done(e).fail(t)}).then(function(n){n=n||{};var i=n.hideEmptySpaces!==false;if(i===!!e){return Promise.resolve()}n.hideEmptySpaces=e;return new Promise(function(e,t){r.setPersData(n).done(e).fail(t)}).then(function(){t.emit("/core/spaces/hideEmptySpaces/userEnabled",e)})})})})};c.sanitizeTimeoutDelay=function(e){if(typeof e!=="number"){throw new Error("Invalid type! Expected type 'number'.")}var t=2147483647;return e>t?t:e};return c},false);
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/utils/UrlParsing", ["sap/ui/thirdparty/URI","sap/base/util/UriParameters","sap/base/Log"],function(e,t,n){"use strict";function r(){}var a=/^(([A-Za-z0-9_/]+)-([A-Za-z0-9_/-]+)(~([A-Z0-9a-z=+/]+))?)?([?]([^&]|(&[^/]))*&?)?$/;r.getShellHash=function(e){var t=/[^#]*#(([^&]|&[^/])*)(&\/.*)?/,n=t.exec(e);if(n){return n[1]}return undefined};r.getHash=function(e){var t=/#(.*)/,n=t.exec(e);if(n){return n[1]}return undefined};r.isIntentUrl=function(e){return this._isIntentUrl(e,window.location.href)};r.isIntentUrlAsync=function(e){return new Promise(function(e,t){sap.ushell.Container.getFLPUrlAsync(true).done(e).fail(t)}).then(function(t){return this._isIntentUrl(e,t)}.bind(this))};r._isIntentUrl=function(t,n){var a=/^#/,i,s,o,u,p,c;if(typeof t!=="string"){return false}if(!a.test(t)){i=new e(t).normalize();o=i.protocol()+"://"+i.host()+i.pathname();s=new e(n).normalize();u=s.protocol()+"://"+s.host()+s.pathname();if(o!==u){return false}}p=r.getHash(t);if(!p){return false}c=r.parseShellHash(p);if(c&&c.semanticObject&&c.action){return true}return false};r.parseParameters=function(e){var n=t.fromQuery(e);var r=n.keys();var a=r.next();var i={};while(a.done===false){i[decodeURIComponent(a.value)]=n.getAll(a.value);a=r.next()}return i};function i(e,t,n){var r,a,i,s,o,u="";t=t||"&";n=n||"=";r="";a=null;o=[];for(a in e){if(e.hasOwnProperty(a)){o.push(a)}}o.sort();for(i=0;i<o.length;i=i+1){a=o[i];if(Array.isArray(e[a])){for(s=0;s<e[a].length;s=s+1){u+=r+encodeURIComponent(a)+n+encodeURIComponent(e[a][s]);r=t}}else{u+=r+encodeURIComponent(a)+n+encodeURIComponent(e[a]);r=t}}return u}r.paramsToString=function(e){return i(e)};r.privparamsToString=function(e,t,n){return i(e,t,n)};r.parseShellHash=function(e){var t=a,n,i,s,o,u,p,c;if(!e){return undefined}n=r.splitHash(e);p=t.exec(n.shellPart);if(p){i=p[2];s=p[3];o=p[5];u=p[6];c=r.parseParameters(u);return{semanticObject:i,action:s,contextRaw:o,params:c,appSpecificRoute:n.appSpecificRoute}}if(n.appSpecificRoute){return{semanticObject:undefined,action:undefined,contextRaw:undefined,params:{},appSpecificRoute:n.appSpecificRoute}}return undefined};r.privstripLeadingHash=function(e){if(e[0]==="#"){return e.substring(1)}return e};r.splitHash=function(e){var t=/^(?:#|)([\S\s]*?)(&\/[\S\s]*)?$/,n,r,i;if(e===undefined||e===null||e===""){return{}}n=t.exec(e);r=n[1];if(r!==""&&!a.test(r)){return{}}i=n[2];if(r||i){return{shellPart:r,appSpecificRoute:i}}return{}};function s(e,t){if(t){return e+t}return e}r.constructShellHash=function(e){var t,a,i,o=null,u,p=[],c="?",f=null;if(!e){return""}if(!e.target){e.target={};e.target.semanticObject=e.semanticObject;e.target.action=e.action;e.target.contextRaw=e.contextRaw}if(e.target.shellHash||e.target.shellHash===""){i=r.privstripLeadingHash(e.target.shellHash);return s(i,e.appSpecificRoute)}if(e.target.semanticObject&&e.target.action){t=e.target.semanticObject+"-"+e.target.action.replace(/[?].*/,"")}else{return s("",e.appSpecificRoute)}if(e.target.contextRaw){t+="~"+e.target.contextRaw}c="?";f=null;p=[];for(f in e.params){if(e.params.hasOwnProperty(f)){p.push(f)}}a=e.params&&JSON.parse(JSON.stringify(e.params))||{};if(e.appStateKey){p.push("sap-xapp-state");a["sap-xapp-state"]=e.appStateKey}p.sort();for(u=0;u<p.length;u=u+1){f=p[u];if(Array.isArray(a[f])){if(a[f].length>1){n.error("Array startup parameters violate the designed intent of the Unified Shell Intent, use only single-valued parameters!")}for(o=0;o<a[f].length;o=o+1){t+=c+encodeURIComponent(f)+"="+encodeURIComponent(a[f][o]);c="&"}}else{t+=c+encodeURIComponent(f)+"="+encodeURIComponent(a[f]);c="&"}}return s(t,e.appSpecificRoute)};return r});
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/utils/UrlShortening", ["sap/base/Log","sap/ushell/utils/UrlParsing"],function(t,e){"use strict";function a(){var a=this;this.ABBREV_PARAM_NAME="sap-intent-param";this.URL_LENGTH_LIMIT=1023;this.URL_PARAMS_LENGTH_LIMIT=512;this._replaceSapXAppStateRawWithKeyIfRequired=function(e,a){var r,s;if(typeof e!=="string"||/^[A-Z0-9]{40,41}$/.test(e)){return e}try{r=JSON.parse(e)}catch(a){t.error("This cannot happen: sap-xapp-state parameter value is neither key nor JSON parseable");return e}s=a&&a.getNextKey();this._storeValue(s,r,a);return s};this.compactHash=function(r,s,i){var n,p,h,c,o,u=[this.ABBREV_PARAM_NAME,"sap-system","sap-xapp-state"];if(s){s.forEach(function(t){u.push(t)})}n=e.parseShellHash(r);if(!n){t.error("the URL "+r+" is not compliant. It may break the product and cause unwanted navigation behavior.");return{hash:r}}c="";if(r.charAt(0)==="#"){c="#"}var f=n&&n.params&&n.params["sap-xapp-state"]&&n.params["sap-xapp-state"][0];if(f){n.params["sap-xapp-state"]=[this._replaceSapXAppStateRawWithKeyIfRequired(f,i)];r=c+e.constructShellHash({target:{semanticObject:n.semanticObject,action:n.action,contextRaw:n.contextRaw},params:n.params,appSpecificRoute:n.appSpecificRoute})}if(typeof r!=="string"||r.length<a.URL_LENGTH_LIMIT){return{hash:r}}if(n&&(n.params&&n.params[a.ABBREV_PARAM_NAME])){return{hash:r}}p=i&&i.getNextKey();h=this._splitParameters(n.params,u,p);if(!h.key){return{hash:r}}o=e.paramsToString(h.tailParams);this._storeValue(h.key,o,i);return{hash:c+e.constructShellHash({target:{semanticObject:n.semanticObject,action:n.action,contextRaw:n.contextRaw},params:h.headParams,appSpecificRoute:n.appSpecificRoute}),params:h.headParams,skippedParams:h.tailParams}};this.checkHashLength=function(r){var s,i,n;if(typeof r!=="string"||r.length<a.URL_LENGTH_LIMIT){return{hash:r}}s=e.parseShellHash(r);n="";if(r.charAt(0)==="#"){n="#"}i=this._splitParameters(s.params,[],"DummyKey");if(i.key){t.error("Application startup parameter length exceeds "+a.URL_PARAMS_LENGTH_LIMIT+" characters, truncation occured!");delete i.headParams[this.ABBREV_PARAM_NAME];return{hash:n+e.constructShellHash({target:{semanticObject:s.semanticObject,action:s.action,contextRaw:s.contextRaw},params:i.headParams,appSpecificRoute:s.appSpecificRoute}),params:i.headParams,skippedParams:i.tailParams}}t.error("URL exceeds dangerous limits, arbitrary shortening or worse may occur!");return{hash:r}};this._findIndex=function(t,e){var a=t.indexOf(e);if(a>=0){return a}a=-1;t.every(function(t,r){if(t.length>0&&t[t.length-1]==="*"&&t.substring(0,t.length-1)===e.substring(0,t.length-1)){a=r;return false}return true});return a};this._cmpByList=function(t,e,a){var r,s;t=t||[];if(e===a){return 0}r=this._findIndex(t,e);s=this._findIndex(t,a);if(r>=0&&s>=0){if(r-s!==0){return r-s}if(e<a){return-1}if(e>a){return+1}return 0}if(r>=0){return-1}if(s>=0){return+1}if(e<a){return-1}return+1};this._sortByPriority=function(t,e){return t.sort(this._cmpByList.bind(this,e))};this._splitParameters=function(e,a,r){var s,i,n,p={},h={},c=false,o,u,f=0,l,m=[];if(!r||typeof r!=="string"){throw new Error("sap.ushell.services.URLShortening._splitParameters: key must be supplied!")}for(s in e){if(Object.prototype.hasOwnProperty.call(e,s)){m.push(s)}}m.sort();m=this._sortByPriority(m,a);for(n=0;n<m.length;n=n+1){s=m[n];o=e[s];if(o.length>1){t.error("Array startup parameters violate the designed intent of the Unified Shell Intent, use only single-valued parameters!")}for(i=0;i<o.length;i=i+1){u=e[s][i];l=s.length+u.length;if(l+f>this.URL_PARAMS_LENGTH_LIMIT){if(h[s]){h[s].push(u)}else{h[s]=[u]}c=true}else if(p[s]){p[s].push(u)}else{p[s]=[u]}f=f+l+1}}if(c){p[this.ABBREV_PARAM_NAME]=[r]}return{key:r,tailParams:h,headParams:p}};this.expandHash=function(t){var e=function(t){return a._retrieveValue(t)};return this.expandParamGivenRetrievalFunction(t,this.ABBREV_PARAM_NAME,e)};this.expandParamGivenRetrievalFunction=function(t,a,r){var s,i,n,p,h;if(typeof t!=="string"){return t}s=e.parseShellHash(t);n=s&&s.params&&s.params[a]&&s.params[a][0];if(!n){return t}p="";if(t.charAt(0)==="#"){p="#"}i=r(n);if(!i){return t}h=this._blendParameters(s.params,a,i);return p+e.constructShellHash({target:{semanticObject:s.semanticObject,action:s.action,contextRaw:s.contextRaw},params:h,appSpecificRoute:s.appSpecificRoute})};this._retrieveValue=function(){return undefined};this._storeValue=function(t,e,a){if(a&&typeof a.store==="function"){a.store(e)}};this._blendParameters=function(t,a,r){var s=e.parseParameters("?"+r),i;delete t[a];for(i in s){if(Object.prototype.hasOwnProperty.call(s,i)){if(t[i]){t[i]=t[i].concat(s[i])}else{t[i]=s[i]}}}return t}}var r=new a;return r},true);
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/utils/WindowUtils", ["sap/base/Log","sap/ui/util/isCrossOriginURL","sap/ushell/utils","sap/base/util/UriParameters"],function(r,e,n,t){"use strict";var i={};i.hasInvalidProtocol=function(r){var e=document.createElement("a");e.setAttribute("href",r);if(e.protocol==="javascript:"){return true}return false};i.isCrossOriginUrl=function(r){return e(r)};i.openURL=function(e,n,t,i){var o=i===undefined?true:i,a=this.isCrossOriginUrl(e);t=t||"";if(o&&this.hasInvalidProtocol(e)){r.fatal("Tried to open a URL with an invalid protocol",null,"sap/ushell/utils/WindowUtils");throw new Error("Tried to open a URL with an invalid protocol")}if(a){if(t.toLowerCase().indexOf("noopener")===-1){if(t!==""){t+=","}t+="noopener"}if(t.toLowerCase().indexOf("noreferrer")===-1){t+=",noreferrer"}window.open(e,n,t);return true}return window.open(e,n,t)};i.getLeanURL=function(e,n){var t=e||n;if(this.hasInvalidProtocol(t)){r.fatal("Tried to construct a lean URL for input containing an invalid protocol",null,"sap/ushell/utils/WindowUtils");return""}if((t||"").charAt(0)!=="#"){return t}var i=window.location.search;if(!i){i="?appState=lean"}else if(i.indexOf("appState=")>=-1){i+="&appState=lean"}return window.location.origin+window.location.pathname+i+t};i._getAdjustedQueryString=function(r){if(r&&r.length>0){var e=t.fromQuery(window.location.search);var i=Array.from(e.keys()).reduce(function(r,n){r[n]=e.getAll(n);return r},{});r.forEach(function(r){var e=Object.keys(r)[0];if(e){i[e]=r[e]}});return n.urlParametersToString(i)}return null};i.refreshBrowser=function(r){var e=n.getLocationHref(),t=i._getAdjustedQueryString(r);if(t){e=e.replace(location.search,"?"+t)}if(n.getLocationHref()===e){window.location.reload(true)}else{window.location=e}};return i});
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/utils/clone", ["sap/ushell/utils/type"],function(e){"use strict";function r(r){function n(r){return e.isPlainObject(r)?{}:[]}function t(r){if(r instanceof Promise){return false}return e.isPlainObject(r)||e.isArray(r)}function a(r){if(e.isPlainObject(r)){return Object.keys(r).map(function(e){return{key:e,value:r[e]}})}var n=r.length;var t=[];for(var a=0;a<n;a++){t.push({value:r[a]})}return t}function u(r,n){var t=e.isPlainObject(n)?function(e,r){r[e.key]=e.value}:function(e,r){r.push(e.value)};t(r,n)}function i(e,r,n){r.push(e.length);Array.prototype.push.apply(n,e)}if(!t(r)){return r}var s=n(r);var f=[s];var l=[];var v=[];var c=new WeakMap;c.set(r,s);i(a(r),v,l);while(f.length>0){var o=f.shift();var p=v.shift();l.splice(0,p).forEach(function(e){var r=e.value;if(!t(r)){u(e,o);return}var s=r;var p=c.get(s);if(p){u({key:e.key,value:p},o);return}var h=n(s);c.set(s,h);u({key:e.key,value:h},o);f.push(h);i(a(s),v,l)})}return s}return r},false);
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/utils/objectOperations", [],function(){"use strict";var r={};r.getMember=function(r,e){var n=e.split("."),t=r;if(!r){return undefined}n.forEach(function(r){if(typeof t!=="object"){return undefined}t=t[r.replace(/[|]/g,".")]});return t};r.updateProperties=function(r,e){Object.keys(r).forEach(function(n){if(e.hasOwnProperty(n)){r[n]=e[n]}})};r.getNestedObjectProperty=function(r,e,n){var t="Missing or invalid parameter";if(!r||!Array.isArray(r)||r.length==0||!e){throw new Error(t)}if(Array.isArray(e)&&e.length!=r.length){throw new Error(t)}var i=e;if(!Array.isArray(e)){i=Array.apply(null,Array(r.length)).map(function(){return e})}var u=r.reduce(function(r,e,n){if(r!==undefined){return r}return this.getMember(e,i[n])}.bind(this),undefined);return u!=undefined?u:n};return r},false);
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.predefine("sap/ushell/utils/type", [],function(){"use strict";function t(t){return Object.prototype.toString.apply(t)==="[object Array]"}function e(t){return Object.prototype.toString.apply(t)==="[object Object]"}function n(t){return typeof t!=="undefined"}return{isArray:t,isPlainObject:e,isDefined:n}},false);
sap.ui.require.preload({
	"sap/ui/thirdparty/URITemplate.js":function(){
/*!
 * URI.js - Mutating URLs
 * URI Template Support - http://tools.ietf.org/html/rfc6570
 *
 * Version: 1.19.11
 *
 * Author: Rodney Rehm
 * Web: http://medialize.github.io/URI.js/
 *
 * Licensed under
 *   MIT License http://www.opensource.org/licenses/mit-license
 *
 */
(function(e,r){"use strict";if(typeof module==="object"&&module.exports){module.exports=r(require("./URI"))}else if(typeof define==="function"&&define.amd){define(["./URI"],r)}else{e.URITemplate=r(e.URI,e)}})(this,function(e,r){"use strict";var t=r&&r.URITemplate;var a=Object.prototype.hasOwnProperty;function n(e){if(n._cache[e]){return n._cache[e]}if(!(this instanceof n)){return new n(e)}this.expression=e;n._cache[e]=this;return this}function i(e){this.data=e;this.cache={}}var s=n.prototype;var o={"":{prefix:"",separator:",",named:false,empty_name_separator:false,encode:"encode"},"+":{prefix:"",separator:",",named:false,empty_name_separator:false,encode:"encodeReserved"},"#":{prefix:"#",separator:",",named:false,empty_name_separator:false,encode:"encodeReserved"},".":{prefix:".",separator:".",named:false,empty_name_separator:false,encode:"encode"},"/":{prefix:"/",separator:"/",named:false,empty_name_separator:false,encode:"encode"},";":{prefix:";",separator:";",named:true,empty_name_separator:false,encode:"encode"},"?":{prefix:"?",separator:"&",named:true,empty_name_separator:true,encode:"encode"},"&":{prefix:"&",separator:"&",named:true,empty_name_separator:true,encode:"encode"}};n._cache={};n.EXPRESSION_PATTERN=/\{([^a-zA-Z0-9%_]?)([^\}]+)(\}|$)/g;n.VARIABLE_PATTERN=/^([^*:.](?:\.?[^*:.])*)((\*)|:(\d+))?$/;n.VARIABLE_NAME_PATTERN=/[^a-zA-Z0-9%_.]/;n.LITERAL_PATTERN=/[<>{}"`^| \\]/;n.expand=function(e,r,t){var a=o[e.operator];var i=a.named?"Named":"Unnamed";var s=e.variables;var p=[];var l,f,d;for(d=0;f=s[d];d++){l=r.get(f.name);if(l.type===0&&t&&t.strict){throw new Error('Missing expansion value for variable "'+f.name+'"')}if(!l.val.length){if(l.type){p.push("")}continue}if(l.type>1&&f.maxlength){throw new Error('Invalid expression: Prefix modifier not applicable to variable "'+f.name+'"')}p.push(n["expand"+i](l,a,f.explode,f.explode&&a.separator||",",f.maxlength,f.name))}if(p.length){return a.prefix+p.join(a.separator)}else{return""}};n.expandNamed=function(r,t,a,n,i,s){var o="";var p=t.encode;var l=t.empty_name_separator;var f=!r[p].length;var d=r.type===2?"":e[p](s);var c,u,h;for(u=0,h=r.val.length;u<h;u++){if(i){c=e[p](r.val[u][1].substring(0,i));if(r.type===2){d=e[p](r.val[u][0].substring(0,i))}}else if(f){c=e[p](r.val[u][1]);if(r.type===2){d=e[p](r.val[u][0]);r[p].push([d,c])}else{r[p].push([undefined,c])}}else{c=r[p][u][1];if(r.type===2){d=r[p][u][0]}}if(o){o+=n}if(!a){if(!u){o+=e[p](s)+(l||c?"=":"")}if(r.type===2){o+=d+","}o+=c}else{o+=d+(l||c?"=":"")+c}}return o};n.expandUnnamed=function(r,t,a,n,i){var s="";var o=t.encode;var p=t.empty_name_separator;var l=!r[o].length;var f,d,c,u;for(c=0,u=r.val.length;c<u;c++){if(i){d=e[o](r.val[c][1].substring(0,i))}else if(l){d=e[o](r.val[c][1]);r[o].push([r.type===2?e[o](r.val[c][0]):undefined,d])}else{d=r[o][c][1]}if(s){s+=n}if(r.type===2){if(i){f=e[o](r.val[c][0].substring(0,i))}else{f=r[o][c][0]}s+=f;if(a){s+=p||d?"=":""}else{s+=","}}s+=d}return s};n.noConflict=function(){if(r.URITemplate===n){r.URITemplate=t}return n};s.expand=function(e,r){var t="";if(!this.parts||!this.parts.length){this.parse()}if(!(e instanceof i)){e=new i(e)}for(var a=0,s=this.parts.length;a<s;a++){t+=typeof this.parts[a]==="string"?this.parts[a]:n.expand(this.parts[a],e,r)}return t};s.parse=function(){var e=this.expression;var r=n.EXPRESSION_PATTERN;var t=n.VARIABLE_PATTERN;var a=n.VARIABLE_NAME_PATTERN;var i=n.LITERAL_PATTERN;var s=[];var p=0;var l,f,d;var c=function(e){if(e.match(i)){throw new Error('Invalid Literal "'+e+'"')}return e};r.lastIndex=0;while(true){f=r.exec(e);if(f===null){s.push(c(e.substring(p)));break}else{s.push(c(e.substring(p,f.index)));p=f.index+f[0].length}if(!o[f[1]]){throw new Error('Unknown Operator "'+f[1]+'" in "'+f[0]+'"')}else if(!f[3]){throw new Error('Unclosed Expression "'+f[0]+'"')}l=f[2].split(",");for(var u=0,h=l.length;u<h;u++){d=l[u].match(t);if(d===null){throw new Error('Invalid Variable "'+l[u]+'" in "'+f[0]+'"')}else if(d[1].match(a)){throw new Error('Invalid Variable Name "'+d[1]+'" in "'+f[0]+'"')}l[u]={name:d[1],explode:!!d[3],maxlength:d[4]&&parseInt(d[4],10)}}if(!l.length){throw new Error('Expression Missing Variable(s) "'+f[0]+'"')}s.push({expression:f[0],operator:f[1],variables:l})}if(!s.length){s.push(c(e))}this.parts=s;return this};i.prototype.get=function(e){var r=this.data;var t={type:0,val:[],encode:[],encodeReserved:[]};var n,i,s;if(this.cache[e]!==undefined){return this.cache[e]}this.cache[e]=t;if(String(Object.prototype.toString.call(r))==="[object Function]"){s=r(e)}else if(String(Object.prototype.toString.call(r[e]))==="[object Function]"){s=r[e](e)}else{s=r[e]}if(s===undefined||s===null){return t}else if(String(Object.prototype.toString.call(s))==="[object Array]"){for(n=0,i=s.length;n<i;n++){if(s[n]!==undefined&&s[n]!==null){t.val.push([undefined,String(s[n])])}}if(t.val.length){t.type=3}}else if(String(Object.prototype.toString.call(s))==="[object Object]"){for(n in s){if(a.call(s,n)&&s[n]!==undefined&&s[n]!==null){t.val.push([n,String(s[n])])}}if(t.val.length){t.type=2}}else{t.type=1;t.val.push([undefined,String(s)])}return t};e.expand=function(r,t){var a=new n(r);var i=a.expand(t);return new e(i)};return n});
},
	"sap/ui/thirdparty/caja-html-sanitizer.js":function(){
(function(){
/* Copyright Google Inc.
 * Licensed under the Apache Licence Version 2.0
 * Autogenerated at Tue May 22 10:18:21 PDT 2012
 * \@overrides window
 * \@provides cssSchema, CSS_PROP_BIT_QUANTITY, CSS_PROP_BIT_HASH_VALUE, CSS_PROP_BIT_NEGATIVE_QUANTITY, CSS_PROP_BIT_QSTRING_CONTENT, CSS_PROP_BIT_QSTRING_URL, CSS_PROP_BIT_HISTORY_INSENSITIVE, CSS_PROP_BIT_Z_INDEX, CSS_PROP_BIT_ALLOWED_IN_LINK */
var e=1;var r=2;var t=4;var s=8;var o=16;var i=32;var a=64;var n=128;var c=function(){var e=["rgb(?:\\(\\s*(?:\\d+|0|\\d+(?:\\.\\d+)?%)\\s*,\\s*(?:\\d+|0|\\d+(?:\\.\\d+)?%)\\s*,\\s*(?:\\d+|0|\\d+(?:\\.\\d+)?%)|a\\(\\s*(?:\\d+|0|\\d+(?:\\.\\d+)?%)\\s*,\\s*(?:\\d+|0|\\d+(?:\\.\\d+)?%)\\s*,\\s*(?:\\d+|0|\\d+(?:\\.\\d+)?%)\\s*,\\s*(?:\\d+|0(?:\\.\\d+)?|\\.\\d+|1(?:\\.0+)?|0|\\d+(?:\\.\\d+)?%)) *\\)"],r=[/^ *$/i,RegExp("^ *(?:\\s*"+e[0]+"|(?:\\s*"+e[0]+")?)+ *$","i"),RegExp("^ *\\s*"+e[0]+" *$","i"),RegExp("^ *\\s*"+e[0]+"\\s*"+e[0]+" *$","i")],t=[["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"],["all-scroll","col-resize","crosshair","default","e-resize","hand","help","move","n-resize","ne-resize","no-drop","not-allowed","nw-resize","pointer","progress","row-resize","s-resize","se-resize","sw-resize","text","vertical-text","w-resize","wait"],["-moz-inline-box","-moz-inline-stack","block","inline","inline-block","inline-table","list-item","run-in","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group"],["armenian","circle","decimal","decimal-leading-zero","disc","georgian","lower-alpha","lower-greek","lower-latin","lower-roman","square","upper-alpha","upper-latin","upper-roman"],["100","200","300","400","500","600","700","800","900","bold","bolder","lighter"],["condensed","expanded","extra-condensed","extra-expanded","narrower","semi-condensed","semi-expanded","ultra-condensed","ultra-expanded","wider"],["behind","center-left","center-right","far-left","far-right","left-side","leftwards","right-side","rightwards"],["large","larger","small","smaller","x-large","x-small","xx-large","xx-small"],["-moz-pre-wrap","-o-pre-wrap","-pre-wrap","nowrap","pre","pre-line","pre-wrap"],["dashed","dotted","double","groove","outset","ridge","solid"],["baseline","middle","sub","super","text-bottom","text-top"],["caption","icon","menu","message-box","small-caption","status-bar"],["fast","faster","slow","slower","x-fast","x-slow"],["above","below","higher","level","lower"],["border-box","contain","content-box","cover","padding-box"],["cursive","fantasy","monospace","sans-serif","serif"],["loud","silent","soft","x-loud","x-soft"],["no-repeat","repeat-x","repeat-y","round","space"],["blink","line-through","overline","underline"],["high","low","x-high","x-low"],["absolute","relative","static"],["capitalize","lowercase","uppercase"],["child","female","male"],["bidi-override","embed"],["bottom","top"],["clip","ellipsis"],["continuous","digits"],["hide","show"],["inside","outside"],["italic","oblique"],["left","right"],["ltr","rtl"],["no-content","no-display"],["suppress","unrestricted"],["thick","thin"],[","],["/"],["always"],["auto"],["avoid"],["both"],["break-word"],["center"],["code"],["collapse"],["fixed"],["hidden"],["inherit"],["inset"],["invert"],["justify"],["local"],["medium"],["mix"],["none"],["normal"],["once"],["repeat"],["scroll"],["separate"],["small-caps"],["spell-out"],["transparent"],["visible"]];return{"-moz-border-radius":{cssExtra:r[0],cssPropBits:5,cssLitGroup:[t[36]]},"-moz-border-radius-bottomleft":{cssExtra:r[0],cssPropBits:5},"-moz-border-radius-bottomright":{cssExtra:r[0],cssPropBits:5},"-moz-border-radius-topleft":{cssExtra:r[0],cssPropBits:5},"-moz-border-radius-topright":{cssExtra:r[0],cssPropBits:5},"-moz-box-shadow":{cssExtra:r[1],cssAlternates:["boxShadow"],cssPropBits:7,cssLitGroup:[t[0],t[35],t[48],t[54]]},"-moz-opacity":{cssPropBits:1,cssLitGroup:[t[47]]},"-moz-outline":{cssExtra:r[3],cssPropBits:7,cssLitGroup:[t[0],t[9],t[34],t[46],t[47],t[48],t[49],t[52],t[54]]},"-moz-outline-color":{cssExtra:r[2],cssPropBits:2,cssLitGroup:[t[0],t[47],t[49]]},"-moz-outline-style":{cssPropBits:0,cssLitGroup:[t[9],t[46],t[47],t[48],t[54]]},"-moz-outline-width":{cssPropBits:5,cssLitGroup:[t[34],t[47],t[52]]},"-o-text-overflow":{cssPropBits:0,cssLitGroup:[t[25]]},"-webkit-border-bottom-left-radius":{cssExtra:r[0],cssPropBits:5},"-webkit-border-bottom-right-radius":{cssExtra:r[0],cssPropBits:5},"-webkit-border-radius":{cssExtra:r[0],cssPropBits:5,cssLitGroup:[t[36]]},"-webkit-border-radius-bottom-left":{cssExtra:r[0],cssPropBits:5},"-webkit-border-radius-bottom-right":{cssExtra:r[0],cssPropBits:5},"-webkit-border-radius-top-left":{cssExtra:r[0],cssPropBits:5},"-webkit-border-radius-top-right":{cssExtra:r[0],cssPropBits:5},"-webkit-border-top-left-radius":{cssExtra:r[0],cssPropBits:5},"-webkit-border-top-right-radius":{cssExtra:r[0],cssPropBits:5},"-webkit-box-shadow":{cssExtra:r[1],cssAlternates:["boxShadow"],cssPropBits:7,cssLitGroup:[t[0],t[35],t[48],t[54]]},azimuth:{cssPropBits:5,cssLitGroup:[t[6],t[30],t[42],t[47]]},background:{cssExtra:RegExp("^ *(?:\\s*"+e[0]+"){0,2} *$","i"),cssPropBits:23,cssLitGroup:[t[0],t[14],t[17],t[24],t[30],t[35],t[36],t[38],t[42],t[45],t[47],t[51],t[54],t[57],t[58],t[62]]},"background-attachment":{cssExtra:r[0],cssPropBits:0,cssLitGroup:[t[35],t[45],t[51],t[58]]},"background-color":{cssExtra:r[2],cssPropBits:130,cssLitGroup:[t[0],t[47],t[62]]},"background-image":{cssExtra:r[0],cssPropBits:16,cssLitGroup:[t[35],t[54]]},"background-position":{cssExtra:r[0],cssPropBits:5,cssLitGroup:[t[24],t[30],t[35],t[42]]},"background-repeat":{cssExtra:r[0],cssPropBits:0,cssLitGroup:[t[17],t[35],t[57]]},border:{cssExtra:r[3],cssPropBits:7,cssLitGroup:[t[0],t[9],t[34],t[46],t[47],t[48],t[52],t[54],t[62]]},"border-bottom":{cssExtra:r[3],cssPropBits:7,cssLitGroup:[t[0],t[9],t[34],t[46],t[47],t[48],t[52],t[54],t[62]]},"border-bottom-color":{cssExtra:r[2],cssPropBits:2,cssLitGroup:[t[0],t[47],t[62]]},"border-bottom-left-radius":{cssExtra:r[0],cssPropBits:5},"border-bottom-right-radius":{cssExtra:r[0],cssPropBits:5},"border-bottom-style":{cssPropBits:0,cssLitGroup:[t[9],t[46],t[47],t[48],t[54]]},"border-bottom-width":{cssPropBits:5,cssLitGroup:[t[34],t[47],t[52]]},"border-collapse":{cssPropBits:0,cssLitGroup:[t[44],t[47],t[59]]},"border-color":{cssExtra:RegExp("^ *(?:\\s*"+e[0]+"){1,4} *$","i"),cssPropBits:2,cssLitGroup:[t[0],t[47],t[62]]},"border-left":{cssExtra:r[3],cssPropBits:7,cssLitGroup:[t[0],t[9],t[34],t[46],t[47],t[48],t[52],t[54],t[62]]},"border-left-color":{cssExtra:r[2],cssPropBits:2,cssLitGroup:[t[0],t[47],t[62]]},"border-left-style":{cssPropBits:0,cssLitGroup:[t[9],t[46],t[47],t[48],t[54]]},"border-left-width":{cssPropBits:5,cssLitGroup:[t[34],t[47],t[52]]},"border-radius":{cssExtra:r[0],cssPropBits:5,cssLitGroup:[t[36]]},"border-right":{cssExtra:r[3],cssPropBits:7,cssLitGroup:[t[0],t[9],t[34],t[46],t[47],t[48],t[52],t[54],t[62]]},"border-right-color":{cssExtra:r[2],cssPropBits:2,cssLitGroup:[t[0],t[47],t[62]]},"border-right-style":{cssPropBits:0,cssLitGroup:[t[9],t[46],t[47],t[48],t[54]]},"border-right-width":{cssPropBits:5,cssLitGroup:[t[34],t[47],t[52]]},"border-spacing":{cssExtra:r[0],cssPropBits:5,cssLitGroup:[t[47]]},"border-style":{cssPropBits:0,cssLitGroup:[t[9],t[46],t[47],t[48],t[54]]},"border-top":{cssExtra:r[3],cssPropBits:7,cssLitGroup:[t[0],t[9],t[34],t[46],t[47],t[48],t[52],t[54],t[62]]},"border-top-color":{cssExtra:r[2],cssPropBits:2,cssLitGroup:[t[0],t[47],t[62]]},"border-top-left-radius":{cssExtra:r[0],cssPropBits:5},"border-top-right-radius":{cssExtra:r[0],cssPropBits:5},"border-top-style":{cssPropBits:0,cssLitGroup:[t[9],t[46],t[47],t[48],t[54]]},"border-top-width":{cssPropBits:5,cssLitGroup:[t[34],t[47],t[52]]},"border-width":{cssPropBits:5,cssLitGroup:[t[34],t[47],t[52]]},bottom:{cssPropBits:5,cssLitGroup:[t[38],t[47]]},"box-shadow":{cssExtra:r[1],cssPropBits:7,cssLitGroup:[t[0],t[35],t[48],t[54]]},"caption-side":{cssPropBits:0,cssLitGroup:[t[24],t[47]]},clear:{cssPropBits:0,cssLitGroup:[t[30],t[40],t[47],t[54]]},clip:{cssExtra:/^ *\s*rect\(\s*(?:0|[+\-]?\d+(?:\.\d+)?(?:[cem]m|ex|in|p[ctx])|auto)\s*,\s*(?:0|[+\-]?\d+(?:\.\d+)?(?:[cem]m|ex|in|p[ctx])|auto)\s*,\s*(?:0|[+\-]?\d+(?:\.\d+)?(?:[cem]m|ex|in|p[ctx])|auto)\s*,\s*(?:0|[+\-]?\d+(?:\.\d+)?(?:[cem]m|ex|in|p[ctx])|auto) *\) *$/i,cssPropBits:0,cssLitGroup:[t[38],t[47]]},color:{cssExtra:r[2],cssPropBits:130,cssLitGroup:[t[0],t[47]]},content:{cssPropBits:0},"counter-increment":{cssExtra:r[0],cssPropBits:5,cssLitGroup:[t[47],t[54]]},"counter-reset":{cssExtra:r[0],cssPropBits:5,cssLitGroup:[t[47],t[54]]},cue:{cssPropBits:16,cssLitGroup:[t[47],t[54]]},"cue-after":{cssPropBits:16,cssLitGroup:[t[47],t[54]]},"cue-before":{cssPropBits:16,cssLitGroup:[t[47],t[54]]},cursor:{cssExtra:r[0],cssPropBits:144,cssLitGroup:[t[1],t[35],t[38],t[47]]},direction:{cssPropBits:0,cssLitGroup:[t[31],t[47]]},display:{cssPropBits:32,cssLitGroup:[t[2],t[47],t[54]]},elevation:{cssPropBits:5,cssLitGroup:[t[13],t[47]]},"empty-cells":{cssPropBits:0,cssLitGroup:[t[27],t[47]]},filter:{cssExtra:/^ *(?:\s*alpha\(\s*opacity\s*=\s*(?:0|\d+(?:\.\d+)?%|[+\-]?\d+(?:\.\d+)?) *\))+ *$/i,cssPropBits:32},float:{cssAlternates:["cssFloat","styleFloat"],cssPropBits:32,cssLitGroup:[t[30],t[47],t[54]]},font:{cssExtra:r[0],cssPropBits:9,cssLitGroup:[t[4],t[7],t[11],t[15],t[29],t[35],t[36],t[47],t[52],t[55],t[60]]},"font-family":{cssExtra:r[0],cssPropBits:8,cssLitGroup:[t[15],t[35],t[47]]},"font-size":{cssPropBits:1,cssLitGroup:[t[7],t[47],t[52]]},"font-stretch":{cssPropBits:0,cssLitGroup:[t[5],t[55]]},"font-style":{cssPropBits:0,cssLitGroup:[t[29],t[47],t[55]]},"font-variant":{cssPropBits:0,cssLitGroup:[t[47],t[55],t[60]]},"font-weight":{cssPropBits:0,cssLitGroup:[t[4],t[47],t[55]]},height:{cssPropBits:37,cssLitGroup:[t[38],t[47]]},left:{cssPropBits:37,cssLitGroup:[t[38],t[47]]},"letter-spacing":{cssPropBits:5,cssLitGroup:[t[47],t[55]]},"line-height":{cssPropBits:1,cssLitGroup:[t[47],t[55]]},"list-style":{cssPropBits:16,cssLitGroup:[t[3],t[28],t[47],t[54]]},"list-style-image":{cssPropBits:16,cssLitGroup:[t[47],t[54]]},"list-style-position":{cssPropBits:0,cssLitGroup:[t[28],t[47]]},"list-style-type":{cssPropBits:0,cssLitGroup:[t[3],t[47],t[54]]},margin:{cssPropBits:5,cssLitGroup:[t[38],t[47]]},"margin-bottom":{cssPropBits:5,cssLitGroup:[t[38],t[47]]},"margin-left":{cssPropBits:5,cssLitGroup:[t[38],t[47]]},"margin-right":{cssPropBits:5,cssLitGroup:[t[38],t[47]]},"margin-top":{cssPropBits:5,cssLitGroup:[t[38],t[47]]},"max-height":{cssPropBits:1,cssLitGroup:[t[38],t[47],t[54]]},"max-width":{cssPropBits:1,cssLitGroup:[t[38],t[47],t[54]]},"min-height":{cssPropBits:1,cssLitGroup:[t[38],t[47]]},"min-width":{cssPropBits:1,cssLitGroup:[t[38],t[47]]},opacity:{cssPropBits:33,cssLitGroup:[t[47]]},outline:{cssExtra:r[3],cssPropBits:7,cssLitGroup:[t[0],t[9],t[34],t[46],t[47],t[48],t[49],t[52],t[54]]},"outline-color":{cssExtra:r[2],cssPropBits:2,cssLitGroup:[t[0],t[47],t[49]]},"outline-style":{cssPropBits:0,cssLitGroup:[t[9],t[46],t[47],t[48],t[54]]},"outline-width":{cssPropBits:5,cssLitGroup:[t[34],t[47],t[52]]},overflow:{cssPropBits:32,cssLitGroup:[t[38],t[46],t[47],t[58],t[63]]},"overflow-x":{cssPropBits:0,cssLitGroup:[t[32],t[38],t[46],t[58],t[63]]},"overflow-y":{cssPropBits:0,cssLitGroup:[t[32],t[38],t[46],t[58],t[63]]},padding:{cssPropBits:1,cssLitGroup:[t[47]]},"padding-bottom":{cssPropBits:33,cssLitGroup:[t[47]]},"padding-left":{cssPropBits:33,cssLitGroup:[t[47]]},"padding-right":{cssPropBits:33,cssLitGroup:[t[47]]},"padding-top":{cssPropBits:33,cssLitGroup:[t[47]]},"page-break-after":{cssPropBits:0,cssLitGroup:[t[30],t[37],t[38],t[39],t[47]]},"page-break-before":{cssPropBits:0,cssLitGroup:[t[30],t[37],t[38],t[39],t[47]]},"page-break-inside":{cssPropBits:0,cssLitGroup:[t[38],t[39],t[47]]},pause:{cssPropBits:5,cssLitGroup:[t[47]]},"pause-after":{cssPropBits:5,cssLitGroup:[t[47]]},"pause-before":{cssPropBits:5,cssLitGroup:[t[47]]},pitch:{cssPropBits:5,cssLitGroup:[t[19],t[47],t[52]]},"pitch-range":{cssPropBits:5,cssLitGroup:[t[47]]},"play-during":{cssExtra:r[0],cssPropBits:16,cssLitGroup:[t[38],t[47],t[53],t[54],t[57]]},position:{cssPropBits:32,cssLitGroup:[t[20],t[47]]},quotes:{cssExtra:r[0],cssPropBits:0,cssLitGroup:[t[47],t[54]]},richness:{cssPropBits:5,cssLitGroup:[t[47]]},right:{cssPropBits:37,cssLitGroup:[t[38],t[47]]},speak:{cssPropBits:0,cssLitGroup:[t[47],t[54],t[55],t[61]]},"speak-header":{cssPropBits:0,cssLitGroup:[t[37],t[47],t[56]]},"speak-numeral":{cssPropBits:0,cssLitGroup:[t[26],t[47]]},"speak-punctuation":{cssPropBits:0,cssLitGroup:[t[43],t[47],t[54]]},"speech-rate":{cssPropBits:5,cssLitGroup:[t[12],t[47],t[52]]},stress:{cssPropBits:5,cssLitGroup:[t[47]]},"table-layout":{cssPropBits:0,cssLitGroup:[t[38],t[45],t[47]]},"text-align":{cssPropBits:0,cssLitGroup:[t[30],t[42],t[47],t[50]]},"text-decoration":{cssPropBits:0,cssLitGroup:[t[18],t[47],t[54]]},"text-indent":{cssPropBits:5,cssLitGroup:[t[47]]},"text-overflow":{cssPropBits:0,cssLitGroup:[t[25]]},"text-shadow":{cssExtra:r[1],cssPropBits:7,cssLitGroup:[t[0],t[35],t[48],t[54]]},"text-transform":{cssPropBits:0,cssLitGroup:[t[21],t[47],t[54]]},"text-wrap":{cssPropBits:0,cssLitGroup:[t[33],t[54],t[55]]},top:{cssPropBits:37,cssLitGroup:[t[38],t[47]]},"unicode-bidi":{cssPropBits:0,cssLitGroup:[t[23],t[47],t[55]]},"vertical-align":{cssPropBits:5,cssLitGroup:[t[10],t[24],t[47]]},visibility:{cssPropBits:32,cssLitGroup:[t[44],t[46],t[47],t[63]]},"voice-family":{cssExtra:r[0],cssPropBits:8,cssLitGroup:[t[22],t[35],t[47]]},volume:{cssPropBits:1,cssLitGroup:[t[16],t[47],t[52]]},"white-space":{cssPropBits:0,cssLitGroup:[t[8],t[47],t[55]]},width:{cssPropBits:33,cssLitGroup:[t[38],t[47]]},"word-spacing":{cssPropBits:5,cssLitGroup:[t[47],t[55]]},"word-wrap":{cssPropBits:0,cssLitGroup:[t[41],t[55]]},"z-index":{cssPropBits:69,cssLitGroup:[t[38],t[47]]},zoom:{cssPropBits:1,cssLitGroup:[t[55]]}}}();if(typeof window!=="undefined"){window["cssSchema"]=c}
// Copyright (C) 2011 Google Inc.
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//      http://www.apache.org/licenses/LICENSE-2.0
// distributed under the License is distributed on an "AS IS" BASIS,
// See the License for the specific language governing permissions and
// limitations under the License.
var l;var u;(function(){function e(e){var r=parseInt(e.substring(1),16);if(r>65535){return r-=65536,String.fromCharCode(55296+(r>>10),56320+(r&1023))}else if(r==r){return String.fromCharCode(r)}else if(e[1]<" "){return""}else{return e[1]}}function r(e,r){return'"'+e.replace(/[\u0000-\u001f\\\"<>]/g,r)+'"'}function t(e){return o[e]||(o[e]="\\"+e.charCodeAt(0).toString(16)+" ")}function s(e){return i[e]||(i[e]=(e<""?"%0":"%")+e.charCodeAt(0).toString(16))}var o={"\\":"\\\\"};var i={"\\":"%5c"};var a="[\\t\\n\\f ]";var n=a+"*";var c="[\\n\\f]";var p="[\\ud800-\\udbff][\\udc00-\\udfff]";var d="[\\u0080-\\ud7ff\\ue000-\\ufffd]|"+p;var f="[0-9a-fA-F]{1,6}"+a+"?";var h="\\\\"+f;var m="(?:"+f+"|[\\u0020-\\u007e\\u0080-\\ud7ff\\ue000\\ufffd]|"+p+")";var g="\\\\"+m;var b="(?:[\\t\\x21\\x23-\\x26\\x28-\\x5b\\x5d-\\x7e]|"+d+"|"+g+")";var v="[^'\"\\n\\f\\\\]|\\\\[\\s\\S]";var w="\"(?:'|"+v+')*"'+"|'(?:\"|"+v+")*'";var L="[-+]?(?:[0-9]+(?:[.][0-9]+)?|[.][0-9]+)";var P="(?:[a-zA-Z_]|"+d+"|"+g+")";var x="(?:[a-zA-Z0-9_-]|"+d+"|"+g+")";var y=x+"+";var B="-?"+P+x+"*";var E="@"+B;var G="#"+y;var k=L;var A="(?:@?-?"+P+"|#)"+x+"*";var T=L+"%";var S=L+B;var C=L+"(?:%|"+B+")?";var z="url[(]"+n+"(?:"+w+"|"+b+"*)"+n+"[)]";var N="U[+][0-9A-F?]{1,6}(?:-[0-9A-F]{1,6})?";var R="\x3c!--";var M="--\x3e";var D=a+"+";var O="/(?:[*][^*]*[*]+(?:[^/][^*]*[*]+)*/|/[^\\n\\f]*)";var $="(?!url[(])(?=("+B+"))\\1[(]";var j="~=";var I="[|]=";var _="[^]=";var q="[$]=";var F="[*]=";var U="[~|^$*]=";var Y="[^\"'\\\\/]|/(?![/*])";var Z="\\uFEFF";var H=new RegExp([Z,N,z,$,A,w,C,R,M,D,O,U,Y].join("|"),"gi");u=function(r){return r.replace(new RegExp("\\\\(?:"+m+"|"+c+")","g"),e)};l=function(e){e=""+e;var o=e.replace(/\r\n?/g,"\n").match(H)||[];var i=0;var a=" ";for(var c=0,l=o.length;c<l;++c){var p=u(o[c]);var d=p.length;var f=p.charCodeAt(0);p=f=='"'.charCodeAt(0)||f=="'".charCodeAt(0)?r(p.substring(1,d-1),t):f=="/".charCodeAt(0)&&d>1||p=="\\"||p==M||p==R||p=="\ufeff"||f<=" ".charCodeAt(0)?" ":/url\(/i.test(p)?"url("+r(p.replace(new RegExp("^url\\("+n+"[\"']?|[\"']?"+n+"\\)$","gi"),""),s)+")":p;if(a!=p||p!=" "){o[i++]=a=p}}o.length=i;return o}})();if(typeof window!=="undefined"){window["lexCss"]=l;window["decodeCss"]=u}
// Copyright (C) 2011 Google Inc.
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//      http://www.apache.org/licenses/LICENSE-2.0
// distributed under the License is distributed on an "AS IS" BASIS,
// See the License for the specific language governing permissions and
// limitations under the License.
var p=function(){var i='url("about:blank")';var n=/[\n\f\r\"\'()*<>]/g;var c={"\n":"%0a","\f":"%0c","\r":"%0d",'"':"%22","'":"%27","(":"%28",")":"%29","*":"%2a","<":"%3c",">":"%3e"};function l(e){if("string"===typeof e){return'url("'+e.replace(n,p)+'")'}else{return i}}function p(e){return c[e]}var d=new RegExp("^"+"(?:"+"([^:/?# ]+)"+":)?");var f=/^(?:https?|mailto)$/i;function h(e,r,t){if(!t){return null}var s=(""+e).match(d);if(s&&(!s[1]||f.test(s[1]))){return t(e,r)}else{return null}}function m(e){var r={};for(var t=e.length;--t>=0;){var s=e[t];for(var o=s.length;--o>=0;){r[s[o]]=b}}return r}function g(e,r){var t=1,s=r+1,o=e.length;while(s<o&&t){var i=e[s++];t+=i==="("?1:i===")"?-1:0}return s}var b={};return function(n,c,p,d){var f=c.cssPropBits;var v=f&(s|o);var w=NaN;var L=0,P=0;for(;L<p.length;++L){var x=p[L].toLowerCase();var y=x.charCodeAt(0),B,E,G,k,A;var T,S;x=y===" ".charCodeAt(0)?"":y==='"'.charCodeAt(0)?v===o&&d?l(h(u(p[L].substring(1,x.length-1)),n,d)):v===s?x:"":y==="#".charCodeAt(0)&&/^#(?:[0-9a-f]{3}){1,2}$/.test(x)?f&r?x:"":"0".charCodeAt(0)<=y&&y<="9".charCodeAt(0)?f&e?f&a?x.match(/^\d{1,7}$/)?x:"":x:"":(B=x.charCodeAt(1),E=x.charCodeAt(2),G="0".charCodeAt(0)<=B&&B<="9".charCodeAt(0),k="0".charCodeAt(0)<=E&&E<="9".charCodeAt(0),y==="+".charCodeAt(0)&&(G||B===".".charCodeAt(0)&&k))?f&e?f&a?x.match(/^\+\d{1,7}$/)?x:"":(G?"":"0")+x.substring(1):"":y==="-".charCodeAt(0)&&(G||B===".".charCodeAt(0)&&k)?f&t?f&a?x.match(/^\-\d{1,7}$/)?x:"":(G?"-":"-0")+x.substring(1):f&e?"0":"":y===".".charCodeAt(0)&&G?f&e?"0"+x:"":"url("===x.substring(0,4)?d&&v&o?l(h(p[L].substring(5,x.length-2),n,d)):"":(x.charAt(x.length-1)==="("&&(A=g(p,L),p.splice(L,A-L,x=p.slice(L,A).join(" "))),T=c.cssLitGroup,S=T?c.cssLitMap||(c.cssLitMap=m(T)):b,S[x]===b||c.cssExtra&&c.cssExtra.test(x))?x:/^\w+$/.test(x)&&v===s?w+1===P?(p[w]=p[w].substring(0,p[w].length-1)+" "+x+'"',x=""):(w=P,'"'+x+'"'):"";if(x){p[P++]=x}}if(P===1&&p[0]===i){P=0}p.length=P}}();function d(e,r){var t=[];var s=[];var o=0,i;for(i=0;i<e.length;++i){if(!(e[i]==" "&&(e[i-1]==">"||e[i+1]==">"))){e[o++]=e[i]}}e.length=o;var a=e.length,n=0;for(i=0;i<a;++i){if(e[i]==","){c(n,i);n=i+1}}c(n,a);function c(o,i){var a=false;if(e[o]===" "){++o}if(i-1!==o&&e[i]===" "){--i}var n=[];var c=o;var l="";for(var u=o;u<i;++u){var p=e[u];var d=p===">";if(d||p===" "){l=f(c,u,false);if(!l||d&&/^html/i.test(l)){return}c=u+1;n.push(l,d?" > ":" ")}}l=f(c,i,true);if(!l){return}n.push(l);function f(t,s,o){var i=t,n=s;var c,l,u,p,d;c="";if(t<s){p=e[t].toLowerCase();if(p==="*"||p==="body"&&t+1!==s&&!o||"number"===typeof(d=g.ELEMENTS[p])&&!(d&g.eflags.UNSAFE)){++t;c=p}}l="";while(t<s){p=e[t];if(p.charAt(0)==="#"){if(/^#_|__$|[^#0-9A-Za-z:_\-]/.test(p)){return null}l+=p+"-"+r}else if(p==="."){if(++t<s&&/^[0-9A-Za-z:_\-]+$/.test(p=e[t])&&!/^_|__$/.test(p)){l+="."+p}else{return null}}else{break}++t}u="";if(t<s&&e[t]===":"){p=e[++t];if(p==="visited"||p==="link"){if(!/^[a*]?$/.test(c)){return null}a=true;u=":"+p;c="a";++t}}if(t===s){return c+l+u}return null}var h=n.join("");if(/^body\b/.test(h)){h=".vdoc-body___."+r+h.substring(4)}else{h="."+r+" "+h}(a?t:s).push(h)}return[s,t]}var f=function(){var e={};var r={braille:e,embossed:e,handheld:e,print:e,projection:e,screen:e,speech:e,tty:e,tv:e};function t(e){var r=false;for(var t=0,s=e.length;t<s-1;++t){var o=e[t];if(":"===e[t+1]){r=!(c[o].cssPropBits&n)}if(r){e[t]=""}if(";"===o){r=false}}return e.join("")}return function(s,o,i){var a=void 0;var n=[];var l=false;h(s,{startStylesheet:function(){a=[]},endStylesheet:function(){},startAtrule:function(t,s){if(l){t=null}else if(t==="@media"){s=s.filter(function(t){return r[t]==e});if(s.length){a.push(t,s.join(","),"{")}else{t=null}}else{if(t==="@import"){if(window.console){window.console.log("@import "+s.join(" ")+" elided")}}t=null}l=!t;n.push(t)},endAtrule:function(){var e=n.pop();if(!l){a.push(";")}u()},startBlock:function(){if(!l){a.push("{")}},endBlock:function(){if(!l){a.push("}");l=true}},startRuleset:function(e){var r=void 0;var t=false;if(!l){var s=d(e,o);var i=s[0];r=s[1];if(!i.length&&!r.length){l=true}else{var c=i.join(", ");if(!c){c="head > html";t=true}a.push(c,"{")}}n.push(l?null:{historySensitiveSelectors:r,endOfSelectors:a.length-1,removeHistoryInsensitiveSelectors:t})},endRuleset:function(){var e=n.pop();var r=a.length;if(!l){a.push("}");if(e){var s=e.historySensitiveSelectors;if(s.length){var o=a.slice(e.endOfSelectors);a.push(s.join(", "),t(o))}}}if(e&&e.removeHistoryInsensitiveSelectors){a.splice(e.endOfSelectors-1,r+1)}u()},declaration:function(e,r){if(!l){var t=c[e];if(t){p(e,t,r,i);if(r.length){a.push(e,":",r.join(" "),";")}}}}});function u(){l=n.length!==0&&n[n.length-1]!==null}return a.join("")}}();if(typeof window!=="undefined"){window["sanitizeCssProperty"]=p;window["sanitizeCssSelectors"]=d;window["sanitizeStylesheet"]=f}
// Copyright (C) 2010 Google Inc.
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//      http://www.apache.org/licenses/LICENSE-2.0
// distributed under the License is distributed on an "AS IS" BASIS,
// See the License for the specific language governing permissions and
// limitations under the License.
var h;var m;(function(){h=function(r,t){var s=l(r);if(t.startStylesheet){t.startStylesheet()}for(var o=0,i=s.length;o<i;){o=s[o]===" "?o+1:e(s,o,i,t)}if(t.endStylesheet){t.endStylesheet()}};function e(e,t,o,i){if(t<o){var a=e[t];if(a.charAt(0)==="@"){return r(e,t,o,i,true)}else{return s(e,t,o,i)}}else{return t}}function r(e,r,s,o,i){var a=r++;while(r<s&&e[r]!=="{"&&e[r]!==";"){++r}if(r<s&&(i||e[r]===";")){var n=a+1,c=r;if(n<s&&e[n]===" "){++n}if(c>n&&e[c-1]===" "){--c}if(o.startAtrule){o.startAtrule(e[a].toLowerCase(),e.slice(n,c))}r=e[r]==="{"?t(e,r,s,o):r+1;if(o.endAtrule){o.endAtrule()}}return r}function t(e,o,i,a){++o;if(a.startBlock){a.startBlock()}while(o<i){var n=e[o].charAt(0);if(n=="}"){++o;break}if(n===" "||n===";"){o=o+1}else if(n==="@"){o=r(e,o,i,a,false)}else if(n==="{"){o=t(e,o,i,a)}else{o=s(e,o,i,a)}}if(a.endBlock){a.endBlock()}return o}function s(e,r,t,s){var i=r,n=o(e,r,t,true);if(n<0){n=~n;return r===n?n+1:n}r=n;if(n>i&&e[n-1]===" "){--n}var c=e[r];++r;if(c!=="{"){return r}if(s.startRuleset){s.startRuleset(e.slice(i,n))}while(r<t){c=e[r];if(c==="}"){++r;break}if(c===" "){r=r+1}else{r=a(e,r,t,s)}}if(s.endRuleset){s.endRuleset()}return r<t?r+1:r}function o(e,r,t,s){var o=r;var i;var a=[],n=-1;for(;r<t;++r){i=e[r].charAt(0);if(i==="["||i==="("){a[++n]=i}else if(i==="]"&&a[n]==="["||i===")"&&a[n]==="("){--n}else if(i==="{"||i==="}"||i===";"||i==="@"||i===":"&&!s){break}}if(n>=0){r=~(r+1)}return r}var i=/^-?[a-z]/i;function a(e,r,t,s){var a=e[r++];if(!i.test(a)){return r+1}var n;if(r<t&&e[r]===" "){++r}if(r==t||e[r]!==":"){while(r<t&&(n=e[r])!==";"&&n!=="}"){++r}return r}++r;if(r<t&&e[r]===" "){++r}var c=r,l=o(e,r,t,false);if(l<0){l=~l}else{var u=[],p=0;for(var d=c;d<l;++d){n=e[d];if(n!==" "){u[p++]=n}}if(l<t){do{n=e[l];if(n===";"||n==="}"){break}p=0}while(++l<t);if(n===";"){++l}}if(p&&s.declaration){s.declaration(a.toLowerCase(),u)}}return l}m=function(e,r){var t=l(e);for(var s=0,o=t.length;s<o;){s=t[s]!==" "?a(t,s,o,r):s+1}}})();if(typeof window!=="undefined"){window["parseCssStylesheet"]=h;window["parseCssDeclarations"]=m}
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */var g={};g.atype={NONE:0,URI:1,URI_FRAGMENT:11,SCRIPT:2,STYLE:3,ID:4,IDREF:5,IDREFS:6,GLOBAL_NAME:7,LOCAL_NAME:8,CLASSES:9,FRAME_TARGET:10};g.ATTRIBS={"*::accesskey":0,"*::class":9,"*::contenteditable":0,"*::contextmenu":0,"*::dir":0,"*::draggable":0,"*::dropzone":0,"*::hidden":0,"*::id":4,"*::lang":0,"*::onabort":2,"*::onblur":2,"*::oncanplay":2,"*::oncanplaythrough":2,"*::onchange":2,"*::onclick":2,"*::oncontextmenu":2,"*::oncuechange":2,"*::ondblclick":2,"*::ondrag":2,"*::ondragend":2,"*::ondragenter":2,"*::ondragleave":2,"*::ondragover":2,"*::ondragstart":2,"*::ondrop":2,"*::ondurationchange":2,"*::onemptied":2,"*::onended":2,"*::onerror":2,"*::onfocus":2,"*::oninput":2,"*::oninvalid":2,"*::onkeydown":2,"*::onkeypress":2,"*::onkeyup":2,"*::onload":2,"*::onloadeddata":2,"*::onloadedmetadata":2,"*::onloadstart":2,"*::onmousedown":2,"*::onmousemove":2,"*::onmouseout":2,"*::onmouseover":2,"*::onmouseup":2,"*::onmousewheel":2,"*::onpause":2,"*::onplay":2,"*::onplaying":2,"*::onprogress":2,"*::onratechange":2,"*::onreadystatechange":2,"*::onreset":2,"*::onscroll":2,"*::onseeked":2,"*::onseeking":2,"*::onselect":2,"*::onshow":2,"*::onstalled":2,"*::onsubmit":2,"*::onsuspend":2,"*::ontimeupdate":2,"*::onvolumechange":2,"*::onwaiting":2,"*::spellcheck":0,"*::style":3,"*::tabindex":0,"*::title":0,"a::href":1,"a::hreflang":0,"a::media":0,"a::rel":0,"a::target":0,"a::type":0,"area::alt":0,"area::coords":0,"area::href":1,"area::hreflang":0,"area::media":0,"area::rel":0,"area::shape":0,"area::target":10,"area::type":0,"audio::autoplay":0,"audio::controls":0,"audio::loop":0,"audio::mediagroup":0,"audio::preload":0,"audio::src":1,"base::href":1,"base::target":10,"blockquote::cite":1,"body::onafterprint":2,"body::onbeforeprint":2,"body::onbeforeunload":2,"body::onblur":2,"body::onerror":2,"body::onfocus":2,"body::onhashchange":2,"body::onload":2,"body::onmessage":2,"body::onoffline":2,"body::ononline":2,"body::onpagehide":2,"body::onpageshow":2,"body::onpopstate":2,"body::onredo":2,"body::onresize":2,"body::onscroll":2,"body::onstorage":2,"body::onundo":2,"body::onunload":2,"button::autofocus":0,"button::disabled":0,"button::form":0,"button::formaction":1,"button::formenctype":0,"button::formmethod":0,"button::formnovalidate":0,"button::formtarget":10,"button::name":8,"button::type":0,"button::value":0,"canvas::height":0,"canvas::width":0,"col::span":0,"colgroup::span":0,"command::checked":0,"command::disabled":0,"command::icon":1,"command::label":0,"command::radiogroup":0,"command::type":0,"del::cite":1,"del::datetime":0,"details::open":0,"embed::height":0,"embed::src":1,"embed::type":0,"embed::width":0,"fieldset::disabled":0,"fieldset::form":0,"fieldset::name":8,"form::accept-charset":0,"form::action":1,"form::autocomplete":0,"form::enctype":0,"form::method":0,"form::name":7,"form::novalidate":0,"form::target":10,"html:: manifest":1,"iframe::height":0,"iframe::name":7,"iframe::sandbox":0,"iframe::seamless":0,"iframe::src":1,"iframe::srcdoc":10,"iframe::width":0,"img::alt":0,"img::height":0,"img::ismap":0,"img::name":7,"img::src":1,"img::usemap":11,"img::width":0,"input::accept":0,"input::alt":0,"input::autocomplete":0,"input::autofocus":0,"input::checked":0,"input::dirname":0,"input::disabled":0,"input::form":0,"input::formaction":1,"input::formenctype":0,"input::formmethod":0,"input::formnovalidate":0,"input::formtarget":10,"input::height":0,"input::list":0,"input::max":0,"input::maxlength":0,"input::min":0,"input::multiple":0,"input::name":8,"input::pattern":0,"input::placeholder":0,"input::readonly":0,"input::required":0,"input::step":0,"input::size":0,"input::src":1,"input::type":0,"input::value":0,"input::width":0,"ins::cite":1,"ins::datetime":0,"keygen::autofocus":0,"keygen::challenge":0,"keygen::disabled":0,"keygen::form":0,"keygen::keytype":0,"keygen::name":8,"label::for":5,"label::form":0,"link::href":1,"link::hreflang":0,"link::media":0,"link::rel":0,"link::sizes":0,"link::type":0,"li::value":0,"map::name":7,"menu::label":0,"menu::type":0,"meta::charset":0,"meta::content":0,"meta::http-equiv":0,"meta::name":7,"meter::form":0,"meter::high":0,"meter::low":0,"meter::max":0,"meter::min":0,"meter::optimum":0,"meter::value":0,"object::data":1,"object::form":0,"object::height":0,"object::name":8,"object::type":0,"object::usemap":11,"object::width":0,"ol::reversed":0,"ol::start":0,"optgroup::disabled":0,"optgroup::label":0,"option::disabled":0,"option::label":0,"option::selected":0,"option::value":0,"output::for":5,"output::form":0,"output::name":8,"param::name":8,"param::value":0,"progress::form":0,"progress::max":0,"progress::value":0,"q::cite":1,"script::async":0,"script::charset":0,"script::defer":0,"script::src":1,"script::type":0,"select::autofocus":0,"select::disabled":0,"select::form":0,"select::multiple":0,"select::name":8,"select::required":0,"select::size":0,"source::media":0,"source::src":1,"source::type":0,"style::media":0,"style::scoped":0,"style::type":0,"table::border":0,"td::colspan":0,"td::headers":6,"td::rowspan":0,"textarea::autofocus":0,"textarea::cols":0,"textarea::disabled":0,"textarea::form":0,"textarea::maxlength":0,"textarea::name":8,"textarea::placeholder":0,"textarea::readonly":0,"textarea::required":0,"textarea::rows":0,"textarea::wrap":0,"th::colspan":0,"th::headers":6,"th::rowspan":0,"th::scope":0,"time::datetime":0,"time::pubdate":0,"track::default":0,"track::kind":0,"track::label":0,"track::src":1,"track::srclang":0,"video::autoplay":0,"video::controls":0,"video::height":0,"video::loop":0,"video::mediagroup":0,"video::poster":1,"video::preload":0,"video::src":1,"video::width":0};g.eflags={OPTIONAL_ENDTAG:1,EMPTY:2,CDATA:4,RCDATA:8,UNSAFE:16,FOLDABLE:32,SCRIPT:64,STYLE:128};g.ELEMENTS={a:0,abbr:0,address:0,area:2,article:0,aside:0,audio:0,b:0,base:18,bdi:0,bdo:0,blockquote:0,body:49,br:2,button:0,canvas:0,caption:0,cite:0,code:0,col:2,colgroup:1,command:2,datalist:0,dd:1,del:0,details:0,dfn:0,div:0,dl:0,dt:1,em:0,embed:18,fieldset:0,figcaption:0,figure:0,footer:0,form:0,h1:0,h2:0,h3:0,h4:0,h5:0,h6:0,head:49,header:0,hgroup:0,hr:2,html:49,i:0,iframe:4,img:2,input:2,ins:0,kbd:0,keygen:2,label:0,legend:0,li:1,link:18,map:0,mark:0,menu:0,meta:18,meter:0,nav:0,noscript:20,object:16,ol:0,optgroup:1,option:1,output:0,p:1,param:18,pre:0,progress:0,q:0,rp:1,rt:1,ruby:0,s:0,samp:0,script:84,section:0,select:0,small:0,source:2,span:0,strong:0,style:148,sub:0,summary:0,sup:0,table:0,tbody:1,td:1,textarea:8,tfoot:1,th:1,thead:1,time:0,title:24,tr:1,track:2,u:0,ul:0,var:0,video:0,wbr:2};g.ueffects={NOT_LOADED:0,SAME_DOCUMENT:1,NEW_DOCUMENT:2};g.URIEFFECTS={"a::href":2,"area::href":2,"audio::src":1,"base::href":2,"blockquote::cite":0,"button::formaction":2,"command::icon":1,"del::cite":0,"embed::src":1,"form::action":2,"html:: manifest":1,"iframe::src":1,"img::src":1,"input::formaction":2,"input::src":1,"ins::cite":0,"link::href":2,"object::data":1,"q::cite":0,"script::src":1,"source::src":1,"track::src":1,"video::poster":1,"video::src":1};g.ltypes={UNSANDBOXED:2,SANDBOXED:1,DATA:0};g.LOADERTYPES={"a::href":2,"area::href":2,"audio::src":1,"base::href":2,"blockquote::cite":2,"button::formaction":2,"command::icon":1,"del::cite":2,"embed::src":1,"form::action":2,"html:: manifest":1,"iframe::src":1,"img::src":1,"input::formaction":2,"input::src":1,"ins::cite":2,"link::href":2,"object::data":0,"q::cite":2,"script::src":1,"source::src":1,"track::src":1,"video::poster":1,"video::src":1};if(typeof window!=="undefined"){window["html4"]=g}// Copyright (C) 2006 Google Inc.
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//      http://www.apache.org/licenses/LICENSE-2.0
// distributed under the License is distributed on an "AS IS" BASIS,
// See the License for the specific language governing permissions and
// limitations under the License.
var b=function(e){var r,t,s;if("undefined"!==typeof window){r=window["parseCssDeclarations"];t=window["sanitizeCssProperty"];s=window["cssSchema"]}var o;if("script"==="SCRIPT".toLowerCase()){o=function(e){return e.toLowerCase()}}else{o=function(e){return e.replace(/[A-Z]/g,function(e){return String.fromCharCode(e.charCodeAt(0)|32)})}}var i={lt:"<",gt:">",amp:"&",nbsp:" ",quot:'"',apos:"'"};var a=/^#(\d+)$/;var n=/^#x([0-9A-Fa-f]+)$/;function c(e){e=o(e);if(i.hasOwnProperty(e)){return i[e]}var r=e.match(a);if(r){return String.fromCharCode(parseInt(r[1],10))}else if(!!(r=e.match(n))){return String.fromCharCode(parseInt(r[1],16))}return""}function l(e,r){return c(r)}var u=/\0/g;function p(e){return e.replace(u,"")}var d=/&(#\d+|#x[0-9A-Fa-f]+|\w+);/g;function f(e){return e.replace(d,l)}var h=/&/g;var m=/&([^a-z#]|#(?:[^0-9x]|x(?:[^0-9a-f]|$)|$)|$)/gi;var g=/[<]/g;var b=/>/g;var v=/\"/g;function w(e){return(""+e).replace(h,"&amp;").replace(g,"&lt;").replace(b,"&gt;").replace(v,"&#34;")}function L(e){return e.replace(m,"&amp;$1").replace(g,"&lt;").replace(b,"&gt;")}var P=new RegExp("^\\s*"+"([a-z][a-z-]*)"+"(?:"+("\\s*(=)\\s*"+"("+('(")[^"]*("|$)'+"|"+"(')[^']*('|$)"+"|"+"(?=[a-z][a-z-]*\\s*=)"+"|"+"[^\"'\\s]*")+")")+")?","i");var x=/^(#[0-9]+|#x[0-9a-f]+|\w+);/i;var y="a,b".split(/(,)/).length===3;var B=e.eflags.CDATA|e.eflags.RCDATA;function E(e){return function(r,t){return k(r,e,t)}}var G={};function k(e,r,t){var s=r;var o,i,a;var n=S(e);var c={noMoreGT:false,noMoreEndComments:false};T(r,n,0,c,t)}function A(e,r,t,s,o){return function(){T(e,r,t,s,o)}}function T(r,t,s,i,a){try{if(r.startDoc&&s==0){r.startDoc(a)}var n,c,l;for(var u=s,p=t.length;u<p;){var d=t[u++];var f=t[u];switch(d){case"&":if(x.test(f)){if(r.pcdata){r.pcdata("&"+f,a,G,A(r,t,u,i,a))}u++}else{if(r.pcdata){r.pcdata("&amp;",a,G,A(r,t,u,i,a))}}break;case"</":if(n=/^(\w+)[^\'\"]*/.exec(f)){if(n[0].length===f.length&&t[u+1]===">"){u+=2;l=o(n[1]);if(e.ELEMENTS.hasOwnProperty(l)){if(r.endTag){r.endTag(l,a,G,A(r,t,u,i,a))}}}else{u=C(t,u,r,a,G,i)}}else{if(r.pcdata){r.pcdata("&lt;/",a,G,A(r,t,u,i,a))}}break;case"<":if(n=/^(\w+)\s*\/?/.exec(f)){if(n[0].length===f.length&&t[u+1]===">"){u+=2;l=o(n[1]);if(e.ELEMENTS.hasOwnProperty(l)){if(r.startTag){r.startTag(l,[],a,G,A(r,t,u,i,a))}var h=e.ELEMENTS[l];if(h&B){var m={name:l,next:u,eflags:h};u=R(t,m,r,a,G,i)}}}else{u=z(t,u,r,a,G,i)}}else{if(r.pcdata){r.pcdata("&lt;",a,G,A(r,t,u,i,a))}}break;case"\x3c!--":if(!i.noMoreEndComments){for(c=u+1;c<p;c++){if(t[c]===">"&&/--$/.test(t[c-1])){break}}if(c<p){u=c+1}else{i.noMoreEndComments=true}}if(i.noMoreEndComments){if(r.pcdata){r.pcdata("&lt;!--",a,G,A(r,t,u,i,a))}}break;case"<!":if(!/^\w/.test(f)){if(r.pcdata){r.pcdata("&lt;!",a,G,A(r,t,u,i,a))}}else{if(!i.noMoreGT){for(c=u+1;c<p;c++){if(t[c]===">"){break}}if(c<p){u=c+1}else{i.noMoreGT=true}}if(i.noMoreGT){if(r.pcdata){r.pcdata("&lt;!",a,G,A(r,t,u,i,a))}}}break;case"<?":if(!i.noMoreGT){for(c=u+1;c<p;c++){if(t[c]===">"){break}}if(c<p){u=c+1}else{i.noMoreGT=true}}if(i.noMoreGT){if(r.pcdata){r.pcdata("&lt;?",a,G,A(r,t,u,i,a))}}break;case">":if(r.pcdata){r.pcdata("&gt;",a,G,A(r,t,u,i,a))}break;case"":break;default:if(r.pcdata){r.pcdata(d,a,G,A(r,t,u,i,a))}break}}if(r.endDoc){r.endDoc(a)}}catch(e){if(e!==G){throw e}}}function S(e){var r=/(<\/|<\!--|<[!?]|[&<>])/g;e+="";if(y){return e.split(r)}else{var t=[];var s=0;var o;while((o=r.exec(e))!==null){t.push(e.substring(s,o.index));t.push(o[0]);s=o.index+o[0].length}t.push(e.substring(s));return t}}function C(e,r,t,s,o,i){var a=M(e,r);if(!a){return e.length}if(a.eflags!==void 0){if(t.endTag){t.endTag(a.name,s,o,A(t,e,r,i,s))}}return a.next}function z(e,r,t,s,o,i){var a=M(e,r);if(!a){return e.length}if(a.eflags!==void 0){if(t.startTag){t.startTag(a.name,a.attrs,s,o,A(t,e,a.next,i,s))}if(a.eflags&B){return R(e,a,t,s,o,i)}}return a.next}var N={};function R(r,t,s,o,i,a){var n=r.length;if(!N.hasOwnProperty(t.name)){N[t.name]=new RegExp("^"+t.name+"(?:[\\s\\/]|$)","i")}var c=N[t.name];var l=t.next;var u=t.next+1;for(;u<n;u++){if(r[u-1]==="</"&&c.test(r[u])){break}}if(u<n){u-=1}var p=r.slice(l,u).join("");if(t.eflags&e.eflags.CDATA){if(s.cdata){s.cdata(p,o,i,A(s,r,u,a,o))}}else if(t.eflags&e.eflags.RCDATA){if(s.rcdata){s.rcdata(L(p),o,i,A(s,r,u,a,o))}}else{throw new Error("bug")}return u}function M(r,t){var s=/^(\w+)/.exec(r[t]);var i={name:o(s[1])};if(e.ELEMENTS.hasOwnProperty(i.name)){i.eflags=e.ELEMENTS[i.name]}else{i.eflags=void 0}var a=r[t].substr(s[0].length);var n=t+1;var c=r.length;for(;n<c;n++){if(r[n]===">"){break}a+=r[n]}if(c<=n){return void 0}var l=[];while(a!==""){s=P.exec(a);if(!s){a=a.replace(/^[\s\S][^a-z\s]*/,"")}else if(s[4]&&!s[5]||s[6]&&!s[7]){var u=s[4]||s[6];var p=false;var d=[a,r[n++]];for(;n<c;n++){if(p){if(r[n]===">"){break}}else if(0<=r[n].indexOf(u)){p=true}d.push(r[n])}if(c<=n){break}a=d.join("");continue}else{var f=o(s[1]);var h=s[2]?D(s[3]):f;l.push(f,h);a=a.substr(s[0].length)}}i.attrs=l;i.next=n+1;return i}function D(e){var r=e.charCodeAt(0);if(r===34||r===39){e=e.substr(1,e.length-2)}return f(p(e))}function O(r){var t;var s;var o=function(e,r){if(!s){r.push(e)}};return E({startDoc:function(e){t=[];s=false},startTag:function(o,i,a){if(s){return}if(!e.ELEMENTS.hasOwnProperty(o)){return}var n=e.ELEMENTS[o];if(n&e.eflags.FOLDABLE){return}i=r(o,i);if(!i){s=!(n&e.eflags.EMPTY);return}if(!(n&e.eflags.EMPTY)){t.push(o)}a.push("<",o);for(var c=0,l=i.length;c<l;c+=2){var u=i[c],p=i[c+1];if(p!==null&&p!==void 0){a.push(" ",u,'="',w(p),'"')}}a.push(">")},endTag:function(r,o){if(s){s=false;return}if(!e.ELEMENTS.hasOwnProperty(r)){return}var i=e.ELEMENTS[r];if(!(i&(e.eflags.EMPTY|e.eflags.FOLDABLE))){var a;if(i&e.eflags.OPTIONAL_ENDTAG){for(a=t.length;--a>=0;){var n=t[a];if(n===r){break}if(!(e.ELEMENTS[n]&e.eflags.OPTIONAL_ENDTAG)){return}}}else{for(a=t.length;--a>=0;){if(t[a]===r){break}}}if(a<0){return}for(var c=t.length;--c>a;){var n=t[c];if(!(e.ELEMENTS[n]&e.eflags.OPTIONAL_ENDTAG)){o.push("</",n,">")}}t.length=a;o.push("</",r,">")}},pcdata:o,rcdata:o,cdata:o,endDoc:function(e){for(;t.length;t.length--){e.push("</",t[t.length-1],">")}}})}var $=new RegExp("^"+"(?:"+"([^:/?# ]+)"+":)?");var j=/^(?:https?|mailto)$/i;function I(e,r){if(!r){return null}var t=(""+e).match($);if(t&&(!t[1]||j.test(t[1]))){return r(e)}else{return null}}function _(o,i,a,n){for(var c=0;c<i.length;c+=2){var l=i[c];var u=i[c+1];var p=null,d;if((d=o+"::"+l,e.ATTRIBS.hasOwnProperty(d))||(d="*::"+l,e.ATTRIBS.hasOwnProperty(d))){p=e.ATTRIBS[d]}if(p!==null){switch(p){case e.atype.NONE:break;case e.atype.SCRIPT:u=null;break;case e.atype.STYLE:if("undefined"===typeof r){u=null;break}var f=[];r(u,{declaration:function(e,r){var o=e.toLowerCase();var i=s[o];if(!i){return}t(o,i,r,a);f.push(e+": "+r.join(" "))}});u=f.length>0?f.join(" ; "):null;break;case e.atype.ID:case e.atype.IDREF:case e.atype.IDREFS:case e.atype.GLOBAL_NAME:case e.atype.LOCAL_NAME:case e.atype.CLASSES:u=n?n(u):u;break;case e.atype.URI:u=I(u,a);break;case e.atype.URI_FRAGMENT:if(u&&"#"===u.charAt(0)){u=u.substring(1);u=n?n(u):u;if(u!==null&&u!==void 0){u="#"+u}}else{u=null}break;default:u=null;break}}else{u=null}i[c+1]=u}return i}function q(r,t){return function(s,o){if(!(e.ELEMENTS[s]&e.eflags.UNSAFE)){return _(s,o,r,t)}}}function F(e,r){var t=[];O(r)(e,t);return t.join("")}function U(e,r,t){var s=q(r,t);return F(e,s)}return{escapeAttrib:w,makeHtmlSanitizer:O,makeSaxParser:E,makeTagPolicy:q,normalizeRCData:L,sanitize:U,sanitizeAttribs:_,sanitizeWithPolicy:F,unescapeEntities:f}}(g);var v=b.sanitize;if(typeof window!=="undefined"){window["html"]=b;window["html_sanitize"]=v}})();
},
	"sap/ui/thirdparty/crossroads.js":function(){
/** @license
 * crossroads <http://millermedeiros.github.com/crossroads.js/>
 * Author: Miller Medeiros | MIT License
 * v0.12.0 (2013/01/21 13:47)
 */
(function(){var e=function(e){var t,r,i;r=/t(.+)?/.exec("t")[1]==="";function s(e,t){if(e.indexOf){return e.indexOf(t)}else{var r=e.length;while(r--){if(e[r]===t){return r}}return-1}}function n(e,t){var r=s(e,t);if(r!==-1){e.splice(r,1)}}function a(e,t){return"[object "+t+"]"===Object.prototype.toString.call(e)}function o(e){return a(e,"RegExp")}function u(e){return a(e,"Array")}function h(e){return typeof e==="function"}function l(e){var t;if(e===null||e==="null"){t=null}else if(e==="true"){t=true}else if(e==="false"){t=false}else if(e===i||e==="undefined"){t=i}else if(e===""||isNaN(e)){t=e}else{t=parseFloat(e)}return t}function f(e){var t=e.length,r=[];while(t--){r[t]=l(e[t])}return r}function c(e,t){var r=(e||"").replace("?","").split("&"),i=r.length,s={},n,a;while(i--){n=r[i].split("=");a=t?l(n[1]):n[1];s[n[0]]=typeof a==="string"?decodeURIComponent(a):a}return s}function p(){this.bypassed=new e.Signal;this.routed=new e.Signal;this._routes=[];this._prevRoutes=[];this._piped=[];this.resetState()}p.prototype={greedy:false,greedyEnabled:true,ignoreCase:true,ignoreState:false,shouldTypecast:false,normalizeFn:null,resetState:function(){this._prevRoutes.length=0;this._prevMatchedRequest=null;this._prevBypassedRequest=null},create:function(){return new p},addRoute:function(e,t,r){var i=new d(e,t,r,this);this._sortedInsert(i);return i},removeRoute:function(e){n(this._routes,e);e._destroy()},removeAllRoutes:function(){var e=this.getNumRoutes();while(e--){this._routes[e]._destroy()}this._routes.length=0},parse:function(e,t){e=e||"";t=t||[];if(!this.ignoreState&&(e===this._prevMatchedRequest||e===this._prevBypassedRequest)){return}var r=this._getMatchedRoutes(e),i=0,s=r.length,n;if(s){this._prevMatchedRequest=e;this._notifyPrevRoutes(r,e);this._prevRoutes=r;while(i<s){n=r[i];n.route.matched.dispatch.apply(n.route.matched,t.concat(n.params));n.isFirst=!i;this.routed.dispatch.apply(this.routed,t.concat([e,n]));i+=1}}else{this._prevBypassedRequest=e;this.bypassed.dispatch.apply(this.bypassed,t.concat([e]))}this._pipeParse(e,t)},_notifyPrevRoutes:function(e,t){var r=0,i;while(i=this._prevRoutes[r++]){if(i.route.switched&&this._didSwitch(i.route,e)){i.route.switched.dispatch(t)}}},_didSwitch:function(e,t){var r,i=0;while(r=t[i++]){if(r.route===e){return false}}return true},_pipeParse:function(e,t){var r=0,i;while(i=this._piped[r++]){i.parse(e,t)}},getNumRoutes:function(){return this._routes.length},_sortedInsert:function(e){var t=this._routes,r=t.length;do{--r}while(t[r]&&e._priority<=t[r]._priority);t.splice(r+1,0,e)},_getMatchedRoutes:function(e){var t=[],r=this._routes,i=r.length,s;while(s=r[--i]){if((!t.length||this.greedy||s.greedy)&&s.match(e)){t.push({route:s,params:s._getParamsArray(e)})}if(!this.greedyEnabled&&t.length){break}}return t},pipe:function(e){this._piped.push(e)},unpipe:function(e){n(this._piped,e)},toString:function(){return"[crossroads numRoutes:"+this.getNumRoutes()+"]"}};t=new p;t.VERSION="0.12.0";t.NORM_AS_ARRAY=function(e,t){return[t.vals_]};t.NORM_AS_OBJECT=function(e,t){return[t]};function d(t,r,i,s){var n=o(t),a=s.patternLexer;this._router=s;this._pattern=t;this._paramsIds=n?null:a.getParamIds(t);this._optionalParamsIds=n?null:a.getOptionalParamsIds(t);this._matchRegexp=n?t:a.compilePattern(t,s.ignoreCase);this.matched=new e.Signal;this.switched=new e.Signal;if(r){this.matched.add(r)}this._priority=i||0}d.prototype={greedy:false,rules:void 0,match:function(e){e=e||"";return this._matchRegexp.test(e)&&this._validateParams(e)},_validateParams:function(e){var t=this.rules,r=this._getParamsObject(e),i;for(i in t){if(i!=="normalize_"&&t.hasOwnProperty(i)&&!this._isValidParam(e,i,r)){return false}}return true},_isValidParam:function(e,t,r){var i=this.rules[t],n=r[t],a=false,l=t.indexOf("?")===0;if(n==null&&this._optionalParamsIds&&s(this._optionalParamsIds,t)!==-1){a=true}else if(o(i)){if(l){n=r[t+"_"]}a=i.test(n)}else if(u(i)){if(l){n=r[t+"_"]}a=this._isValidArrayRule(i,n)}else if(h(i)){a=i(n,e,r)}return a},_isValidArrayRule:function(e,t){if(!this._router.ignoreCase){return s(e,t)!==-1}if(typeof t==="string"){t=t.toLowerCase()}var r=e.length,i,n;while(r--){i=e[r];n=typeof i==="string"?i.toLowerCase():i;if(n===t){return true}}return false},_getParamsObject:function(e){var t=this._router.shouldTypecast,i=this._router.patternLexer.getParamValues(e,this._matchRegexp,t),n={},a=i.length,o,u;while(a--){u=i[a];if(this._paramsIds){o=this._paramsIds[a];if(o.indexOf("?")===0&&u){n[o+"_"]=u;u=c(u,t);i[a]=u}if(r&&u===""&&s(this._optionalParamsIds,o)!==-1){u=void 0;i[a]=u}n[o]=u}n[a]=u}n.request_=t?l(e):e;n.vals_=i;return n},_getParamsArray:function(e){var t=this.rules?this.rules.normalize_:null,r;t=t||this._router.normalizeFn;if(t&&h(t)){r=t(e,this._getParamsObject(e))}else{r=this._getParamsObject(e).vals_}return r},interpolate:function(e){var t=this._router.patternLexer.interpolate(this._pattern,e);if(!this._validateParams(t)){throw new Error("Generated string doesn't validate against `Route.rules`.")}return t},extrapolate:function(e){var t={};if(!e){return t}var r=this._getParamsObject(e);this._paramsIds.forEach(function(e){if(r.hasOwnProperty(e)){t[e]=r[e]}});return t},dispose:function(){this._router.removeRoute(this)},_destroy:function(){this.matched.dispose();this.switched.dispose();this.matched=this.switched=this._pattern=this._matchRegexp=null},toString:function(){return'[Route pattern:"'+this._pattern+'", numListeners:'+this.matched.getNumListeners()+"]"}};p.prototype.patternLexer=function(){var e=/[\\.+*?\^$\[\](){}\/'#]/g,t=/^\/|\/$/g,r=/\/$/g,i=/(?:\{|:)([^}:]+)(?:\}|:)/g,s=function(e,t,r){var i=r.lastIndexOf("__CR_RS__"),s=r.indexOf("__CR_RQ__"),a=r.indexOf("__CR_OQ__"),o=r.indexOf("\\/",t),u=Math.min(a===-1?r.length:a,s===-1?r.length:s),h=t+e.length;if(h>=u||h<i||h<o){return n.OS.res_normal}else{return n.OS.res_arsbq}},n={OS:{rgx:/([:})]|\w(?=\/))\/?(:|(?:\{\?))/g,save:"$1{{id}}$2",res:s,res_normal:"\\/?",res_arsbq:"(?:(?:\\/(?=(?:[^\\/?]+)?))|(?:\\/?(?=\\?))|^\\/?|\\/?$)"},RS:{rgx:/([:}])\/?(\{)/g,save:"$1{{id}}$2",res:"\\/"},RQ:{rgx:/\{\?([^}]+)\}/g,res:"\\?(.+)"},OQ:{rgx:/:\?([^:]+):/g,res:"(?:\\?(.*))?"},OR:{rgx:/:([^:]+)\*:/g,res:"(.*)?"},RR:{rgx:/\{([^}]+)\*\}/g,res:"(.+)"},RP:{rgx:/\{([^}]+)\}/g,res:"([^\\/?]+)"},OP:{rgx:/:([^:]+):/g,res:"([^\\/?]+)?(?:\\/(?!\\/))?"}},a=1,o=2,u=3,h=a;function l(){var e,t;for(e in n){if(n.hasOwnProperty(e)){t=n[e];t.id="__CR_"+e+"__";t.save="save"in t?t.save.replace("{{id}}",t.id):t.id;t.rRestore=new RegExp(t.id,"g")}}}l();function c(e,t){var r=[],i;e.lastIndex=0;while(i=e.exec(t)){r.push(i[1])}return r}function p(e){return c(i,e)}function d(e){return c(n.OP.rgx,e)}function _(i,s){i=i||"";if(i){if(h===a){i=i.replace(t,"")}else if(h===u){i=i.replace(r,"")}i=g(i,"rgx","save");i=i.replace(e,"\\$&");i=g(i,"rRestore","res");if(h===a){i="\\/?"+i}}if(h!==o){i+="\\/?"}return new RegExp("^"+i+"$",s?"i":"")}function g(e,t,r){var i,s;for(s in n){if(n.hasOwnProperty(s)){i=n[s];e=e.replace(i[t],i[r])}}return e}function v(e,t,r){var i=t.exec(e);if(i){i.shift();if(r){i=f(i)}}return i}function m(e,t){if(typeof e!=="string"){throw new Error("Route pattern should be a string.")}var r=function(e,r){var i,s;if(r.charAt(0)==="?"){s=t[r]||t[r.substring(1)]}else{s=t[r]}if(s!=null){if(typeof s==="object"){var n=[];for(var a in s){n.push(encodeURI(a+"="+s[a]))}i="?"+n.join("&")}else{i=String(s)}if(e.indexOf("*")===-1&&i.indexOf("/")!==-1){throw new Error('Invalid value "'+i+'" for segment "'+e+'".')}}else if(e.indexOf("{")!==-1){throw new Error("The segment "+e+" is required.")}else{i=""}return i};if(!n.OS.trail){n.OS.trail=new RegExp("(?:"+n.OS.id+")+$")}return e.replace(n.OS.rgx,n.OS.save).replace(i,r).replace(n.OS.trail,"").replace(n.OS.rRestore,"/")}return{strict:function(){h=o},loose:function(){h=a},legacy:function(){h=u},getParamIds:p,getOptionalParamsIds:d,getParamValues:v,compilePattern:_,interpolate:m}}();return t};if(typeof define==="function"&&define.amd){define(["signals"],e)}else{window["crossroads"]=e(window["signals"])}})();
},
	"sap/ui/thirdparty/hasher.js":function(){
/*!!
 * Hasher <http://github.com/millermedeiros/hasher>
 * @author Miller Medeiros
 * @version 1.2.0 (2013/11/11 03:18 PM)
 * Released under the MIT License
 */
(function(){var e=function(e){var n=function(n){var t=25,i=n.document,a=n.history,r=e.Signal,o,s,c,f,l,u,p=/#(.*)$/,d=/(\?.*)|(\#.*)/,h=/^\#/,v=!+"\v1",g="onhashchange"in n&&i.documentMode!==7,w=v&&!g,m=location.protocol==="file:";function H(e){return String(e||"").replace(/\W/g,"\\$&")}function y(e){if(!e)return"";var n=new RegExp("^"+H(o.prependHash)+"|"+H(o.appendHash)+"$","g");return e.replace(n,"")}function E(){var e=p.exec(o.getURL());var n=e&&e[1]||"";try{return o.raw?n:decodeURIComponent(n)}catch(e){return n}}function R(){return l?l.contentWindow.frameHash:null}function L(){l=i.createElement("iframe");l.src="about:blank";l.style.display="none";i.body.appendChild(l)}function b(){if(l&&s!==R()){var e=l.contentWindow.document;e.open();e.write("<html><head><title>"+i.title+'</title><script type="text/javascript">var frameHash="'+s+'";<\/script></head><body>&nbsp;</body></html>');e.close()}}function x(e,n){if(s!==e){var t=s;s=e;if(w){if(!n){b()}else{l.contentWindow.frameHash=e}}return function(){o.changed.dispatch(y(e),y(t))}}}if(w){u=function(){var e=E(),n=R(),t;if(n!==s&&n!==e){o.setHash(y(n))}else if(e!==s){t=x(e);t&&t()}}}else{u=function(){var e=E(),n;if(e!==s){n=x(e);n&&n()}}}function I(e,n,t){if(e.addEventListener){e.addEventListener(n,t,false)}else if(e.attachEvent){e.attachEvent("on"+n,t)}}function U(e,n,t){if(e.removeEventListener){e.removeEventListener(n,t,false)}else if(e.detachEvent){e.detachEvent("on"+n,t)}}function z(e){e=Array.prototype.slice.call(arguments);var n=e.join(o.separator);n=n?o.prependHash+n.replace(h,"")+o.appendHash:n;return n}function S(e){e=encodeURI(e);if(v&&m){e=e.replace(/\?/,"%3F")}return e}o={VERSION:"1.2.0",raw:false,appendHash:"",prependHash:"/",separator:"/",changed:new r,stopped:new r,initialized:new r,init:function(){if(f)return;s=E();if(g){I(n,"hashchange",u)}else{if(w){if(!l){L()}b()}c=setInterval(u,t)}f=true;o.initialized.dispatch(y(s))},stop:function(){if(!f)return;if(g){U(n,"hashchange",u)}else{clearInterval(c);c=null}f=false;o.stopped.dispatch(y(s))},isActive:function(){return f},getURL:function(){return n.location.href},getBaseURL:function(){return o.getURL().replace(d,"")},setHash:function(e){var t;e=z.apply(null,arguments);if(e!==s){t=x(e);if(!o.raw){e=S(e)}n.location.hash="#"+e;t&&t()}},replaceHash:function(e){var t,i=n.location.href,a=i.indexOf("#");e=z.apply(null,arguments);if(e!==s){t=x(e);if(!o.raw){e=S(e)}if(a!==-1){i=i.slice(0,a)}n.location.replace(i+"#"+e);t&&t()}},getHash:function(){return y(s)},getHashAsArray:function(){return o.getHash().split(o.separator)},dispose:function(){o.stop();o.initialized.dispose();o.stopped.dispose();o.changed.dispose();l=o=n.hasher=null},toString:function(){return'[hasher version="'+o.VERSION+'" hash="'+o.getHash()+'"]'}};o.initialized.memorize=true;return o}(window);return n};if(typeof define==="function"&&define.amd){define(["signals"],e)}else if(typeof exports==="object"){module.exports=e(require("signals"))}else{window["hasher"]=e(window["signals"])}})();
},
	"sap/ui/thirdparty/mobify-carousel.js":function(){
var Mobify=window.Mobify=window.Mobify||{};Mobify.$=Mobify.$||window.Zepto||window.jQuery;Mobify.UI=Mobify.UI||{classPrefix:""};(function(t,e){t.support=t.support||{};var i={touch:"ontouchend"in e};if(window.sap&&sap.ui&&sap.ui.Device&&sap.ui.Device.support){i.touch=sap.ui.Device.support.touch}t.extend(t.support,i)})(Mobify.$,document);Mobify.UI.Utils=function(t){var e={},i=t.support;e.events={down:"touchstart mousedown",move:"touchmove mousemove",up:"touchend touchcancel mouseup"};e.getCursorPosition=function(t){t=t.originalEvent||t;var e=t.touches&&t.touches[0];return{x:e?e.clientX:t.clientX,y:e?e.clientY:t.clientY}};e.getProperty=function(t){var e=["Webkit","Moz","O","ms",""],i=document.createElement("div").style;for(var n=0;n<e.length;++n){if(i[e[n]+t]!==undefined){return e[n]+t}}return};t.extend(i,{transform:!!e.getProperty("Transform"),transform3d:!!(window.WebKitCSSMatrix&&"m11"in new WebKitCSSMatrix)});var n=e.getProperty("Transform");if(i.transform3d){e.translateX=function(t,e){if(typeof e=="number")e=e+"px";t.style[n]="translate3d("+e+",0,0)"}}else if(i.transform){e.translateX=function(t,e){if(typeof e=="number")e=e+"px";t.style[n]="translate("+e+",0)"}}else{e.translateX=function(t,e){if(typeof e=="number")e=e+"px";t.style.left=e}}var s=e.getProperty("Transition"),o=e.getProperty("TransitionDuration");e.setTransitions=function(t,e){if(e){t.style[o]=""}else{t.style[o]="0s"}};e.requestAnimationFrame=function(){var t=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)};var e=function(){t.apply(window,arguments)};return e}();return e}(Mobify.$);Mobify.UI.Carousel=function(t,e){var i={dragRadius:10,moveRadius:20,classPrefix:undefined,classNames:{outer:"sapMCrsl",inner:"sapMCrslInner",item:"sapMCrslItem",center:"sapMCrslCenter",touch:"has-touch",dragging:"dragging",active:"sapMCrslActive"}},n=t.support;var s=function(t,e){this.setOptions(e);this.initElements(t);this.initOffsets();this.initAnimation();this.bind()};s.defaults=i;s.prototype.setOptions=function(e){var n=t.extend(this.options||{},i,e);n.classNames=t.extend({},n.classNames,e.classNames||{});n.classPrefix=n.classPrefix||Mobify.UI.classPrefix;this.options=n};s.prototype.initElements=function(e){this._index=1;this.element=e;this.$element=t(e);this.$inner=this.$element.find("> ."+this._getClass("inner"));this.$items=this.$inner.children();this.$start=this.$items.eq(0);this.$sec=this.$items.eq(1);this.$current=this.$items.eq(this._index);this._length=this.$items.length;this._alignment=this.$element.hasClass(this._getClass("center"))?.5:0};s.prototype.initOffsets=function(){this._offset=0;this._offsetDrag=0};s.prototype.initAnimation=function(){this.animating=false;this.dragging=false;this._hasActiveTransition=false;this._needsUpdate=false;this._sTransitionEvents="transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd";this._enableAnimation()};s.prototype._getClass=function(t){return this.options.classPrefix+this.options.classNames[t]};s.prototype._enableAnimation=function(){if(this.animating){return}e.setTransitions(this.$inner[0],true);this.$inner.removeClass(this._getClass("dragging"));this.animating=true};s.prototype._disableAnimation=function(){if(!this.animating){return}e.setTransitions(this.$inner[0],false);this.$inner.addClass(this._getClass("dragging"));this.animating=false};s.prototype.update=function(){if(this._needsUpdate){return}var t=this;this._needsUpdate=true;e.requestAnimationFrame(function(){t._update()})};s.prototype._update=function(){var t,i,n;if(!this._needsUpdate){return}t=this.$items.eq(this._index-1);i=t.prop("offsetLeft")+t.prop("clientWidth")*this._alignment,startOffset=this.$start.prop("offsetLeft")+this.$start.prop("clientWidth")*this._alignment;this._offset=-(i-startOffset);n=Math.round(this._offset+this._offsetDrag);if(this.$inner){e.translateX(this.$inner[0],n)}this._needsUpdate=false};s.prototype.setLoop=function(t){this._bLoop=t};s.prototype.getLoop=function(){return this._bLoop};s.prototype.setRTL=function(t){this._bRTL=t};s.prototype.getRTL=function(){return this._bRTL};s.prototype.changeAnimation=function(t,e,i,n){if(this.$inner){var s=this.$inner,o="transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd";var r=function(){s.off(o,r);s.removeClass(t);if(e){e.apply(i,n)}};s.addClass(t);s.on(o,r)}};s.prototype.resize=function(){this.changeAnimation("sapMCrslHideNonActive");this.update()};s.prototype.touchstart=function(t){if(this._fnStart){this._fnStart.call(this,t)}else{jQuery.sap.log.warning("Mobify's 'start' method not available yet.")}};s.prototype.touchmove=function(t){if(jQuery(t.target).is("input, textarea, select, [contenteditable='true']")){return}if(this._fnDrag){this._fnDrag.call(this,t)}else{jQuery.sap.log.warning("Mobify's 'drag' method not available yet.")}};s.prototype.touchend=function(t){if(this._fnEnd){this._fnEnd.call(this,t)}else{jQuery.sap.log.warning("Mobify's 'end' method not available yet.")}};s.prototype.bind=function(){var i=Math.abs,n=false,s=false,o=this.options.dragRadius,r,a,f,h,l=this,u=this.$element,p=this.$inner,d=this.options,c=this.$element.width(),m=false,g=false;if(!l._fnStart){l._fnStart=function t(i){if(i.isMarked("delayedMouseEvent")){return}var o=jQuery(i.target).control(0);if(o instanceof sap.m.Slider||o instanceof sap.m.Switch||o instanceof sap.m.IconTabBar){s=true;return}n=true;s=false;r=e.getCursorPosition(i);a=0;f=0;h=false;l._disableAnimation();m=l._index==1;g=l._index==l._length};l._fnDrag=function t(u){if(!n||s||u.isMarked("delayedMouseEvent")){return}u.setMarked();var p=e.getCursorPosition(u);a=r.x-p.x;f=r.y-p.y;if(h||i(a)>i(f)&&i(a)>o){h=true;u.preventDefault();if(m&&a<0){a=a*-c/(a-c)}else if(g&&a>0){a=a*c/(a+c)}l._offsetDrag=-a;l.update()}else if(i(f)>i(a)&&i(f)>o){s=true}};l._fnEnd=function t(e){if(!n||e.isMarked("delayedMouseEvent")){return}n=false;l._enableAnimation();if(!s&&i(a)>d.moveRadius){if(a>0){l.getRTL()?l.prev():l.next()}else{l.getRTL()?l.next():l.prev()}}else{l._offsetDrag=0;l.update()}}}function v(t){if(h){t.preventDefault();t.stopPropagation();t.setMarked()}}p.on("click.carousel",v).on("mouseout.carousel",l._fnEnd);u.on("click","[data-slide]",function(e){var i=jQuery(e.target).closest(".sapMCrsl");if(i[0]!=u[0]){return}e.preventDefault();var n=t(this).attr("data-slide"),s=parseInt(n,10);if(isNaN(s)){l[n]()}else{}});u.on("afterSlide",function(t,e,i){var n=i-1,s=l._getClass("active");if(t.target!=this){return}var o=l.$element[0].id,r=o.replace(/(:|\.)/g,"\\$1")+"-pageIndicator";for(var a=n;a<n+l.options.numberOfItemsToShow;a++){var f=l.$items.eq(a);f.addClass(s)}l.$element.find("#"+r+" > [data-slide='"+e+"']").removeClass(l._getClass("active"));l.$element.find("#"+r+" > [data-slide='"+i+"']").addClass(l._getClass("active"))});u.trigger("beforeSlide",[1,1]);u.trigger("afterSlide",[1,1]);l.update()};s.prototype.unbind=function(){this.$inner.off()};s.prototype.onTransitionComplete=function(){this.$inner.off(this._sTransitionEvents,this.onTransitionComplete);var t=this._getClass("active"),e;for(e=0;e<this.$items.length;e++){if(e!=this._index-1){this.$items.eq(e).removeClass(t)}}this._hasActiveTransition=false;this.$element.trigger("afterSlide",[this._prevIndex,this._index]);this.setShouldFireEvent(false)};s.prototype.getShouldFireEvent=function(){return this._shouldFireEvent};s.prototype.setShouldFireEvent=function(t){this._shouldFireEvent=t};s.prototype.hasActiveTransition=function(){return this._hasActiveTransition};s.prototype.destroy=function(){this.unbind();this.$element.trigger("destroy");this.$element.remove();this.$element=null;this.$inner=null;this.$start=null;this.$current=null;this._needsUpdate=false};s.prototype.move=function(t,e){if(this._length===0||this._hasActiveTransition==true){return}var i=this.$element,n=this.$inner,s=this.$items,o=this.$start,r=this.$current,a=this._length,f=this._index;e=e||{};if(this.getLoop()&&this.options.numberOfItemsToShow!==1&&(t<1||t>this._length)){return}if(t<1){if(this._bLoop){t=this._length}else{t=1}}else if(t>this._length){if(this._bLoop){t=1}else{t=a}}if(t+this.options.numberOfItemsToShow>this._length){t=this._length-this.options.numberOfItemsToShow+1}var h=true;if(t==this._index){h=false}if(h){i.trigger("beforeSlide",[f,t])}this._offsetDrag=0;this._prevIndex=this._index;this._index=t;this.update();if(h){this._hasActiveTransition=true;n.bind(this._sTransitionEvents,jQuery.proxy(this.onTransitionComplete,this))}};s.prototype.next=function(){this.setShouldFireEvent(true);this.move(this._index+1)};s.prototype.prev=function(){this.setShouldFireEvent(true);this.move(this._index-1)};return s}(Mobify.$,Mobify.UI.Utils);(function(t){t.fn.carousel=function(e,i){var n=t.extend({},t.fn.carousel.defaults,i);if(typeof e=="object"){n=t(n,e);i=null;e=null}this.each(function(){var s=t(this),o=this._carousel;if(!o){o=new Mobify.UI.Carousel(this,n)}else{o.setOptions(n);o.initElements(this);o.initOffsets();o.initAnimation();o.bind()}if(e){o[e](i);if(e==="destroy"){o=null}}this._carousel=o});return this};t.fn.carousel.defaults={}})(Mobify.$);
this.Mobify=Mobify;
},
	"sap/ui/thirdparty/signals.js":function(){
/** @license
 * JS Signals <http://millermedeiros.github.com/js-signals/>
 * Released under the MIT license
 * Author: Miller Medeiros
 * Version: 1.0.0 - Build: 268 (2012/11/29 05:48 PM)
 */
(function(i){function t(i,t,e,n,s){this._listener=t;this._isOnce=e;this.context=n;this._signal=i;this._priority=s||0}t.prototype={active:true,params:null,execute:function(i){var t,e;if(this.active&&!!this._listener){e=this.params?this.params.concat(i):i;t=this._listener.apply(this.context,e);if(this._isOnce){this.detach()}}return t},detach:function(){return this.isBound()?this._signal.remove(this._listener,this.context):null},isBound:function(){return!!this._signal&&!!this._listener},isOnce:function(){return this._isOnce},getListener:function(){return this._listener},getSignal:function(){return this._signal},_destroy:function(){delete this._signal;delete this._listener;delete this.context},toString:function(){return"[SignalBinding isOnce:"+this._isOnce+", isBound:"+this.isBound()+", active:"+this.active+"]"}};function e(i,t){if(typeof i!=="function"){throw new Error("listener is a required param of {fn}() and should be a Function.".replace("{fn}",t))}}function n(){this._bindings=[];this._prevParams=null;var i=this;this.dispatch=function(){n.prototype.dispatch.apply(i,arguments)}}n.prototype={VERSION:"1.0.0",memorize:false,_shouldPropagate:true,active:true,_registerListener:function(i,e,n,s){var r=this._indexOfListener(i,n),h;if(r!==-1){h=this._bindings[r];if(h.isOnce()!==e){throw new Error("You cannot add"+(e?"":"Once")+"() then add"+(!e?"":"Once")+"() the same listener without removing the relationship first.")}}else{h=new t(this,i,e,n,s);this._addBinding(h)}if(this.memorize&&this._prevParams){h.execute(this._prevParams)}return h},_addBinding:function(i){var t=this._bindings.length;do{--t}while(this._bindings[t]&&i._priority<=this._bindings[t]._priority);this._bindings.splice(t+1,0,i)},_indexOfListener:function(i,t){var e=this._bindings.length,n;while(e--){n=this._bindings[e];if(n._listener===i&&n.context===t){return e}}return-1},has:function(i,t){return this._indexOfListener(i,t)!==-1},add:function(i,t,n){e(i,"add");return this._registerListener(i,false,t,n)},addOnce:function(i,t,n){e(i,"addOnce");return this._registerListener(i,true,t,n)},remove:function(i,t){e(i,"remove");var n=this._indexOfListener(i,t);if(n!==-1){this._bindings[n]._destroy();this._bindings.splice(n,1)}return i},removeAll:function(){var i=this._bindings.length;while(i--){this._bindings[i]._destroy()}this._bindings.length=0},getNumListeners:function(){return this._bindings.length},halt:function(){this._shouldPropagate=false},dispatch:function(i){if(!this.active){return}var t=Array.prototype.slice.call(arguments),e=this._bindings.length,n;if(this.memorize){this._prevParams=t}if(!e){return}n=this._bindings.slice();this._shouldPropagate=true;do{e--}while(n[e]&&this._shouldPropagate&&n[e].execute(t)!==false)},forget:function(){this._prevParams=null},dispose:function(){this.removeAll();delete this._bindings;delete this._prevParams},toString:function(){return"[Signal active:"+this.active+" numListeners:"+this.getNumListeners()+"]"}};var s=n;s.Signal=n;if(typeof define==="function"&&define.amd){define(function(){return s})}else{i["signals"]=s}})(this);
},
	"sap/ushell/appRuntime/ui5/AppRuntime.js":function(){
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
prepareModules();sap.ui.define(["sap/ui/Device","sap/base/util/LoaderExtensions","sap/ushell/appRuntime/ui5/AppRuntimePostMessageAPI","sap/ushell/appRuntime/ui5/AppCommunicationMgr","sap/ushell/appRuntime/ui5/AppRuntimeService","sap/ui/thirdparty/URI","sap/ushell/appRuntime/ui5/SessionHandlerAgent","sap/ushell/appRuntime/ui5/services/AppLifeCycleAgent","sap/ushell/appRuntime/ui5/services/ShellUIService","sap/ushell/ui5service/UserStatus","sap/ushell/appRuntime/ui5/services/AppConfiguration","sap/ui/core/Popup","sap/ui/thirdparty/jquery","sap/base/util/isEmptyObject","sap/base/Log","sap/ui/core/ComponentContainer","sap/ushell/appRuntime/ui5/renderers/fiori2/AccessKeysAgent","sap/ui/core/BusyIndicator","sap/ushell/UI5ComponentType","sap/ushell/iconfonts","sap/ushell/utils/WindowUtils","sap/ushell/utils/UrlParsing","sap/ushell/appRuntime/ui5/performance/FesrEnhancer","sap/ui/core/routing/History","sap/ushell/EventHub","sap/ui/thirdparty/hasher"],function(e,t,n,i,a,s,r,p,u,l,o,c,jQuery,h,d,f,g,m,v,y,A,C,R,S,w,b){"use strict";R.init();var P,U=(new s).search(true),I,H=false,D,L=false,F=false,O=false,M=false,E=false,N;function T(){this.main=function(){jQuery("body").css("height","100%").css("width","100%");i.init(true);a.sendMessageToOuterShell("sap.ushell.appRuntime.iframeIsBusy",{bValue:true});this.getPageConfig();p.getURLParameters(P._getURI()).then(function(e){var t=e["sap-ui-app-id"];P.setModulePaths();P.init();var n=new Promise(function(e){sap.ui.require(["sap/ushell/appRuntime/ui5/services/UserInfo"],e)});Promise.all([P.initServicesContainer(),P.getAppInfo(t),n]).then(function(n){var i=n[1];r.init();g.init();P._setInitialAppRoute();P.createApplication(t,e,i).then(function(e){P.renderApplication(e);a.sendMessageToOuterShell("sap.ushell.appRuntime.iframeIsBusy",{bValue:false})})})})};this._setInitialAppRoute=function(){var e=C.parseShellHash(b.getHash());if(e&&e.appSpecificRoute&&e.appSpecificRoute.length>0){a.sendMessageToOuterShell("sap.ushell.services.CrossApplicationNavigation.setInnerAppRoute",{appSpecificRoute:decodeURIComponent(e.appSpecificRoute)})}};this._getURI=function(){return(new s).query(true)};this.init=function(){y.registerFiori2IconFont();E=this._getURIParams()["sap-manifest-width"];o.setFullWidthFromManifest(E);n.registerCommHandlers({"sap.ushell.appRuntime":{oServiceCalls:{hashChange:{executeServiceCallFn:function(e){var t=e.oMessageData.body.sHash;if(typeof t==="string"){var n=C.parseShellHash(t),i=C.parseShellHash(b.getHash());if(n&&i&&n.semanticObject===i.semanticObject&&n.action===i.action){b.replaceHash(t)}}return(new jQuery.Deferred).resolve().promise()}},setDirtyFlag:{executeServiceCallFn:function(e){var t=e.oMessageData.body.bIsDirty;if(t!==sap.ushell.Container.getDirtyFlag()){sap.ushell.Container.setDirtyFlag(t)}return(new jQuery.Deferred).resolve().promise()}},getDirtyFlag:{executeServiceCallFn:function(e){return(new jQuery.Deferred).resolve(sap.ushell.Container.getDirtyFlag()).promise()}},themeChange:{executeServiceCallFn:function(e){var t=e.oMessageData.body.currentThemeId;sap.ushell.Container.getUser().setTheme(t);return(new jQuery.Deferred).resolve().promise()}},buttonClick:{executeServiceCallFn:function(e){sap.ushell.renderers.fiori2.Renderer.handleHeaderButtonClick(e.oMessageData.body.buttonId);return(new jQuery.Deferred).resolve().promise()}},uiDensityChange:{executeServiceCallFn:function(e){var t=e.oMessageData.body.isTouch;jQuery("body").toggleClass("sapUiSizeCompact",t==="0").toggleClass("sapUiSizeCozy",t==="1");return(new jQuery.Deferred).resolve().promise()}},handleDirtyStateProvider:{executeServiceCallFn:function(e){return(new jQuery.Deferred).resolve(sap.ushell.Container.handleDirtyStateProvider(e.oMessageData.body.oNavigationContext)).promise()}}}}})};this.handleLinkElementOpen=function(e,t){try{if(t.isDefaultPrevented&&t.isDefaultPrevented()===true){return}var n=t.target;if(n&&n.tagName==="A"&&n.href&&n.href.indexOf("#")>0){if(n.target==="_blank"){var i=P.rebuildNewAppUrl(n.href,e);if(i!==n.href){A.openURL(i);t.preventDefault()}}else if(n.target===undefined||n.target===""){var a=n.href.split("#"),s=document.URL.split("#");if(a[0]===s[0]){var r=a[1]&&a[1].split("&/"),p=s[1]&&s[1].split("&/");if(typeof r[0]==="string"&&typeof p[0]==="string"&&r[0]!==p[0]){sap.ushell.Container.getServiceAsync("CrossApplicationNavigation").then(function(e){e.toExternal({target:{shellHash:a[1]}})});t.preventDefault()}}}}}catch(e){}};this.rebuildNewAppUrl=function(e,t){var n=e.split("#");if(n[0].length===0||n[0]===document.URL.split("#")[0]){return t+"#"+n[1]}return e};this.getPageConfig=function(){var e,t={};M=U["sap-spaces"]==="true";e=jQuery("meta[name='sap.ushellConfig.ui5appruntime']")[0];if(e!==undefined){t=JSON.parse(e.content);if(M===true){t.ushell=t.ushell||{};t.ushell.spaces={enabled:true}}}window["sap-ushell-config"]=jQuery.extend(true,{},k(),t)};this.setModulePaths=function(){if(window["sap-ushell-config"].modulePaths){var e=Object.keys(window["sap-ushell-config"].modulePaths),t;for(var n in e){t=e[n];(function(e){var t={};t[e.replace(/\./g,"/")]=window["sap-ushell-config"].modulePaths[e];sap.ui.loader.config({paths:t})})(t)}}};this.initServicesContainer=function(){return new Promise(function(e){sap.ui.require(["sap/ushell/appRuntime/ui5/services/Container"],function(t){t.bootstrap("apprt",{apprt:"sap.ushell.appRuntime.ui5.services.adapters"}).then(function(){sap.ushell.Container.getFLPUrlAsync().then(function(e){jQuery(document).on("click.appruntime",P.handleLinkElementOpen.bind(P,e));jQuery(document).on("keydown.appruntime",function(t){if(t.code==="Enter"){return P.handleLinkElementOpen(e,t)}})});sap.ushell.Container.getServiceAsync("ShellNavigation").then(function(t){N=t;N.init(function(){});p.setShellNavigationService(N);P._enableHistoryEntryReplacedDetection();e()})})})})};this._enableHistoryEntryReplacedDetection=function(){this._fnOriginalSetHash=b.setHash;this._fnOriginalReplaceHash=b.replaceHash;b.setHash=function(){if(b.disableCFLPUpdate===true){return this._fnOriginalSetHash.apply(b,arguments)}if(p.checkDataLossAndContinue()){return this._fnOriginalSetHash.apply(b,arguments)}}.bind(this);b.replaceHash=function(){if(b.disableCFLPUpdate===true){return this._fnOriginalReplaceHash.apply(b,arguments)}if(p.checkDataLossAndContinue()){return this._fnOriginalReplaceHash.apply(b,arguments)}}.bind(this)};this._getURIParams=function(){return U};this.getAppInfo=function(e){var t=window["sap-ushell-config"].ui5appruntime.config.appIndex.data,n=window["sap-ushell-config"].ui5appruntime.config.appIndex.module,i=window["sap-ushell-config"].ui5appruntime.config.appIndex.enableCache;return new Promise(function(a){if(t&&!h(t)){p.init(n,P.createApplication.bind(P),P.renderApplication.bind(P),i,e,t);a(t)}else{p.init(n,P.createApplication.bind(P),P.renderApplication.bind(P),i);p.getAppInfo(e,document.URL).then(function(e){a(e)})}})};this.setApplicationParameters=function(e,t){var n,i,r,p=new jQuery.Deferred;function u(e,t){var n="";if(e&&e.length>0){n=(e.startsWith("?")?"":"?")+e}if(t&&t.length>0){n+=(n.length>0?"&":"?")+t}return n}if(t.hasOwnProperty("sap-startup-params")){n=new s("?"+t["sap-startup-params"]).query(true);if(n.hasOwnProperty("sap-intent-param")){i=n["sap-intent-param"];delete n["sap-intent-param"]}r=new s("?").query(n).toString();if(i){a.sendMessageToOuterShell("sap.ushell.services.CrossApplicationNavigation.getAppStateData",{sAppStateKey:i}).then(function(t){e.url+=u(r,t);p.resolve()},function(t){e.url+=u(r);p.resolve()})}else{e.url+=u(r);p.resolve()}}else{p.resolve()}return p.promise()};this.setHashChangedCallback=function(){if(F===true){return}function e(e,t){if(b.disableCFLPUpdate===true){return}if(e&&typeof e==="string"&&e.length>0){if(t&&typeof t==="string"&&t.length>0){var n=e.split("&/"),i=t.split("&/");if(n[0]!==i[0]){sap.ushell.Container.getServiceAsync("CrossApplicationNavigation").then(function(t){t.toExternal({target:{shellHash:e}})});return}}a.sendMessageToOuterShell("sap.ushell.appRuntime.hashChange",{newHash:e,direction:S.getInstance().getDirection()})}}b.changed.add(e.bind(this),this);F=true};this.createApplication=function(e,t,n){var i=C.getHash(window.location.href),s=C.parseShellHash(i);return new Promise(function(i){var r="";if(t.hasOwnProperty("sap-history-dir")){r=t["sap-history-dir"];N.hashChanger.fireEvent("hashReplaced",{hash:N.hashChanger.getHash(),direction:r});d.debug("AppRuntime.createApplication :: Informed by the FLP, to change the History direction "+"property in the Iframe to: "+r)}I=new f({id:e+"-content",width:"100%",height:"100%"});I.addStyleClass("sapAppRuntimeBaseStyle");var o="0";if(U.hasOwnProperty("sap-touch")){o=U["sap-touch"];if(o!=="0"&&o!=="1"){o="0"}}jQuery("body").toggleClass("sapUiSizeCompact",o==="0").toggleClass("sapUiSizeCozy",o==="1");if(O===false){var h=new u({scopeObject:I,scopeType:"component"});h.setBackNavigation();new l({scopeObject:I,scopeType:"component"});p.setShellUIService(h);sap.ushell.renderers.fiori2.utils.init();if(c.attachBlockLayerStateChange){c.attachBlockLayerStateChange(function(e){a.sendMessageToOuterShell("sap.ushell.services.ShellUIService.showShellUIBlocker",{bShow:e.getParameters().visible})})}O=true}P.setApplicationParameters(n,t).done(function(){P.setHashChangedCallback();sap.ushell.Container.getServiceAsync("Ui5ComponentLoader").then(function(t){if(n.asyncHints&&Array.isArray(n.asyncHints.libs)){n.asyncHints.libs=n.asyncHints.libs.filter(function(e){return e.name!=="sap.ushell"})}t.createComponent({ui5ComponentName:e,applicationDependencies:n,url:n.url},s,[],v.Application).then(function(e){I.setComponent(e.componentHandle.getInstance());p.setComponent(I);R.setAppShortId(e.componentHandle);sap.ushell.Container.getServiceAsync("AppLifeCycle").then(function(t){t.prepareCurrentAppObject("UI5",e.componentHandle.getInstance(),false,undefined)});P.considerChangingTheDefaultFullWidthVal(e);P.overrideUrlHelperFuncs();i(e)})})})})};this.considerChangingTheDefaultFullWidthVal=function(e){if(E===true||E==="true"){w.emit("appWidthChange",false);var t=e.componentHandle.getInstance();var n=t.getMetadata();var i;if(n){i=t.getMetadata().getManifestEntry("/sap.ui/fullWidth");if(i===true||i==="true"){w.emit("appWidthChange",true)}else if(i===undefined){i=t.getMetadata().getManifestEntry("/sap.ui5/config/fullWidth");if(i===true||i==="true"){w.emit("appWidthChange",true)}}}}};this.overrideUrlHelperFuncs=function(){if(H===true){return}H=true;if(sap.m&&sap.m.URLHelper){sap.m.URLHelper.triggerEmail=function(e,t,n,i,s){a.sendMessageToOuterShell("sap.ushell.services.ShellUIService.sendEmail",{sTo:e,sSubject:t,sBody:n,sCc:i,sBcc:s,sIFrameURL:document.URL,bSetAppStateToPublic:true})};D=sap.m.URLHelper.redirect;sap.m.URLHelper.redirect=function(e,t){if(e&&t===true&&e.indexOf("#")>=0){sap.ushell.Container.getFLPUrlAsync().then(function(n){var i=P.rebuildNewAppUrl(e,n);D.call(sap.m.URLHelper,i,t)})}else{D.call(sap.m.URLHelper,e,t)}}}};this.loadPlugins=function(){if(L===true){return}L=true;sap.ushell.Container.getServiceAsync("PluginManager").then(function(n){e(n);t(n);n.loadPlugins("RendererExtensions")})};function e(e){e.registerPlugins({RTAPluginAgent:{component:"sap.ushell.appRuntime.ui5.plugins.rtaAgent",url:sap.ui.require.toUrl("sap/ushell/appRuntime/ui5/plugins/rtaAgent"),config:{"sap-plugin-agent":true}}})}function t(e){var t;if(U.hasOwnProperty("sap-wa-debug")&&U["sap-wa-debug"]==="dev"){t="https://education3.hana.ondemand.com/education3/web_assistant/framework/FioriAgent.js"}else if(U.hasOwnProperty("sap-wa-debug")&&U["sap-wa-debug"]==="prev"){t="https://webassistant-outlook.enable-now.cloud.sap/web_assistant/framework/FioriAgent.js"}else{t="https://webassistant.enable-now.cloud.sap/web_assistant/framework/FioriAgent.js"}e.registerPlugins({WAPluginAgent:{component:"sap.ushell.appRuntime.ui5.plugins.scriptAgent",url:sap.ui.require.toUrl("sap/ushell/appRuntime/ui5/plugins/scriptAgent"),config:{"sap-plugin-agent":true,url:t}}})}this.renderApplication=function(e){I.placeAt("content");m.hide();window.setTimeout(function(){if(e.componentHandle.getInstance().active){e.componentHandle.getInstance().active()}P.loadPlugins()},0)}}function k(){return{services:{CrossApplicationNavigation:{module:"sap.ushell.appRuntime.ui5.services.CrossApplicationNavigation",adapter:{module:"sap.ushell.appRuntime.ui5.services.adapters.EmptyAdapter"}},NavTargetResolution:{module:"sap.ushell.appRuntime.ui5.services.NavTargetResolution",adapter:{module:"sap.ushell.appRuntime.ui5.services.adapters.EmptyAdapter"}},ShellNavigation:{module:"sap.ushell.appRuntime.ui5.services.ShellNavigation",adapter:{module:"sap.ushell.appRuntime.ui5.services.adapters.EmptyAdapter"}},AppConfiguration:{module:"sap.ushell.appRuntime.ui5.services.AppConfiguration"},Bookmark:{module:"sap.ushell.appRuntime.ui5.services.Bookmark",adapter:{module:"sap.ushell.appRuntime.ui5.services.adapters.EmptyAdapter"}},LaunchPage:{module:"sap.ushell.appRuntime.ui5.services.LaunchPage",adapter:{module:"sap.ushell.appRuntime.ui5.services.adapters.EmptyAdapter"}},UserInfo:{module:"sap.ushell.appRuntime.ui5.services.UserInfo",adapter:{module:"sap.ushell.appRuntime.ui5.services.adapters.EmptyAdapter"}},AppState:{module:"sap.ushell.appRuntime.ui5.services.AppState",adapter:{module:"sap.ushell.appRuntime.ui5.services.adapters.EmptyAdapter"}},PluginManager:{config:{isBlueBox:true}},Menu:{module:"sap.ushell.appRuntime.ui5.services.Menu",adapter:{module:"sap.ushell.appRuntime.ui5.services.adapters.EmptyAdapter"}},CommonDataModel:{module:"sap.ushell.appRuntime.ui5.services.CommonDataModel",adapter:{module:"sap.ushell.appRuntime.ui5.services.adapters.EmptyAdapter"}},Ui5ComponentLoader:{config:{amendedLoading:false}}}}}var B=new T;P=B;B.main();return B});function prepareModules(){"use strict";sap.ui.require(["sap/ui/core/BusyIndicator"],function(e){try{if(apprtBIdiv){document.body.classList.remove("apprtBIbg");apprtBIdiv.parentNode.removeChild(apprtBIdiv);apprtBIstyle.parentNode.removeChild(apprtBIstyle)}e.show(0)}catch(t){e.show(0)}});if(document.URL.indexOf("ui5appruntime")>0){sap.ui.define("sap/ushell/ApplicationType",[],function(){return{URL:{type:"URL"},WDA:{type:"WDA"},TR:{type:"TR"},NWBC:{type:"NWBC"},WCF:{type:"WCF"},SAPUI5:{type:"SAPUI5"}}});sap.ui.define("sap/ushell/components/applicationIntegration/AppLifeCycle",[],function(){return{}});sap.ui.define("sap/ushell/services/_AppState/WindowAdapter",[],function(){return function(){}});sap.ui.define("sap/ushell/services/_AppState/SequentializingAdapter",[],function(){return function(){}});sap.ui.define("sap/ushell/services/_AppState/Sequentializer",[],function(){return function(){}});sap.ui.define("sap/ushell/services/Configuration",[],function(){function e(){this.attachSizeBehaviorUpdate=function(){};this.hasNoAdapter=true}e.hasNoAdapter=true;return e});sap.ui.define("sap/ushell/services/_PluginManager/Extensions",[],function(){return function(){}});sap.ui.define("sap/ushell/TechnicalParameters",[],function(){return{getParameterValue:function(){return Promise.resolve([])},getParameterValueSync:function(){return[]},getParameters:function(){return[]},getParameterNames:function(){return[]},isTechnicalParameter:function(){return false}}});sap.ui.define("sap/ushell/AppInfoParameters",[],function(){return{getInfo:function(){return Promise.resolve({})}}});sap.ui.define("sap/ushell/bootstrap/common/common.load.core-min",[],function(){return{loaded:false,load:function(e){}}})}}
this.prepareModules=prepareModules;
},
	"sap/ushell/appRuntime/ui5/BusyIndicator.js":'// Copyright (c) 2009-2022 SAP SE, All Rights Reserved\nvar apprtBIdiv,apprtBIstyle;document.addEventListener("DOMContentLoaded",function(){try{apprtBIstyle=document.createElement("style");apprtBIstyle.type="text/css";apprtBIstyle.innerHTML=".apprtBIbg {background-color:#636363} "+".apprtBIcenter {position: absolute;top: 50%;left: 50%;margin-top: -50px;margin-left: -100px;width: 200px;height: 100px;} "+".apprtBIcir {height: 30px;width: 30px;border-radius:50%;transform: scale(0);background-color:#0854a0;animation: apprtBIscaling 1.8s ease-in-out infinite;display: inline-block;margin:.1rem;} "+".apprtBIcir:nth-child(0) {animation-delay:0s;} "+".apprtBIcir:nth-child(1) {animation-delay:0.2s;} "+".apprtBIcir:nth-child(2) {animation-delay:0.4s;} "+".apprtBIcir:nth-child(3) {animation-delay:0.6s;} "+"@keyframes apprtBIscaling {0%, 100% {transform: scale(0.2);} 40% {transform: scale(1);} 50% {transform: scale(1);}}";document.getElementsByTagName("head")[0].appendChild(apprtBIstyle);document.body.classList.add("apprtBIbg");apprtBIdiv=document.createElement("div");apprtBIdiv.classList.add("apprtBIcenter");document.body.appendChild(apprtBIdiv);var t;t=document.createElement("div");t.classList.add("apprtBIcir");apprtBIdiv.appendChild(t);t=document.createElement("div");t.classList.add("apprtBIcir");apprtBIdiv.appendChild(t);t=document.createElement("div");t.classList.add("apprtBIcir");apprtBIdiv.appendChild(t);document.body.style.height="100%";document.body.style.width="100%"}catch(t){}});\n//# sourceMappingURL=BusyIndicator.js.map',
	"sap/ushell/appRuntime/ui5/libsPreload.js":function(){
// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
try{document.getElementById("sap-ui-bootstrap").setAttribute("data-sap-ui-libs","sap.ui.core,sap.m,sap.ui.fl")}catch(t){}try{document.getElementById("sap-ui-bootstrap").setAttribute("data-sap-ui-compatVersion","edge")}catch(t){}
}
},"sap/ushell/core-lib111-preload");
sap.ui.requireSync("sap/ui/core/Core");
// as this module contains the Core, we ensure that the Core has been booted
sap.ui.getCore().boot && sap.ui.getCore().boot();
//# sourceMappingURL=appruntime-min-3.js.map
