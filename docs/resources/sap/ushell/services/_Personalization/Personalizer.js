// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.define(["sap/ushell/utils","sap/ui/thirdparty/jquery","sap/base/Log"],function(e,jQuery,t){"use strict";function n(t,n,r,i,o){this._sPersContainer="";this._sPersItem="";this._sPersVariant=null;this._oAdapter=n;this._oService=t;this._oScope=i;this._oComponent=o;if(!r||!r.container||!r.item||typeof r.container!=="string"||typeof r.item!=="string"){throw new e.Error("Invalid input for oPersId: sap.ushell.services.Personalization"," ")}this._sPersContainer=r.container;this._sPersItem=r.item}n.prototype._getContainer=function(e){if(!this._oGetContainerPromise){this._oGetContainerPromise=this._oService.getContainer(e,this._oScope,this._oComponent)}return this._oGetContainerPromise};n.prototype.getPersData=function(){var e={},n=this;e=new jQuery.Deferred;this._getContainer(this._sPersContainer).fail(function(){e.reject()}).done(function(t){e.resolve(t.getItemValue(n._sPersItem))});e.fail(function(){t.error("Fail to get Personalization data for Personalizer container: "+n._sPersContainer)});return e.promise()};n.prototype.setPersData=function(e){var n={},r=this;n=new jQuery.Deferred;this._getContainer(this._sPersContainer).fail(function(){n.reject()}).done(function(t){t.setItemValue(r._sPersItem,e);t.save().fail(function(){n.reject()}).done(function(){n.resolve()})});n.fail(function(){t.error("Fail to set Personalization data for Personalizer container: "+r._sPersContainer)});return n.promise()};n.prototype.delPersData=function(){var e={},n=this,r;e=new jQuery.Deferred;this._getContainer(this._sPersContainer).fail(function(){e.reject()}).done(function(t){t.delItem(n._sPersItem);t.save().fail(function(){e.reject()}).done(function(){e.resolve()})});r=e.promise();r.fail(function(){t.error("Fail to delete Personalization data for Personalizer container: "+this._sPersContainer)});return r};return n});
//# sourceMappingURL=Personalizer.js.map