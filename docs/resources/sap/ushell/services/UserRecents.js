// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.define(["sap/ui/base/Object","sap/ui/thirdparty/jquery","sap/ushell/utils","sap/base/util/ObjectPath","./_UserRecents/RecentsList","./_UserRecents/RecentActivity","./_UserRecents/RecentAppsUsage"],function(e,jQuery,t,o,c,r,n){"use strict";var a=e.extend("sap.ushell.services.UserRecents",{constructor:function(){this.oRecentSearches=new c("RecentSearches",10,a._compareSearchItems);this.oRecentDataSources=new c("RecentDataSources",6,a._compareDataSources);this.oRecentApps=new c("RecentApps",6,a._compareApps);this.oRecentActivity=new r(500);this.oAppsUsage=new n}});a._compareSearchItems=function(e,t){var o=false;if(e.oDataSource&&t.oDataSource){if(e.oDataSource.objectName&&t.oDataSource.objectName){o=e.sTerm===t.sTerm&&e.oDataSource.objectName.value===t.oDataSource.objectName.value}if(!e.oDataSource.objectName&&!t.oDataSource.objectName){o=e.sTerm===t.sTerm}}if(!e.oDataSource&&!t.oDataSource){o=e.sTerm===t.sTerm}return o};a._compareDataSources=function(e,t){if(e.objectName&&t.objectName){return e.objectName.value===t.objectName.value}return false};a._compareApps=function(e,t){return e.semanticObject===t.semanticObject&&e.action===t.action};a.prototype.addActivity=function(e){var t=new jQuery.Deferred;this.oRecentActivity.newItem(e).done(function(){this.oRecentActivity.getRecentItems().done(t.resolve).fail(t.reject)}.bind(this)).fail(t.reject);return t.promise()};a.prototype.clearRecentActivities=function(){return this.oRecentActivity.clearAllActivities()};a.prototype.getRecentActivity=function(){return this.oRecentActivity.getRecentItems()};a.prototype.getFrequentActivity=function(){return this.oRecentActivity.getFrequentItems()};a.prototype.noticeDataSource=function(e){var t=o.get("objectName.value",e)||"";var c=o.get("objectName",e)||"";var r=t.toLowerCase()==="$$all$$";var n=c.toLowerCase()==="$$all$$";if(!r&&!n){var a=new jQuery.Deferred;this.oRecentDataSources.newItem(e).done(function(){this.oRecentDataSources.getRecentItems().done(a.resolve).fail(a.reject)}.bind(this)).fail(a.reject);return a.promise()}return this.oRecentDataSources.getRecentItems()};a.prototype.addDataSourceActivity=a.prototype.noticeDataSource;a.prototype.getRecentDataSources=function(){return this.oRecentDataSources.getRecentItems()};a.prototype.noticeSearch=function(e){var t=new jQuery.Deferred;this.oRecentSearches.newItem(e).done(function(){this.oRecentSearches.getRecentItems().done(t.resolve).fail(t.reject)}.bind(this)).fail(t.reject);return t.promise()};a.prototype.addSearchActivity=a.prototype.noticeSearch;a.prototype.getRecentSearches=function(){return this.oRecentSearches.getRecentItems()};a.prototype.noticeApp=function(e){var t=new jQuery.Deferred;this.oRecentApps.newItem(e).done(function(){this.oRecentApps.getRecentItems().done(t.resolve).fail(t.reject)}.bind(this)).fail(t.reject);return t.promise()};a.prototype.addAppActivity=a.prototype.noticeApp;a.prototype.getRecentApps=function(){return this.oRecentApps.getRecentItems()};a.prototype.addAppUsage=function(e){var o=t.getBasicHash(e);this.oAppsUsage.addAppUsage(o)};a.prototype.getAppsUsage=function(){return this.oAppsUsage.getAppsUsage()};a.hasNoAdapter=true;return a},true);
//# sourceMappingURL=UserRecents.js.map