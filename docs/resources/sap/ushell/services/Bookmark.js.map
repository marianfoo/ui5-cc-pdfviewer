{"version":3,"file":"Bookmark.js","names":["sap","ui","define","jQuery","Config","ushellLibrary","deepClone","deepExtend","Log","LEGACY_HANA_CATALOG_ID","ContentNodeType","Bookmark","this","_oLaunchPageServicePromise","ushell","Container","getServiceAsync","last","_oPagesServicePromise","_addBookmarkToContentNodes","oBookmarkParams","aContentNodes","bCustom","sContentProviderId","aPromises","map","oContentNode","hasOwnProperty","isContainer","type","Page","addBookmarkToPage","id","HomepageGroup","Promise","resolve","reject","then","LaunchPageService","getGroupById","done","fail","bind","oGroup","addBookmarkToHomepageGroup","all","addBookmark","oParameters","vContainer","oDeferred","Deferred","bEnablePersonalization","bEnableSpace","bEnableMyHome","promise","oMenuService","getDefaultSpace","oDefaultSpace","oDefaultPage","children","catch","Array","isArray","concat","addCustomBookmark","sVizType","oConfig","vContentNodes","oClonedConfig","oBookmarkConfig","vizType","vizConfig","chipConfig","includeManifest","loadManifest","sError","oTile","oData","tile","group","getCore","getEventBus","publish","sPageId","sMyHomePageId","title","url","oPagesService","undefined","addBookmarkByGroupId","groupId","getGroups","aGroups","grep","entry","length","getShellGroupIDs","bGetAll","getGroupsForBookmarks","getGroupId","object","_doAddCatalogTileToGroup","sCatalogTileId","oCatalog","sGroupId","bGroupFound","some","_addToGroup","error","getDefaultGroup","_isSameCatalogTile","oCatalogTile","oLaunchPageService","sIdWithPotentialSuffix","getCatalogTileId","indexOf","getCatalogTiles","aCatalogTiles","bTileFound","addTile","getCatalogId","addCatalogTileToGroup","oCatalogData","fnMatcher","_isMatchingRemoteCatalog","_isLegacyHANACatalog","onCatalogTileAdded","getCatalogs","aCatalogs","oSourceCatalog","forEach","warning","JSON","stringify","oRemoteCatalogData","getCatalogData","remoteId","baseUrl","replace","countBookmarks","sUrl","contentProviderId","countCustomBookmarks","oIdentifier","deleteBookmarks","oResult","deleteCustomBookmarks","updateBookmarks","updateCustomBookmarks","getContentNodes","aHomepageGroups","aResults","oBookmarkGroup","label","hasNoAdapter"],"sources":["Bookmark-dbg.js"],"mappings":"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"}