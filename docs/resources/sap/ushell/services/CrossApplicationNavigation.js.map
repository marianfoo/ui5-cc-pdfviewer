{"version":3,"file":"CrossApplicationNavigation.js","names":["sap","ui","define","oAppConfiguration","oUtils","oType","TechnicalParameters","oAppLifeCycle","isPlainObject","UriParameters","jQuery","ObjectPath","merge","utils","ApplicationType","UI5ComponentType","Log","UrlParsing","deepClone","CrossApplicationNavigation","oContainerInterface","sParameters","oServiceConf","oServiceConfiguration","config","getTargetWithCurrentSystem","vTarget","oComponent","oResolution","sSystem","sNextNavMode","sAppOrigin","oComponentStartupParams","undefined","error","getCurrentApplication","getComponentData","startupParameters","hasOwnProperty","url","get","contentProviderId","vInjectedTarget","_injectParameters","type","inject","injectEmptyString","args","amendTargetWithSapUshellEncTestParameter","sSeparator","oClonedTarget","sShellHash","localStorage","extend","target","shellHash","params","test","indexOf","encodeURIComponent","this","_extractInnerAppRoute","vIntent","that","aParts","sIntent","split","shift","intent","innerAppRoute","length","join","Object","prototype","toString","apply","oResult","vAppSpecificRoute","appSpecificRoute","bIsStringWithoutSeparator","_injectInnerAppRoute","sInnerAppRoute","hrefForExternal","oArgs","bAsync","oDeferred","Deferred","hrefForExternalAsync","then","resolve","catch","reject","promise","oArgsClone","oExtraction","vIntentNoAppRoute","addXAppStateFromParameter","injectStickyParameters","appLifeCycle","technicalParameters","ShellNavigation","ushell","Container","getService","debug","Promise","addXAppStateFromParameterAsync","injectStickyParametersAsync","oArgsCloneResult","getServiceAsync","bind","done","fail","expandCompactHash","sHashFragment","NavTargetResolution","backToPreviousApp","isInitialNavigationAsync","bIsInitial","toExternal","writeHistory","historyBack","iSteps","iActualStepsBack","warning","window","history","go","isInitialNavigation","oShellNavigation","bIsInitialNavigation","bWriteHistory","oNavTarget","_processShellHashWithParams","oShellNavigationService","oCurrentApplication","all","aServices","oAppLifeCycleService","getIntent","oIntent","_checkIfAppNeedsToBeReloaded","hashChanger","oError","navTarget","currentApplication","currentApplicationIntent","shellNavigationHashChanger","oHash","parseShellHash","semanticObject","action","contextRaw","assign","applicationType","oTargetParameters","keys","forEach","sKey","vValue","aValue","Array","isArray","map","vInnerValue","haveSameIntentParameters","setReloadApplication","hrefForAppSpecificHash","sAppHash","encodeURI","hrefForAppSpecificHashAsync","getPrimaryIntent","sSemanticObject","mParameters","oQuery","fnSortPredicate","rgxDisplayFactSheetAction","tags","getLinks","aLinks","oLink","oOtherLink","bEitherIsFactSheetAction","sort","getSemanticObjectLinks","bIgnoreFormFactor","sAppStateKey","bCompactIntents","mParametersPlusSapSystem","vArgs","aArgs","push","ignoreFormFactor","ui5Component","appStateKey","compactIntents","aResults","invokeUnfoldingArrayArguments","aExpandedIntents","_getLinks","oNominalArgs","oNominalArgsClone","paramsOptions","extractGetLinksParameterOptions","oNominalArgsCloneResult","mParameterDefinition","extractGetLinksParameterDefinition","getDistinctSemanticObjects","isIntentSupported","aIntents","mOriginalIntentHash","aClonedIntentsWithSapSystem","sIntentWithSystem","mIntentSupportedPlusSapSystem","mIntentSupportedNoSapSystem","sKeyPlusSapSystem","isNavigationSupported","aClonedIntents","isUrlSupported","sUrl","isIntentUrl","sHash","getHash","supported","createComponentInstance","oConfig","oOwnerComponent","oContainer","oModifiedComponentData","createComponentData","oComponentData","ui5ComponentLoader","modifyComponentProperties","Application","oData","runAsOwner","createComponent","oAppProperties","loadDefaultDependencies","instantiateComponent","oAppPropertiesWithComponentHandle","componentHandle","getInstance","stack","sError","fnResolve","fnReject","sCanonicalIntent","iConfigPropertyCount","componentData","constructShellHash","resolveHashFragment","finalizeResult","oResultNew","ui5ComponentName","additionalInformation","replace","name","URL","appCapabilities","appFrameworkId","inAppRuntime","require","AppLifeCycleAgent","getAppInfo","technicalAppComponentId","oAppInfo","applicationDependencies","oResolvedHashFragment","createEmptyAppState","oAppComponent","bTransientEnforced","sPersistencyMethod","oPersistencySettings","AppStateService","core","UIComponent","Error","createEmptyAppStateAsync","getStartupAppState","_checkComponent","sContainerKey","getAppState","AppState","setTimeout","createEmptyUnmodifiableAppState","getAppStateData","sAppStateKeyOrArray","_getAppStateData","oAppState","getData","saveMultipleAppStates","aAppStates","aResult","save","when","processParams","getSupportedAppStatePersistencyMethods","getSupportedPersistencyMethods","getSupportedAppStatePersistencyMethodsAsync","makeStatePersistent","iPersistencyMethod","resolveIntent","sMessage","hasNoAdapter"],"sources":["CrossApplicationNavigation-dbg.js"],"mappings":"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"}