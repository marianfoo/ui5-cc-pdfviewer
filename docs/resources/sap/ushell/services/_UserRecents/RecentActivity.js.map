{"version":3,"file":"RecentActivity.js","names":["sap","ui","define","UserRecentsBase","ushellLibrary","EventHub","Device","Log","AppType","RecentActivity","extend","constructor","maxItems","call","this","_compareItems","MAX_DAYS","ITEM_COUNT","a","b","appType","APP","url","appId","prototype","_updateIfAlreadyIn","oItem","iTimestampNow","oRecentActivities","recentUsageArray","some","oRecentEntry","bFound","jQuery","iTimestamp","timestamp","mobile","undefined","tablet","desktop","aUsageArray","length","iCount","sort","_itemSorter","bind","_insertNew","sIcon","icon","oNewEntry","iMaxItems","pop","unshift","newItem","oDeferred","Deferred","Date","now","getActivityIcon","bAlreadyIn","currentDay","getDayFromDateObj","_load","done","aLoadedRecents","getRecentActivitiesFromLoadedData","recentDay","addNewDay","_save","emit","resolve","fail","reject","promise","sAppType","SEARCH","COPILOT","URL","clearAllActivities","getRecentItemsHelper","maxNumOfActivities","activityIndex","oActivity","sCurrentDevice","bIsResolved","aIntentsToResolve","aURL","system","bNewDayAdded","sMandatoryParams","push","indexOf","substring","urlItem","aItems","_getRecentItemsForDevice","ushell","Container","getServiceAsync","then","CrossApplicationNavigationService","isIntentSupported","oResolved","supported","sMsg","device","recents","aRecentItemsForDevice","iDeviceDependentActivities","iRecentActivities","getRecentItems","recentItems","map","getFrequentItems","iWorkingDaysCounter","aFrequentActivity","previousActivityDate","currentActivityDate","toDateString","slice","aCurrentActivityArray","shift","dateObj","getUTCFullYear","getUTCMonth","getUTCDate","loadedRecents","recentActivities","Array","isArray","filter","bIsValid","error"],"sources":["RecentActivity-dbg.js"],"mappings":"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"}