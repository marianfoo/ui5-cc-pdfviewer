{"version":3,"file":"Notifications.js","names":["sap","ui","define","OData","SapPcpWebSocket","jQuery","Log","JSONModel","ushellUtils","S_DEFAULT_WEBSOCKET_URL","I_DEFAULT_POLLING_INTERVAL","Notifications","oContainerInterface","sParameters","oServiceConfiguration","oModel","tInitializationTimestamp","Date","oServiceConfig","config","aRequestURIs","getNotifications","getNotificationsByType","getNotificationsInGroup","getBadgeNumber","resetBadgeNumber","getNotificationTypesSettings","getNotificationsGroupHeaders","getMobileSupportSettings","getEmailSupportSettings","getWebSocketValidity","getNotificationCount","oWebSocket","initialReadTimer","webSocketRecoveryTimer","pollingTimer","aUpdateNotificationsCallbacks","aUpdateDependencyNotificationsCallbacks","aUpdateNotificationsCountCallbacks","bIntentBasedConsumption","aConsumedIntents","bInitialized","bOnServiceStop","bEnabled","sHeaderXcsrfToken","sDataServiceVersion","tWebSocketRecoveryPeriod","tFioriClientInitializationPeriod","bWebSocketRecoveryAttempted","oOperationEnum","NOTIFICATIONS","NOTIFICATIONS_BY_TYPE","GET_BADGE_NUMBER","RESET_BADGE_NUMBER","GET_SETTINGS","GET_MOBILE_SUPPORT_SETTINGS","NOTIFICATIONS_GROUP_HEADERS","NOTIFICATIONS_IN_GROUP","GET_NOTIFICATIONS_COUNT","VALIDATE_WEBSOCKET_CHANNEL","GET_EMAIL_SUPPORT_SETTINGS","NOTIFICATIONS_BY_DATE_DESCENDING","NOTIFICATIONS_BY_DATE_ASCENDING","NOTIFICATIONS_BY_PRIORITY_DESCENDING","NOTIFICATIONS_BY_TYPE_DESCENDING","oModesEnum","PACKAGED_APP","FIORI_CLIENT","WEB_SOCKET","POLLING","oCurrentMode","bFirstDataLoaded","bHighPriorityBannerEnabled","bUserFlagsReadFromPersonalization","oUserFlagsReadFromPersonalizationDeferred","Deferred","oNotificationSettingsAvailabilityDeferred","bNotificationSettingsMobileSupport","bNotificationSettingsEmailSupport","oUserFlagsReadFromPersonalizationPromise","promise","bUseDummyItems","oDummyItems","iInitialBufferSize","bInvalidCsrfTokenRecoveryMode","bCsrfDataSet","aDismissNotifications","this","isEnabled","enabled","serviceUrl","warning","init","getCore","getEventBus","subscribe","destroy","lastNotificationDate","_setWorkingMode","bUpdateDependencyInitiatorExists","_userSettingInitialization","_onSetConnectionToServer","channelID","eventID","data","active","_resumeConnection","_closeConnection","getUnseenNotificationsCount","oDeferred","resolve","getProperty","getNotificationsCount","getNotificationsByTypeWithGroupHeaders","oHeader","getConfiguration","getLanguageTag","oRequestObject","sReadNotificationsByTypeWithGroupHeadersUrl","_getRequestURI","requestUri","_getHeaderXcsrfToken","headers","request","oResult","oMessage","response","statusCode","body","reject","error","sReadNotificationsGroupHeadersUrl","getNotificationsBufferInGroup","sGroup","iSkip","iTop","that","oArgs","group","skip","top","aResponse","oResponse","sRequestUri","slice","JSON","stringify","value","setTimeout","_updateCSRF","parse","getNotificationsBufferBySortingType","sSortingType","oReadPromise","_readNotificationsData","done","fail","executeBulkAction","sNotificationGroupId","sActionId","aSuccededNotifications","aFailedNotifications","succededNotifications","failedNotifications","sendBulkAction","res","forEach","oNotificationRes","iIndex","sNotificationId","NotificationId","bSuccess","Success","push","length","dismissBulkNotifications","sendBulkDismiss","executeAction","sActionUrl","oRequestBody","ActionId","method","DataServiceVersion","responseAckJson","responseAck","isSucessfull","message","MessageText","_csrfTokenInvalid","_invalidCsrfTokenRecovery","sParentId","ParentId","markRead","dismissNotification","_addDismissNotifications","registerNotificationsUpdateCallback","callback","registerDependencyNotificationsUpdateCallback","bDependent","dependent","registerNotificationCountUpdateCallback","notificationsSeen","_setNotificationsAsSeen","isFirstDataLoaded","readSettings","oPromise","_readSettingsFromServer","saveSettingsEntry","oEntry","_writeSettingsEntryToServer","getUserSettingsFlags","highPriorityBannerEnabled","setUserSettingsFlags","oFlags","_writeUserSettingsFlagsToPersonalization","_getNotificationSettingsMobileSupport","_getDismissNotifications","filterDismisssedItems","aRecentNotificationsArray","filter","oRecentItem","some","sDismissItem","originalItemId","sId","indexOf","_initializeDismissNotifications","_getNotificationSettingsEmailSupport","clearTimeout","close","unsubscribe","_readUnseenNotificationsCount","bUpdateCustomers","sGetBadgeNumberUrl","read","oResponseData","setProperty","GetBadgeNumber","Number","_setNativeIconBadge","oReturnedObject","readNotificationsCount","sGetNotificationNumberUrl","_getNotificationSettingsAvalability","sResetBadgeNumberUrl","_isFioriClientMode","_isPackagedMode","bUpdateConsumers","oReadUnseesCountPromise","oReadNotificationsPromise","oReadNotificationsCountPromise","aPromises","when","apply","then","_updateNotificationsCountConsumers","_notificationAlert","_updateNotificationsConsumers","_updateDependentNotificationsConsumers","_getDataServiceVersion","oRequiredURI","sReturnedURI","sEncodedConsumedIntents","encodeURI","_getConsumedIntents","basic","undefined","_isIntentBasedConsumption","byIntents","concat","sReadSettingsUrl","results","_readMobileSettingsFromServer","_readChannelSettingsFromServer","_readEmailSettingsFromServer","operation","sRequestUrl","oResponseObject","sUpdatedResponseString","successStatus","_checkWebSocketActivity","IsActive","sSetSettingsUrl","NotificationTypeId","callbackObj","_updateAllConsumers","_getModel","_getMode","aConsumedIntentsFromConfig","intentBasedConsumption","_getIntentsFromConfiguration","consumedIntents","window","fiori_client_appConfig","applications","_registerForPush","_setNativeIconBadgeWithDelay","_performFirstRead","tFioriClientRemainingDelay","_getFioriClientRemainingDelay","_fioriClientStep","sMsg","oUnseenNotificatiosCountPromise","_addPushNotificationHandler","iBadgeValue","_webSocketStep","_establishWebSocketConnection","_webSocketRecoveryStep","bind","_activatePollingAfterInterval","iPollingInterval","pollingIntervalInSeconds","_activatePolling","sanitizeTimeoutDelay","_formatAsDate","sUnformated","oNotification","aNewNotifications","nextLastNotificationDate","CreatedAt","Priority","publish","bDeliberateClose","oPcpFields","_getWebSocketObjectObject","webSocketUrl","SUPPORTED_PROTOCOLS","v10","attachMessage","getParameter","Command","attachOpen","bIsActive","info","attachClose","oEvent","mParameters","code","reason","attachError","e","FioriClient","prepackaged","Push","setBadgeNumber","aInput","aTempConsumedIntents","sTempIntent","index","intent","_handlePushedNotification","oNotificationData","sSemanticObject","sAction","oParameters","aParameters","oViewPortContainer","additionalData","foreground","NavigationTargetObject","NavigationTargetAction","NavigationTargetParam","String","Array","isArray","hasher","getHash","byId","switchState","toExternalWithParameters","initPush","document","addEventListener","oResuestURI","sConsumedIntents","_revalidateCsrfToken","bAuthorizationError","sCSRFTokenHeader","bCSRFTokenRequired","toLowerCase","oOriginalDeferred","fnFailedFunction","aArgsArray","oSecondCallPromise","_notificationsAscendingSortBy","aNotifications","sPropertyToSortBy","sort","x","y","val1","val2","id","sWebSocketUrl","aVersionProtocol","getOperationEnum","_readUserSettingsFlagsFromPersonalization","_getUserSettingsPersonalizer","oPersonalizer","getPersData","oFlagsData","catch","name","setPersData","oUserSettingsPersonalizerPromise","ushell","Container","getServiceAsync","PersonalizationService","oScope","keyCategory","constants","FIXED_KEY","writeFrequency","LOW","clientStorageAllowed","oPersId","container","item","getPersonalizer","oSettingsPromise","oMobileSettingsPromise","oEmailSettingsPromise","oSettingsStatus","settingsAvailable","mobileAvailable","emailAvailable","bMobileSupportResponseSuccess","bEmailSupportResponseSuccess","hasNoAdapter"],"sources":["Notifications-dbg.js"],"mappings":"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"}