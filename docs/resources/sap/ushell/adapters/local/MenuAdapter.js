// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.define(["sap/base/util/ObjectPath","sap/base/Log","sap/ushell/library"],function(e,t,n){"use strict";var r=n.ContentNodeType;var i=function(t,n,r){this._oAdapterConfig=e.get("config",r)};i.prototype.isMenuEnabled=function(){return Promise.resolve(!!this._oAdapterConfig.enabled)};i.prototype.getContentNodes=function(){var e=this._oAdapterConfig.menuData;if(!e){t.error("No menuData specified in the adapter configuration.",null,"sap.ushell.adapters.local.MenuAdapter");return Promise.reject(new Error("No menuData specified in the adapter configuration."))}if(typeof e==="object"){return Promise.resolve(e)}return fetch(e,{headers:{Accept:"application/json","Accept-Language":sap.ui.getCore().getConfiguration().getLanguageTag()}}).then(function(e){return e.json()}).catch(function(e){t.error("Menu entries were requested but could not be loaded from JSON file",e);return Promise.reject(new Error("Menu entries could not be fetched"))})};i.prototype.getMenuEntries=function(){return this.getContentNodes().then(function(e){return e.map(function(e){var t=e.children[0];var n=this._buildMenuEntry(e,e.id,t.id);if(e.children.length>1){n.menuEntries=e.children.map(function(t){return this._buildMenuEntry(t,e.id,t.id)}.bind(this))}return n}.bind(this))}.bind(this))};i.prototype._buildMenuEntry=function(e,t,n){var i=e.type===r.Space?"Space-":"Page-";return{"help-id":i+e.id,title:e.label,type:"IBN",target:{semanticObject:"Launchpad",action:"openFLPPage",parameters:[{name:"spaceId",value:t},{name:"pageId",value:n}]},menuEntries:[]}};return i},false);
//# sourceMappingURL=MenuAdapter.js.map