// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.define(["sap/base/Log","sap/m/Button","sap/m/ButtonRenderer","sap/ushell/Config","sap/ushell/resources"],function(e,t,s,i,n){"use strict";var r=t.extend("sap.ushell.ui.footerbar.SendAsEmailButton",{metadata:{library:"sap.ushell",properties:{beforePressHandler:{type:"any",group:"Misc",defaultValue:null},afterPressHandler:{type:"any",group:"Misc",defaultValue:null}}},renderer:"sap.m.ButtonRenderer"});r.prototype.init=function(){if(t.prototype.init){t.prototype.init.apply(this,arguments)}this.setIcon("sap-icon://email");this.setText(n.i18n.getText("sendEmailBtn"));this.setTooltip(n.i18n.getText("sendEmailBtn_tooltip"));this.attachPress(function(){if(this.getBeforePressHandler()){this.getBeforePressHandler()()}this.sendAsEmailPressed(this.getAfterPressHandler())}.bind(this))};r.prototype.sendAsEmailPressed=function(t){if(sap.ushell.Container.inAppRuntime()){sap.ui.require(["sap/ushell/appRuntime/ui5/AppRuntimeService"],function(e){e.sendMessageToOuterShell("sap.ushell.services.ShellUIService.sendEmailWithFLPButton",{bSetAppStateToPublic:true})})}else{var s=document.URL;var r=i.last("/core/shellHeader/application").title;var a=r===undefined?n.i18n.getText("linkToApplication"):n.i18n.getText("linkTo")+" '"+r+"'";sap.ushell.Container.getServiceAsync("AppState").then(function(t){t.setAppStateToPublic(s).done(function(e){sap.m.URLHelper.triggerEmail(null,a,e)}).fail(e.error)})}if(t){t()}};return r},true);
//# sourceMappingURL=SendAsEmailButton.js.map