{"version":3,"file":"AppLifeCycle.js","names":["sap","ui","define","ElementsModel","Storage","BlueBoxHandler","ShellUIService","Application","RelatedServices","RelatedShellElements","AppMeta","AppConfiguration","utils","Device","Config","ApplicationType","UriParameters","jQuery","Log","EventHub","oUrlParsing","AppLifeCycle","oViewPortContainer","aCachedAppTypes","sRootIntent","oShellUIService","appState","oIntentToStorageId","disableHomeAppCache","oCurrentApplication","oActualElementsModelStateMap","home","embedded","headerless","merged","blank","app","minimal","standalone","lean","oWebGuiV1StatefulCache","oGlobalShellCommunicationHandlers","oGlobalIframeCommunicationHandlers","isBackNavigationChanged","oKeepAliveModes","FULL","RESTRICTED","this","shellElements","service","isCurrentApp","appId","isAppWithSimilarShellHashInCache","sFixedShellHash","oAppEntry","get","shellHash","isAppInCache","normalizeAppId","sAppId","sCmp","isCmp","endsWith","substring","length","onComponentCreated","oEvent","sChannel","oData","oApp","component","getId","active","onGetMe","store","oStorageEntry","meta","stateStored","destroy","oFrom","oDeferred","oInnerControl","oPromiseAppDestroy","doDestroy","getUrl","deleteStateFul","removeControl","getStateFul","isStatefulContainerSupported","oHandler","getHandler","container","Promise","resolve","remove","then","oPromise","sendBeforeAppCloseEvent","undefined","sError","error","restore","handleExitStateful","sFromId","isHomePage","sBBStorageId","oHandlers","getStorageKey","isBackNavigation","getCore","getEventBus","publish","handleExitApplication","sToId","oTo","that","bIsAppOfTypeCachable","oPromiseAppClose","oDeferredAppClose","getIframeReusedForApp","setProperty","postMessageToIframeApp","Deferred","promise","getIsStateful","postMessageRequest","indexOf","getApplicationType","isAppOfTypeCached","closeKeepAliveApps","fnCloseKeepAliveIfRestricted","value","keepAliveMode","fnFilterApps","arrClosePromises","arrKeepAliveRestrictedApps","forEach","apply","push","oRestrictedApp","e","onBeforeNavigate","onAfterNavigate","bIsShellApps","setActiveAppContainer","storeApp","oContainer","oTarget","oKeepAliveMode","set","stt","appRelatedElements","getAppRelatedElement","getMetadata","globalValue","paramValue","appTarget","ui5ComponentName","enableRouterRetrigger","setStorageKey","restoreApp","sKeepAlive","window","location","href","isCachedEnabledAsAppParameter","oShellHash","params","url","calculateAppType","applicationType","additionalInformation","startsWith","getStatefulCapabilities","appCapabilities","statefulContainer","isNotifyInnerAppRouteChangeEnabled","notifyInnerAppRouteChange","isStatefulCapabilityEnabled","oStatefulCap","enabled","isGUICapabilityEnabled","protocol","isFLPCapabilityEnabled","isGUIStatefulCapabilityEnabled","openApp","inAppId","sIntent","oTmpAppContainer","sTmpUrl","semanticObject","action","getById","getControl","removeCapabilities","createApplicationContainer","appFrameworkId","getWebGuiV1StatefulContainer","removeWebGuiV1StatefulContainer","removeApplication","isCapUT","setCapabilities","getAppMeta","evict","oEntry","key","addEvents","hasBeenCalled","on","do","intent","disable","setApplicationFullWidth","bValue","init","inAppState","oInViewPortContainer","inSRootIntent","inDisableHomeAppCache","oShellUIServiceChange","aActions","oCacheConfigurations","nCacheSize","system","phone","limit","tablet","desktop","scopeObject","ownerComponent","scopeType","evictObj","bind","registerShellCommunicationHandler","oRequestCalls","create","isActiveOnly","distributionType","fnResponseHandler","oPromoise","oRespData","info","catch","oError","oServiceCalls","subscribe","executeServiceCallFn","oServiceParams","mapCapabilities","oMessageData","body","setup","oSetup","arrCap","sAppType","sFrameworkId","getFrameworkId","bIgnoreStateful","getIsKeepAlive","isStateful","isIframeValid","isIframeBusy","session","bLogoutSupport","loadFinished","setWebGuiV1StatefulContainer","setIsStateful","getElementsModel","addControl","oControl","addCenterViewPort","sId","oBlueBox","bIsStateful","removeCenterViewPort","getViewPortControl","getViewPortContainer","navTo","getCurrentApplication","bIsFull","oCurrent","toggleStyleClass","createComponent","oResolvedHashFragment","oParsedShellHash","fnCloseKeepAliveIfSameUI5App","setDangling","all","done","fail","reject","getAppContainer","oResolvedNavigationTarget","bIsColdStart","shellUIService","getInterface","targetNavigationMode","UI5APP","setIframeHandlers","getShellUIService","initShellUIService","_attachHierarchyChanged","onHierarchyChange","_attachTitleChanged","onTitleChange","_attachRelatedAppsChanged","onRelatedAppsChange","_attachBackNavigationChanged","fnOnBackNavigationChange","activeContainer","oApplicationContainer","aAllApplicationContainers","getWebGuiV1AllApplicationContainers","oApplicationContainerToDeactivate","setActive","oAppContainer","showApplicationContainer","hasStyleClass","reuseStateFulContainerAndRestore","sStorageId","vError","message","reuseStateFulContainer","initAppMetaParams","getIsHierarchyChanged","setHierarchy","getIsTitleChanged","setTitle","getIsRelatedAppsChanged","setRelatedApps","setBackNavigation","reuseApplicationContainer","setNewApplicationContext","publishNavigationStateEvents","oApplication","fnOnAfterRendering","origExit","appMetaData","sIcon","icon","sTitle","title","addEventDelegate","onAfterRendering","exit","arguments","_applyContentDensityByPriority","setTimeout","oEventData","extend","componentHandle","usageIcon","usageTitle","oPublicEventData","_publicEventDataFromResolutionResult","ushell","renderers","fiori2","publishExternalEvent","sProp","Object","freeze","getInMemoryInstance","sAppPart","sOldShellHash","sFullAppId","sOldShellHashLowerCase","bNavigateToHomepage","bNavigatingFromHomeWithAppState","toLowerCase","isInstanceSupported","handleOpenStateful","bIsInitial","bIsInCache","handleControl","fnWrapper","sOldFixedShellHash","bReuseStatefulContainer","oCachedEntry","bDefaultFullWidth","bKeptAliveApp","oDeferredDestroyApp","oDeferredOpenApp","oDeffedControlCreation","oMetadata","oCurrentAppContainer","oOldAppStorageEntry","oTargetAppContainer","iLastValidTimeDelta","oOldHash","sOldFullAppId","sCurrentPageId","Date","getTime","getIsIframeValidTime","time","isIframeBusySupported","getIsIframeBusy","isIframeIsValidSupported","warning","parseShellHash","getCurrentCenterPage","byId","getDefaultFullWidthSetting","bFullWidthCapability","bFullWidth","fullWidth","isWebGuiV1StatefulContainer","getDeffedControlCreation","oPromiseAsyncAppCreate","switchState","setPerformanceMark","switchViewState","sState","bSaveLastState","sActualState","bIsCurrentStateHome","last","destroyManageQueue","assignNew","processDangling","hasher","getHash","searchModel","getModel","setHash","getProperty","JSON","stringify","getJson","oCommunicationHandler","registerIframeCommunicationHandler","sHandlers","sType","sServiceName","sInterface","oMessageBody","bWaitForResponse","checkIfPostIsNeeded","oCurrContainer","fnCallBackHandler","getActiveAppContainer","bActiveContainerPostSent","aContainers","hasIFrame","isCapabilitySupported","isAppTypeSupported","OBBContainer","getResponseHandler","oAllProm","postMessageToIframeAppAccordingToPolicy","oPolicy","isAppTypeSupportedByPolicy","setBackNavigationChanged","isBackNavigationChangedValue","getBackNavigationChanged","parseStatefulContainerConfiguration","sUrl","sKey","_getBlueBoxCacheKey","keys","map","filter"],"sources":["AppLifeCycle-dbg.js"],"mappings":"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"}