{"version":3,"file":"BlueBoxHandler.js","names":["sap","ui","define","BlueBoxesCache","Application","ApplicationContainer","URI","jQuery","Log","UriParameters","encodeXML","BlueBoxHandler","that","this","AppLifeCycle","oCustomCapabilitiesHandlers","isStateful","handler","appCapabilities","oContainer","enabled","isGUI","protocol","isGUIStateful","isCapUT","isFLP","oBlueBoxContainer","oSupportedTypes","oHandlers","setup","oTarget","sStorageKey","create","oInnerControl","sUrl","oDeferred","Deferred","oFLPParams","oPostParams","callPostMessage","ushell","Container","getFLPUrl","getSystemAlias","getCore","getEventBus","publish","postMessageToIframeApp","then","currentAppTarget","resolve","prototype","_checkNwbcUrlAdjustment","applicationType","sCacheId","sHash","window","hasher","getHash","indexOf","aInfoArray","aKeysArray","_getParamKeys","length","getServiceAsync","oCANService","getAppStateData","aDataArray","forEach","item","index","promise","destroy","oPromise","setAsyncDirtyStateProvider","undefined","store","restore","url","oBasicStatefulContainerCapabilities","service","action","init","oSetup","inConfig","inAppLifeCycle","extend","supportedTypes","isStatefulContainerSupported","oBlueBox","bIsSupported","isCapabilitySupported","isKeepAliveSupported","isIframeIsValidSupported","isIframeBusySupported","mapCapabilities","aCaps","setCapabilities","getCapabilities","oCapMap","sServiceName","sInterface","oCap","initBlueBoxBD","Object","keys","key","oCapEntry","oCapMapService","getIsStateful","setIsStateful","removeCapabilities","hasIFrame","_getIFrame","BlueBox","setAppCapabilities","statefulContainer","callback","hasOwnProperty","isCapByTarget","attr","oBBInstance","setStorageKey","getStorageKey","getHandler","_getBlueBoxCacheKey","getBlueBoxCacheKey","deleteStateFul","delete","getStateFul","get","destroyApp","sAppId","appId","openApp","storeApp","restoreApp","remove","getById","sId","set","oIframe","add"],"sources":["BlueBoxHandler-dbg.js"],"mappings":"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"}