{"version":3,"file":"WorkPageRuntime.controller.js","names":["sap","ui","define","Log","Controller","WorkPageService","JSONModel","deepExtend","EventHub","PagesAndSpaceId","resources","Config","extend","onInit","oRenderer","ushell","Container","getRenderer","oUrlParams","URLSearchParams","window","location","search","this","oWorkPageService","oOriginalModel","oEditModel","editMode","loaded","oWorkPageNavContainer","byId","oEmptyPage","setSizeLimit","Infinity","getView","setModel","_getPageId","then","sPageId","_sPageId","_sSiteId","get","last","_loadWorkPageAndVisualizations","_handleEditModeButton","bind","_navigate","finally","emit","getOwnerComponent","getNavigationDisabled","oContainerRouter","getRouter","getRoute","attachMatched","onRouteMatched","on","do","_onWorkPageChanged","catch","_handleErrors","bPageIsEditable","getProperty","bIsAdminUser","getUser","isAdminUser","_createEditModeButton","_createEditButtonControlProperties","_hideEditModeButton","Promise","resolve","bChanged","setProperty","setDirtyFlag","to","sButtonText","i18n","getText","debug","id","text","icon","press","pressEditModeButton","oEditButtonObjectData","oAddEditButtonParameters","controlType","oControlProperties","bIsVisible","aStates","_showEditModeButton","addUserAction","oEditButton","addStyleClass","_setEditButtonText","sTextId","oEditModeButton","getCore","sEditModeText","setText","setTooltip","_saveChanges","_toggleEditMode","bEditMode","_cancelChanges","_setModels","oView","setBusy","_updateWorkPage","oWorkPageData","require","MessageToast","show","duration","oError","sErrorMsg","responseText","MessageBox","error","title","statusText","_closeEditMode","oEvent","getParameter","onWorkPageBuilderCreated","oComponent","attachEvent","_loadCatalog","sSiteId","loadWorkPageAndVisualizations","_loadWorkPage","loadWorkPage","aVizIds","getAllVizIds","getModel","getData","loadVisualizations","aType","loadCatalog","getParameters","firePropertyChange","type","oPageData","Id","updateWorkPage","oData","setData","workPageHasChanges","setVisible","vError","_getPageAndSpaceId","oResult","pageId","hideRuntime"],"sources":["WorkPageRuntime-dbg.controller.js"],"mappings":"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"}