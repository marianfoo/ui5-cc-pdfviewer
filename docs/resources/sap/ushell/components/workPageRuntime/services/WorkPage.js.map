{"version":3,"file":"WorkPage.js","names":["sap","ui","define","HttpClient","RestrictedJSONModel","NavigationResolver","ObjectPath","Config","Log","WorkPage","this","httpClient","_oNavigationResolver","_oCdmServicePromise","ushell","Container","getServiceAsync","_oCSTRServicePromise","_sBaseUrl","last","_oWorkPagesModel","editable","data","Visualizations","Catalog","prototype","getModel","_validateData","oPageData","debug","errors","length","Promise","reject","map","oError","message","join","get","resolve","loadWorkPageAndVisualizations","sSiteId","sPageId","sQuery","_doRequest","then","oWorkPageData","aVizData","bEditable","_transformVizData","aPreparedVizData","oPreparedVizData","reduce","mViz","oViz","Id","_setProperty","bind","_resolveAndReplaceIBNTargets","sType","sInboundId","oParameters","fnTargetReplace","aPromises","aResolvePromises","oVizData","_replaceTarget","push","all","resolveByInbound","oResolve","set","type","url","loadWorkPage","updateWorkPage","_findDescriptorSchemaVersion","obj","i","DescriptorSchemaVersion","sDescriptorSchemaVersion","_fixPageData","bCheckDescriptor","DescriptorSchemaId","isNaN","Descriptor","_fixEmptyColumns","Rows","forEach","oRow","Columns","oCol","Cells","oRequestData","query","variables","WorkPageId","Contents","oPostRequest","post","headers","Accept","getCore","getConfiguration","getLanguageTag","oResponse","status","statusText","responseText","oResponseData","JSON","parse","error","undefined","sTitle","sErrorMsg","aErr","split","aErrors","stringify","pageData","loadVisualizations","aVizIds","sVizIds","sVizId","oResult","loadCatalog","aTypes","sTypes","getAllVizIds","aRows","iRowIndex","iColumnIndex","iCellIndex","iWidgetIndex","aColumns","aCells","aWidgets","Widgets","_addSiteDataToVisualizations","oCdmService","sAppId","oApplication","oVizType","getApplications","getVizTypes","aResults","oApplications","oVizTypes","Type","_replaceIndicatorDatasource","oCstrService","oIndicatorDataSource","sContentProviderId","path","getSystemContext","oSystemContext","sDataSourceId","dataSource","oDataSource","sFullyQualifiedXhrUrl","getFullyQualifiedXhrUrl","uri","catch","vError"],"sources":["WorkPage-dbg.js"],"mappings":"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"}