// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.define(["sap/ushell/library","sap/ui/core/mvc/View","sap/ui/core/mvc/Controller","sap/ushell/components/_HomepageManager/PagingManager","sap/ushell/components/CatalogsManager","sap/ui/core/UIComponent","sap/ui/thirdparty/jquery","sap/ushell/resources","sap/ui/model/Filter","sap/ui/model/FilterOperator","sap/m/library","sap/ui/Device","sap/ui/core/library","sap/ui/model/Context","sap/m/MessageToast","sap/ushell/Config","sap/ushell/components/appfinder/VisualizationOrganizerHelper","sap/ushell/utils/WindowUtils"],function(e,t,i,r,a,o,jQuery,s,n,l,g,h,d,p,c,u,f,v){"use strict";var C=g.SplitAppMode;var y=e.AppType;return i.extend("sap.ushell.components.appfinder.Catalog",{oPopover:null,onInit:function(){sap.ushell.Container.getServiceAsync("LaunchPage").then(function(e){this.oLaunchPageService=e}.bind(this));this.categoryFilter="";this.preCategoryFilter="";var e=this.getView();this.oMainModel=e.getModel();this.oSubHeaderModel=e.getModel("subHeaderModel");this.resetPage=false;this.bIsInProcess=false;this.oVisualizationOrganizerHelper=e.oVisualizationOrganizerHelper;this.oCatalogsContainer=e.oCatalogsContainer;sap.ui.getCore().byId("catalogSelect").addEventDelegate({onBeforeRendering:this.onBeforeSelectRendering},this);this.timeoutId=0;document.subHeaderModel=this.oSubHeaderModel;document.mainModel=this.oMainModel;var t=this.oSubHeaderModel.bindProperty("/openCloseSplitAppButtonToggled");t.attachChange(this.handleToggleButtonModelChanged,this);e.oCatalogsContainer.setHandleSearchCallback(this.handleSearchModelChanged.bind(this))},customRouteMatched:function(e){this.onShow(e)},onBeforeRendering:function(){sap.ui.getCore().getEventBus().publish("renderCatalog")},onAfterRendering:function(){this.wasRendered=true;if(!this.PagingManager){this._setPagingManager()}if(this.PagingManager.currentPageIndex===0){this.allocateNextPage()}jQuery(window).resize(function(){var e=jQuery(window).width();var t=jQuery(window).height();this.PagingManager.setContainerSize(e,t)}.bind(this));this._handleAppFinderWithDocking();sap.ui.getCore().getEventBus().subscribe("launchpad","appFinderWithDocking",this._handleAppFinderWithDocking,this);sap.ui.getCore().getEventBus().subscribe("sap.ushell","appFinderAfterNavigate",this._handleAppFinderAfterNavigate,this)},_setPagingManager:function(){this.lastCatalogId=0;this.PagingManager=new r("catalogPaging",{supportedElements:{tile:{className:"sapUshellTile"}},containerHeight:window.innerHeight,containerWidth:window.innerWidth});this.oCatalogsContainer.setPagingManager(this.PagingManager)},_decodeUrlFilteringParameters:function(e){var t;try{t=JSON.parse(e)}catch(i){t=e}var i=t&&t.tagFilter&&t.tagFilter||[];if(i){try{this.tagFilter=JSON.parse(i)}catch(e){this.tagFilter=[]}}else{this.tagFilter=[]}this.categoryFilter=t&&t.catalogSelector&&t.catalogSelector||this.categoryFilter;if(this.categoryFilter){this.categoryFilter=window.decodeURIComponent(this.categoryFilter)}this.searchFilter=t&&t.tileFilter&&t.tileFilter||null;if(this.searchFilter){this.searchFilter=window.decodeURIComponent(this.searchFilter)}},_applyFilters:function(e){var t=false;if(this.categoryFilter){this.categoryFilter=s.i18n.getText("all")===this.categoryFilter?"":this.categoryFilter;if(this.categoryFilter!==this.preCategoryFilter){t=true}this.oView.setCategoryFilterSelection(this.categoryFilter,t)}else{t=true;this.oView.setCategoryFilterSelection("",t)}this.preCategoryFilter=this.categoryFilter;if(this.searchFilter&&this.searchFilter.length){this.searchFilter=this.searchFilter.replace(/\*/g,"");this.searchFilter=this.searchFilter.trim();this.oSubHeaderModel.setProperty("/search",{searchMode:true,searchTerm:this.searchFilter})}else if(e){this.oSubHeaderModel.setProperty("/search",{searchMode:false,searchTerm:""});this.resetPage=true}if(this.tagFilter&&this.tagFilter.length){this.oSubHeaderModel.setProperty("/tag",{tagMode:true,selectedTags:this.tagFilter})}else if(e){this.oSubHeaderModel.setProperty("/tag",{tagMode:false,selectedTags:[]});this.resetPage=true}this.handleSearchModelChanged()},_handleAppFinderAfterNavigate:function(){this.clearFilters()},clearFilters:function(){var e=false;if(this.categoryFilter!==this.preCategoryFilter){e=true}var t=this.oSubHeaderModel.getProperty("/search/searchMode");var i=this.oSubHeaderModel.getProperty("/tag/tagMode");if(t){this.oSubHeaderModel.setProperty("/search",{searchMode:true,searchTerm:""})}if(i){this.oSubHeaderModel.setProperty("/tag",{tagMode:true,selectedTags:[]})}if(this.categoryFilter&&this.categoryFilter!==""){this.selectedCategoryId=undefined;this.categoryFilter=undefined;this.getView().getModel().setProperty("/categoryFilter","");this.oView.setCategoryFilterSelection("",e)}this.preCategoryFilter=this.categoryFilter;this.handleSearchModelChanged()},onShow:function(e){var t=e.getParameter("arguments").filters;jQuery.extend(this.getView().getViewData(),e);this._decodeUrlFilteringParameters(t);if(this.wasRendered&&!t){this.clearFilters()}else{this._applyFilters(this.wasRendered)}},allocateNextPage:function(){if(!this.oCatalogsContainer.nAllocatedUnits||this.oCatalogsContainer.nAllocatedUnits===0){this.PagingManager.moveToNextPage();this.allocateTiles=this.PagingManager._calcElementsPerPage();this.oCatalogsContainer.applyPagingCategoryFilters(this.allocateTiles,this.categoryFilter)}},onBeforeSelectRendering:function(){var e=sap.ui.getCore().byId("catalogSelect");var t=jQuery.grep(e.getItems(),function(e){return e.getBindingContext().getObject().title===this.categoryFilter}.bind(this));if(!t.length&&e.getItems()[0]){t.push(e.getItems()[0])}},setTagsFilter:function(e){var t={catalogSelector:this.categoryFilter?this.categoryFilter:"All",tileFilter:this.searchFilter&&this.searchFilter.length?encodeURIComponent(this.searchFilter):"",tagFilter:e.length?JSON.stringify(e):[]};this._addNavigationContextToFilter(t);this.getView().parentComponent.getRouter().navTo("catalog",{filters:JSON.stringify(t)})},setCategoryFilter:function(e){var t={catalogSelector:e,tileFilter:this.searchFilter?encodeURIComponent(this.searchFilter):"",tagFilter:this.tagFilter.length?JSON.stringify(this.tagFilter):[]};this._addNavigationContextToFilter(t);this.getView().parentComponent.getRouter().navTo("catalog",{filters:JSON.stringify(t)})},setSearchFilter:function(e){var t={catalogSelector:this.categoryFilter?this.categoryFilter:"All",tileFilter:e?encodeURIComponent(e):"",tagFilter:this.tagFilter.length?JSON.stringify(this.tagFilter):[]};this._addNavigationContextToFilter(t);this.getView().parentComponent.getRouter().navTo("catalog",{filters:JSON.stringify(t)})},_addNavigationContextToFilter:function(e){var t=this.oVisualizationOrganizerHelper.getNavigationContext.apply(this);if(t){Object.keys(t).forEach(function(i){e[i]=t[i]})}return e},onSearch:function(e){var t=this.oSubHeaderModel.getProperty("/activeMenu");if(this.oView.getId().indexOf(t)!==-1){var i=e.searchTerm?e.searchTerm:"";this.setSearchFilter(i)}else{this._restoreSelectedMasterItem()}},onTag:function(e){var t=this.oSubHeaderModel.getProperty("/activeMenu");if(this.oView.getId().indexOf(t)!==-1){var i=e.selectedTags?e.selectedTags:[];this.setTagsFilter(i)}else{this._restoreSelectedMasterItem()}},getGroupContext:function(){var e=this.getView().getModel();var t=e.getProperty("/groupContext/path");return{targetGroup:encodeURIComponent(t||"")}},_isTagFilteringChanged:function(e){var t=e.length===this.tagFilter.length;var i=t;if(!i){return true}e.some(function(e){i=this.tagFilter&&Array.prototype.indexOf.call(this.tagFilter,e)!==-1;return!i}.bind(this));return i},_setUrlWithTagsAndSearchTerm:function(e,t){var i={tileFilter:e&&e.length?encodeURIComponent(e):"",tagFilter:t.length?JSON.stringify(t):[]};this._addNavigationContextToFilter(i);this.getView().parentComponent.getRouter().navTo("catalog",{filters:JSON.stringify(i)})},handleSearchModelChanged:function(){var e=this.oSubHeaderModel.getProperty("/search/searchMode");var t=this.oSubHeaderModel.getProperty("/tag/tagMode");var i=this.oSubHeaderModel.getProperty("/search/searchTerm");var r=this.oSubHeaderModel.getProperty("/tag/selectedTags");var a=[];var o,s,g,h,d;if(!this.PagingManager){this._setPagingManager()}this.PagingManager.resetCurrentPageIndex();this.nAllocatedTiles=0;this.PagingManager.moveToNextPage();this.allocateTiles=this.PagingManager._calcElementsPerPage();this.oView.oCatalogsContainer.updateAllocatedUnits(this.allocateTiles);this.oView.oCatalogsContainer.resetCatalogPagination();var p=sap.ui.getCore().byId("catalogTilesDetailedPage");if(p){p.scrollTo(0,0)}if(e||t||this.resetPage){if(r&&r.length>0){o=new n("tags","EQ","v");o.fnTest=function(e){var t,i;if(r.length===0){return true}for(t=0;t<r.length;t++){i=r[t];if(e.indexOf(i)===-1){return false}}return true};s=new n([o],true)}i=i?i.replace(/\*/g,""):i;if(i){var c=i.split(/[\s,]+/);var u=new n(jQuery.map(c,function(e){return e&&new n("keywords",l.Contains,e)}),true);var f=new n(jQuery.map(c,function(e){return e&&new n("title",l.Contains,e)}),true);var v=new n(jQuery.map(c,function(e){return e&&new n("subtitle",l.Contains,e)}),true);a.push(u);a.push(f);a.push(v);g=new n(a,false)}var C=this.oView.oCatalogsContainer.getCatalogs();this.oSearchResultsTotal=[];var y=this;if(s&&s.aFilters.length>0&&g){d=new n([g].concat([s]),true)}else if(s&&s.aFilters.length>0){d=new n([s],true)}else if(g&&g.aFilters.length>0){d=new n([g],true)}C.forEach(function(e){e.getBinding("customTilesContainer").filter(d);e.getBinding("appBoxesContainer").filter(d)});this.oView.oCatalogsContainer.bSearchResults=false;this.oView.oCatalogsContainer.applyPagingCategoryFilters(this.oView.oCatalogsContainer.nAllocatedUnits,this.categoryFilter);this.bSearchResults=this.oView.oCatalogsContainer.bSearchResults;this.oView.splitApp.toDetail(y.getView()._calculateDetailPageId());this.resetPage=false}else{this.oView.oCatalogsContainer.applyPagingCategoryFilters(this.oView.oCatalogsContainer.nAllocatedUnits,this.categoryFilter)}h=this.getView()._calculateDetailPageId();this.oView.splitApp.toDetail(h)},_handleAppFinderWithDocking:function(){if(jQuery(".sapUshellContainerDocked").length>0){if(jQuery("#mainShell").width()<710){if(window.innerWidth<1024){this.oSubHeaderModel.setProperty("/openCloseSplitAppButtonVisible",false);this.oView.splitApp.setMode(C.ShowHideMode)}else{this.oView.splitApp.setMode(C.HideMode);this.oSubHeaderModel.setProperty("/openCloseSplitAppButtonVisible",true)}}else{this.oSubHeaderModel.setProperty("/openCloseSplitAppButtonVisible",false);this.oView.splitApp.setMode(C.ShowHideMode)}}},_restoreSelectedMasterItem:function(){var e=this.oView.splitApp.getMasterPage("catalogSelect");var t=sap.ui.getCore().byId(this.selectedCategoryId);if(t){this.categoryFilter=t.getTitle()}e.setSelectedItem(t)},handleToggleButtonModelChanged:function(){var e=this.oSubHeaderModel.getProperty("/openCloseSplitAppButtonVisible");var t=this.oSubHeaderModel.getProperty("/openCloseSplitAppButtonToggled");if(t!==this.bCurrentButtonToggled&&e){if(!h.system.phone){if(t&&!this.oView.splitApp.isMasterShown()){this.oView.splitApp.showMaster()}else if(this.oView.splitApp.isMasterShown()){this.oView.splitApp.hideMaster()}}else if(this.oView.splitApp.isMasterShown()){var i=sap.ui.getCore().byId(this.getView()._calculateDetailPageId());this.oView.splitApp.toDetail(i)}else if(t){var r=sap.ui.getCore().byId("catalogSelect");this.oView.splitApp.toMaster(r,"show")}}this.bCurrentButtonToggled=t},_handleCatalogListItemPress:function(e){this.onCategoryFilter(e);if(this.oSubHeaderModel.getProperty("/search/searchTerm")!==""){this.oSubHeaderModel.setProperty("/search/searchMode",true)}if(h.system.phone||h.system.tablet){this.oSubHeaderModel.setProperty("/openCloseSplitAppButtonToggled",!this.oSubHeaderModel.setProperty("/openCloseSplitAppButtonToggled"))}},onCategoryFilter:function(e){var t=e.getSource();var i=t.getSelectedItem();var r=i.getBindingContext();var a=r.getModel();if(a.getProperty("static",r)){a.setProperty("/showCatalogHeaders",true);this.setCategoryFilter();this.selectedCategoryId=undefined;this.categoryFilter=undefined}else{a.setProperty("/showCatalogHeaders",false);this.setCategoryFilter(window.encodeURIComponent(i.getBindingContext().getObject().title));this.categoryFilter=i.getTitle();this.selectedCategoryId=i.getId()}},onTileAfterRendering:function(e){var t=jQuery(e.oSource.getDomRef());var i=t.find(".sapMGT");i.attr("tabindex","-1")},catalogTilePress:function(){sap.ui.getCore().getEventBus().publish("launchpad","catalogTileClick")},onAppBoxPressed:function(e){var t=e.getSource();var i=t.getBindingContext().getObject();var r;if(e.mParameters.srcControl.$().closest(".sapUshellPinButton").length){return}r=this.oLaunchPageService.getAppBoxPressHandler(i);if(r){r(i)}else{var a=t.getProperty("url");if(a&&a.indexOf("#")===0){hasher.setHash(a)}else{var o=u.last("/core/shell/enableRecentActivity")&&u.last("/core/shell/enableRecentActivityLogging");if(o){var s={title:t.getProperty("title"),appType:y.URL,url:a,appId:a};sap.ushell.Container.getRenderer("fiori2").logRecentActivity(s)}v.openURL(a,"_blank")}}},onTilePinButtonClick:function(e){var i=this.oLaunchPageService;var r=i.getDefaultGroup();r.done(function(r){var a=e.getSource();var o=a.getBindingContext();var s=this.getView().getModel();var n=s.getProperty("/groupContext/path");if(n){this._handleTileFooterClickInGroupContext(o,n)}else{var l=s.getProperty("/groups");var g=this.getCatalogTileDataFromModel(o);var h=g.tileData.associatedGroups;var d=[];var p=l.map(function(e){var t,a;t=i.getGroupId(e.object);a=!(h&&Array.prototype.indexOf.call(h,t)===-1);d.push({id:t,title:this._getGroupTitle(r,e.object),selected:a});return{selected:a,initiallySelected:a,oGroup:e}}.bind(this));var c;c=i.getCatalogTilePreviewTitle(s.getProperty(o.sPath).src);if(!c){c=i.getCatalogTileTitle(s.getProperty(o.sPath).src)}this.pPopoverView=t.create({id:"sapUshellGroupsPopover",viewName:"module:sap/ushell/components/appfinder/GroupListPopoverView",viewData:{title:c,enableHideGroups:s.getProperty("/enableHideGroups"),enableHelp:s.getProperty("/enableHelp"),sourceContext:o,catalogModel:this.getView().getModel(),catalogController:this}}).then(function(e){e.getController().initializeData({groupData:p});e.open(a).then(this._handlePopoverResponse.bind(this,o,g));this.getView().addDependent(e);return e}.bind(this))}}.bind(this))},_getGroupTitle:function(e,t){var i=this.oLaunchPageService;var r;if(e&&i.getGroupId(e)===i.getGroupId(t)){r=s.i18n.getText("my_group")}else{r=i.getGroupTitle(t)}return r},_handlePopoverResponse:function(e,t,i){if(!i.addToGroups.length&&!i.newGroups.length&&!i.removeFromGroups.length){return}var r=this.getView().getModel();var a=r.getProperty("/groups");var o=[];i.addToGroups.forEach(function(t){var i=a.indexOf(t);var s=new p(r,"/groups/"+i);o.push(this._addTile(e,s))}.bind(this));i.removeFromGroups.forEach(function(t){var i=e.getModel().getProperty(e.getPath()).id;var r=a.indexOf(t);o.push(this._removeTile(i,r))}.bind(this));i.newGroups.forEach(function(t){var i=t.length>0?t:s.i18n.getText("new_group_name");o.push(this._createGroupAndSaveTile(e,i))}.bind(this));jQuery.when.apply(jQuery,o).then(function(){var e=Array.prototype.slice.call(arguments);this._handlePopoverGroupsActionPromises(t,i,e)}.bind(this))},_handlePopoverGroupsActionPromises:function(e,t,i){var r=i.filter(function(e){return!e.status});if(r.length){var o=this.prepareErrorMessage(r,e.tileData.title);var s=a.prototype.getInstance();s.resetAssociationOnFailure(o.messageId,o.parameters);return}var n=[];var l=this.oLaunchPageService;t.allGroups.forEach(function(e){if(e.selected){var t=l.getGroupId(e.oGroup.object);n.push(t)}});var g=this.getView().getModel();if(t.newGroups.length){var h=g.getProperty("/groups");var d=h.slice(h.length-t.newGroups.length);d.forEach(function(e){var t=l.getGroupId(e.object);n.push(t)})}g.setProperty(e.bindingContextPath+"/associatedGroups",n);var p=t.addToGroups[0]?t.addToGroups[0].title:"";if(p.length===0&&t.newGroups.length){p=t.newGroups[0]}var u=t.removeFromGroups[0]?t.removeFromGroups[0].title:"";var f=t.addToGroups.length+t.newGroups.length;var v=t.removeFromGroups.length;var C=this.prepareDetailedMessage(e.tileData.title,f,v,p,u);c.show(C,{duration:3e3,width:"15em",my:"center bottom",at:"center bottom",of:window,offset:"0 -50",collision:"fit fit"})},_getCatalogTileIndexInModel:function(e){var t=e.sPath;var i=t.split("/");var r=i[i.length-1];return r},_handleTileFooterClickInGroupContext:function(e,t){var i=this.oLaunchPageService;var r=this.getView().getModel();var a=this.getCatalogTileDataFromModel(e);var o=a.tileData.associatedGroups;var s=r.getProperty(t);var n=i.getGroupId(s.object);var l=o?Array.prototype.indexOf.call(o,n):-1;var g=a.bindingContextPath;if(a.isBeingProcessed){return}r.setProperty(g+"/isBeingProcessed",true);var h;var d;if(l===-1){var c=new p(e.getModel(),t);h=this._addTile(e,c);d=true}else{var u=e.getModel().getProperty(e.getPath("id"));var f=parseInt(t.split("/")[2],10);h=this._removeTile(u,f);d=false}h.done(function(t){if(t.status){this._groupContextOperationSucceeded(e,a,s,d)}else{this._groupContextOperationFailed(a,s,d)}}.bind(this));h.always(function(){r.setProperty(g+"/isBeingProcessed",false)})},_groupContextOperationSucceeded:function(e,t,i,r){var a=this.oLaunchPageService;var o=a.getGroupId(i.object);var s=t.tileData.associatedGroups;var n;if(r){s.push(o);e.getModel().setProperty(t.bindingContextPath+"/associatedGroups",s);n=this.prepareDetailedMessage(t.tileData.title,1,0,i.title,"")}else{for(var l=0;l<s.length;l++){if(s[l]===o){s.splice(l,1);break}}e.getModel().setProperty(t.bindingContextPath+"/associatedGroups",s);n=this.prepareDetailedMessage(t.tileData.title,0,1,"",i.title)}c.show(n,{duration:3e3,width:"15em",my:"center bottom",at:"center bottom",of:window,offset:"0 -50",collision:"fit fit"})},_groupContextOperationFailed:function(e,t,i){var r=a.prototype.getInstance();var o;if(i){o=s.i18n.getText({messageId:"fail_tile_operation_add_to_group",parameters:[e.tileData.title,t.title]})}else{o=s.i18n.getText({messageId:"fail_tile_operation_remove_from_group",parameters:[e.tileData.title,t.title]})}r.notifyOnActionFailure(o.messageId,o.parameters)},prepareErrorMessage:function(e,t){var i,r,a,o,n;var l=0;var g=0;var h=false;for(var d in e){i=e[d].group;r=e[d].action;if(r==="add"){l++;if(l===1){a=i.title}}else if(r==="remove"){g++;if(g===1){o=i.title}}else if(r==="addTileToNewGroup"){l++;if(l===1){a=i.title}}else{h=true}}if(h){if(e.length===1){n=s.i18n.getText({messageId:"fail_tile_operation_create_new_group"})}else{n=s.i18n.getText({messageId:"fail_tile_operation_some_actions"})}}else if(e.length===1){if(l){n=s.i18n.getText({messageId:"fail_tile_operation_add_to_group",parameters:[t,a]})}else{n=s.i18n.getText({messageId:"fail_tile_operation_remove_from_group",parameters:[t,o]})}}else if(g===0){n=s.i18n.getText({messageId:"fail_tile_operation_add_to_several_groups",parameters:[t]})}else if(l===0){n=s.i18n.getText({messageId:"fail_tile_operation_remove_from_several_groups",parameters:[t]})}else{n=s.i18n.getText({messageId:"fail_tile_operation_some_actions"})}return n},prepareDetailedMessage:function(e,t,i,r,a){var o;if(t===0){if(i===1){o=s.i18n.getText("tileRemovedFromSingleGroup",[e,a])}else if(i>1){o=s.i18n.getText("tileRemovedFromSeveralGroups",[e,i])}}else if(t===1){if(i===0){o=s.i18n.getText("tileAddedToSingleGroup",[e,r])}else if(i===1){o=s.i18n.getText("tileAddedToSingleGroupAndRemovedFromSingleGroup",[e,r,a])}else if(i>1){o=s.i18n.getText("tileAddedToSingleGroupAndRemovedFromSeveralGroups",[e,r,i])}}else if(t>1){if(i===0){o=s.i18n.getText("tileAddedToSeveralGroups",[e,t])}else if(i===1){o=s.i18n.getText("tileAddedToSeveralGroupsAndRemovedFromSingleGroup",[e,t,a])}else if(i>1){o=s.i18n.getText("tileAddedToSeveralGroupsAndRemovedFromSeveralGroups",[e,t,i])}}return o},getCatalogTileDataFromModel:function(e){var t=e.getPath();var i=e.getModel();var r=i.getProperty(t);return{tileData:r,bindingContextPath:t,isBeingProcessed:r.isBeingProcessed}},_addTile:function(e,t){var i=a.prototype.getInstance();var r=jQuery.Deferred();var o=i.createTile({catalogTileContext:e,groupContext:t});o.done(function(e){r.resolve(e)});return r},_removeTile:function(e,t){var i=a.prototype.getInstance();var r=jQuery.Deferred();var o=i.deleteCatalogTileFromGroup({tileId:e,groupIndex:t});o.done(function(e){r.resolve(e)});return r},_createGroupAndSaveTile:function(e,t){var i=a.prototype.getInstance();var r=jQuery.Deferred();var o=i.createGroupAndSaveTile({catalogTileContext:e,newGroupName:t});o.done(function(e){r.resolve(e)});return r},onExit:function(){f.destroy();sap.ui.getCore().getEventBus().unsubscribe("launchpad","appFinderWithDocking",this._handleAppFinderWithDocking,this);sap.ui.getCore().getEventBus().unsubscribe("launchpad","appFinderAfterNavigate",this._handleAppFinderAfterNavigate,this)}})});
//# sourceMappingURL=Catalog.controller.js.map