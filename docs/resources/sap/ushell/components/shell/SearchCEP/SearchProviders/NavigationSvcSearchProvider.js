// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.define(["sap/ushell/components/shell/SearchCEP/SearchProviders/SearchProvider","sap/base/Log","sap/ushell/Config","sap/ushell/resources","sap/base/util/ObjectPath"],function(e,r,a,t,n){"use strict";var i=function(){};i.prototype.getName=function(){return"Navigation Service Search Provider"};i.prototype.execSearch=function(a){var t=this;return sap.ushell.Container.getServiceAsync("SearchCEP").then(function(r){return r.execSearch(a).then(function(r){var i=n.get("sap-ushell-config.services.SearchCEP")!==undefined,c=sap.ushell.Container.getFLPPlatform(true),o=i===true&&c==="cFLP",s={},l=n.get("sap-ushell-config.renderers.fiori2.componentData.config.searchBusinessObjects");if(r&&Array.isArray(r.applications)&&r.applications.length>0){s.applications=r.applications.map(function(r){r._type=e.ENTRY_TYPE.App;r.icon=r.icon||"sap-icon://SAP-icons-TNT/application";return r})}if(r&&Array.isArray(r.externalSearchApplications)&&r.externalSearchApplications.length>0){s.externalSearchApplications=r.externalSearchApplications.map(function(r){r._type=e.ENTRY_TYPE.App;r.icon=r.icon||"sap-icon://world";return r})}if(l===true&&o===true){s.externalSearchApplications=t._addESToResult(s,a)}return s})},function(e){r.error("Navigation Service Search Provider failed","error: "+e,"sap.ushell.components.shell.SearchCEP.SearchProviders.NavigationSvcSearchProvider::execSearch");return{}})};i.prototype._addESToResult=function(r,a){var n='#Action-search&/top=20&filter={"dataSource":{"type":"Category","id":"All","label":"All","labelPlural":"All"},"searchTerm":"'+a+'","rootCondition":{"type":"Complex","operator":"And","conditions":[]}}',i=sap.ushell.Container.getFLPUrl()+n,c={text:t.i18n.getText("enterprise_search"),description:t.i18n.getText("enterprise_search"),icon:"sap-icon://search",inboundIdentifier:"38cd162a-e185-448c-9c37-a4fc02b3d39d___GenericDefaultSemantic-__GenericDefaultAction",url:i,target:"_blank",recent:false,semanticObject:"Action",semanticObjectAction:"search",_type:e.ENTRY_TYPE.App,isEnterpriseSearch:true};if(r&&Array.isArray(r.externalSearchApplications)&&r.externalSearchApplications.length>0){r.externalSearchApplications.push(c)}else{r.externalSearchApplications=[c]}return r.externalSearchApplications};return new i},false);
//# sourceMappingURL=NavigationSvcSearchProvider.js.map