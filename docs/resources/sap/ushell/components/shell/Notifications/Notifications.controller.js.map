{"version":3,"file":"Notifications.controller.js","names":["sap","ui","define","Device","utils","resources","Text","VBox","CustomListItem","jQuery","KeyCodes","Log","JSONModel","MessageToast","mobileLibrary","coreLibrary","Controller","Priority","ListType","FlexAlignItems","_errorMessage","sText","ushell","Container","getServiceAsync","then","oMesssageService","error","extend","oPagingConfiguration","MAX_NOTIFICATION_ITEMS_DESKTOP","MAX_NOTIFICATION_ITEMS_MOBILE","MIN_NOTIFICATION_ITEMS_PER_BUFFER","NOTIFICATION_ITEM_HEIGHT","system","phone","tablet","TAB_BAR_HEIGHT","onInit","oInitialModelStructure","desktop","this","iMaxNotificationItemsForDevice","oNotificationsService","getView","getViewData","notificationsService","oSortingType","getOperationEnum","NOTIFICATIONS_BY_DATE_DESCENDING","getInitialSortingModelStructure","NOTIFICATIONS_BY_DATE_ASCENDING","NOTIFICATIONS_BY_PRIORITY_DESCENDING","NOTIFICATIONS_BY_TYPE_DESCENDING","sCurrentSorting","oPreviousTabKey","sCurrentExpandedType","undefined","oModel","setSizeLimit","setModel","i18nModel","getNextBuffer","_oTopNotificationData","onAfterRendering","removeTabIndexFromList","oTabBarHeader","byId","getDomRef","classList","remove","scrollToItem","$","attr","i18n","getText","shouldFetchMoreNotifications","bHasMoreItemsInBackend","getModel","getProperty","bListMaxReached","aCurrentItems","getItemsFromModel","iNumberOfItemsInModel","oPromise","iNumberOfItemsToFetch","getNumberOfItemsToFetchOnScroll","setProperty","length","addBusyIndicatorToTabFilter","getNotificationsBufferBySortingType","done","oResult","dNotificationsUserSettingsAvailability","_getNotificationSettingsAvalability","state","_userSettingInitialization","addBufferToModel","bind","fail","removeBusyIndicatorToTabFilter","handleError","getNextBufferForType","selectedTypeId","sSortingType","oGroup","getGroupFromModel","aNotifications","bHasMoreItems","hasMoreItems","getNotificationsBufferInGroup","addTypeBufferToModel","getNextBufferFailHandler","iCurrentNumberOfItems","mergedArrays","concat","handleMaxReached","sTypeId","bOverwrite","oGroupIndexInModel","getGroupIndexFromModel","aGroupHeaders","getBasicBufferSize","Busy","keydownHandler","keyup","jqElement","nextElem","closeBtn","keyCode","DELETE","document","activeElement","hasClass","next","find","getCore","id","firePress","focus","notificationsUpdateCallback","oDependenciesDeferred","that","notificationsUpdateCallbackForType","resolve","cleanModel","getNumberOfItemsToFetchOnUpdate","replaceItemsInModel","data","isMoreCircleExist","oSelectedList","getNotificationList","iItemsLength","getItems","oLastItem","getMetadata","getName","iNotificationCount","Math","floor","getNotificationsCount","iMoreNotificationsNumber","bIsMoreCircleExist","addItem","getMoreCircle","removeItem","oMoreListItem","reAddFailedGroup","oGroupToAdd","aGroups","splice","removedGroupIndex","removeGroupFromModel","oGroupToDelete","oRemovedGroup","some","iIndex","Id","updateGroupHeaders","getNotificationsGroupHeaders","notificationsByType","oJson","JSON","parse","arr","value","forEach","item","bFound","group","GroupHeaderText","CreatedAt","unshift","updateNotificationsByDate","iTop","aCurrentNotifications","i","reloadGroupHeaders","result","IsGroupHeader","Collapsed","push","markRead","sNotificationId","setMarkReadOnModel","onExit","onBeforeRendering","_bDependencyCallbackRegistered","registerDependencyNotificationsUpdateCallback","executeAction","sActionName","executeBulkAction","sActionText","sPathToNotification","oThatGroup","sMessage","sGroupActionText","sNotificationTypeDesc","succededNotifications","removeNotificationFromModel","failedNotifications","show","duration","dismissNotification","notificationId","oRemovedNotification","addNotificationToModel","obj","index","dismissBulkNotifications","onListItemPress","sSemanticObject","sAction","aParameters","viewPortContainer","switchState","toExternalWithParameters","oTopNotificationData","jqNotificationItems","_getJqNotificationObjects","jqNotificationContainerContent","jqNotificationsContent","jqNotificationsList","jqNotificationItem","itemHeight","notificationIndex","indexOffSet","containerPadding","notificationContainerOffSet","outerHeight","window","parseInt","css","replace","getIndexInModelByItemId","topItemId","offset","top","scrollTop","offSetTop","children","eq","getTopOffSet","topOffSet","jqContainerContent","height","getTopItemOnTheScreen","sItemId","itemOffsetTop","each","getItemNotificationId","oList","setBusy","setShowNoData","oNotification","notifications","sNotificationsModelPath","notification","array","notificationsByTypeDescending","oSortingTypesArray","Object","keys","sSortKey","hasMoreItemsToFetch","bIsRead","sPath","oData","bGroupFound","IsRead","onTabSelected","evt","key","getParameter","addStyleClass","_changeDateListBinding","oTab","oLoadListItem","Promise","reject","require","Fragment","load","name","type","controller","catch","fragment","bindItems","onNotificationItemPress","oEvent","oModelPath","getSource","getBindingContextPath","oModelPart","NavigationTargetObject","NavigationTargetAction","NavigationTargetParams","onNotificationItemClose","_retainFocus","sNotificationPathInModel","oNotificationModelEntry","onNotificationItemButtonPress","getBindingContext","getPath","oNotificationModelPart","aPathParts","split","bTypeTabSelected","ActionId","responseAck","isSucessfull","message","ActionText","DeleteOnReturn","_addDismissNotifications","onNotificationGroupItemClose","onNotificationGroupItemCollapse","path","getCollapsed","expandedGroupIndex","substring","lastIndexOf","onExpandGroup","onNotificationGroupItemButtonPress","onListUpdateStarted","getNumberOfItemsInScreen","iItemsInScreen","iHeight","getWindowSize","ceil","max","iBasicBufferSize","iNumberOfRequiredBasicBuffers","iReturnedValue","sortingType","getItemsOfTypeFromModel","sTypeHeader","elNotificationItem","sItemModelPath","sItemNotificationId","getAttribute","hasMoreItemsInBackend","listMaxReached","inUpdate","moreNotificationCount","groupElement","listItems","groupElementId","getId","setCollapsed","oListControl","oListTag","get","removeAttribute","sType","oMoreText","text","oNotificationCountText","oMoreCircle","items","alignItems","Center","oBelowCircleTextPart1","textAlign","oBelowCircleTextPart2","oVBox","oListItem","Inactive","content","bindText","oIconTabBar","sKey","getSelectedKey","aItems","iSelected","oItem","getKey","priorityFormatter","priority","charAt","substr","toLowerCase"],"sources":["Notifications-dbg.controller.js"],"mappings":"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"}