{"version":3,"file":"Layout.js","names":["sap","ui","define","Config","Device","jQuery","CollisionModule","settings","this","init","prototype","tileWidth","tileHeight","tileMargin","curTouchMatrixCords","tilesInRow","groupsList","item","matrix","tiles","collisionLeft","startGroup","currentGroup","endGroup","column","row","groupSwitched","startArea","currentArea","endArea","undefined","draggedTileDomRef","sDragStartGroupModelId","sDragTargetGroupModelId","allGroups","extend","thisLayout","styleInfo","tileMarginWidth","aExcludedControlClass","reorderElementsCallback","rightToLeft","getCore","getConfiguration","getRTL","tabBarArrowCollisionRight","tabBarArrowCollisionLeft","collidedLinkAreas","intersectedLink","aLinksBoundingRects","intersectedLinkPlaceHolder","isLinkPersonalizationSupported","oLaunchPageService","isLinkMarkerShown","bIsTabBarCollision","moveDraggable","moveX","moveY","aTabBarItemsLocation","oCollision","getCollisionObject","bNeedsPlaceHolder","_toggleAnchorItemHighlighting","collidedObjectType","_toggleTabBarOverflowArrows","setOnTabBarElement","_resetOverFlowButtonElements","removePlaceHolders","_handleTabBarCollision","_handleLinkAreaIntersection","collidedObject","_handleTileAreaIntersection","_toggleTileCloneHoverOpacity","endAreaChanged","handlePlaceHolder","_removeEmptyLinkAreaMark","bHighlightAnchorItem","targetGroup","classList","toggle","firstElementChild","_removeLinkDropMarker","_handleChangedGroup","oCollidedObject","handlePlaceholderChange","_changeLinkPlaceholder","switchLinkWithClone","oItem","getDomRef","cloneNode","id","replaceWith","remove","saveLinkBoundingRects","elLink","oLink","byId","draggedLinkBoundingRects","getBoundingRects","_getMarkerOffset","aRects","oContainer","nContainerLeftOffset","find","getBoundingClientRect","left","nContainerTopOffset","top","nRightAdjustment","nLeftAdjustment","right","length","offset","x","width","topLeft","y","topRight","oCurrentLinkBoundingRect","link","getId","prepend","LinkDropMarker","css","leftSide","showTilePlaceholder","bTileChangedGroup","bTilesToLinks","domRef","show","removeExcludedElementsFromMatrix","getGroupTiles","slice","handleMatrixCollision","_handleMoveOutOfBorders","removeTilePlaceholder","currentHostTiles","indexOf","splice","parentNode","hasClass","hide","initGroupDragMode","currentGroupMatrix","organizeGroup","renderLayoutGroup","bIsTabBarGroupSwitched","isTabBarActive","handleTabBarSwitch","replacedTile","replacedTileIndex","currentTileIndex","newTilesOrder","_handleTileReplace","changeTilesOrder","_appendTargetGroupDomRefWithDraggedTile","getInnerContainersDomRefs","appendChild","currentTiles","currentMatrix","maxTile","findTileToPlaceAfter","getShowPlaceholder","oItemDomRef","reorderTilesView","reorderTilesInDom","_getIntersectedLink","collidedGroup","collidedGroupRect","querySelector","cozyLayout","Math","floor","aCollidedLinkAreas","linksAreaRowLength","_mapGroupLinks","sGroupId","iLastLinkOffset","iRow","bElapseGroupLinksMap","aLinks","getLinks","collidedLinksHashMap","push","forEach","_getLinkBoundingRects","oRect","_addLinkToHashMap","bind","i","_isLinkAreaIntersection","innerContainerElement","_isElementCollideByGivenCordinates","_isLinksEquals","oLinkA","oLinkB","bValue","toggleClass","bChangePlaceHolder","_markEmptyLinkArea","addClass","removeClass","jsSelectedTile","iSelectedTileIndex","index","jqSelectedTileGroup","closest","destTileIndex","calcDestIndexInGroup","jqTargetGroup","jqGroupTiles","insertBefore","isLinkIntersected","lastTileId","tilesCount","j","bItemFound","sId","layoutStartCallback","element","getTilesInRow","getGroups","getAllGroups","getParent","getMode","initDragMode","_getLinkDropMarkerElement","elLinkDropMarker","document","createElement","elMarkerDot","elMarkerLine","setAttribute","isAreaChanged","isOriginalAreaChanged","_getDestinationIndex","sType","intersectedLinkIndex","draggedItemIndex","_getDestinationTileIndex","layoutEndCallback","response","oSourceGroup","oDestinationGroup","tile","_getDragSourceGroup","Layout","_getDestGroupObject","srcGroup","dstGroup","dstGroupData","_getDropTargetGroup","dstTileIndex","tileMovedFlag","srcArea","dstArea","$targetGroup","getAttribute","groupId","isOnTabBarElement","sDestinationModelGroupId","oModelGroup","_getModelGroupById","compareArrays","a1","a2","newTiles","deletedItemIndex","newMatrix","cords","newCords","getTilePositionInMatrix","col","setMatrix","curMatrix","iIncrease","tileIndex","rowLength","tilesRect","isHorizontalIntersection","isVerticalIntersection","height","contains","bottom","_getMatrixCordinatesOfTouchedTile","matrixTouchY","matrixTouchX","_getCollidedGroup","oGroup","innerContainerElements","bCurrentGroupHasNoTiles","groupHasTiles","idx","jQLastGroupExpanded","$","removeAttr","_getGroupCollisionObject","bLinkAreaIntersection","getIsGroupLocked","oTabBarItemClickTimer","clearTimeout","_isTabBarCollision","_isTabBarScrollArea","iAnchorBarHeight","oAnchorBarOffset","iAnchorBarOffsetTop","iY","_cancelLongDropTimmer","that","oHighlightedTabItem","_getTabBarHoverItem","iTargetGroupIndex","aHoveredTabBarItem","isOverflowCollision","bDraggedBackToSourceGroup","oDropTargetGroupModel","lastHighlitedTabItem","_handleOverflowCollision","_getTabBarGroupIndexByModelId","isGroupLocked","getGroupId","setTimeout","currentTabBarItem","_getSelectedTabBarItem","draggedTileModelPath","getBindingContext","getPath","_prepareDomForDragAndDrop","removeAggregation","oModel","setProperty","getEventBus","publish","iGroupIndex","aThisGroups","add","system","tablet","cloned","clone","$item","$parent","parent","origItemId","attr","origItemDataSapUi","append","get","oEndGroupInnerDomRef","getInnerContainerDomRefs","sGroupModelId","sTempGroupModelId","aModelGroups","oTempModelGroup","sTempModelGroupId","oAnchor","sOverflowSide","_calculateOverflowButtonSideCollision","_scrollToGroupByGroupIndex","anchorItems","anchorRightOverflowArrow","anchorRightOverflowArrowLeftOffset","anchorItemOverFlow","anchorItemOverFlowOffset","anchorLeftOverflowArrow","anchorLeftOverflowArrowLeftOffset","anchorOverflowArrowLeftWidth","jqAnchor","anchorBarOffsetLeft","bTablet","anchorBar","stop","bShow","iNumOfBasicUnits","iLeftTabBarOffset","oHighlightedTabItemIndexInBar","aTabBarItems","eq","round","map","isRemoveRequired","some","controlClass","setExcludedControl","setReorderTilesCallback","func","LayoutConstructor","_initDeferred","Deferred","cfg","timeoutLayoutInfo","container","includes","getStyleInfo","isInited","reRenderGroupsLayout","layoutEngine","resolve","minTilesinRow","getElementById","Date","bTabBarModeActive","bOnTabBarElement","ushell","Container","getServiceAsync","then","subscribe","_onTabBarChange","getInitPromise","sChannelId","sEventId","oData","tabBarTileDropped","promise","getLayoutEngine","containerId","className","sizeBehavior","last","style","position","visibility","tileStyle","window","getComputedStyle","containerStyle","info","tileMarginHeight","parseFloat","marginBottom","marginTop","marginLeft","marginRight","offsetWidth","offsetHeight","containerWidth","parseInt","removeChild","setTilesInRow","checkPlaceForTile","place","lastRow","bIsLinkTiles","Array","p","getLong","placeTile","fillRowsInLine","shift","tilesCopy","tilesMatrix","currentRow","reverse","cleanRows","doneChecking","pop","setGroupsLayout","group","parentContainer","parentElement","display","calcTilesInRow","aTiles","getTiles","oPlusTile","groups","groupLayoutMatrix","endDragMode","jqGroup","calcTranslate","translateX","translateY","currentTile"],"sources":["Layout-dbg.js"],"mappings":"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"}