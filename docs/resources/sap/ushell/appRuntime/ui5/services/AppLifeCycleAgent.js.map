{"version":3,"file":"AppLifeCycleAgent.js","names":["sap","ui","define","AppRuntimePostMessageAPI","AppRuntimeService","UriParameters","URI","jQuery","Device","BusyIndicator","FesrEnhancer","EventHub","Log","hasher","resources","AppLifeCycleAgent","that","this","sAppResolutionModule","oAppResolution","bEnableAppResolutionCache","oAppResolutionCache","fnCreateApplication","oCachedApplications","oRouterDisableRetriggerApplications","oAppDirtyStateProviders","oAppBackNavigationFunc","oRunningApp","fnRenderApp","oShellUIService","sDatalossMessage","oShellNavigationService","init","sModule","ofnCreateApplication","ofnRenderApp","bEnableCache","sAppId","oAppInfo","undefined","addAppInfoToCache","registerCommHandlers","oServiceCalls","create","executeServiceCallFn","oMessageData","startInteraction","sendMessageToOuterShell","bValue","oMsg","JSON","parse","oMessage","data","sAppIdNew","fromURL","body","sUrl","get","disableCFLPUpdate","replaceHash","sHash","Deferred","resolve","promise","destroy","sCacheId","store","restore","on","do","oData","componentId","disable","isStateful","isKeepAlive","isIframeValid","isIframeBusy","browserI18n","getTranslationModel","window","navigator","language","getResourceBundle","getText","addEventListener","ushell","Container","getDirtyFlag","appId","browser","chrome","show","_resetBackNavigationCallback","getCore","getEventBus","publish","applicationInfoPromis","Promise","fnResolve","getAppInfo","then","getURLParameters","query","oURLParameters","oResolutionResult","sStorageKey","appDestroy","oApplication","sId","e","error","document","URL","stack","cleanDirtyStateProviderArray","setAppShortId","oCachedEntry","oApp","_getBackNavigationCallback","getComponentInstance","setVisible","getAsyncDirtyStateProviders","isKeepAliveSupported","deactivate","suspend","getRouter","stop","bRouterDisableRetrigger","setAsyncDirtyStateProviders","setBackNavigation","activate","initialize","oUrlParameters","fnReject","hasOwnProperty","sAppStateKey","sParameters","oUrlParametersExpanded","extend","sError","fnGetAppInfo","stringify","require","replace","oObj","setComponent","setShellUIService","oService","setShellNavigationService","checkDataLossAndContinue","getNavigationContext","confirm","setDirtyFlag"],"sources":["AppLifeCycleAgent-dbg.js"],"mappings":"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"}