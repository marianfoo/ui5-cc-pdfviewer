// Copyright (c) 2009-2022 SAP SE, All Rights Reserved
sap.ui.define(["sap/ui/core/service/ServiceFactoryRegistry","sap/ui/core/service/ServiceFactory","sap/ui/core/service/Service","../../../ui5service/_ShellUIService/shelluiservice.class.factory","sap/ushell/appRuntime/ui5/AppRuntimePostMessageAPI","sap/ushell/appRuntime/ui5/AppRuntimeService","sap/ui/thirdparty/jquery"],function(e,s,i,a,r,t,jQuery){"use strict";var l=a({serviceRegistry:e,serviceFactory:s,service:i});var c,n=false,u;var p=l.extend("sap.ushell.appRuntime.services.ShellUIService",{setTitle:function(e){c=e;return t.sendMessageToOuterShell("sap.ushell.services.ShellUIService.setTitle",{sTitle:e})},getTitle:function(){return c},setHierarchy:function(e){return t.sendMessageToOuterShell("sap.ushell.services.ShellUIService.setHierarchy",{aHierarchyLevels:e})},setRelatedApps:function(e){return t.sendMessageToOuterShell("sap.ushell.services.ShellUIService.setRelatedApps",{aRelatedApps:e})},setBackNavigation:function(e){if(!n){n=true;r.registerCommHandlers({"sap.ushell.appRuntime":{oServiceCalls:{handleBackNavigation:{executeServiceCallFn:function(e){if(u){u()}else{sap.ui.require(["sap/ushell/appRuntime/ui5/services/AppLifeCycleAgent"],function(e){if(e.checkDataLossAndContinue()){window.history.back()}})}return(new jQuery.Deferred).resolve().promise()}}}}})}u=e;t.sendMessageToOuterShell("sap.ushell.ui5service.ShellUIService.setBackNavigation",{callbackMessage:{service:"sap.ushell.appRuntime.handleBackNavigation"}})},_getBackNavigationCallback:function(){return u},_resetBackNavigationCallback:function(){this.setBackNavigation()}});return p},true);
//# sourceMappingURL=ShellUIService.js.map