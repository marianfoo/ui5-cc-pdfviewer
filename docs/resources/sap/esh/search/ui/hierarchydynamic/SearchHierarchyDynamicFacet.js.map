{"version":3,"file":"SearchHierarchyDynamicFacet.js","names":["sap","ui","define","__TreeNodeFactory","__SearchHierarchyDynamicTreeNode","__StructureTree","_interopRequireDefault","obj","__esModule","default","_createForOfIteratorHelper","o","allowArrayLike","it","Symbol","iterator","Array","isArray","_unsupportedIterableToArray","length","i","F","s","n","done","value","e","f","TypeError","normalCompletion","didErr","err","call","step","next","return","minLen","_arrayLikeToArray","Object","prototype","toString","slice","constructor","name","from","test","arr","len","arr2","_classCallCheck","instance","Constructor","_defineProperties","target","props","descriptor","enumerable","configurable","writable","defineProperty","key","_createClass","protoProps","staticProps","_defineProperty","TreeNodeFactory","SearchHierarchyDynamicTreeNode","StructureTree","SearchHierarchyDynamicFacet","properties","this","model","sina","dataSource","attributeId","dimension","title","filter","modelPathPrefix","isShowMoreDialog","handleSetFilter","filterCount","rootCondition","getAttributeConditions","facetType","facetIndex","structureTree","rootNode","id","rootNodeId","label","notDisplayedFilterConditions","treeNodeFactory","create","rootTreeNodePath","concat","treeNodeConstructor","rootTreeNode","createRootTreeNode","count","facet","setFilter","setHandleSetFilter","setFacetIndex","index","setRootTreeNodePath","updateStructureTree","sinaNode","update","activateFilters","_firePerspectiveQuery","preserveFormerResults","notifyFilterChanged","updateFromResultSet","resultSet","childTreeNodes","_iterator","node","childNodes","_step","childNode","push","createTempTreeNode","expandable","hasChildren","updateChildren","Promise","resolve","getComplexConditionOfFacet","conditions","complexCondition","containsAttribute","getFilterConditions","filterConditions","condition","mixinFilterNodes","hasFilter","visitChildNodesRecursively","treeNode","treeNodeId","filterCondition","getTreeNode","j","notDisplayedFilterCondition","addMissingFilterNode","splice","calculateCheckboxStatus","calculateFilterCount","setProperty","_this","getOrCreateTreeNode","structureTreeNode","isVisible","parentNode","Error","parentTreeNode","createTreeNode","addChildTreeNode","getNode","selected","partiallySelected","leafNodes","hasChildNodes","leafNode","calculateCheckboxStatusFromLeafNode","markPartiallySelected","getParentTreeNode","handleModelUpdate","updateUI","_delete","updateNodesFromHierarchyNodePaths","hierarchyNodePaths","_iterator2","_step2","hierarchyNodePath","updateFromHierarchyNodePath"],"sources":["SearchHierarchyDynamicFacet-dbg.js"],"mappings":";;;;;;CAOA,WACAA,IAAIC,GAAGC,OAAO,CAAC,0BAA2B,mCAAoC,mBAAoB,SAAUC,EAAmBC,EAAkCC,GAC/J,SAASC,EAAuBC,GAC9B,OAAOA,GAAOA,EAAIC,mBAAqBD,EAAIE,UAAY,YAAcF,EAAIE,QAAUF,CACrF,CAEA,SAASG,EAA2BC,EAAGC,GAAkB,IAAIC,SAAYC,SAAW,aAAeH,EAAEG,OAAOC,WAAaJ,EAAE,cAAe,IAAKE,EAAI,CAAE,GAAIG,MAAMC,QAAQN,KAAOE,EAAKK,EAA4BP,KAAOC,GAAkBD,UAAYA,EAAEQ,SAAW,SAAU,CAAE,GAAIN,EAAIF,EAAIE,EAAI,IAAIO,EAAI,EAAG,IAAIC,EAAI,WAAa,EAAG,MAAO,CAAEC,EAAGD,EAAGE,EAAG,WAAc,GAAIH,GAAKT,EAAEQ,OAAQ,MAAO,CAAEK,KAAM,MAAQ,MAAO,CAAEA,KAAM,MAAOC,MAAOd,EAAES,KAAQ,EAAGM,EAAG,SAAUA,GAAK,MAAMA,CAAG,EAAGC,EAAGN,EAAK,CAAE,MAAM,IAAIO,UAAU,wIAA0I,CAAE,IAAIC,EAAmB,KAAMC,EAAS,MAAOC,EAAK,MAAO,CAAET,EAAG,WAAcT,EAAKA,EAAGmB,KAAKrB,EAAI,EAAGY,EAAG,WAAc,IAAIU,EAAOpB,EAAGqB,OAAQL,EAAmBI,EAAKT,KAAM,OAAOS,CAAM,EAAGP,EAAG,SAAUA,GAAKI,EAAS,KAAMC,EAAML,CAAG,EAAGC,EAAG,WAAc,IAAM,IAAKE,GAAoBhB,EAAGsB,QAAU,KAAMtB,EAAGsB,QAAU,CAAE,QAAU,GAAIL,EAAQ,MAAMC,CAAK,CAAE,EAAK,CAEx9B,SAASb,EAA4BP,EAAGyB,GAAU,IAAKzB,EAAG,OAAQ,UAAWA,IAAM,SAAU,OAAO0B,EAAkB1B,EAAGyB,GAAS,IAAIb,EAAIe,OAAOC,UAAUC,SAASR,KAAKrB,GAAG8B,MAAM,GAAI,GAAI,GAAIlB,IAAM,UAAYZ,EAAE+B,YAAanB,EAAIZ,EAAE+B,YAAYC,KAAM,GAAIpB,IAAM,OAASA,IAAM,MAAO,OAAOP,MAAM4B,KAAKjC,GAAI,GAAIY,IAAM,aAAe,2CAA2CsB,KAAKtB,GAAI,OAAOc,EAAkB1B,EAAGyB,EAAS,CAE/Z,SAASC,EAAkBS,EAAKC,GAAO,GAAIA,GAAO,MAAQA,EAAMD,EAAI3B,OAAQ4B,EAAMD,EAAI3B,OAAQ,IAAK,IAAIC,EAAI,EAAG4B,EAAO,IAAIhC,MAAM+B,GAAM3B,EAAI2B,EAAK3B,IAAK4B,EAAK5B,GAAK0B,EAAI1B,GAAI,OAAO4B,CAAM,CAElL,SAASC,EAAgBC,EAAUC,GAAe,KAAMD,aAAoBC,GAAc,CAAE,MAAM,IAAIvB,UAAU,oCAAsC,CAAE,CAExJ,SAASwB,EAAkBC,EAAQC,GAAS,IAAK,IAAIlC,EAAI,EAAGA,EAAIkC,EAAMnC,OAAQC,IAAK,CAAE,IAAImC,EAAaD,EAAMlC,GAAImC,EAAWC,WAAaD,EAAWC,YAAc,MAAOD,EAAWE,aAAe,KAAM,GAAI,UAAWF,EAAYA,EAAWG,SAAW,KAAMpB,OAAOqB,eAAeN,EAAQE,EAAWK,IAAKL,EAAa,CAAE,CAE5T,SAASM,EAAaV,EAAaW,EAAYC,GAAe,GAAID,EAAYV,EAAkBD,EAAYZ,UAAWuB,GAAa,GAAIC,EAAaX,EAAkBD,EAAaY,GAAczB,OAAOqB,eAAeR,EAAa,YAAa,CAAEO,SAAU,QAAU,OAAOP,CAAa,CAE5R,SAASa,EAAgBzD,EAAKqD,EAAKnC,GAAS,GAAImC,KAAOrD,EAAK,CAAE+B,OAAOqB,eAAepD,EAAKqD,EAAK,CAAEnC,MAAOA,EAAO+B,WAAY,KAAMC,aAAc,KAAMC,SAAU,MAAS,KAAO,CAAEnD,EAAIqD,GAAOnC,CAAO,CAAE,OAAOlB,CAAK,CAMhN,IAAI0D,EAAkB3D,EAAuBH,GAE7C,IAAI+D,EAAiC5D,EAAuBF,GAE5D,IAAI+D,EAAgB7D,EAAuBD,GAE3C,IAAI+D,EAA2C,WAC7C,SAASA,EAA4BC,GACnCpB,EAAgBqB,KAAMF,GAEtBE,KAAKC,MAAQF,EAAWE,MACxBD,KAAKE,KAAOH,EAAWG,KACvBF,KAAKG,WAAaJ,EAAWI,WAC7BH,KAAKI,YAAcL,EAAWK,YAC9BJ,KAAKK,UAAYL,KAAKI,YAEtBJ,KAAKM,MAAQP,EAAWO,MACxBN,KAAKO,OAASR,EAAWQ,OACzBP,KAAKQ,gBAAkBT,EAAWS,gBAClCR,KAAKS,iBAAmBV,EAAWU,iBACnCT,KAAKU,gBAAkBX,EAAWW,gBAClCV,KAAKW,YAAcX,KAAKO,OAAOK,cAAcC,uBAAuBb,KAAKI,aAAavD,OACtFmD,KAAKc,UAAY,YACjBd,KAAKe,YAAc,EACnBf,KAAKgB,cAAgB,IAAInB,EAAc,CACrCoB,SAAU,CACRC,GAAIpB,EAA4BqB,WAChCC,MAAO,UAGXpB,KAAKqB,6BAA+B,GACpCrB,KAAKsB,gBAAkB3B,EAAgB4B,OAAO,CAC5CtB,MAAOD,KAAKC,MACZuB,iBAAkB,WAAWC,OAAOzB,KAAKe,WAAY,iBAErDW,oBAAqB9B,IAEvBI,KAAK2B,aAAe3B,KAAKsB,gBAAgBM,mBAAmB,CAC1DV,GAAIpB,EAA4BqB,WAChCC,MAAO,OACPS,MAAO,EACPC,MAAO9B,MAEX,CAEAT,EAAaO,EAA6B,CAAC,CACzCR,IAAK,YACLnC,MAAO,SAAS4E,EAAUxB,GACxBP,KAAKO,OAASA,CAChB,GACC,CACDjB,IAAK,qBACLnC,MAAO,SAAS6E,EAAmBtB,GACjCV,KAAKU,gBAAkBA,CACzB,GACC,CACDpB,IAAK,gBACLnC,MAAO,SAAS8E,EAAcC,GAC5BlC,KAAKe,WAAamB,EAClBlC,KAAKsB,gBAAgBa,oBAAoB,GAAGV,OAAOzB,KAAKQ,gBAAiB,KAAKiB,OAAOzB,KAAKe,WAAY,iBACxG,GACC,CACDzB,IAAK,sBACLnC,MAAO,SAASiF,EAAoBC,GAClCrC,KAAKgB,cAAcsB,OAAOD,EAC5B,GACC,CACD/C,IAAK,kBACLnC,MAAO,SAASoF,IACdvC,KAAKC,MAAMuC,sBAAsB,CAC/BC,sBAAuB,QAGzBzC,KAAKC,MAAMyC,qBACb,GACC,CACDpD,IAAK,sBACLnC,MAAO,SAASwF,EAAoBC,GAClC,IAAIC,EAAiB,GAErB,IAAIC,EAAY1G,EAA2BwG,EAAUG,KAAKC,YACtDC,EAEJ,IACE,IAAKH,EAAU9F,MAAOiG,EAAQH,EAAU7F,KAAKC,MAAO,CAClD,IAAIgG,EAAYD,EAAM9F,MACtB0F,EAAeM,KAAKnD,KAAKsB,gBAAgB8B,mBAAmB,CAC1DlC,GAAIgC,EAAUhC,GACdE,MAAO8B,EAAU9B,MACjBS,MAAOqB,EAAUrB,MACjBC,MAAO9B,KACPqD,WAAYH,EAAUI,cAE1B,CACF,CAAE,MAAO7F,GACPqF,EAAU1F,EAAEK,EACd,CAAE,QACAqF,EAAUzF,GACZ,CAEA2C,KAAK2B,aAAa4B,eAAeV,GACjC7C,KAAKoC,oBAAoBQ,EAAUG,MACnC,OAAOS,QAAQC,SACjB,GACC,CACDnE,IAAK,6BACLnC,MAAO,SAASuG,IACd,IAAK,IAAI5G,EAAI,EAAGA,EAAIkD,KAAKO,OAAOK,cAAc+C,WAAW9G,SAAUC,EAAG,CACpE,IAAI8G,EAAmB5D,KAAKO,OAAOK,cAAc+C,WAAW7G,GAE5D,GAAI8G,EAAiBC,kBAAkB7D,KAAKI,aAAc,CACxD,OAAOwD,CACT,CACF,CAEA,OAAO,IACT,GACC,CACDtE,IAAK,sBACLnC,MAAO,SAAS2G,IACd,IAAIC,EAAmB,GACvB,IAAIH,EAAmB5D,KAAK0D,6BAE5B,IAAKE,EAAkB,CACrB,OAAOG,CACT,CAEA,IAAK,IAAIjH,EAAI,EAAGA,EAAI8G,EAAiBD,WAAW9G,SAAUC,EAAG,CAC3D,IAAIkH,EAAYJ,EAAiBD,WAAW7G,GAC5CiH,EAAiBZ,KAAKa,EACxB,CAEA,OAAOD,CACT,GACC,CACDzE,IAAK,mBACLnC,MAAO,SAAS8G,IAEdjE,KAAK2B,aAAauC,UAAY,MAC9BlE,KAAK2B,aAAawC,2BAA2B,SAAUC,GACrDA,EAASF,UAAY,KACvB,GAEA,IAAIG,EACJ,IAAIhD,EAA+B,GACnC,IAAI0C,EAAmB/D,KAAK8D,sBAE5B,IAAK,IAAIhH,EAAI,EAAGA,EAAIiH,EAAiBlH,SAAUC,EAAG,CAChD,IAAIwH,EAAkBP,EAAiBjH,GACvCuH,EAAaC,EAAgBnH,MAE7B,IAAIiH,EAAWpE,KAAKsB,gBAAgBiD,YAAYF,GAEhD,GAAID,EAAU,CACZA,EAASF,UAAY,IACvB,KAAO,CACL7C,EAA6B8B,KAAKmB,EACpC,CACF,CAGA,IAAK,IAAIE,EAAI,EAAGA,EAAInD,EAA6BxE,SAAU2H,EAAG,CAC5D,IAAIC,EAA8BpD,EAA6BmD,GAC/DH,EAAaI,EAA4BtH,MAEzC,GAAI6C,KAAK0E,qBAAqBL,GAAa,CAEzChD,EAA6BsD,OAAOH,EAAG,GACvCA,GACF,CACF,CAEAxE,KAAKqB,6BAA+BA,EACpCrB,KAAK4E,0BACL5E,KAAK6E,sBACP,GACC,CACDvF,IAAK,uBACLnC,MAAO,SAAS0H,IACd,IAAIlE,EAAcX,KAAKO,OAAOK,cAAcC,uBAAuBb,KAAKI,aAAavD,OACrFmD,KAAKC,MAAM6E,YAAY,GAAGrD,OAAOzB,KAAKQ,gBAAiB,KAAKiB,OAAOzB,KAAKe,WAAY,gBAAiBJ,EACvG,GACC,CACDrB,IAAK,uBACLnC,MAAO,SAASuH,EAAqBxD,GACnC,IAAI6D,EAAQ/E,KAEZ,IAAIgF,EAAsB,SAASA,EAAoBC,GACrD,IAAIb,EAAWW,EAAMzD,gBAAgBiD,YAAYU,EAAkB/D,IAEnE,GAAIkD,EAAU,CACZ,GAAIA,EAASc,YAAa,CACxB,OAAOd,CACT,KAAO,CACL,OAAO,IACT,CACF,CAEA,IAAKa,EAAkBE,WAAY,CACjC,MAAM,IAAIC,MAAM,yCAA2CH,EAAkB/D,GAC/E,CAEA,IAAImE,EAAiBL,EAAoBC,EAAkBE,YAE3D,IAAKE,EAAgB,CACnB,OAAO,IACT,CAEAjB,EAAWW,EAAMzD,gBAAgBgE,eAAe,CAC9CpE,GAAI+D,EAAkB/D,GACtBE,MAAO6D,EAAkB7D,MACzBS,MAAO,EACPC,MAAOiD,IAETM,EAAeE,iBAAiBnB,GAChC,OAAOA,CACT,EAEA,IAAIa,EAAoBjF,KAAKgB,cAAcwE,QAAQtE,GAEnD,IAAK+D,EAAmB,CACtB,OAAO,KACT,CAEA,IAAIb,EAAWY,EAAoBC,GAEnC,IAAKb,EAAU,CACb,OAAO,KACT,CAEAA,EAASF,UAAY,KACrB,OAAO,IACT,GACC,CACD5E,IAAK,0BACLnC,MAAO,SAASyH,IAEd5E,KAAK2B,aAAa8D,SAAW,MAC7BzF,KAAK2B,aAAa+D,kBAAoB,MACtC1F,KAAK2B,aAAawC,2BAA2B,SAAUpB,GACrDA,EAAK0C,SAAW,MAChB1C,EAAK2C,kBAAoB,KAC3B,GAEA,IAAIC,EAAY,GAEhB,IAAK3F,KAAK2B,aAAaiE,gBAAiB,CACtCD,EAAUxC,KAAKnD,KAAK2B,aACtB,CAEA3B,KAAK2B,aAAawC,2BAA2B,SAAUpB,GACrD,IAAKA,EAAK6C,gBAAiB,CACzBD,EAAUxC,KAAKJ,EACjB,CACF,GAEA,IAAK,IAAIjG,EAAI,EAAGA,EAAI6I,EAAU9I,SAAUC,EAAG,CACzC,IAAI+I,EAAWF,EAAU7I,GACzBkD,KAAK8F,oCAAoCD,EAC3C,CACF,GACC,CACDvG,IAAK,sCACLnC,MAAO,SAAS2I,EAAoCD,GAClD,IAAI9C,EAAO8C,EACX,IAAIE,EAAwB,MAE5B,MAAOhD,EAAM,CACX,GAAIA,EAAK0C,UAAY1C,EAAK2C,kBAAmB,CAC3C,MACF,CAEA,GAAI3C,EAAKmB,UAAW,CAClBnB,EAAK0C,SAAW,KAChB1C,EAAK2C,kBAAoB,MACzBK,EAAwB,IAC1B,KAAO,CACL,GAAIA,EAAuB,CACzBhD,EAAK0C,SAAW,KAChB1C,EAAK2C,kBAAoB,IAC3B,CACF,CAEA3C,EAAOA,EAAKiD,mBACd,CACF,GACC,CACD1G,IAAK,oBACLnC,MAAO,SAAS8I,IACdjG,KAAKsB,gBAAgB4E,UACvB,GACC,CACD5G,IAAK,SACLnC,MAAO,SAASgJ,IACdnG,KAAKsB,gBAAgB,WACvB,GACC,CACDhC,IAAK,oCACLnC,MAAO,SAASiJ,EAAkCC,GAChD,IAAIC,EAAalK,EAA2BiK,GACxCE,EAEJ,IACE,IAAKD,EAAWtJ,MAAOuJ,EAASD,EAAWrJ,KAAKC,MAAO,CACrD,IAAIsJ,EAAoBD,EAAOpJ,MAE/B,GAAIqJ,EAAkBnI,OAAS2B,KAAKI,YAAa,CAC/C,QACF,CAEAJ,KAAKgB,cAAcyF,4BAA4BD,EACjD,CACF,CAAE,MAAO/I,GACP6I,EAAWlJ,EAAEK,EACf,CAAE,QACA6I,EAAWjJ,GACb,CACF,KAGF,OAAOyC,CACT,CA3T+C,GA6T/CJ,EAAgBI,EAA6B,aAAc,YAE3D,OAAOA,CACT,EACC,EA/VD"}