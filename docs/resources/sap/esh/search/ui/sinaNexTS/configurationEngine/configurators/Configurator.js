/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){sap.ui.define(["../../core/core"],function(e){function t(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(e,r.key,r)}}function r(e,t,r){if(t)n(e.prototype,t);if(r)n(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}function u(e,t,n){if(n){return t?t(e):e}if(!e||!e.then){e=Promise.resolve(e)}return t?e.then(t):e}function i(e,t,n){if(n){return t?t(e()):e()}try{var r=Promise.resolve(e());return t?r.then(t):r}catch(e){return Promise.reject(e)}}var o=function(){function n(e){t(this,n);this.type=e.type;this.typeContext=e.typeContext;this.configuration=e.configuration;this.createConfiguratorAsync=e.createConfiguratorAsync}r(n,[{key:"createContext",value:function e(t,n){if(!t){return{objectStack:[n],configuratorStack:[this]}}var r=t.objectStack.slice();r.push(n);var u=t.configuratorStack.slice();u.push(this);return{objectStack:r,configuratorStack:u}}},{key:"getResourceBundle",value:function e(t){for(var n=t.configuratorStack.length-1;n>=0;--n){var r=t.configuratorStack[n];if(r.resourceBundle){return r.resourceBundle}}}},{key:"getEvaluateTemplateFunction",value:function e(t){var n=function e(t,n){return function(e){return t(e,n)}};for(var r=t.configuratorStack.length-1;r>=0;--r){var u=t.configuratorStack[r];var i=t.objectStack[r];if(u.type&&u.type.evaluateTemplate){return n(u.type.evaluateTemplate,i)}}}},{key:"initResourceBundleAsync",value:function e(){if(!this.configuration.resourceBundle){return undefined}return this.loadResourceBundleAsync(this.configuration.resourceBundle).then(function(e){this.resourceBundle=e}.bind(this))}},{key:"loadResourceBundleAsync",value:function e(t){var n,r,u,i;if(typeof window==="undefined"||!((n=window)!==null&&n!==void 0&&(r=n.sap)!==null&&r!==void 0&&(u=r.base)!==null&&u!==void 0&&(i=u.i18n)!==null&&i!==void 0&&i.ResourceBundle)){return Promise.resolve({getText:function e(t){return t}})}sap.ui.require(["sap/base/i18n/ResourceBundle"],function(e){return e.create({url:t,async:true})})}},{key:"configureAsync",value:function e(t,n){var r=this;return i(function(){return u(r.configure(t,n))})}},{key:"isInitialOrForced",value:function t(n){if(this.force||typeof n==="undefined"||e.isObject(n)&&n===null||e.isString(n)&&n.length===0){return true}return false}}]);return n}();var c={__esModule:true};c.Configurator=o;return c})})();
//# sourceMappingURL=Configurator.js.map