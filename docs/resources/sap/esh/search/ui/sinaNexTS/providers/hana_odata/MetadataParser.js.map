{"version":3,"file":"MetadataParser.js","names":["sap","ui","define","____core_Log","____sina_AttributeType","____sina_AttributeFormatType","____sina_MatchingStrategy","____core_errors","_typeof","obj","Symbol","iterator","constructor","prototype","_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","_createClass","protoProps","staticProps","Log","AttributeType","AttributeFormatType","MatchingStrategy","UnknownAttributeTypeError","UnknownPresentationUsageError","AccessUsageConversionMap","PresentationUsageConversionMap","MetadataParser","provider","this","log","sina","value","_setAnnotationValue","annotations","annotationName","annotationParts","split","annotationPart","annotationPointer","dummyEntryName","undefined","Array","isArray","push","concat","propName","fillMetadataBuffer","dataSource","attributes","attributesMetadata","id","attributeMetadataMap","cdsAnnotations","dataSourceAnnotations","attributeAnnotations","attributeMetadata","attributeMap","fillPublicMetadataBuffer","e","error","label","toString","parser","_createCDSAnnotationsParser","parseCDSAnnotationsForDataSource","displayOrderIndex","displayOrder","labelRaw","annotationsAttr","typeAndFormat","_parseAttributeTypeAndFormat","type","_attributeMetadata$hi","_attributeMetadata$hi2","_attributeMetadata$hi3","publicAttributeMetadata","_createAttributeMetadata","isKey","isSortable","usage","_parseUsage","format","matchingStrategy","_parseMatchingStrategy","isHierarchy","hierarchyDefinition","hierarchyName","name","hierarchyDisplayType","displayType","isHierarchyDefinition","_attributeMetadata$hi4","_attributeMetadata$hi5","_attributeMetadata$hi6","_attributeMetadata$hi7","hierarchyAttribute","attributeName","_private","semanticObjectType","SemanticObjectTypeId","supportsTextSearch","Text","Exact","attributeId","presentationUsage","toUpperCase","ImageUrl","String","LongText","SEMANTICS","CONTACT","PHOTO","IMAGEURL","ImageBlob","Double","Integer","Time","Date","TypeLength","Timestamp","GeoJson","startsWith","warn","Title","Detail","isFacet","AdvancedSearch","facetPosition","iconUrlAttributeName","facetIconUrlAttributeName","Facet","isFilteringAttribute","parseDynamicMetadata","searchResult","data","metadata","dataSourceId","dataSourceMetadata","dynamicAttributeMetadata","parseDynamicAttributeMetadata","getDataSource","$Type","getAttributeMetadata","_attributeMetadata$us","_attributeMetadata$us2","dynamic","getUniqueDataSourceFromSearchResult","items","prevDataSourceId","item","context","__exports","__esModule"],"sources":["MetadataParser-dbg.js"],"mappings":"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"}