/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){sap.ui.define(["./NavigationTargetTemplate","../../../sina/SinaObject"],function(e,t){function n(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(e,r.key,r)}}function i(e,t,n){if(t)r(e.prototype,t);if(n)r(e,n);Object.defineProperty(e,"prototype",{writable:false});return e}function o(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});Object.defineProperty(e,"prototype",{writable:false});if(t)a(e,t)}function a(e,t){a=Object.setPrototypeOf||function e(t,n){t.__proto__=n;return t};return a(e,t)}function c(e){var t=l();return function n(){var r=f(e),i;if(t){var o=f(this).constructor;i=Reflect.construct(r,arguments,o)}else{i=r.apply(this,arguments)}return s(this,i)}}function s(e,t){if(t&&(typeof t==="object"||typeof t==="function")){return t}else if(t!==void 0){throw new TypeError("Derived constructors may only return object or undefined")}return u(e)}function u(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function l(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true}catch(e){return false}}function f(e){f=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return f(e)}
/*!
   * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	
   */var p=e["NavigationTargetTemplate"];var y=t["SinaObject"];var b=function(e){o(r,e);var t=c(r);function r(e){var i;n(this,r);i=t.call(this,e);i.navigationTargetGenerator=e.navigationTargetGenerator;i.sourceObjectType=e.sourceObjectType;i.targetObjectType=e.targetObjectType;i.conditions=[];return i}i(r,[{key:"add",value:function e(t){this.conditions.push(t)}},{key:"hasDuplicateSemanticObject",value:function e(){var t={};for(var n=0;n<this.conditions.length;++n){var r=this.conditions[n];if(t[r.semanticObjectType]){return true}t[r.semanticObjectType]=true}return false}},{key:"hasDistinctValue",value:function e(t,n){var r;for(var i=0;i<this.conditions.length;++i){var o=this.conditions[i];if(o.semanticObjectType!==t){continue}if(!r){r=o[n];continue}if(r!==o[n]){return false}}return true}},{key:"generateNavigationTargetTemplates",value:function e(){if(this.hasDuplicateSemanticObject()){return this.createSingleConditionsTemplates()}return this.createMultipleConditionsTemplates()}},{key:"createSingleConditionsTemplates",value:function e(){var t=[];for(var n=0;n<this.conditions.length;++n){var r=this.conditions[n];var i=this.hasDistinctValue(r.semanticObjectType,"sourcePropertyName");var o=this.hasDistinctValue(r.semanticObjectType,"targetPropertyName");if(!i&&!o){continue}var a=new p({sina:this.sina,navigationTargetGenerator:this.navigationTargetGenerator,label:"dummy",sourceObjectType:this.sourceObjectType,targetObjectType:this.targetObjectType,conditions:[r]});a._condition=r;t.push(a)}this.assembleSingleConditionTemplateLabels(t);return t}},{key:"createMultipleConditionsTemplates",value:function e(){return[new p({sina:this.sina,navigationTargetGenerator:this.navigationTargetGenerator,label:this.navigationTargetGenerator.objectTypeMap[this.targetObjectType].label,sourceObjectType:this.sourceObjectType,targetObjectType:this.targetObjectType,conditions:this.conditions})]}},{key:"assembleSingleConditionTemplateLabels",value:function e(t){var n={};var r,i,o,a;for(var c=0;c<t.length;++c){o=t[c];a=this.navigationTargetGenerator.objectTypeMap[this.targetObjectType];i=a.label+" to:"+a.propertyMap[o._condition.targetPropertyName].label;o.label=i;r=n[i];if(!r){r=[];n[i]=r}r.push(o)}a=this.navigationTargetGenerator.objectTypeMap[this.sourceObjectType];for(i in n){r=n[i];if(r.length>1){for(var s=0;s<r.length;++s){o=r[s];o.label+=" from:"+a.propertyMap[o._condition.sourcePropertyName].label}}}}}]);return r}(y);var h={__esModule:true};h.JoinConditions=b;return h})})();
//# sourceMappingURL=JoinConditions.js.map