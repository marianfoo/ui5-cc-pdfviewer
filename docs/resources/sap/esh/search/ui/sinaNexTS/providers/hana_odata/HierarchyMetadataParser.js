/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){sap.ui.define(["../../sina/HierarchyDisplayType"],function(e){function t(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function r(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||false;i.configurable=true;if("value"in i)i.writable=true;Object.defineProperty(e,i.key,i)}}function i(e,t,i){if(t)r(e.prototype,t);if(i)r(e,i);Object.defineProperty(e,"prototype",{writable:false});return e}var a=e["HierarchyDisplayType"];var n=function(){function e(jQuery){t(this,e);this.jQuery=jQuery}i(e,[{key:"parse",value:function e(t,r){var i=this;var a={};i.jQuery(r).find("Collection").each(function(){i.jQuery(this).find("Record").each(function(){var e=i.parseRecord(t,this);a[e.attributeName]=e})});return a}},{key:"parseRecord",value:function e(t,r){var i={name:"",attributeName:"",displayType:a.DynamicHierarchyFacet,isHierarchyDefinition:false,parentAttributeName:"",childAttributeName:""};var n=this;n.jQuery(r).find(">PropertyValue").each(function(){switch(n.jQuery(this).attr("Property")){case"Definition":i.name=n.jQuery(this).attr("String");break;case"Name":i.attributeName=n.jQuery(this).attr("String");break;case"displayType":switch(n.jQuery(this).attr("String")){case"TREE":i.displayType=a.StaticHierarchyFacet;break;case"FLAT":i.displayType=a.HierarchyResultView;break}break;case"Recurse":Object.assign(i,n.parseRecurse(this))}});i.isHierarchyDefinition=n.calculateIsHierarchyDefinition(t,i.name);return i}},{key:"calculateIsHierarchyDefinition",value:function e(t,r){if(t.endsWith("Type")){t=t.slice(0,-4)}r=r.replace(/[.:]/g,"");return t===r}},{key:"parseRecurse",value:function e(t){var r=this;var i={parentAttributeName:"",childAttributeName:""};r.jQuery(t).find(">PropertyValue").each(function(){switch(r.jQuery(this).attr("Property")){case"Parent":r.jQuery(this).find("Collection").each(function(){i.parentAttributeName=r.parseCollection(this)});break;case"Child":r.jQuery(this).find(">Collection").each(function(){i.childAttributeName=r.parseCollection(this)})}});return i}},{key:"parseCollection",value:function e(t){var r=this;var i;r.jQuery(t).find(">PropertyPath").each(function(){i=r.jQuery(this).text()});return i}}]);return e}();var c={__esModule:true};c.HierarchyMetadataParser=n;return c})})();
//# sourceMappingURL=HierarchyMetadataParser.js.map