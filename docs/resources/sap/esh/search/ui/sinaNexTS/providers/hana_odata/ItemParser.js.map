{"version":3,"file":"ItemParser.js","names":["sap","ui","define","util","typeConverter","____core_Log","____core_errors","___tools_WhyfoundProcessor","_typeof","obj","Symbol","iterator","constructor","prototype","_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","_createClass","protoProps","staticProps","_defineProperty","value","Log","InternalServerError","WhyfoundProcessor","_call","body","then","direct","result","Promise","resolve","e","reject","_await","ItemParser","provider","this","sina","intentsResolver","_createFioriIntentsResolver","suvNavTargetResolver","_createSuvNavTargetResolver","parse","searchQuery","data","_this","error","message","log","warn","itemsData","itemProms","itemData","itemProm","parseItem","push","all","query","_this2","_this2$sina$getDataSo","attributes","titleAttributes","detailAttributes","titleDescriptionAttributes","allAttributes","semanticObjectTypeAttributes","entitySetName","posOfSeparator","lastIndexOf","slice","dataSource","getDataSource","whyFounds","hasHierarchyNodeChild","hasHierarchyNodeChildAttribute","_createSearchResultSetItemAttribute","id","label","toString","valueFormatted","valueHighlighted","isHighlighted","metadata","undefined","groups","semanticObjectType","suvAttributes","suvAttribute","suvAttributeName","suvHighlightTerms","fallbackDefaultNavigationTarget","rankingScore","whyFoundProcessor","itemDataStructured","preParseItem","attributeName","groupBy","aggregateCountAlias","structuredAttribute","getAttributeMetadata","usage","Detail","displayOrder","attrValue","odata2Sina","type","attrWhyFound","processRegularWhyFoundAttributes","valueString","JSON","stringify","attribute","calIsHighlighted","iconUrlAttributeName","iconUrlValue","iconUrl","appendRemovingDuplicates","extractHighlightedTerms","Title","TitleDescription","Navigation","mainNavigation","_createNavigationTarget","targetUrl","attributeMetadataMap","_private","suvTargetUrlAttribute","suvTargetMimeTypeAttribute","sort","a1","a2","resolveSuvNavTargets","searchResultSetItem","_createSearchResultSetItem","defaultNavigationTarget","navigationTargets","score","allAttributesMap","itemPostParser","_createItemPostParser","postParseResultSetItem","postResultSetItem","processAdditionalWhyfoundAttributes","originalPropertyName","splitted","split","propertyName","substructure","__exports","__esModule"],"sources":["ItemParser-dbg.js"],"mappings":"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"}