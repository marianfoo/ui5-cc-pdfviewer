{"version":3,"file":"MetadataParserXML.js","names":["sap","ui","define","____sina_DataSourceType","___MetadataParser","___HierarchyMetadataParser","_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","_createClass","protoProps","staticProps","prototype","_inherits","subClass","superClass","create","constructor","value","_setPrototypeOf","o","p","setPrototypeOf","__proto__","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","_createSuperInternal","Super","_getPrototypeOf","result","NewTarget","this","Reflect","construct","arguments","apply","_possibleConstructorReturn","self","call","_assertThisInitialized","ReferenceError","sham","Proxy","Boolean","valueOf","e","getPrototypeOf","DataSourceType","MetadataParser","HierarchyMetadataParser","_await","then","direct","Promise","resolve","_call","body","reject","MetadataParserXML","_MetadataParser","_super","provider","_getWindow","_this","window","jsDOMWindow","jsdom","require","fs","jquery","readFileSync","dom","JSDOM","runScripts","$","jQuery","fireRequest","client","url","getXML","parseResponse","metaXML","_this2","that","allInOneMap","businessObjectMap","businessObjectList","dataSourceMap","dataSourcesList","xmlDoc","parseXML","find","each","$this","helperMap","_parseEntityType","_parseEntityContainer","schema","hierarchyMetadataParser","entityTypeName","attr","entitySet","keys","attributeMap","resourceBundle","labelResourceBundle","label","labelPlural","annotations","hierarchyDefinitionsMap","icon","push","parse","siblings","$element","annotationName","undefined","toUpperCase","annotationValue","_getValueFromElement","resourceUrl","resources","language","getCore","getConfiguration","getLanguage","log","error","toString","sKey","sTranslatedText","getText","_setAnnotationValue","index","attributeName","attribute","labelRaw","type","presentationUsage","isFacet","isSortable","supportsTextSearch","displayOrder","annotationsAttr","unknownAnnotation","hierarchyDefinition","children","arrayEntry","entryAnnoName","entryAnnoValue","isKey","facetPosition","facetIconUrlAttributeName","isFilteringAttribute","startsWith","identification","UI","IDENTIFICATION","POSITION","Array","isArray","TYPE","element","text","trim","Number","parseFloat","isNaN","parseInt","schemaXML","name","entityTypeFullQualified","entityType","slice","lastIndexOf","newDatasource","sina","_createDataSource","id","BusinessObject","attributesMetadata","dataSource","__exports","__esModule"],"sources":["MetadataParserXML-dbg.js"],"mappings":"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"}