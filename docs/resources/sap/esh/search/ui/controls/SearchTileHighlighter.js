/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){sap.ui.define(["sap/esh/search/ui/SearchHelper"],function(e){function t(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function i(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function n(e,t,n){if(t)i(e.prototype,t);if(n)i(e,n);Object.defineProperty(e,"prototype",{writable:false});return e}var r=e["Tester"];var h=e;var o=function(){function e(){t(this,e);this._softHyphenRegExp=new RegExp("[Â­]","g")}n(e,[{key:"setHighlightTerms",value:function e(t){this.tester=new r(t,"sapUshellSearchHighlight",true,"or")}},{key:"highlight",value:function e(t){var i=t.getDomRef();if(!i){return}var n=sap.ui.core.hyphenation.Hyphenation.getInstance();if(!n.isLanguageInitialized()){n.initialize().then(function(){this.doHighlight(i)}.bind(this),function(){this.doHighlight(i)}.bind(this))}else{this.doHighlight(i)}}},{key:"doHighlight",value:function e(t){if(t.nodeType===window.Node.TEXT_NODE){this.highlightTextNode(t);return}for(var i=0;i<t.childNodes.length;++i){var n=t.childNodes[i];this.doHighlight(n)}}},{key:"removeSoftHyphens",value:function e(t){return t.replace(this._softHyphenRegExp,"")}},{key:"highlightTextNode",value:function e(t){var i=this.tester.test(this.removeSoftHyphens(t.textContent));if(!i.bMatch){return}var n=document.createElement("span");n.innerHTML=jQuery["sap"].encodeHTML(i.sHighlightedText);h.boldTagUnescaper(n,"sapUshellSearchHighlight");t.parentNode.insertBefore(n,t);t.parentNode.removeChild(t)}}]);return e}();var a={__esModule:true};a.Highlighter=o;return a})})();
//# sourceMappingURL=SearchTileHighlighter.js.map