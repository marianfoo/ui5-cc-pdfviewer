/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){sap.ui.define(["sap/ui/layout/ResponsiveSplitter","sap/ui/layout/SplitterLayoutData","sap/m/ScrollContainer","sap/m/VBox","sap/m/BusyDialog","sap/ui/layout/SplitPane","sap/ui/layout/PaneContainer","sap/ui/core/library","sap/m/Text","../UIEvents"],function(e,t,n,i,a,s,o,r,h,l){function u(e){return e&&e.__esModule&&typeof e.default!=="undefined"?e.default:e}var p=r["Orientation"];var d=u(l);var f=e.extend("sap.esh.search.ui.controls.SearchLayoutResponsive",{renderer:{apiVersion:2},metadata:{properties:{searchIsBusy:{type:"boolean"},busyDelay:{type:"int"},combinedResultviewToolbar:{type:"boolean",defaultValue:false},showFacets:{type:"boolean"},facetPaneResizable:{type:"boolean",defaultValue:false},facetPanelWidthInPercent:{type:"int",defaultValue:"25"},animateFacetTransition:{type:"boolean",defaultValue:false},resultListContainer:{type:"sap.ui.core.Control",multiple:false}},aggregations:{facets:{type:"sap.ui.core.Control",multiple:false}}},constructor:function a(r,l){e.prototype.constructor.call(this,r,l);var u=new i("",{items:[new h]});this._paneLeftContent=new s({requiredParentWidth:10,content:u});this._paneLeftContainer=new o({orientation:p.Vertical,panes:[this._paneLeftContent]});var d=new n("",{height:"100%",vertical:true});var f=new i("",{items:[d]});this._paneRightContent=new s({requiredParentWidth:10,content:f});var c=new i;c.addStyleClass("sapUiNoMarginBottom");this._paneRightHeader=new s({requiredParentWidth:10,content:c});this._paneRightContainer=new o({orientation:p.Vertical,panes:[this._paneRightHeader,this._paneRightContent]});this._paneLeftContainer.setLayoutData(new t({size:"0%"}));this._paneRightHeader.setLayoutData(new t({size:"0%",resizable:false}));this._paneRightContainer.setLayoutData(new t({size:"100%"}));var g=new o({orientation:p.Horizontal,panes:[this._paneLeftContainer,this._paneRightContainer]});this.setRootPaneContainer(g);this.setDefaultPane(this._paneRightContent)},getFacets:function e(){var t=this._paneLeftContent;if(t!==null&&t!==void 0&&t.getContent()){return t.getContent()}return undefined},setFacets:function e(t){this._facets=t;var n=this._paneLeftContent;if(n){this._paneLeftContainer.removeAllPanes();n.setContent(t);this._paneLeftContainer.addPane(n)}},getResultListContainer:function e(){var t=this._paneRightContent.getContent();if(t){return t}return undefined},setResultListContainer:function e(t){this._resultListContainer=t;if(this._paneRightContent){this._paneRightContainer.removeAllPanes();this._paneRightContent.setContent(t);this._paneRightContainer.addPane(this._paneRightHeader);this._paneRightContainer.addPane(this._paneRightContent)}},setSearchIsBusy:function e(t){var n=this;if(t){if(this._busyFlag){return}if(this._busyTimeout){return}this._busyTimeout=setTimeout(function(){n._busyTimeout=null;n._setIsBusy(t)},this.getProperty("busyDelay"))}else{if(this._busyFlag){this._setIsBusy(t);return}if(this._busyTimeout){clearTimeout(this._busyTimeout);this._busyTimeout=null;return}}},_setIsBusy:function e(t){var n=this.getModel();if(t){if(n.config.isUshell){if(!this._busyIndicatorModal){this._busyIndicatorModal=new a}this._busyIndicatorModal.open()}else{this.setBusy(true)}this._busyFlag=true}else if(this._busyFlag){if(n.config.isUshell){if(this._busyIndicatorModal){this._busyIndicatorModal.close()}}else{this.setBusy(false)}this._busyFlag=false}this.setProperty("searchIsBusy",t,true)},setCombinedResultviewToolbar:function e(t){this.setProperty("combinedResultviewToolbar",t,true);return this},setShowFacets:function e(n){var i=this.getModel();if(!this._paneRightContainer){return}if(!this.getResultListContainer()){return}if(this.getProperty("combinedResultviewToolbar")){var a=this._paneRightHeader.getContent();if(a.getItems().length===0){var s=this._resultListContainer.getAggregation("countBreadcrumbs");s.addStyleClass("sapElisaSearchContainerCountBreadcrumbs");if(i.config.FF_optimizeForValueHelp){s.addStyleClass("sapElisaSearchContainerCountBreadcrumbsValueHelp")}s.addItem(this._resultListContainer.getProperty("countBreadcrumbsHiddenElement"));this._paneRightContainer.removeAllPanes();this._paneRightHeader.setContent(s);this._paneRightContainer.addPane(this._paneRightHeader);this._paneRightContainer.addPane(this._paneRightContent)}}else{var o=this._paneRightHeader.getContent();if(o){this._paneRightHeader.setLayoutData(new t({size:"0%",resizable:false}))}}this.updateLayout(n,this.getProperty("combinedResultviewToolbar"));return this},setFacetPanelWidthInPercent:function e(t){this.setProperty("facetPanelWidthInPercent",t,true);this._facetPanelWidthSizeIsOutdated=true;return this},updateLayout:function e(a,s){var o,r,l=this;var u=this._paneLeftContent;if((u===null||u===void 0?void 0:u.getContent())instanceof i){var p=u.getContent().getItems();if((p===null||p===void 0?void 0:p.length)>0&&p[0]instanceof h){this._paneLeftContainer.removeAllPanes();u.setContent(this._facets);this._paneLeftContainer.addPane(u)}}if(((o=this._paneRightContent)===null||o===void 0?void 0:o.getContent())instanceof i){var f=this._paneRightContent.getContent().getItems();if((f===null||f===void 0?void 0:f.length)>0&&f[0]instanceof n){if(f[0].getContent().length===0){this._paneRightContainer.removeAllPanes();this._paneRightContent.setContent(this._resultListContainer);this._paneRightContainer.addPane(this._paneRightHeader);this._paneRightContainer.addPane(this._paneRightContent)}}}if(this._facets){if(this.getProperty("animateFacetTransition")){this._facets.addStyleClass("sapUshellSearchFacetAnimation")}else{this._facets.removeStyleClass("sapUshellSearchFacetAnimation")}}var c=2;if(s){var g=this._paneRightHeader.getContent().getItems()[1];if(g!==null&&g!==void 0&&g.getVisible()){c=4}else{c=2}this._paneRightHeader.setLayoutData(new t({size:"".concat(c,"rem"),resizable:false}))}else{this._paneRightHeader.destroy()}if(this!==null&&this!==void 0&&(r=this._paneLeftContent)!==null&&r!==void 0&&r.getContent()){var _;var C=this===null||this===void 0?void 0:this._paneLeftContainer.getLayoutData();if(!a){this._paneLeftContainer.setLayoutData(new t({size:"0%",resizable:this.getProperty("facetPaneResizable")}));if(this._paneRightContainer){this._paneRightContainer.setLayoutData(new t({size:"100%"}))}}else{if(this._facetPanelWidthSizeIsOutdated){_=this.getProperty("facetPanelWidthInPercent");this._facetPanelWidthSizeIsOutdated=false}else{_=parseInt(C.getProperty("size").replace("%",""));if(_<1){if(this._previousFacetPanelWidthSize){_=this._previousFacetPanelWidthSize}else{_=this.getProperty("facetPanelWidthInPercent")}}}this._paneLeftContainer.setLayoutData(new t({size:_+"%",resizable:this.getProperty("facetPaneResizable")}));this._previousFacetPanelWidthSize=_;var y=100-_+"%";if(s){this._paneRightContainer.setLayoutData(new t({size:y}))}else{this._paneRightContainer.setLayoutData(new t({size:y}))}}}var v=function e(){l.getModel().notifySubscribers(d.ESHSearchLayoutChanged)};var R=jQuery(".sapUiFixFlexFixed");R.one("transitionend",v)}});return f})})();
//# sourceMappingURL=SearchLayoutResponsive.js.map