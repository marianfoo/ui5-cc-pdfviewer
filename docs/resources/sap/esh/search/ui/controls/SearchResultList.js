/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){sap.ui.define(["sap/esh/search/ui/SearchHelper","sap/m/List"],function(e,t){function r(e,t){var r=typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=a(e))||t&&e&&typeof e.length==="number"){if(r)e=r;var i=0;var s=function(){};return{s:s,n:function(){if(i>=e.length)return{done:true};return{done:false,value:e[i++]}},e:function(e){throw e},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n=true,l=false,o;return{s:function(){r=r.call(e)},n:function(){var e=r.next();n=e.done;return e},e:function(e){l=true;o=e},f:function(){try{if(!n&&r.return!=null)r.return()}finally{if(l)throw o}}}}function a(e,t){if(!e)return;if(typeof e==="string")return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i(e,t)}function i(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,a=new Array(t);r<t;r++){a[r]=e[r]}return a}var s=t.extend("sap.esh.search.ui.controls.SearchResultList",{renderer:{apiVersion:2},constructor:function e(r,a){t.prototype.constructor.call(this,r,a);this.addStyleClass("searchResultList")},onAfterRendering:function e(){for(var r=arguments.length,a=new Array(r),i=0;i<r;i++){a[i]=arguments[i]}t.prototype.onAfterRendering.apply(this,a);var s=this.getModel();var n=s.getProperty("/multiSelectionEnabled");if(n){this.enableSelectionMode(false)}this._prepareResizeHandler();this.collectListItemsForNavigation()},collectListItemsForNavigation:function e(){var t=this;var r=this.getItems();if(r.length===0){return}var a=function e(){t._doCollectListItemsForNavigation()};for(var i=0;i<r.length;i++){var s=r[i];if(s.hasStyleClass("sapUshellSearchResultListItemApps")){var n=s.getContent();if(n.length>0){n[0].addEventDelegate({onAfterRendering:a})}}}this._doCollectListItemsForNavigation()},_doCollectListItemsForNavigation:function t(){var r,a;var i=this.getDomRef();if(!i){return}var s=this.getItemNavigation();if(!s){this["_startItemNavigation"]();s=this.getItemNavigation()}if(!s){return}this["_bItemNavigationInvalidated"]=false;var n=i.getElementsByTagName("li");var l=[];var o=[];for(r=0;r<n.length;r++){var h=n[r];if(h.classList.contains("sapUshellSearchResultListItemApps")){var u=h.getElementsByClassName("sapUshellSearchTileWrapper");for(var c in u){var f=e.getFocusableTileDomRef(c);if(!f||$(f).is(":hidden")){continue}l.push(f);o.push(f)}$(h).removeAttr("tabindex");$(h).removeAttr("role");$(h).attr("aria-hidden","true")}else if($(h).hasClass("sapUshellSearchResultListFooter")){var v=h.getElementsByClassName("sapUshellResultListMoreFooter");for(a=0;a<v.length;a++){l.push(v[a]);o.push(v[a])}}else if($(h).hasClass("sapUshellSearchResultListItem")){l.push(h);o.push(h)}}if(l.length>0){var d=$(l[0]).closest("ul");var p=d.length>0?d[0]:l[0].parentElement;s.setRootDomRef(p)}s.setItemDomRefs(l);s.setCycling(false);s.setPageSize(10);if(o.length>0){var m=$(o[0]).attr("id");for(r=1;r<o.length;r++){m+=" "+$(o[r]).attr("id")}$(this.getDomRef()).children("[role='listbox']").attr("aria-owns",m)}},_prepareResizeHandler:function e(){var t=this;var a=[768,1151];var i=function e(){var t=window.innerWidth;if(t<a[0]){return 0}for(var r=0;r<a.length-1;r++){if(t>=a[r]&&t<a[r+1]){return r+1}}return a.length};var s=i();var n=function e(){var a=i();if(a!=s){s=a;var n=t.getItems();var l=r(n),o;try{for(l.s();!(o=l.n()).done;){var h=o.value;var u=h.getContent();if((u===null||u===void 0?void 0:u.length)>0){var c;(c=u[0])===null||c===void 0?void 0:c.resizeEventHappened()}}}catch(e){l.e(e)}finally{l.f()}}};$(window).on("resize",n)},enableSelectionMode:function e(t){var r=this;var a=jQuery.Deferred();t=t===undefined?true:t;var i=$(this.getDomRef());if(!t){i.addClass("sapUshellSearchResultList-ShowMultiSelection");a.resolve();return a.promise()}var s=200;var n=i.find(".sapUshellSearchResultListItem-CheckboxExpandContainer");var l=i.find(".sapUshellSearchResultListItem-Attributes");var o=parseFloat(l.css("padding-left"));var h=n.find(".sapUshellSearchResultListItem-CheckboxContainer");var u=h.width();if(!i.hasClass("sapUshellSearchResultList-ShowMultiSelection")){n.css("width","0");n.css("opacity","0");l.css("padding-left",o);i.addClass("sapUshellSearchResultList-ShowMultiSelection");var c=o+u;n.animate({width:u,opacity:1},s,function(){$(r).css("width","");$(r).css("opacity","")});l.animate({"padding-left":c},s,function(){$(r).css("padding-left","")})}},disableSelectionMode:function e(t){var r=jQuery.Deferred();t=t===undefined?true:t;var a=$(this.getDomRef());if(!t){a.removeClass("sapUshellSearchResultList-ShowMultiSelection");r.resolve();return r.promise()}var i=200;var s=a.find(".sapUshellSearchResultListItem-CheckboxExpandContainer");var n=a.find(".sapUshellSearchResultListItem-Attributes");var l=parseFloat(n.css("padding-left"));var o=s.find(".sapUshellSearchResultListItem-CheckboxContainer");var h=o.width();if(a.hasClass("sapUshellSearchResultList-ShowMultiSelection")){var u=l-h;var c=s.animate({width:0,opacity:0},i).promise();var f=n.animate({"padding-left":u},i).promise();jQuery.when(c,f).done(function(){a.removeClass("sapUshellSearchResultList-ShowMultiSelection");s.css("width","");s.css("opacity","");n.css("padding-left","")})}}});return s})})();
//# sourceMappingURL=SearchResultList.js.map