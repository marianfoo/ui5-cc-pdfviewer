/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){sap.ui.define([],function(){function e(e,i){if(!(e instanceof i)){throw new TypeError("Cannot call a class as a function")}}function i(e,i){for(var t=0;t<i.length;t++){var r=i[t];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(e,r.key,r)}}function t(e,t,r){if(t)i(e.prototype,t);if(r)i(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}function r(e,i,t){if(i in e){Object.defineProperty(e,i,{value:t,enumerable:true,configurable:true,writable:true})}else{e[i]=t}return e}var o=function(){function i(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];var o=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1e3;e(this,i);r(this,"aborted",false);r(this,"returned",[]);this.promiseList=t;this.timeDelay=o;this.pending=this.promiseList.length;this.counter=++i.counter}t(i,[{key:"abort",value:function e(){this.aborted=true}},{key:"process",value:function e(i){this.processorCallback=i;this.start();return this}},{key:"start",value:function e(){for(var i=0;i<this.promiseList.length;++i){var t=this.promiseList[i];t.then(this.assembleDoneCallback(),this.assembleErrorCallback())}this.scheduleProcessorNotification()}},{key:"scheduleProcessorNotification",value:function e(){var i=this;if(this.processorNotificationSchedule){window.clearTimeout(this.processorNotificationSchedule);this.processorNotificationSchedule=null}this.processorNotificationSchedule=window.setTimeout(function(){i.notifyProcessor()},this.timeDelay)}},{key:"notifyProcessor",value:function e(){if(this.aborted){return}if(this.returned.length>0){this.processorCallback(this.returned);this.returned=[]}if(this.pending>0){this.scheduleProcessorNotification()}}},{key:"assembleDoneCallback",value:function e(){var i=this;return function(e){i.pending--;i.returned.push(e);if(i.pending===0){if(i.processorNotificationSchedule){window.clearTimeout(i.processorNotificationSchedule);i.processorNotificationSchedule=null}i.notifyProcessor()}}}},{key:"assembleErrorCallback",value:function e(){var i=this;return function(e){i.pending--;i.returned.push(e);if(i.pending===0){if(i.processorNotificationSchedule){window.clearTimeout(i.processorNotificationSchedule);i.processorNotificationSchedule=null}i.notifyProcessor()}}}}]);return i}();r(o,"counter",0);return o})})();
//# sourceMappingURL=TimeMerger.js.map