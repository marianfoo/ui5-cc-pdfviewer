/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){sap.ui.define(["./i18n","./SearchResultBaseFormatter"],function(t,e){function n(t){return t&&t.__esModule&&typeof t.default!=="undefined"?t.default:t}function i(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function r(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||false;i.configurable=true;if("value"in i)i.writable=true;Object.defineProperty(t,i.key,i)}}function o(t,e,n){if(e)r(t.prototype,e);if(n)r(t,n);Object.defineProperty(t,"prototype",{writable:false});return t}function u(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function")}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:true,configurable:true}});Object.defineProperty(t,"prototype",{writable:false});if(e)l(t,e)}function l(t,e){l=Object.setPrototypeOf||function t(e,n){e.__proto__=n;return e};return l(t,e)}function f(t){var e=c();return function n(){var i=d(t),r;if(e){var o=d(this).constructor;r=Reflect.construct(i,arguments,o)}else{r=i.apply(this,arguments)}return a(this,r)}}function a(t,e){if(e&&(typeof e==="object"||typeof e==="function")){return e}else if(e!==void 0){throw new TypeError("Derived constructors may only return object or undefined")}return s(t)}function s(t){if(t===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}function c(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true}catch(t){return false}}function d(t){d=Object.setPrototypeOf?Object.getPrototypeOf:function t(e){return e.__proto__||Object.getPrototypeOf(e)};return d(t)}var h=n(t);var p=n(e);var v=function(t){u(n,t);var e=f(n);function n(t){var r;i(this,n);r=e.call(this,t);r.model=t;r.config=r.model.config;r.columns=undefined;return r}o(n,[{key:"formatColumns",value:function t(e){var n;var i;var r=[];var o=e[0];for(var u=0;u<o.itemattributes.length;u++){r.push({name:o.itemattributes[u].name,attributeId:o.itemattributes[u].key,isDetailAttribute:true})}if(o.titleDescription!==undefined){i={name:o.titleDescriptionLabel+" ("+h.getText("titleDescription")+")",attributeId:"TABLE_COLUMN_TITLE_DESCRIPTION"};r.unshift(i)}if(o.title!==undefined){var l;if(typeof this.config.titleColumnName!=="undefined"&&((l=this.config)===null||l===void 0?void 0:l.titleColumnName)!==""){i={name:h.getText(this.config.titleColumnName),attributeId:"TABLE_COLUMN_TITLE"}}else{i={name:this.model.getDataSource().label,attributeId:"TABLE_COLUMN_TITLE"}}if(this.config.titleColumnWidth&&this.config.titleColumnWidth!==""){i.width=this.config.titleColumnWidth}r.unshift(i)}if(o.navigationObjects!==undefined&&o.navigationObjects.length>0){r.push({name:h.getText("intents"),attributeId:"TABLE_COLUMN_RELATED_APPS"})}var f=this.model.config;if(f!==null&&f!==void 0&&(n=f.extendTableColumn)!==null&&n!==void 0&&n.column){r.push(f.extendTableColumn.column)}for(var a=0;a<r.length;a++){r[a].key="TABLE_COLUMN_"+a;r[a].index=a}this.columns=r;return r}},{key:"formatRows",value:function t(e){if(this.columns===undefined){this.formatColumns(e)}var n=[];for(var i=0;i<e.length;i++){n[i]={cells:[]};var r=e[i].itemattributes;for(var o=0;o<this.columns.length;o++){if(!this.columns[o].isDetailAttribute){continue}var u=this.getAttribute(r,this.columns[o].attributeId);if(u===undefined){n[i].cells.push({value:this.getText(undefined)})}else{if(u.iconUrl){n[i].cells.push({value:this.getText(u.value),icon:u.iconUrl})}else{n[i].cells.push({value:this.getText(u.value)})}}}if(e[i].titleDescription!==undefined){n[i].cells.unshift({value:this.getText(e[i].titleDescription)})}if(e[i].title!==undefined){n[i].cells.unshift({value:this.getText(e[i].title),titleNavigation:e[i].titleNavigation,isTitle:true,titleIconUrl:e[i].titleIconUrl,titleInfoIconUrl:e[i].titleInfoIconUrl})}if(e[i].navigationObjects!==undefined&&e[i].navigationObjects.length>0){n[i].cells.push({value:h.getText("intents"),tooltip:h.getText("intents"),navigationObjects:e[i].navigationObjects,isRelatedApps:true})}if(this.config.extendTableColumn&&typeof this.config.extendTableColumn["assembleCell"]==="function"){var l={id:e[i].attributesMap["id"]||e[i].attributesMap["ID"],favorites_user_id:e[i].attributesMap["favorites_user_id"]||e[i].attributesMap["FAVORITES_USER_ID"]};if(typeof l.id!=="undefined"&&typeof l.favorites_user_id!=="undefined"){n[i].cells.push(this.config.extendTableColumn["assembleCell"](l))}}}return n}},{key:"getAttribute",value:function t(e,n){for(var i=0;i<e.length;i++){if(e[i].key===n){return e[i]}}return undefined}},{key:"getText",value:function t(e){if(e===undefined||e===null){return"–"}if(typeof e!=="string"){return e+""}if(e.trim().length===0){return"–"}return e}}]);return n}(p);return v})})();
//# sourceMappingURL=SearchResultTableFormatter.js.map