{"version":3,"file":"RoleFitter.js","names":["sap","ui","define","DimensionDefinition","MeasureDefinition","FeedItem","AnalysisObject","TimeUnitType","TimeDimension","DateFormatUtil","ChartUtils","RoleMapper","ChartLog","TypeString","jQuery","suggestFeeds","viz","vizservices","BVRService","apply","arguments","validateFeeds","chartType","feedItems","oResults","FeedService","validate","valid","bindings","results","Object","keys","every","item","allowMND","missing","incorrect","_mRoleFeedMapping","types","toViz","series","axis1","axis2","axis3","category","reduce","m","row","cfg","roles","split","forEach","r","type","hasOwnProperty","push","_mRoleLookUp","extend","concat","_groupBy","aList","oKey","fnVal","keyFn","obj","oGrouped","oElement","key","val","_calibrate","mDef","aDimsOrMsrs","mRoleMapping","v","role","_sFixedRole","getRole","toFeedingId","LwFeed","from","fromLightWeightFmt","build","oObject","aLwFeeds","each","dims","k","id","values","map","analysisObjectFmt","msrs","sType","oDorM","sId","getName","analysisObj","name","dataType","wrapDimension","oDimension","isTimeChart","sName","sLabel","getLabel","sText","getTextProperty","fFormatter","getTextFormatter","bDisplyaText","getDisplayText","oDimConfig","identity","value","displayValue","formatter","parts","path","oDimensionDefinition","oDateInstance","getInstance","getTimeUnit","fnParser","parse","bind","bUTC","_getIsUTC","getBindingInfo","oValue","setDataType","_setTimeUnit","wrapMeasure","oMeasure","oMsrDef","_setUnitBinding","getUnitBinding","dimOrder","sChartType","aFeeds","oMetadata","api","metadata","Viz","get","mBindings","mFeeds","aCatFeeds","aSerFeeds","length","aOrder","oBnd","oFeed","iid","oVal","CONFIG","timeChartTypes","indexOf","isBulletChart","checkInvisibleMsrsSemantic","aInvisibleMeasures","oMsr","getSemantics","getSemanticallyRelatedMeasures","isEmptyObject","display","fitBasic","aDimensions","aMeasures","bEnableSemanticPattern","mRoleToFeed","oMapped","invisibleMsrs","aContexts","oSemanticsMsrsRules","bIsInValidatedSemanticPattern","semantics","hasSemanticMeasures","chartLog","nonSemanticPatternChartType","semanticPatternMsrs","contexts","semanticTuples","INRESULT_SUPPORT","chartTypes","feed","appendInResults","aInResults","i","sFeedId","bHasAppendableFeed","some","aFeedsWithMND","splice","enforceFeedType","oDim","inResult","resetFixedRole","aDorMs","fixRole","oFeedItem","filter","isValidSemantic","isValid","element","actual","reference","projected","fit","bV4ODataModel","oValidation","continueSemanticTuples","fix","tuple","projectedValueStartTime","mVisDims","o","mVisibles","f","aFeedItems","ctx","_context","isShowInTooltip","showInTooltip","_unused","unUsedDimsOrMsrs","_def","createDefinitions","dim","setBindingContext","msr","_order","_valid","_semanticTuples","getBindingMap","aEffectiveFeeds","bDimError","bMsrError","mValidationBindings","aGoodFeeds","mGoodDimOrMsr","aDimAnalysisObjs","aMsrAnalysisObjs","aSuggested","ao","mUsed","n","aSemanticsMsrsRules","timeAxis","aVisibleDimDefs","oDimDef","_setInResult","aVisibleMsrDefs","arr","rule","labels","time","date","parsedDate","getTime","Date","compatible","sInternalChartType","compatibility","used","error","needFix","aAll","aNames","aChartFeedings","mFeedingByType","mMissingByType","Dimension","Measure"],"sources":["RoleFitter-dbg.js"],"mappings":"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"}