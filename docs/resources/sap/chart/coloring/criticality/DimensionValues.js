/*!
 * SAPUI5
 * (c) Copyright 2009-2022 SAP SE. All rights reserved.
 */
sap.ui.define(["sap/chart/coloring/ColoringUtils","sap/chart/ChartLog","sap/chart/data/TimeDimension","sap/chart/coloring/CriticalityType","sap/ui/thirdparty/jquery"],function(e,i,r,a,jQuery){"use strict";var t={};var n=function(r,a,t,n){var s=jQuery.extend({},n);s.bHasOtherSeriesDim=e.hasOtherSeriesDim(a[0],t);s.type="Criticality";s.subType="DimensionValues";e.checkColoringDimension(a,t,r,s);var l=r[a[0]],o=Object.keys(l),u=e.find(a[0],t.aDim),c=u.getRole()==="series"?true:false;o.forEach(function(e){var r=l[e].Values,a=l[e].Legend;r=Array.isArray(r)?r:[r];if(r.length>1&&!a){throw new i("error","Colorings.Criticality.DimensionValues","Legend is mandatory when one criticality type has multiple values.")}if((c||n.bIsPie)&&r.length>1){throw new i("error","Colorings.Criticality.DimensionValues","Criticality on Series Dimension, only single value could be assigned to each CriticalityType.")}})};t.qualify=function(e,i,r,a){n(e,i,r,a);var t=i[0],s;if(t){s={dim:t,setting:e}}return s};t.parse=function(e,i,r,t,n){var s={},l={},o=e.dim,u=[],c=e.setting[o],y=[];jQuery.each(c,function(e,i){var r=!Array.isArray(i)?[i]:i;if(e!==a.Neutral){s[e]=r.map(function(e){return Array.isArray(e.Values)?e.Values:[e.Values]});u=Array.prototype.concat.apply(u,s[e])}l[e]=r.map(function(e){var i=Array.isArray(e.Values)?e.Values[0]:e.Values;var r=e.Legend!=null?e.Legend:i;return r})});if(c.Neutral){y=Array.isArray(c.Neutral.Values)?c.Neutral.Values:[c.Neutral.Values]}var g=function(e){return u.indexOf(e[o])===-1};function f(e){return function(i){return e.indexOf(i[o])!==-1}}var p={Negative:(s.Negative||[]).map(f),Critical:(s.Critical||[]).map(f),Positive:(s.Positive||[]).map(f),Neutral:[g]};return{callbacks:p,legend:l,aCriticalityValues:u.concat(y),status:r}};t.getContextHandler=function(e,r,a){var t=e.dim,n=e.parsed.aCriticalityValues;return function(s){var l=s.getProperty(t),o=this.getDimensionByName(t);if(n.indexOf(l)===-1){if(o._getFixedRole()==="series"||a.bIsPie){var u=new i("error","Colorings.Criticality.DimensionValues","Criticality on Series Dimension, all series must be applied coloring.");e.chartLog=u}else{e.parsed.legend.Neutral=r.getText("COLORING_TYPE_OTHER")}}}};return t});
//# sourceMappingURL=DimensionValues.js.map