{"version":3,"file":"RuntimeAuthoring.js","names":["sap","ui","define","capitalize","isPlainObject","UriParameters","Log","MessageBox","MessageToast","jQuery","ManagedObject","BusyIndicator","DesignTime","DOMUtil","ElementUtil","Overlay","OverlayRegistry","DtUtil","KeyCodes","Version","SmartVariantManagementApplyAPI","ContextBasedAdaptationsAPI","ControlPersonalizationWriteAPI","FeaturesAPI","PersistenceWriteAPI","ReloadInfoAPI","VersionsAPI","TranslationAPI","Layer","Settings","FlexUtils","JSONModel","Measurement","RtaAppVariantFeature","BaseCommand","LREPSerializer","CommandStack","ServicesIndex","FioriToolbar","FioriLikeToolbar","PersonalizationToolbar","StandaloneToolbar","ChangeVisualization","PluginManager","PopupManager","ReloadManager","ServiceEventBus","validateFlexEnabled","Utils","Device","STARTING","STARTED","STOPPED","FAILED","SERVICE_STARTING","SERVICE_STARTED","SERVICE_FAILED","RuntimeAuthoring","extend","metadata","library","associations","rootControl","type","properties","showToolbars","defaultValue","triggeredFromDialog","showWindowUnloadDialog","commandStack","flexSettings","layer","CUSTOMER","developerMode","mode","metadataScope","events","start","parameters","editablePluginsCount","stop","failed","error","selectionChange","selection","modeChanged","undoRedoStackModified","_sAppTitle","_dependents","_sStatus","_bNavigationModeWarningShown","constructor","apply","this","arguments","_mServices","_mUShellServices","_pElementModified","Promise","resolve","addDependent","getShowToolbars","getPopupManager","attachOpen","onPopupOpen","attachClose","onPopupClose","window","parent","startService","_loadUShellServicesPromise","getUShellServices","then","mUShellServices","setUShellServices","bind","needsRestart","sLayer","needsAutomaticStart","enableRestart","oRootControl","enableAutomaticStart","disableRestart","disableAutomaticStart","prototype","oObject","sName","bCreateGetter","getDependent","getId","createError","printf","getDependents","removeDependent","setPlugins","mPlugins","Error","getPluginManager","getPlugins","getDefaultPlugins","getFlexSettings","setFlexSettings","mFlexSettings","oUriParams","fromQuery","location","search","sUriLayer","get","toUpperCase","scenario","baseId","sLRepRootNamespace","buildLrepRootNamespace","projectId","rootNamespace","namespace","setRtaStyleClassName","setProperty","getLayer","getRootControlInstance","_oRootControl","getElementInstance","getRootControl","_getTextResources","getCore","getLibraryResourceBundle","oDesignTimePromise","vError","reject","initVersioning","handleReloadOnStart","selector","versioningEnabled","_oVersionsModel","getProperty","bReloadTriggered","oFlexInfoSession","getResetAndPublishInfoFromSession","bInitialResetEnabled","isResetEnabled","bInitialPublishEnabled","isPublishEnabled","_oSerializer","getCommandStack","preparePlugins","handleElementModified","aPlugins","getPluginList","fnResolve","fnReject","_oDesignTime","scope","getMetadataScope","plugins","addOrRemoveStyleClass","addRootElement","getOverlayContainer","addClass","USER","getSelectionManager","attachChange","oEvent","fireSelectionChange","getParameter","attachEventOnce","end","_oldUnloadHandler","onbeforeunload","_onUnload","undefined","getToolbarButtonsVisibility","createToolsMenu","onStackModified","style","getScrollbarWidth","setRta","getToolbar","show","browser","name","document","on","ffContextMenuHandler","fnKeyDown","onKeyDown","fnOnPersonalizationChangeCreation","onPersonalizationChangeCreation","attachChangeCreation","shouldValidateFlexEnabled","bShouldValidateFlexEnabled","fireStart","getEditableOverlaysCount","catch","destroy","fireFailed","bSkipSave","bSkipRestart","checkToolbarAndExecuteFunction","call","oReloadInfo","waitForPendingActions","checkReloadOnExit","isDraftAvailable","activeVersion","changesNeedReloadPromise","_bSavedChangesNeedReload","needsReload","oReturn","_serializeToLrep","fireStop","handleUrlParametersOnExit","showTechnicalError","removeClass","setCommandStack","oCommandStack","oOldCommandStack","detachModified","_oInternalCommandStack","oResult","attachModified","provideCommandStack","setMode","sNewMode","sCurrentMode","getMode","oTabHandlingPlugin","getPlugin","oSelectionPlugin","setEnabled","oChangeVisualization","getChangeVisualization","waitForSynced","triggerModeChange","handleStopCutPaste","setIsActive","toggleClass","css","_oToolbarControlsModel","fireModeChanged","setMetadataScope","sScope","map","oDependent","Object","keys","forEach","sServiceName","stopService","off","detachChangeCreation","_oServiceEventBus","getSelection","restore","sMessageKey","sTitleKey","showMessageBox","titleKey","actions","Action","OK","CANCEL","emphasizedAction","sAction","deleteChanges","transport","hide","bVariantByStartupParameter","isVariantByStartupParameter","bAppVariantRunning","isApplicationVariant","control","getAppVariantDescriptor","oAppVariantDescriptor","aAppVariantDescriptor","push","publish","styleClass","getRtaStyleClassName","appVariantDescriptors","sMessage","getResetAndPublishInfo","oPublishAndResetInfo","undo","redo","canUndo","canRedo","save","bCondenseAnyLayer","bReloadNeeded","serializeAndSave","bUnsaved","getShowWindowUnloadDialog","getText","sUriParam","getInstance","oSettings","isCustomerSystem","oOpenedPopup","getParameters","getSource","isA","setColor","bringToFront","showMessageToast","duration","mOptions","bAdd","oSerializer","all","isPublishAvailable","isSaveAsAvailable","isContextBasedAdaptationAvailable","getUShellService","oAppLifeCycle","mRunningApp","getCurrentApplication","homePage","aRtaFeaturesAvailability","bIsPublishAvailable","bIsSaveAsAvailable","bIsContextBasedAdaptationAvailable","bIsHomePage","publishAvailable","saveAsAvailable","contextBasedAdaptationAvailable","sErrorMessage","userMessage","stack","message","status","oTextResources","sMsg","bBackEndDraftExists","bDraftDisplayed","Number","Draft","bCanUndo","_bUserDiscardedDraft","modifyStack","discardDraftConfirmed","bCanRedo","bTranslationRelevantDirtyChange","hasTranslationRelevantDirtyChanges","setDirtyChanges","hasDirtyChanges","bPersistedDataTranslatable","fireUndoRedoStackModified","vValue","waitForBusyPlugins","bMacintosh","os","macintosh","bFocusInsideOverlayContainer","contains","activeElement","bFocusInsideRtaToolbar","getDomRef","bFocusOnContextMenu","each","iIndex","oDomRef","bFocusOnBody","body","bFocusInsideRenameField","parents","length","bCtrlKey","metaKey","ctrlKey","keyCode","Z","shiftKey","altKey","stopPropagation","Y","onSaveAsContextBasedAdaptation","mPropertyBag","mParameters","create","saveOnly","fnCallback","bActivateVersion","saveAsDraft","removeOtherLayerChanges","version","condenseAnyLayer","saveCommands","onActivate","sVersionTitle","isOldVersionDisplayed","activate","oSelector","sDisplayedVersion","title","displayedVersion","removeAllCommands","oError","onDiscardDraft","discardDraft","updateState","handleDiscard","removeDraft","triggerReload","onSwitchVersion","sVersion","_sSwitchToVersion","YES","NO","switchVersion","loadVersionForApplication","versionSwitch","onPublishVersion","initialize","oModel","aButtonsVisibility","bUserLayer","oProperties","rtaInformation","textResources","exit","publishVersion","modeChange","onModeChange","saveAsContextBasedAdaptation","openChangeCategorySelectionPopover","oToolbar","isOriginalFioriToolbarAccessible","getFiori2Renderer","onFragmentLoaded","isKeyUserTranslationEnabled","aArguments","bTranslationAvailable","bSaveAsAvailable","bExtendedOverview","isOverviewExtended","oUriParameters","fromURL","href","bVisualizationButtonVisible","has","undoEnabled","redoEnabled","translationVisible","translationEnabled","publishVisible","publishEnabled","restoreEnabled","appVariantsOverviewVisible","appVariantsOverviewEnabled","saveAsVisible","contextBasedAdaptationVisible","saveAsEnabled","manageAppsVisible","manageAppsEnabled","modeSwitcher","visualizationButtonVisible","oTranslationPromise","getSourceLanguages","aSourceLanguages","finally","oSaveAsPromise","isManifestSupported","bResult","setModel","getAppComponentForControl","reset","removeInfoSessionStorage","ignoreMaxLayerParameter","triggerHardReload","scheduleOnCreated","sNewControlID","onElementOverlayCreated","oNewOverlay","getElement","detachEvent","attachEvent","scheduleOnCreatedAndVisible","onGeometryChanged","oElementOverlay","getGeometry","visible","onGeometryCheck","isRendered","scheduleRenameOnCreatedContainer","vAction","fnStartEdit","setSelected","startEdit","sNewContainerID","getCreatedContainerId","oContainerElementOverlay","getOverlay","oCommand","oDesignTimeMetadata","getDesignTimeMetadata","fnSelect","getData","select","pushAndExecute","indexOf","getKey","resolveServiceLocation","hasOwnProperty","replace","sServiceLocation","mService","exports","initPromise","require","fnServiceFactory","factory","wrapIntoPromise","oService","bIsDestroyed","service","Array","isArray","subscribe","unsubscribe","subscribeOnce","mExports","reduce","mResult","sKey","freeze","propagateError","getService"],"sources":["RuntimeAuthoring-dbg.js"],"mappings":";;;;;AAOAA,IAAIC,GAAGC,OAAO,CACb,8BACA,8BACA,8BACA,eACA,mBACA,qBACA,2BACA,4BACA,4BACA,uBACA,oBACA,wBACA,oBACA,4BACA,iBACA,yBACA,8BACA,qDACA,iDACA,qDACA,kCACA,0CACA,oCACA,kCACA,qCACA,kBACA,8BACA,kBACA,8BACA,iCACA,gCACA,iCACA,oCACA,2BACA,2BACA,2BACA,+BACA,qCACA,gCACA,0DACA,gCACA,+BACA,gCACA,kCACA,sCACA,mBACA,iBACE,SACFC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,OACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,GAEA,aAEA,IAAIC,EAAW,WACf,IAAIC,EAAU,UACd,IAAIC,EAAU,UACd,IAAIC,EAAS,SACb,IAAIC,EAAmB,mBACvB,IAAIC,EAAkB,kBACtB,IAAIC,EAAiB,iBAerB,IAAIC,EAAmB/C,EAAcgD,OAAO,8BAA+B,CAC1EC,SAAU,CAETC,QAAS,aACTC,aAAc,CAEbC,YAAa,CACZC,KAAM,8BAGRC,WAAY,CAEXC,aAAc,CACbF,KAAM,UACNG,aAAc,MAIfC,oBAAqB,CACpBJ,KAAM,UACNG,aAAc,OAIfE,uBAAwB,CACvBL,KAAM,UACNG,aAAc,MAIfG,aAAc,CACbN,KAAM,OAOPO,aAAc,CACbP,KAAM,SACNG,aAAc,CACbK,MAAO3C,EAAM4C,SACbC,cAAe,OAKjBC,KAAM,CACLX,KAAM,SACNG,aAAc,cAMfS,cAAe,CACdZ,KAAM,SACNG,aAAc,YAGhBU,OAAQ,CAEPC,MAAO,CACNC,WAAY,CACXC,qBAAsB,CACrBhB,KAAM,SAMTiB,KAAM,CAAC,EAGPC,OAAQ,CACPH,WAAY,CACXI,MAAO,CACN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"}