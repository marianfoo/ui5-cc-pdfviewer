/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/m/Button","sap/m/Dialog","sap/m/DialogRenderer","sap/m/GenericTile","sap/m/ImageContent","sap/m/Input","sap/m/Label","sap/m/SelectDialog","sap/m/StandardListItem","sap/m/TextArea","sap/m/TileContent","sap/m/VBox","sap/ui/core/library","sap/ui/core/IconPool","sap/ui/core/Title","sap/ui/layout/form/SimpleForm","sap/ui/layout/library","sap/ui/model/Filter","sap/ui/model/FilterOperator","sap/ui/model/json/JSONModel","sap/ui/rta/Utils","sap/ui/layout/form/ResponsiveGridLayout"],function(e,t,a,n,i,l,s,o,r,u,p,c,d,g,A,m,T,_,f,v,I){"use strict";var L=T.form.SimpleFormLayout;var y=d.ValueState;var S=sap.ui.getCore().getLibraryResourceBundle("sap.ui.rta");var h;var C;var x;var E;var P;var V;var b;var w;var O;var N;var D;var R;var B;function G(){h=new n("tile",{header:"{/title}",subheader:"{/subtitle}",ariaLabel:S.getText("APP_VARIANT_TILE_ARIA_LABEL"),tileContent:[new p({content:[new i({src:"{/icon}"})]})]}).addStyleClass("sapUiMediumMarginBegin").addStyleClass("sapUiTinyMarginTop").addStyleClass("sapUiTinyMarginBottom")}function M(e){var t=e.getParameter("value");var a=new _("name",f.Contains,t);var n=e.getSource().getBinding("items");n.filter([a])}function U(e){var t=e.getParameter("selectedContexts");if(t&&t.length){t.forEach(function(e){var t=e.getObject().name;O.setValue(t);R.setProperty("/icon",e.getObject().icon)})}e.getSource().getBinding("items").filter([])}function X(){if(!D){D=new o("selectDialog",{noDataText:S.getText("APP_VARIANT_ICON_NO_DATA"),title:S.getText("APP_VARIANT_ICON_SELECT_ICON"),search:function(e){M(e)},confirm:function(e){U(e)},cancel:function(e){U(e)}})}D.addStyleClass(I.getRtaStyleClassName());D.bindAggregation("items",{path:"/icons",template:new r({title:"{name}",description:"",icon:"{icon}",iconDensityAware:false,iconInset:false,type:"Active"})});var e=g.getIconNames();var t=[];e.forEach(function(e){var a=g.getIconInfo(e);t.push({icon:a.uri,name:a.text===""?e.toLowerCase():a.text})});B.setProperty("/icons",t);D.setModel(B);D.getBinding("items").filter([]);D.open()}function F(){C=new s({required:true,text:S.getText("APP_DIALOG_TITLE_TEXT"),textAlign:"Left"});x=new l("titleInput",{value:"{/title}",valueLiveUpdate:true,placeholder:S.getText("SAVE_AS_DIALOG_PLACEHOLDER_TITLE_TEXT"),liveChange:function(){var e=sap.ui.getCore().byId("saveButton");if(this.getValue()===""){this.setValueState(y.Error);e.setEnabled(false)}else{this.setValueState(y.None);e.setEnabled(true)}}});E=new s({text:S.getText("APP_DIALOG_SUB_TITLE_TEXT"),textAlign:"Left"});P=new l({value:"{/subtitle}",valueLiveUpdate:true});V=new s({text:S.getText("APP_DIALOG_DESCRIPTION_TEXT"),textAlign:"Left"});b=new u({rows:4});w=new s({text:S.getText("APP_DIALOG_ICON_TEXT"),textAlign:"Left"});O=new l("selectInput",{showValueHelp:true,liveChange:function(e){X(e)},valueHelpRequest:function(e){X(e)},value:"{/iconname}",valueLiveUpdate:true})}function j(){N=new m({editable:true,layout:L.ResponsiveGridLayout,labelSpanXL:4,labelSpanL:4,labelSpanM:4,labelSpanS:4,adjustLabelSpan:false,emptySpanXL:0,emptySpanL:0,emptySpanM:0,emptySpanS:0,columnsXL:2,columnsL:2,columnsM:2,singleContainerFullSize:false,content:[new A("title1"),C,x,E,P,w,O,V,b,new A("title2"),h]});return N}function H(){var e=new c({items:[j()]}).addStyleClass("sapUISmallMargin");return e}var q=t.extend("sap.ui.rta.appVariant.AppVariantDialog",{metadata:{library:"sap.ui.rta",events:{create:{},cancel:{}}},init:function(){t.prototype.init.apply(this);this.setTitle(S.getText("CREATE_APP_VARIANT_DIALOG_TITLE"));this.setContentWidth("860px");this.setContentHeight("250px");R=new v({title:null,subtitle:null,icon:" ",iconname:null});B=new v({icons:null});sap.ui.getCore().setModel(R);G();F();this.addContent(H());this._createButtons();this.addStyleClass(I.getRtaStyleClassName())},onAfterRendering:function(){document.getElementById("title1").style.height="0px";document.getElementById("title2").style.height="0px";document.getElementById("tile").style.float="left"},_onCreate:function(){var e=x.getValue()||" ";var t=P.getValue()||" ";var a=b.getValue()||" ";var n=O.getValue()?g.getIconInfo(O.getValue()).uri:" ";this.fireCreate({title:e,subTitle:t,description:a,icon:n});this.close();this.destroy()},_createButtons:function(){this.addButton(new e("saveButton",{text:S.getText("APP_VARIANT_DIALOG_SAVE"),tooltip:S.getText("TOOLTIP_APP_VARIANT_DIALOG_SAVE"),enabled:false,press:function(){this._onCreate()}.bind(this)}));this.addButton(new e({text:S.getText("SAVE_AS_APP_VARIANT_DIALOG_CANCEL"),tooltip:S.getText("TOOLTIP_SAVE_AS_APP_VARIANT_DIALOG_CANCEL"),press:function(){this.fireCancel();this.close();this.destroy()}.bind(this)}))},destroy:function(){if(R){R.destroy()}t.prototype.destroy.apply(this,arguments)},renderer:a});return q});
//# sourceMappingURL=AppVariantDialog.js.map