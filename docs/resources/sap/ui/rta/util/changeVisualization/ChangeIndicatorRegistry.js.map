{"version":3,"file":"ChangeIndicatorRegistry.js","names":["sap","ui","define","includes","values","_omit","Log","ManagedObject","JsControlTreeModifier","ElementUtil","ChangesWriteAPI","FlUtils","ChangeCategories","ChangeStates","ChangeIndicatorRegistry","extend","metadata","properties","changeCategories","type","defaultValue","rootControlId","constructor","prototype","apply","this","arguments","_oRegisteredChanges","_oChangeIndicators","exit","reset","getAllRegisteredChanges","map","oChange","Object","assign","getRegisteredChangeIds","keys","getRegisteredChange","sChangeId","getSelectorsWithRegisteredChanges","oChangeIndicators","addSelector","sSelectorId","sAffectedElementId","oChangeIndicatorData","bDependent","undefined","push","id","change","getId","dependent","affectedElementId","descriptionPayload","visualizationInfo","forEach","displayElementIds","sId","iIndex","affectedElementIds","dependentElementIds","getChangeIndicator","getChangeIndicators","registerChange","sCommandName","oVersionsModel","oAppComponent","getAppComponentForControl","getElementInstance","getRootControlId","getVisualizationInfo","then","mChangeVisualizationInfo","aCategories","getChangeCategories","sChangeCategory","category","find","sChangeCategoryName","OTHER","aChangeStates","aDraftChangesList","getData","draftFilenames","getState","DIRTY","DRAFT","getFileName","ACTIVATED","commandName","changeCategory","changeStates","bind","getSelectorIds","aSelectorList","vSelector","oElement","bySelector","filter","Boolean","getInfoFromChangeHandler","oInfoFromChangeHandler","mVisualizationInfo","aAffectedElementIds","affectedControls","getSelector","dependentControls","displayControls","updateRequired","oControl","getChangeHandler","changeType","getChangeType","element","modifier","layer","getLayer","oChangeHandler","getChangeVisualizationInfo","catch","vErr","error","Promise","resolve","registerChangeIndicator","oChangeIndicator","sKeyToRemove","removeRegisteredChange","oIndicator","destroy","removeOutdatedRegisteredChanges"],"sources":["ChangeIndicatorRegistry-dbg.js"],"mappings":"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"}