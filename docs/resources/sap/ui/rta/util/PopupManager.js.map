{"version":3,"file":"PopupManager.js","names":["sap","ui","define","ManagedObject","InstanceManager","Overlay","OverlayRegistry","flUtils","Component","ComponentContainer","Element","ZIndexManager","Dialog","Popover","_curry","FOCUS_EVENT_NAMES","add","remove","PopupManager","extend","metadata","properties","rta","associations","autoCloseAreas","type","multiple","singularName","events","open","parameters","oControl","close","library","prototype","init","this","_oModalState","Map","_aPopupFilters","_isSupportedPopup","bind","_isPopupAdaptable","forEach","fnFilter","addPopupFilter","_overrideInstanceFunctions","_applyPopupAttributes","method","_createPopupOverlays","setModal","bringToTop","_overrideAddPopupInstance","_overrideRemovePopupInstance","getCategorizedOpenPopups","aOpenDialogs","aOpenPopovers","getOpenDialogs","oCategorizedDialogs","_getValidatedPopups","getOpenPopovers","oCategorizedPopovers","oOpenPopups","aDialogs","relevant","aPopovers","aAllSupportedPopups","allSupported","concat","aOpenPopups","filter","oPopupElement","push","_isComponentInsidePopup","oPopup","Array","isArray","getContent","some","oContent","oRtaRootAppComponent","_getAppComponentForControl","get","getComponent","setRta","oRta","_oDesignTime","setProperty","oRootControl","getRootControlInstance","fnModeChange","_onModeChange","attachModeChanged","_adjustRootOverlayVisibility","bVisible","oPopover","getRta","getRootElements","oRootElement","getId","getOverlay","setVisible","oEvent","sNewMode","getParameters","mode","fnApplyFocusAndSetModal","sMode","_getFocusEventName","getShowToolbars","getToolbar","bringToFront","_applyPatchesToOpenPopups","_removePatchesToOpenPopups","fnEvent","focus","sOperation","_fnOriginalAddDialogInstance","addDialogInstance","_overrideAddFunctions","_fnOriginalAddPopoverInstance","addPopoverInstance","fnOriginalFunction","vOriginalReturn","apply","arguments","attachEventOnce","fireOpen","_setModal","bSetModal","bOriginalModalState","getMode","set","getModal","delete","mPropertyBag","oRelevantPopups","sKey","length","call","_applyPopupPatch","oOverlayContainer","getOverlayContainer","aAutoCloseAreas","getDomRef","getAutoCloseAreas","oRtaToolbar","getVisible","setExtraContent","fnOriginalPopupOnAfterRendering","onAfterRendering","_fnOriginalRemoveDialogInstance","removeDialogInstance","_overrideRemoveFunctions","_fnOriginalRemovePopoverInstance","removePopoverInstance","removeRootElement","fireClose","oComponent","oAppComponent","_getComponentForControl","getAppComponentForControl","oRootComponent","oParentControl","getOwnerComponentFor","getParent","getSource","indexOf","addRootElement","detachAfterOpen","_restoreInstanceFunctions","_removePopupPatch","checkPopupAncestorsAdaptation","isPopupAdaptationAllowed","oPopupAppComponent","exit","removePopupFilter"],"sources":["PopupManager-dbg.js"],"mappings":"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"}