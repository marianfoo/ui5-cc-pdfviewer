/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/ui/rta/plugin/Remove","sap/m/Button","sap/ui/thirdparty/jquery"],function(e,t,jQuery){"use strict";var a=e.extend("sap.ui.rta.plugin.EasyRemove",{metadata:{library:"sap.ui.rta",properties:{},associations:{},events:{}}});a.prototype.registerElementOverlay=function(t){var a=t.getElement();if(a.getMetadata().getName()==="sap.uxap.ObjectPageSection"&&this.hasStableId(t)){t.addStyleClass("sapUiRtaPersDelete")}if(t.hasStyleClass("sapUiRtaPersDelete")&&t.$().children(".sapUiRtaPersDeleteClick").length<=0){var r=function(e){this.handler([e])}.bind(this);var i=this._addButton(t);i.attachBrowserEvent("contextmenu",function(e){e.stopPropagation();e.preventDefault()});var n=function(e){var t=sap.ui.getCore().byId(e.currentTarget.id.replace("-DeleteIcon",""));r(t);e.stopPropagation();e.preventDefault()};i.attachBrowserEvent("click",n).attachBrowserEvent("tap",n)}e.prototype.registerElementOverlay.apply(this,arguments)};a.prototype._isEditable=function(t){if(t._oDeleteButton){t._oDeleteButton.setEnabled(this.isEnabled([t]))}return e.prototype._isEditable.apply(this,arguments)};a.prototype._addButton=function(e){var a=this.isEnabled([e]);var r=e.getId()+"-DeleteIcon";var i=jQuery("<div class='sapUiRtaPersDeleteClick' draggable='true'> </div>");var n=jQuery("<div class='sapUiRtaPersDeleteIconOuter'> </div>");e._oDeleteButton=new t(r,{icon:"sap-icon://less",tooltip:sap.ui.getCore().getLibraryResourceBundle("sap.ui.rta").getText("CTX_REMOVE"),enabled:a}).placeAt(n.get(0));i.append(n);e.$().append(i);i[0].addEventListener("dragstart",function(e){e.stopPropagation();e.preventDefault()});return e._oDeleteButton};a.prototype.deregisterElementOverlay=function(t){var a=t.getElement();if(a.getMetadata().getName()==="sap.uxap.ObjectPageSection"){t.removeStyleClass("sapUiRtaPersDelete");if(t._oDeleteButton){t._oDeleteButton.destroy()}}e.prototype.deregisterElementOverlay.apply(this,arguments)};return a});
//# sourceMappingURL=EasyRemove.js.map