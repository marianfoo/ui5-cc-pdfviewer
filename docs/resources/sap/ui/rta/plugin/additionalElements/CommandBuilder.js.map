{"version":3,"file":"CommandBuilder.js","names":["sap","ui","define","Log","ElementUtil","OverlayRegistry","DtUtils","FlUtils","Utils","CommandBuilder","getRevealDataFromActions","mActions","oRevealedElement","mRevealData","reveal","elements","some","mElement","element","getId","undefined","createCommandsForInvisibleElement","mPropertyBag","oCompositeCommand","compositeCommand","oSelectedElement","selectedElement","mParents","parents","oSiblingElement","siblingElement","actions","iIndex","index","sTargetAggregation","targetAggregation","oPlugin","plugin","createRevealCommandForInvisible","then","oRevealCommandForInvisible","addCommand","createMoveCommandForInvisible","oMoveCommandForInvisible","warning","parent","getMetadata","getName","aggregation","mSelectedElement","getElementInstance","elementId","oRevealedElementOverlay","getOverlay","oDesignTimeMetadata","designTimeMetadata","oRevealAction","action","sVariantManagementReference","getVariantManagementReference","changeOnRelevantContainer","getCommandFactory","getCommandFor","revealedElementId","directParent","sTargetAggregationName","sSourceAggregationName","sourceAggregation","oSourceParent","getParentElementOverlay","getElement","oTargetParent","iRevealTargetIndex","getIndex","iRevealedSourceIndex","adjustIndexForMove","getParent","oSourceParentOverlay","getParentAggregationOverlay","relevantContainerOverlay","SourceParentDesignTimeMetadata","getDesignTimeMetadata","relevantContainer","movedElements","sourceIndex","targetIndex","source","target","Promise","resolve","areLibDependenciesMissing","oComponent","mRequiredLibraries","mAppsLibDependencies","getManifestEntry","Object","keys","sRequiredLib","lazy","createCommandForAddLibrary","oParentAggregationDTMetadata","getAppComponentForControl","bLibsMissing","mManifest","getManifest","sReference","id","publicParent","reference","parameters","libraries","appComponent","createCommandsForAddViaDelegate","mAddViaDelegateAction","addViaDelegate","delegateInfo","requiredLibraries","oParentAggregationOverlay","parentOverlay","getAggregationOverlay","oCommandForAddLibrary","createAddViaDelegateCommand","oAddViaDelegateCommand","getODataServiceUriFromManifest","oManifest","sUri","oSapApp","getEntry","dataSources","mainService","uri","oParent","oParentOverlay","iAddTargetIndex","getData","sCommandName","sServiceUri","newControlId","createFieldLabelId","entityType","bindingPath","bindingString","parentId","propertyName","name","oDataServiceVersion","oDataServiceUri","modelType","relevantContainerId","createCommands","aSelectedElements","sort","oElement1","oElement2","label","length","oPromise","forEach","type","bind","this","error","fireElementModified","command","catch","vMessage","propagateError"],"sources":["CommandBuilder-dbg.js"],"mappings":"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"}