{"version":3,"file":"Plugin.js","names":["sap","ui","define","Plugin","ChangesWriteAPI","OverlayRegistry","OverlayUtil","JsControlTreeModifier","hasStableId","_handleEditableByPlugin","mPropertyBag","aPromises","oSourceElementOverlay","oResponsibleElementOverlay","this","getActionName","isResponsibleElementActionAvailable","getResponsibleElementOverlay","vEditable","getElement","getDesignTimeMetadata","markedAsNotAdaptable","_isEditable","Object","assign","sourceElementOverlay","then","vEditablePromiseValue","_handleModifyPluginList","bind","push","BasePlugin","extend","metadata","abstract","library","properties","commandFactory","type","multiple","events","elementModified","command","prototype","executeWhenVisible","oElementOverlay","fnCallback","fnGeometryChangedCallback","oEvent","getSource","getGeometry","visible","detachEvent","mOverlayGeometry","getElementVisibility","attachEvent","_onElementModified","oParams","getParameters","aRelevantOverlays","oOverlay","name","_getRelevantOverlays","value","evaluateEditable","onRegistration","getDesignTime","getStatus","attachEventOnce","sAggregationName","aAlreadyDefinedRelevantOverlays","getRelevantOverlays","length","getIsPartOfTemplate","findAllOverlaysInContainer","oAggregationOverlay","getAggregationOverlay","aAggregationChildren","getChildren","filter","oChildOverlay","indexOf","concat","setRelevantOverlays","aOverlays","getBusyPlugins","setProcessingStatus","reduce","Promise","all","catch","undefined","_modifyPluginList","asChild","asSibling","bIsEditable","bOverlayIsSibling","addToPluginsList","removeFromPluginsList","_retrievePluginName","bSibling","sName","getMetadata","getName","_isEditableByPlugin","sPluginName","aPluginList","getEditableByPlugins","registerElementOverlay","attachElementModified","deregisterElementOverlay","detachElementModified","getVariantManagementReference","sVariantManagementReference","getVariantManagement","checkAggregationsOnSelf","sAction","sParentAggregationName","sSubAction","oDesignTimeMetadata","oElement","aActionData","getActionDataFromAggregations","oAction","oActionData","aggregation","sChangeType","changeType","bChangeOnRelevantContainer","changeOnRelevantContainer","getRelevantContainer","oRelevantOverlay","getOverlay","resolve","hasChangeHandler","removeEditableByPlugin","setEditable","addEditableByPlugin","sControlType","getChangeHandler","element","modifier","layer","getCommandFactory","getFlexSettings","controlType","isAvailable","aElementOverlays","every","_checkRelevantContainerStableID","oRelevantContainer","_checkChangeHandlerAndStableId","getAction","bHasChangeHandler"],"sources":["Plugin-dbg.js"],"mappings":"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"}