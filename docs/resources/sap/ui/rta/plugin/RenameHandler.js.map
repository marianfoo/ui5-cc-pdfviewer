{"version":3,"file":"RenameHandler.js","names":["sap","ui","define","BindingParser","jQuery","Device","Plugin","Overlay","ElementUtil","OverlayRegistry","Utils","DOMUtil","KeyCodes","OverlayUtil","sEmptyTextKey","checkPreconditionsAndThrowError","sNewText","sOldText","Error","oBindingParserResult","bError","complexParser","undefined","error","getCore","getLibraryResourceBundle","getText","RenameHandler","errorStyleClass","validators","noEmptyText","validatorFunction","errorMessage","_manageClickEvent","vEventOrElement","oOverlay","getSource","isSelected","this","isRenameAvailable","isRenameEnabled","attachBrowserEvent","_onClick","detachBrowserEvent","_setEditableFieldPosition","_$editableField","offset","left","_$oEditableControlDomRef","top","_oEditedOverlay","setSelected","focus","startEdit","mPropertyBag","setBusy","overlay","oElement","getElement","oDesignTimeMetadata","getDesignTimeMetadata","vEditableControlDomRef","getAssociatedDomRef","domRef","isElementInViewport","get","scrollIntoView","mMutators","getTextMutators","text","bind","setText","_fnGetControlText","_fnSetControlText","iWidthDifference","oOverlayForWrapper","getOverlay","id","_$ControlForWrapperDomRef","getDomRef","_$oEditableControlParentDomRef","parent","iControlForWrapperWidth","parseInt","outerWidth","isNaN","iEditableControlWidth","iEditableControlParentWidth","children","length","_$oWrapper","css","overflow","width","appendTo","$","sCurrentText","setOldValue","_getCurrentEditableFieldText","call","copyComputedStyle","remove","browser","name","getMetadata","getName","getMutationObserver","ignoreOnce","target","one","_onEditableFieldFocus","on","_onEditableFieldBlur","_onEditableFieldKeydown","_stopPropagation","apply","trigger","_aOverlaysWithScrollbar","findParentOverlaysWithScrollbar","forEach","oOverlayWithScrollbar","attachScrollSynced","getEventBus","publish","pluginMethodName","editableField","_setDesignTime","oDesignTime","_aSelection","oOldDesignTime","getDesignTime","getSelectionManager","detachChange","_onDesignTimeSelectionChange","prototype","setDesignTime","arguments","attachChange","getSelectedOverlays","oEvent","aSelection","getParameter","stopPropagation","_preventDefault","preventDefault","el","range","document","createRange","selectNodeContents","sel","window","getSelection","removeAllRanges","addRange","_stopEdit","bRestoreFocus","sPluginMethodName","find","detachScrollSynced","_bBlurOrKeyDownStarted","_handlePostRename","removeStyleClass","Promise","resolve","then","_validateNewText","_emitLabelChangeEvent","catch","oError","message","fnErrorHandler","stopEdit","_handleInvalidRename","sErrorMessage","showMessageBox","titleKey","setIgnoreEnterKeyUpOnce","addStyleClass","sErrorText","getOldValue","oResponsibleOverlay","getResponsibleElementOverlay","oRenameAction","getAction","aValidators","some","vValidator","oValidator","keyCode","ENTER","ESCAPE","DELETE","sText","trim","byId","currentTarget","metaKey","ctrlKey","_exit"],"sources":["RenameHandler-dbg.js"],"mappings":"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"}