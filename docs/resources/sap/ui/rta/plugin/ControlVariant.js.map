{"version":3,"file":"ControlVariant.js","names":["sap","ui","define","Plugin","RenameHandler","Utils","ElementOverlay","OverlayRegistry","OverlayUtil","DtUtil","flUtils","Layer","VariantManagement","ContextSharingAPI","ManagedObject","Log","prototype","_variantManagement","undefined","getVariantManagement","this","setVariantManagement","sKey","hasVariantManagement","destroyManageDialog","oOverlay","oManageDialog","getElement","getManageDialog","bIsDestroyed","destroy","ControlVariant","extend","metadata","library","properties","oldValue","associations","events","registerElementOverlay","oControl","sVariantManagementReference","apply","arguments","vAssociationElement","getFor","aVariantManagementTargetElements","oAppComponent","getAppComponentForControl","sControlId","getId","getLocalId","Array","isArray","length","forEach","sVariantManagementTargetElement","oVariantManagementTargetElement","getCore","byId","oVariantManagementTargetOverlay","getOverlay","_propagateVariantManagement","bind","attachEvent","_manageClickEvent","_getVariantManagementFromParent","_isPersonalizationMode","getCommandFactory","getFlexSettings","layer","USER","oParentElementOverlay","aElementOverlaysRendered","getAllChildOverlays","oElementOverlay","concat","getParentElementOverlay","deregisterElementOverlay","_isVariantManagementControl","detachEvent","detachBrowserEvent","_onClick","removeFromPluginsList","_getVariantModel","oElement","getModel","VARIANT_MODEL_NAME","_isEditable","hasStableId","getAssociation","isVariantSwitchAvailable","isVariantSwitchEnabled","aElementOverlays","aVariants","oModel","getData","variants","reduce","aReducedVariants","oVariant","visible","bEnabled","setDesignTime","oDesignTime","_setDesignTime","call","isRenameAvailable","isRenameEnabled","isVariantSaveAvailable","isVariantSaveEnabled","oData","modified","isVariantSaveAsAvailable","isVariantSaveAsEnabled","isVariantConfigureAvailable","isVariantConfigureEnabled","switchVariant","oTargetOverlay","sNewVariantReference","sCurrentVariantReference","oDesignTimeMetadata","getDesignTimeMetadata","oTargetElement","getCommandFor","targetVariantReference","sourceVariantReference","then","oSwitchCommand","fireElementModified","command","catch","oMessage","createError","renameVariant","startEdit","oVariantManagementOverlay","vDomRef","variantRenameDomRef","overlay","domRef","pluginMethodName","stopEdit","bRestoreFocus","_stopEdit","createSaveCommand","model","oSaveCommand","createSaveAsCommand","getCurrentVariantReference","oSaveAsCommand","_emitLabelChangeEvent","sText","_getCurrentEditableFieldText","_oEditedOverlay","oRenamedElement","_createSetTitleCommand","text","element","designTimeMetadata","variantManagementReference","oSetTitleCommand","mPropertyBag","_$oEditableControlDomRef","newText","error","_prepareOverlayForValueState","sValueStateText","getValueState","getValueStateText","getDomRefForValueStateMessage","$","configureVariants","oVariantManagementControl","mFlexSettings","manageVariants","getRtaStyleClassName","createComponent","aConfiguredChanges","control","changes","oConfigureCommand","getMenuItems","aMenuItems","push","id","getLibraryResourceBundle","getText","handler","enabled","rank","icon","startSection","sManagementReferenceId","aSubmenuItems","bCurrentItem","currentVariant","key","oItem","title","sNewVariantKey","eventItem","getParameters","item","getProperty","sCurrentVariantKey","submenu","getActionName"],"sources":["ControlVariant-dbg.js"],"mappings":"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"}