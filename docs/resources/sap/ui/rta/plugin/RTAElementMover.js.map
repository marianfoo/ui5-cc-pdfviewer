{"version":3,"file":"RTAElementMover.js","names":["sap","ui","define","ElementMover","OverlayUtil","ElementUtil","Utils","CommandFactory","Plugin","OverlayRegistry","RTAElementMover","extend","metadata","library","properties","commandFactory","type","defaultValue","movableTypes","associations","events","prototype","init","this","oBasePlugin","getCommandFactory","exit","destroy","setCommandFactory","oCommandFactory","setProperty","isEditable","oOverlay","bOnRegistration","oElement","getElement","isMovableType","Promise","resolve","checkMovable","then","bMovable","setMovable","fnIsValidForMove","oDesignTimeMetadata","getDesignTimeMetadata","oParentElementOverlay","getParentElementOverlay","bNotAdaptable","markedAsNotAdaptable","isElementDirectTemplateChild","oRelevantContainer","getRelevantContainer","oRelevantContainerOverlay","getOverlay","isMoveAvailableOnRelevantContainer","bValid","hasStableId","bind","fnCheckForValidTargetZones","call","aOverlays","findAllUniqueAggregationOverlaysInContainer","aValidAggregationOverlayPromises","map","oAggregationOverlay","checkTargetZone","undefined","all","aValidAggregationOverlays","filter","aValidAggregationOverlay","length","aVisibleOverlays","getChildren","oChildOverlay","oChildElement","getVisible","getParent","_getMoveAction","oParentAggregationDtMetadata","oParentAggregationOverlay","getParentAggregationOverlay","getAction","bOverlayNotInDom","oMovedOverlay","getMovedOverlay","oChangeHandlerRelevantElement","oMoveAction","changeType","oRelevantOverlay","hasChangeHandler","isMoveAvailableForChildren","aAggregationsWithMoveAction","getAggregationNamesWithAction","aAggregationWithMoveActionPromises","forEach","oAggregationWithAction","aAggregationOverlays","getAggregationOverlay","aChildren","aChildrenMovablePromises","concat","push","aMoveAvailableResults","some","aMoveAvailable","buildMoveCommand","oMovedElement","oSource","_getSource","oTarget","getParentInformation","iSourceIndex","index","iTargetIndex","bSourceAndTargetAreSame","_compareSourceAndTarget","sVariantManagementReference","getVariantManagementReference","getCommandFor","movedElements","element","sourceIndex","targetIndex","source","target"],"sources":["RTAElementMover-dbg.js"],"mappings":"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"}