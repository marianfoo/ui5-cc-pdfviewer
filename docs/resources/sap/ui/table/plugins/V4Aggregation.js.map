{"version":3,"file":"V4Aggregation.js","names":["sap","ui","define","PluginBase","TableUtils","deepClone","defaultGroupHeaderFormatter","oContext","mGroupLevelInfo","sResourceKey","aValues","property","label","getProperty","path","textProperty","push","getResourceText","V4Aggregation","extend","metadata","library","properties","totalSummaryOnTop","type","defaultValue","totalSummaryOnBottom","groupSummary","groupHeaderFormatter","prototype","isApplicable","oControl","apply","this","arguments","getMetadata","getName","activate","oBinding","getTableBinding","isA","onActivate","oTable","setRowCountConstraints","fixedTop","fixedBottom","Grouping","setToDefaultGroupMode","Hook","register","Keys","Row","UpdateState","updateRowState","Expand","expandRow","Collapse","collapseRow","onDeactivate","_mGroup","undefined","_mAggregate","_aGroupLevels","_mColumnState","resetCellContentVisibilitySettings","setToDefaultFlatMode","deregister","getBinding","setAggregation","oPlugin","getTable","getColumns","forEach","oColumn","_setCellContentVisibilitySettings","updateCellContentVisibilitySettings","sGroupSummary","getGroupSummary","mColumnState","getId","groupHeader","expanded","subtotals","collapsed","summary","group","total","grandTotal","onTableRowsBound","getModel","deactivate","onTableBindRows","oBindingInfo","parameters","$$aggregation","getAggregationInfo","oState","iLevel","context","getValue","bContainsTotals","bIsLeaf","bIsGrandTotal","bIsGroupHeader","bIsGroupTotal","level","expandable","Type","Summary","GroupHeader","fnGroupHeaderFormatter","getGroupHeaderFormatter","sCustomGroupHeaderTitle","name","title","Error","setPropertyInfos","aPropertyInfos","_aPropertyInfos","getPropertyInfos","findPropertyInfo","sPropertyName","find","oPropertyInfo","setAggregationInfo","oAggregateInfo","Object","assign","columnState","Array","isArray","visible","_sSearch","aAllUnitProperties","aAllAdditionalProperties","aAdditionalProperties","reduce","mGroup","key","getAdditionalPropertyPaths","additionally","concat","bind","aVisible","groupLevels","sGroupLevelName","indexOf","sVisiblePropertyName","groupable","aggregatable","unit","oUnitPropertyInfo","aggregationDetails","customAggregate","contextDefiningProperties","sContextDefiningPropertyName","oDefiningPropertyInfo","oProperty","text","keys","sKey","hasOwnProperty","filter","sAdditionalProperty","search","updateAggregation","length","mAggregation","aggregate","map","handleGrandTotals","handleGroupTotals","oTextPropertyInfo","oRow","oBindingContext","getRowBindingContext","expand","collapse","setTotalSummaryOnTop","sValue","setProperty","setTotalSummaryOnBottom","setGroupSummary","sTotalSummaryOnTop","getTotalSummaryOnTop","sTotalSummaryOnBottom","getTotalSummaryOnBottom","bShowTotalSummaryOnTop","bShowTotalSummaryOnBottom","bHasGrandTotals","some","grandTotalAtBottomOnly","subtotalsAtBottomOnly"],"sources":["V4Aggregation-dbg.js"],"mappings":"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"}