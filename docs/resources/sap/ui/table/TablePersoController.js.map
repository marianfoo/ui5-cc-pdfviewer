{"version":3,"file":"TablePersoController.js","names":["sap","ui","define","Library","ManagedObject","syncStyleClass","Log","jQuery","TableUtils","Configuration","ResetAllMode","TablePersoController","extend","constructor","sId","mSettings","apply","this","arguments","metadata","properties","autoSave","type","defaultValue","persoService","customDataKey","showResetAll","since","resetAllMode","Default","associations","table","multiple","library","prototype","init","_schemaProperty","_schemaVersion","_oInitialPersoData","_aTableEvents","_aColumnProperties","_bSaveFilters","push","setResetAllMode","_resetAllModeSet","setProperty","warning","exit","oTable","_getTable","_manageTableEventHandlers","_oDialog","destroy","setPersoService","oService","validateProperty","getPersData","setPersData","delPersData","Error","oOldService","getPersoService","oNewService","getAutoSave","refresh","setAutoSave","bAutoSave","oOldValue","oNewValue","savePersonalizations","setTable","vTable","oOldTable","_oPersoController","undefined","setAssociation","oNewTable","getResetAllMode","_getCurrentTablePersoData","setCustomDataKey","sCustomDataKey","sOldValue","getCustomDataKey","sNewValue","bAttach","i","l","length","fn","_tableEventHandler","that","done","oServiceData","oData","Array","isArray","aColumns","_adjustTable","ServiceDefault","fail","error","oDeferred","Deferred","reject","promise","mColumns","aCols","getColumns","_getColumnPersoKey","oColumnInfo","oColumn","id","indexOfColumn","order","removeColumn","insertColumn","oMetadata","getMetadata","j","lj","sProperty","hasProperty","getProperty","ex","_onPersoApplied","oEvent","_iTriggerSaveTimeout","setTimeout","bForDialog","sPersoKey","text","Column","getHeaderText","getCore","byId","getTable","_getPersoKey","oControl","data","getId","indexOf","getUIDPrefix","openDialog","_open","open","loadLibrary","async","then","require","TablePersoDialog","showSelectAll","getShowResetAll","hasGrouping","contentWidth","contentHeight","initialColumnState","columnInfoCallback","mPersoMap","oPersoService","confirm","retrievePersonalizations","addStyleClass","ServiceReset","getResetPersData","setShowResetAll","oResetData","_bIsBeingDestroyed","setInitialColumnState"],"sources":["TablePersoController-dbg.js"],"mappings":"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"}