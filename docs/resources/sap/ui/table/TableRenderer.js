/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/ui/Device","./library","./Column","./utils/TableUtils","./extensions/ExtensionBase","sap/ui/core/Renderer","sap/ui/core/IconPool","sap/base/Log"],function(e,t,a,i,r,n,s,l){"use strict";var o=t.VisibleRowCountMode;var d=t.SortOrder;var c=i.Column;var p={Begin:"flex-start",End:"flex-end",Left:undefined,Right:undefined,Center:"center"};var g={apiVersion:2};g.render=function(a,r){delete r._iHeaderRowCount;p.Left=r._bRtlMode?"flex-end":"flex-start";p.Right=r._bRtlMode?"flex-start":"flex-end";i.getResourceBundle();a.openStart("div",r);r._getAccRenderExtension().writeAriaAttributesFor(a,r,"ROOT");a.class("sapUiTable");if(e.browser.chrome&&window.devicePixelRatio<1){a.class("sapUiTableZoomout")}if("ontouchstart"in document){a.class("sapUiTableTouch")}a.class("sapUiTableSelMode"+r.getSelectionMode());if(r.getColumnHeaderVisible()){a.class("sapUiTableCHdr")}if(i.hasRowHeader(r)){a.class("sapUiTableRowSelectors")}if(i.hasRowHighlights(r)){a.class("sapUiTableRowHighlights")}var n=t.TableHelper.addTableClass();if(n){a.class(n)}var s=r._getScrollExtension();if(s.isVerticalScrollbarRequired()&&!s.isVerticalScrollbarExternal()){a.class("sapUiTableVScr")}if(r.getEditable()){a.class("sapUiTableEdt")}if(i.hasRowActions(r)){var l=r.getRowActionCount();a.class(l==1?"sapUiTableRActS":"sapUiTableRAct")}else if(i.hasRowNavigationIndicators(r)){a.class("sapUiTableRowNavIndicator")}if(i.isNoDataVisible(r)&&!r._hasPendingRequests()){a.class("sapUiTableEmpty")}if(r.getShowOverlay()){a.class("sapUiTableOverlay")}var d=i.Grouping.getModeCssClass(r);if(d){a.class(d)}a.style("width",r.getWidth());r._getRowMode().applyTableStyles(a);if(r._bFirstRendering){a.class("sapUiTableNoOpacity")}a.openEnd();this.renderTabElement(a,"sapUiTableOuterBefore");a.openStart("div",r.getId()+"-before");a.openEnd();a.renderControl(r.getAggregation("_messageStrip"));if(r.getTitle()){this.renderHeader(a,r,r.getTitle())}if(r.getToolbar()){this.renderToolbar(a,r,r.getToolbar())}if(r.getExtension()&&r.getExtension().length>0){this.renderExtensions(a,r,r.getExtension())}a.close("div");a.openStart("div",r.getId()+"-sapUiTableCnt");a.class("sapUiTableCnt");a.attr("data-sap-ui-fastnavgroup","true");a.attr("data-sap-ui-pasteregion","true");r._getAccRenderExtension().writeAriaAttributesFor(a,r,"CONTAINER");a.openEnd();a.openStart("div",r.getId()+"-sapUiTableGridCnt");r._getAccRenderExtension().writeAriaAttributesFor(a,r,"CONTENT");a.openEnd();this.renderColRsz(a,r);this.renderColHdr(a,r);this.renderTable(a,r);a.close("div");var c=r.getCreationRow();if(c&&c.getVisible()){a.renderControl(c);this.renderHSbBackground(a,r);this.renderHSb(a,r)}r._getAccRenderExtension().writeHiddenAccTexts(a,r);a.openStart("div",r.getId()+"-overlay");a.class("sapUiTableOverlayArea");a.attr("tabindex","0");r._getAccRenderExtension().writeAriaAttributesFor(a,r,"OVERLAY");a.openEnd();a.close("div");a.close("div");a.openStart("div",r.getId()+"-after");a.openEnd();if(r.getFooter()){this.renderFooter(a,r,r.getFooter())}if(r.getVisibleRowCountMode()==o.Interactive){this.renderVariableHeight(a,r)}this.renderBottomPlaceholder(a,r);a.close("div");this.renderTabElement(a,"sapUiTableOuterAfter");a.close("div")};g.renderHeader=function(e,t,a){e.openStart("div");e.class("sapUiTableHdr");t._getAccRenderExtension().writeAriaAttributesFor(e,t,"TABLEHEADER");e.openEnd();e.renderControl(a);e.close("div")};g.renderToolbar=function(e,t,a){if(!i.isA(a,"sap.ui.core.Toolbar")){return}e.openStart("div");e.class("sapUiTableTbr");if(typeof a.getStandalone==="function"&&a.getStandalone()){a.setStandalone(false)}if(a.isA("sap.m.Toolbar")){a.setDesign("Transparent",true);a.addStyleClass("sapMTBHeader-CTX");e.class("sapUiTableMTbr")}t._getAccRenderExtension().writeAriaAttributesFor(e,t,"TABLESUBHEADER");e.openEnd();e.renderControl(a);e.close("div")};g.renderExtensions=function(e,t,a){for(var i=0,r=a.length;i<r;i++){this.renderExtension(e,t,a[i])}};g.renderExtension=function(e,t,a){e.openStart("div");e.class("sapUiTableExt");t._getAccRenderExtension().writeAriaAttributesFor(e,t,"TABLESUBHEADER");e.openEnd();e.renderControl(a);e.close("div")};g.renderTable=function(e,t){var a=t.getRows().length>0;this.renderTabElement(e,"sapUiTableCtrlBefore",a?"0":"-1");e.openStart("div",t.getId()+"-tableCCnt");t._getRowMode().applyRowContainerStyles(e);e.class("sapUiTableCCnt");e.openEnd();this.renderTableCCnt(e,t);e.close("div");this.renderTabElement(e,"sapUiTableCtrlAfter",a?"0":"-1");this.renderTabElement(e,null,"-1",t.getId()+"-focusDummy");var i=t.getCreationRow();if(!i||!i.getVisible()){this.renderHSbBackground(e,t);this.renderHSb(e,t)}};g.renderTableCCnt=function(e,t){this.renderTableCtrl(e,t);this.renderRowHdr(e,t);this.renderRowActions(e,t);if(!t._getScrollExtension().isVerticalScrollbarExternal()){this.renderVSb(e,t)}e.openStart("div",t.getId()+"-noDataCnt");e.class("sapUiTableCtrlEmpty");e.attr("tabindex","0");t._getAccRenderExtension().writeAriaAttributesFor(e,t,"NODATA");e.openEnd();var a=i.getNoContentMessage(t);if(i.isA(a,"sap.ui.core.Control")){e.renderControl(a)}else{e.openStart("span",t.getId()+"-noDataMsg");e.class("sapUiTableCtrlEmptyMsg");e.openEnd();e.text(a);e.close("span")}e.close("div")};g.renderFooter=function(e,t,a){e.openStart("div");e.class("sapUiTableFtr");t._getAccRenderExtension().writeAriaAttributesFor(e,t,"TABLEFOOTER");e.openEnd();e.renderControl(a);e.close("div")};g.renderVariableHeight=function(e,t){e.openStart("div",t.getId()+"-sb");e.attr("tabindex","-1");e.class("sapUiTableHeightResizer");e.style("height","5px");e.openEnd();e.close("div")};g.renderBottomPlaceholder=function(e,t){var a=t._getRowMode().getTableBottomPlaceholderStyles();if(a===undefined){return}e.openStart("div",t.getId()+"-placeholder-bottom");e.class("sapUiTablePlaceholder");t._getRowMode().applyTableBottomPlaceholderStyles(e);e.openEnd();e.close("div")};g.renderColHdr=function(e,t){var a=i.getHeaderRowCount(t);var r=t.getColumns();var n=t.getComputedFixedColumnCount();e.openStart("div");e.class("sapUiTableColHdrCnt");e.openEnd();this.renderColRowHdr(e,t);if(n>0){e.openStart("div");e.class("sapUiTableCHA");e.class("sapUiTableCtrlScrFixed");e.class("sapUiTableNoOpacity");e.openEnd();this.renderTableControlCnt(e,t,true,0,n,true,false,0,a,true);e.close("div")}e.openStart("div",t.getId()+"-sapUiTableColHdrScr");e.class("sapUiTableCHA");e.class("sapUiTableCtrlScr");if(r.length==0){e.class("sapUiTableHasNoColumns")}if(n>0){if(t._bRtlMode){e.style("margin-right","0")}else{e.style("margin-left","0")}}e.openEnd();this.renderTableControlCnt(e,t,false,n,r.length,false,false,0,a,true);e.close("div");e.openStart("div");e.class("sapUiTableVSbHeader");e.openEnd();e.close("div");if(i.hasRowActions(t)){e.openStart("div",t.getId()+"-rowacthdr");t._getAccRenderExtension().writeAriaAttributesFor(e,t,"ROWACTIONHEADER");e.class("sapUiTableCell");e.class("sapUiTableHeaderCell");e.class("sapUiTableRowActionHeaderCell");e.openEnd();e.openStart("span");e.openEnd();e.text(i.getResourceText("TBL_ROW_ACTION_COLUMN_LABEL"));e.close("span");e.close("div")}e.close("div")};g.renderColRowHdr=function(e,a){var r=false;var n=false;var s=a._getSelectionPlugin().getRenderConfig();e.openStart("div",a.getId()+"-selall");e.class("sapUiTableCell");e.class("sapUiTableHeaderCell");e.class("sapUiTableRowSelectionHeaderCell");var l;if(s.headerSelector.visible){var o=i.areAllRowsSelected(a);if(s.headerSelector.type==="toggle"){l=o?"TBL_DESELECT_ALL":"TBL_SELECT_ALL"}else if(s.headerSelector.type==="clear"){l="TBL_DESELECT_ALL";if(!s.headerSelector.enabled){e.class("sapUiTableSelAllDisabled");e.attr("aria-disabled","true")}}if(a._getShowStandardTooltips()&&l){e.attr("title",i.getResourceText(l))}if(!o){e.class("sapUiTableSelAll")}else{n=true}e.class("sapUiTableSelAllVisible");r=true}e.attr("tabindex","-1");var d={enabled:r,checked:n};a._getAccRenderExtension().writeAriaAttributesFor(e,a,"COLUMNROWHEADER",d);e.openEnd();if(s.headerSelector.visible){if(s.headerSelector.type==="clear"&&s.headerSelector.icon){e.renderControl(s.headerSelector.icon)}else{e.openStart("div");e.class("sapUiTableSelectAllCheckBox");e.openEnd();e.close("div")}}if(i.hasRowHeader(a)&&a._getSelectionPlugin()._getSelectionMode()===t.SelectionMode.None){e.openStart("span",a.getId()+"-rowselecthdr");e.class("sapUiPseudoInvisibleText");e.openEnd();e.text(i.getResourceText("TBL_ROW_SELECTION_COLUMN_LABEL"));e.close("span")}e.close("div")};g.renderCol=function(e,t,a,r,s,l,o,c,g){var b,T=!s,f=a.getIndex(),u=a.getMultiLabels();if(u.length>0){b=u[r]}else if(r==0){b=a.getLabel()}var C=a.getId();if(r===0){e.openStart("td",a)}else{C=C+"_"+r;e.openStart("td",C)}e.attr("data-sap-ui-related",a.getId());e.attr("data-sap-ui-colid",a.getId());e.attr("data-sap-ui-colindex",f);e.attr("tabindex","-1");var h={column:a,headerId:C,index:f};if(s>1){e.attr("colspan",s);h.colspan=true}if(g){var R=a.getFiltered();var v=a.getSorted();if(R){e.class("sapUiTableColFiltered")}if(v){e.class("sapUiTableColSorted");if(a.getSortOrder()===d.Descending){e.class("sapUiTableColSortedD")}}}t._getAccRenderExtension().writeAriaAttributesFor(e,t,"COLUMNHEADER",h);e.class("sapUiTableCell");e.class("sapUiTableHeaderCell");e.class("sapUiTableHeaderDataCell");if(t.getEnableColumnReordering()||t.hasListeners("columnSelect")||a._menuHasItems()){e.class("sapUiTableHeaderCellActive")}if(l){e.class("sapUiTableCellFirst")}if(o){e.class("sapUiTableCellLastFixed")}if(c){e.class("sapUiTableCellLast")}if(T){e.class("sapUiTableHidden")}if(t.getColumnHeaderHeight()>0){e.style("height",t.getColumnHeaderHeight()+"px")}var S=a.getTooltip_AsString();if(S){e.attr("title",S)}e.openEnd();e.openStart("div",C+"-inner");e.class("sapUiTableCellInner");if(!i.hasRowHeader(t)&&l&&!i.hasRowHighlights(t)&&!i.Grouping.isInTreeMode(t)){e.class("sapUiTableFirstColumnCell")}var E=a.getHAlign();var w=n.getTextAlign(E);if(w){e.style("text-align",w)}e.openEnd();e.openStart("div");e.style("justify-content",p[E]);e.openEnd();if(b){e.renderControl(b)}e.close("div");e.close("div");e.close("td")};g.renderColRsz=function(e,t){e.openStart("div",t.getId()+"-rsz");e.class("sapUiTableColRsz");e.openEnd();e.close("div")};g.renderRowHdr=function(e,t){e.openStart("div",t.getId()+"-sapUiTableRowHdrScr");t._getAccRenderExtension().writeAriaAttributesFor(e,t,"PRESENTATION");e.class("sapUiTableRowHdrScr");e.class("sapUiTableNoOpacity");t._getAccRenderExtension().writeAriaAttributesFor(e,t,"ROWHEADER_COL");e.openEnd();for(var a=0,i=t.getRows().length;a<i;a++){this.renderRowAddon(e,t,t.getRows()[a],a,true)}e.close("div")};g.renderRowActions=function(e,t){if(!i.hasRowActions(t)&&!i.hasRowNavigationIndicators(t)){return}e.openStart("div",t.getId()+"-sapUiTableRowActionScr");t._getAccRenderExtension().writeAriaAttributesFor(e,t,"PRESENTATION");i.hasRowActions(t)?e.class("sapUiTableRowWithAction"):e.class("sapUiTableRowActionScr");e.class("sapUiTableNoOpacity");e.openEnd();for(var a=0,r=t.getRows().length;a<r;a++){this.renderRowAddon(e,t,t.getRows()[a],a,false)}e.close("div")};g.addRowCSSClasses=function(e,t,a){var r=t._getRowCounts();var n=i.getFirstFixedBottomRowIndex(t);if(a===0){e.class("sapUiTableFirstRow")}else if(a===t.getRows().length-1){e.class("sapUiTableLastRow")}if(r.fixedTop>0){if(a==r.fixedTop-1){e.class("sapUiTableRowLastFixedTop")}if(a==r.fixedTop){e.class("sapUiTableRowFirstScrollable")}}if(n>=0&&n===a){e.class("sapUiTableRowFirstFixedBottom")}else if(n>=1&&n-1===a){e.class("sapUiTableRowLastScrollable")}};g.renderRowAddon=function(e,t,a,r,n){var s=t._getSelectionPlugin().isIndexSelected(a.getIndex());e.openStart("div");var l=a.getAggregation("_settings");var o={index:r,rowHidden:a.isEmpty(),rowNavigated:l?l.getNavigated():false};t._getAccRenderExtension().writeAriaAttributesFor(e,t,"TR",o);e.attr("data-sap-ui-related",a.getId());e.attr("data-sap-ui-rowindex",r);e.class("sapUiTableRow");e.class("sapUiTableContentRow");if(a.isContentHidden()){e.class("sapUiTableRowHidden")}else if(s){e.class("sapUiTableRowSel")}if(r%2!=0&&t.getAlternateRowColors()&&!i.Grouping.isInTreeMode(t)){e.class("sapUiTableRowAlternate")}this.addRowCSSClasses(e,t,r);e.openEnd();e.openStart("div",t.getId()+(n?"-rowsel":"-rowact")+r);e.class("sapUiTableCell");e.class("sapUiTableContentCell");e.class(n?"sapUiTableRowSelectionCell":"sapUiTableRowActionCell");t._getRowMode().renderRowStyles(e);e.attr("tabindex","-1");o={rowSelected:s,rowHidden:a.isEmpty()};t._getAccRenderExtension().writeAriaAttributesFor(e,t,n?"ROWHEADER":"ROWACTION",o);e.openEnd();if(n){this.writeRowHighlightContent(e,t,a,r);this.writeRowSelectorContent(e,t,a,r)}else{var d=a.getRowAction();if(d){e.renderControl(d)}this.writeRowNavigationContent(e,t,a,r)}e.close("div");e.close("div")};g.renderTableCtrl=function(e,t){if(t.getComputedFixedColumnCount()>0){e.openStart("div",t.getId()+"-sapUiTableCtrlScrFixed");e.class("sapUiTableCtrlScrFixed");e.openEnd();this.renderTableControl(e,t,true);e.close("div")}e.openStart("div",t.getId()+"-sapUiTableCtrlScr");e.class("sapUiTableCtrlScr");if(t.getComputedFixedColumnCount()>0){if(t._bRtlMode){e.style("margin-right","0")}else{e.style("margin-left","0")}}e.openEnd();e.openStart("div",t.getId()+"-tableCtrlCnt");e.class("sapUiTableCtrlCnt");e.openEnd();this.renderTableControl(e,t,false);e.close("div");e.close("div")};g.renderTableControl=function(e,t,a){var i,r;if(a){i=0;r=t.getComputedFixedColumnCount()}else{i=t.getComputedFixedColumnCount();r=t.getColumns().length}var n=t._getRowCounts();var s=t.getRows();if(n.fixedTop>0){this.renderTableControlCnt(e,t,a,i,r,true,false,0,n.fixedTop)}this.renderTableControlCnt(e,t,a,i,r,false,false,n.fixedTop,s.length-n.fixedBottom);if(n.fixedBottom>0&&s.length>0){this.renderTableControlCnt(e,t,a,i,r,false,true,s.length-n.fixedBottom,s.length)}};g.renderTableControlCnt=function(e,t,a,r,n,s,l,o,d,c){var p=c?"-header":"-table";var g=t.getId()+p;var b=[];if(a){g+="-fixed";b.push("sapUiTableCtrlFixed")}else{b.push("sapUiTableCtrlScroll")}if(s){g+="-fixrow";b.push("sapUiTableCtrlRowFixed")}else if(l){g+="-fixrow-bottom";b.push("sapUiTableCtrlRowFixedBottom")}else{b.push("sapUiTableCtrlRowScroll")}e.openStart("table",g);b.forEach(function(t){e.class(t)});t._getAccRenderExtension().writeAriaAttributesFor(e,t,c?"COLUMNHEADER_TABLE":"TABLE");e.class("sapUiTableCtrl");if(c){e.class("sapUiTableCHT")}e.style(a?"width":"min-width",t._getColumnsWidth(r,n)+"px");e.openEnd();e.openStart("thead").openEnd();e.openStart("tr");e.class("sapUiTableCtrlCol");if(o==0){e.class("sapUiTableCtrlFirstCol")}if(c){e.class("sapUiTableCHTHR")}e.openEnd();var T=t.getColumns();var f=new Array(n);var u;var C;var h=!a&&n>r;for(u=r;u<n;u++){C=T[u];var R={shouldRender:!!(C&&C.shouldRender())};if(R.shouldRender){var v=C.getWidth();if(i.isVariableWidth(v)){h=false;if(a){C._iFixWidth=C._iFixWidth||160;v=C._iFixWidth+"px"}}else if(a){delete C._iFixWidth}R.width=v}f[u]=R}if(T.length===0){e.openStart("th").openEnd().close("th")}for(u=r;u<n;u++){p=c?"_hdr":"_col";C=T[u];R=f[u];if(R.shouldRender){if(o==0){e.openStart("th",t.getId()+p+u);t._getAccRenderExtension().writeAriaAttributesFor(e,t,"TH",{column:C})}else{e.openStart("th")}e.style("width",R.width);e.attr("data-sap-ui-headcolindex",u);e.attr("data-sap-ui-colid",C.getId());e.openEnd();if(o==0&&i.getHeaderRowCount(t)==0&&!c){if(C.getMultiLabels().length>0){e.renderControl(C.getMultiLabels()[0])}else{e.renderControl(C.getLabel())}}e.close("th")}}if(h){e.openStart("th",c&&t.getId()+"-dummycolhdr");t._getAccRenderExtension().writeAriaAttributesFor(e,t,"PRESENTATION");e.openEnd().close("th")}e.close("tr");e.close("thead");e.openStart("tbody").openEnd();var S=t._getVisibleColumns();var E=t.getRows();var w;var A;if(c){for(w=o,A=d;w<A;w++){this.renderColumnHeaderRow(e,t,w,a,r,n,h,w===A-1)}}else{var x=t._getAccExtension().getAriaTextsForSelectionMode(true);var U=i.isRowSelectionAllowed(t);var _=t.getDragDropConfig().some(function(e){return e.getMetadata().isInstanceOf("sap.ui.core.dnd.IDragInfo")&&e.getSourceAggregation()==="rows"});var H=this.getLastFixedColumnIndex(t);for(w=o,A=d;w<A;w++){this.renderTableRow(e,t,E[w],w,a,r,n,false,S,H,h,x,U,_)}}e.close("tbody");e.close("table")};g.writeRowSelectorContent=function(e,t,a,r){t._getAccRenderExtension().writeAccRowSelectorText(e,t,a,r);if(i.Grouping.isInGroupMode(t)){e.openStart("div");e.class("sapUiTableGroupShield");e.openEnd();e.close("div");e.openStart("div",a.getId()+"-groupHeader");e.class("sapUiTableGroupIcon");e.openEnd();e.close("div");if(i.Grouping.showGroupMenuButton(t)){var n=s.getIconInfo("sap-icon://drop-down-list");e.openStart("div").class("sapUiTableGroupMenuButton").openEnd();e.text(n.content);e.close("div")}}};g.writeRowHighlightContent=function(e,t,a,r){if(!i.hasRowHighlights(t)){return}var n=a.getAggregation("_settings");var s=n._getHighlightCSSClassName();e.openStart("div",a.getId()+"-highlight");e.class("sapUiTableRowHighlight");e.class(s);e.openEnd();t._getAccRenderExtension().writeAccRowHighlightText(e,t,a,r);e.close("div")};g.writeRowNavigationContent=function(e,t,a,r){if(!i.hasRowNavigationIndicators(t)){return}var n=a.getAggregation("_settings");e.openStart("div",a.getId()+"-navIndicator");if(n.getNavigated()){e.class("sapUiTableRowNavigated")}e.openEnd();e.close("div")};g.renderColumnHeaderRow=function(e,t,a,i,r,n,s,l){e.openStart("tr");e.class("sapUiTableRow");e.class("sapUiTableHeaderRow");e.class("sapUiTableColHdrTr");t._getAccRenderExtension().writeAriaAttributesFor(e,t,"COLUMNHEADER_ROW");e.openEnd();var o=this.getColumnsToRender(t,r,n),d=0,p=-1;function g(e,t,i){var r=c.getHeaderSpan(e,a),n;if(d<1){if(r>1){n=e.getIndex();r=i.slice(t+1,t+r).reduce(function(e,t){return t.getIndex()-n<r?e+1:e},1)}e._nSpan=d=r;p=t}else{e._nSpan=0}d--}o.forEach(g);function b(r,n){this.renderCol(e,t,r,a,r._nSpan,n===0,i&&n==p,!i&&n==p,r._nSpan===1&&!r._bIconsRendered);r._bIconsRendered=r._bIconsRendered||r._nSpan===1;delete r._nSpan;if(l){delete r._bIconsRendered}}o.forEach(b.bind(this));if(!i&&s&&o.length>0){e.openStart("td").class("sapUiTableCellDummy");t._getAccRenderExtension().writeAriaAttributesFor(e,t,"PRESENTATION");e.openEnd().close("td")}e.close("tr")};g.renderTableRow=function(e,t,a,r,n,s,l,o,d,c,p,g,b,T){if(!a){return}var f=t._getSelectionPlugin();if(n){e.openStart("tr",a.getId()+"-fixed");e.attr("data-sap-ui-related",a.getId())}else{e.openStart("tr",a)}if(a._bDummyRow){e.style("opacity","0")}e.class("sapUiTableRow");e.class("sapUiTableContentRow");e.class("sapUiTableTr");if(a.isContentHidden()){e.class("sapUiTableRowHidden")}else{if(T&&n){e.attr("draggable",true)}if(f.isIndexSelected(a.getIndex())){e.class("sapUiTableRowSel")}}if(r%2!=0&&t.getAlternateRowColors()&&!i.Grouping.isInTreeMode(t)){e.class("sapUiTableRowAlternate")}this.addRowCSSClasses(e,t,r);e.attr("data-sap-ui-rowindex",r);t._getRowMode().renderRowStyles(e);var u=a.getAggregation("_settings");var C={index:r,rowHidden:a.isEmpty(),rowNavigated:u?u.getNavigated():false};t._getAccRenderExtension().writeAriaAttributesFor(e,t,"TR",C);e.openEnd();var h=!a.isEmpty()&&f.isIndexSelected(a.getIndex());var R=a.getCells();for(var v=0,S=R.length;v<S;v++){this.renderTableCell(e,t,a,R[v],v,n,s,l,d,c,h)}if(!n&&p&&R.length>0){e.openStart("td").class("sapUiTableCellDummy");t._getAccRenderExtension().writeAriaAttributesFor(e,t,"PRESENTATION");e.openEnd();e.close("td")}e.close("tr")};g.renderTableCell=function(e,t,r,s,l,o,d,c,p,g,b){var T=a.ofCell(s);var f=T.getIndex();if(T.shouldRender()&&d<=f&&c>f){var u=r.getId()+"-col"+l;e.openStart("td",u);e.attr("tabindex","-1");e.attr("data-sap-ui-colid",T.getId());var C=p.length;var h=C>0&&p[0]===T;var R=C>0&&p[C-1]===T;var v=o&&g===f;var S={index:f,column:T,row:r,fixed:o,rowSelected:b};t._getAccRenderExtension().writeAriaAttributesFor(e,t,"DATACELL",S);var E=n.getTextAlign(T.getHAlign());if(E){e.style("text-align",E)}e.class("sapUiTableCell");e.class("sapUiTableContentCell");e.class("sapUiTableDataCell");if(h){e.class("sapUiTableCellFirst")}if(v){e.class("sapUiTableCellLastFixed")}if(R){e.class("sapUiTableCellLast")}if(h&&i.Grouping.isInTreeMode(t)){e.class("sapUiTableCellFlex")}e.openEnd();e.openStart("div");e.class("sapUiTableCellInner");if(!i.hasRowHeader(t)&&h&&!i.hasRowHighlights(t)&&!i.Grouping.isInTreeMode(t)){e.class("sapUiTableFirstColumnCell")}t._getRowMode().renderCellContentStyles(e);e.openEnd();this.renderTableCellControl(e,t,s,h);e.close("div");e.close("td")}};g.renderTableCellControl=function(e,t,a,r){if(r&&i.Grouping.isInTreeMode(t)){var n=a.getParent();e.openStart("span",n.getId()+"-treeicon");e.class("sapUiTableTreeIcon");e.attr("tabindex","-1");t._getAccRenderExtension().writeAriaAttributesFor(e,t,"TREEICON",{row:n});e.openEnd();e.close("span")}e.renderControl(a)};g.renderVSb=function(e,t,a){var i=t._getScrollExtension();var r=t._getRowCounts();a=Object.assign({tabIndex:true},a);e.openStart("div");e.class("sapUiTableVSbContainer");if(!i.isVerticalScrollbarRequired()){e.class("sapUiTableHidden")}e.class(a.cssClass);e.openEnd();e.openStart("div",t.getId()+"-vsb");e.class("sapUiTableVSb");e.style("max-height",i.getVerticalScrollbarHeight()+"px");if(r.fixedTop>0){e.style("top",r.fixedTop*t._getBaseRowHeight()-1+"px")}if(a.tabIndex){e.attr("tabindex","-1")}e.openEnd();e.openStart("div");e.class("sapUiTableVSbContent");e.style("height",i.getVerticalScrollHeight()+"px");e.openEnd();e.close("div");e.close("div");e.close("div")};g.renderVSbExternal=function(e,t){if(r.isEnrichedWith(t,"sap.ui.table.extensions.Synchronization")){this.renderVSb(e,t,{cssClass:"sapUiTableVSbExternal",tabIndex:false})}else{l.error("This method can only be used with synchronization enabled.",t,"TableRenderer.renderVSbExternal")}};g.renderHSb=function(e,t,a){a=Object.assign({id:t.getId()+"-hsb",cssClass:"sapUiTableHSb",tabIndex:true,hidden:true,scrollWidth:0},a);e.openStart("div",a.id);e.class(a.cssClass);if(a.hidden){e.class("sapUiTableHidden")}if(a.tabIndex){e.attr("tabindex","-1")}e.openEnd();e.openStart("div",a.id+"-content");e.class("sapUiTableHSbContent");if(a.scrollWidth>0){e.style("width",a.scrollWidth+"px")}e.openEnd();e.close("div");e.close("div")};g.renderHSbExternal=function(e,t,a,i){if(r.isEnrichedWith(t,"sap.ui.table.extensions.Synchronization")){this.renderHSb(e,t,{id:a,cssClass:"sapUiTableHSbExternal",tabIndex:false,hidden:false,scrollWidth:i})}else{l.error("This method can only be used with synchronization enabled.",t,"TableRenderer.renderVSbExternal")}};g.renderHSbBackground=function(e,t){e.openStart("div",t.getId()+"-hsb-bg");e.class("sapUiTableHSbBg");e.openEnd().close("div")};g.renderTabElement=function(e,t,a,i){e.openStart("div");if(t){e.class(t)}if(i){e.attr("id",i)}e.attr("role","none");e.attr("tabindex",a==null?"0":a);e.openEnd().close("div")};g.getColumnsToRender=function(e,t,a){return e.getColumns().slice(t,a).filter(function(e){return e&&e.shouldRender()})};g.getLastFixedColumnIndex=function(e){var t=e.getComputedFixedColumnCount();var a=e.getColumns();var i,r;for(var n=t-1;n>=0;n--){i=a[n];if(i.shouldRender()){r=n;break}}return r};return g},true);
//# sourceMappingURL=TableRenderer.js.map