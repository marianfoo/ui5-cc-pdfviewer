{"version":3,"file":"PersistenceWriteAPI.js","names":["sap","ui","define","includes","_omit","Log","JsControlTreeModifier","FlexCustomData","ChangesController","DescriptorChangeTypes","Condenser","FlexObjectState","Storage","ManifestUtils","FeaturesAPI","Layer","LayerUtils","Settings","PersistenceWriteAPI","isDescriptorChange","oChange","_getMap","getChangeTypes","changeType","getChangeType","hasChanges","mPropertyBag","includeCtrlVariants","invalidateCache","_getUIChanges","then","aChanges","length","hasDirtyChanges","hasDirtyFlexObjects","hasHigherLayerChanges","upToLayer","getCurrentLayer","getFlexObjects","aFlexObjects","filter","oFlexObject","isOverLayer","getLayer","aFilteredFlexObjects","save","saveFlexObjects","getResetAndPublishInfo","Promise","all","isPublishAvailable","aResetPublishInfo","bHasChanges","bIsPublishAvailable","bIsLayerTransportable","layer","USER","PUBLIC","oFlexInfo","isResetEnabled","isPublishEnabled","allContextsProvided","getFlexInfo","oResponse","undefined","catch","oError","error","message","getResetAndPublishInfoFromSession","oControl","sParameter","getFlexReferenceForControl","JSON","parse","window","sessionStorage","getItem","reset","oAppComponent","getAppComponentForSelector","selector","oFlexController","getFlexControllerInstance","aArguments","generator","selectorIds","changeTypes","resetChanges","apply","publish","styleClass","_oChangePersistence","transportAllUIChanges","appVariantDescriptors","add","change","store","addPreparedChange","remove","resolve","reject","Error","getId","oDescriptorFlexController","getDescriptorFlexControllerInstance","deleteChange","oElement","bySelector","getSelector","sync","destroyAppliedCustomData","getChangesWarning","this","bHasChangesFromOtherSystem","some","isChangeFromOtherSystem","oSettingsInstance","getInstanceOrUndef","isProductiveSystemWithTransports","bHasNoChanges","oChangesWarning","showWarning","warningType","_condense","changes","Array","isArray","condense","currentLayer"],"sources":["PersistenceWriteAPI-dbg.js"],"mappings":"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"}