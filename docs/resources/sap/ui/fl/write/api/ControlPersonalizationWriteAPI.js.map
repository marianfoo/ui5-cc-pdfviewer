{"version":3,"file":"ControlPersonalizationWriteAPI.js","names":["sap","ui","define","Log","JsControlTreeModifier","Core","Element","FlexState","VariantUtils","FlexRuntimeInfoAPI","ChangeHandlerStorage","Settings","FlexControllerFactory","Layer","Utils","mChangeCreationListeners","checkChangeSpecificData","oChange","sLayer","changeSpecificData","Promise","reject","Error","changeType","selectorControl","sControlType","getMetadata","getName","getChangeHandler","getRelevantVariantManagementReference","oAppComponent","oControl","bUseStaticArea","sVMControlId","getRelevantVariantManagementControlId","getSelector","id","getAllVariantManagementReferences","aVMControlIds","getAllVariantManagementControlIds","reduce","aValidIds","oForControls","byId","getFor","length","push","logAndReject","sMessage","error","ControlPersonalizationWriteAPI","add","mPropertyBag","changes","resolve","oReferenceControl","selectorElement","getAppComponentForControl","sFlexReference","getFlexReference","element","oFlexController","createForControl","oVariantModel","getModel","VARIANT_MODEL_NAME","USER","aSuccessfulChanges","createChanges","aAddedChanges","pPromise","oPersonalizationChange","then","ignoreVariantManagement","variantReference","sVariantManagementReference","useStaticArea","sCurrentVariantReference","oData","currentVariant","Object","assign","developerMode","layer","addChange","oAddedChange","changeInstance","catch","oError","message","applyChanges","applyChange","oAppliedChange","initialize","componentId","getId","forEach","fnCallback","reset","selectors","appComponent","aSelectorIds","map","vControl","sControlId","sLocalId","getLocalId","isInitialized","control","resetChanges","undefined","changeTypes","restore","selector","removeDirtyChanges","generator","save","aVariantManagementReferences","saveSequenceOfDirtyChanges","oResponse","checkDirtyStateForControlModels","buildSelectorFromElementIdAndType","elementId","elementType","controlType","isCondensingEnabled","getInstance","oSettings","attachChangeCreation","concat","detachChangeCreation","Array","isArray","filter","fnRegisteredCallback","detachAllChangeCreationListeners"],"sources":["ControlPersonalizationWriteAPI-dbg.js"],"mappings":"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"}