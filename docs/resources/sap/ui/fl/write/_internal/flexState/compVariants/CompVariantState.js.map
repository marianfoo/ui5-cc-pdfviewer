{"version":3,"file":"CompVariantState.js","names":["sap","ui","define","_omit","_pick","UriParameters","Core","Change","Layer","Utils","CompVariant","CompVariantRevertData","FlexObjectFactory","RevertData","States","UpdatableChange","FlexState","CompVariantMerger","Settings","Storage","Versions","Version","isVersionIndependentOrInDraft","oChange","mPropertyBag","aDraftFilenames","getPropertyFromVersionsModel","getState","states","NEW","includes","getId","sPropertyName","reference","normalizeReference","layer","hasVersionsModel","getVersionsModel","getProperty","undefined","isChangeUpdatable","oFlexObject","oChangeType","getFlexObjectMetadata","changeType","getChangeType","bSameLayer","getLayer","sPackageName","getPackage","bNotTransported","getSubSection","mMap","isVariant","variants","defaultVariants","standardVariants","changes","updateArrayByName","aObjectArray","i","length","fileName","splice","updateObjectAndStorage","oStoredResponse","sParentVersion","update","flexObject","convertToFileContent","getDefinition","transport","getRequest","parentVersion","then","result","response","setResponse","onAllChangesSaved","setState","PERSISTED","comp","oFileContent","removeFromArrayById","sObjectId","sFileName","removeFromCompVariantsMap","mCompVariantsMapByPersistencyKey","byId","standardVariantChange","deleteObjectAndRemoveFromStorage","remove","getTexts","mInternalTexts","Object","keys","texts","forEach","key","value","type","needsPersistencyCall","DIRTY","DELETED","getAllCompVariantObjects","concat","determineLayer","isUserDependent","USER","sLayer","fromQuery","window","location","search","get","toUpperCase","fileType","CUSTOMER","bPublicLayerAvailable","getInstanceOrUndef","isPublicLayerAvailable","PUBLIC","getVariantById","mCompVariantsByIdMap","getCompVariantsMap","_getOrCreate","persistencyKey","id","ifVariantClearRevertData","removeAllRevertData","revertVariantUpdate","oVariant","storeExecuteOnSelection","executeOnSelection","storeFavorite","favorite","storeContexts","contexts","storeName","name","storeContent","content","getContent","revertVariantChange","setExecuteOnSelection","setFavorite","setContexts","setName","setContent","CompVariantState","setDefault","oContent","defaultVariantName","defaultVariantId","mCompVariantsMap","sChangeType","aDefaultVariantChanges","oChangeParameter","createDefaultFileName","namespace","createNamespace","selector","support","generator","sapui5Version","getConfiguration","getVersion","toString","push","addRevertInfo","operationType","NewChange","ContentUpdate","previousState","previousContent","revertSetDefaultVariantId","oRevertInfo","popLatestRevertInfo","getType","pop","addVariant","oChangeSpecificData","changeSpecificData","assign","createCompVariant","oMapOfPersistencyKey","updateVariant","variantCanBeUpdated","bIsChangedOnLayer","getChanges","some","getPersisted","getLatestUpdatableChange","reverse","find","storeRevertDataInVariant","sOperationType","oRevertData","change","previousFavorite","getFavorite","previousExecuteOnSelection","getExecuteOnSelection","previousContexts","getContexts","previousName","getName","previousAction","action","addRevertData","transportId","setRequest","updateChange","aRevertData","getRevertData","oChangeContent","setRevertData","variantContent","setText","UpdateVariantViaChangeUpdate","applyChangeOnVariant","createChange","addChange","getComponent","sPersistencyKey","getSelector","oChangeDefinition","createInitialFileContent","packageName","variantId","getVariantId","variantName","oUpdatableChange","discardVariantContent","aVariantRevertData","bIsVariantSaved","slice","updateActionType","SAVE","DISCARD","UPDATE","UPDATE_METADATA","StateUpdate","UpdateVariantViaChange","removeVariant","sCurrentState","revert","markForDeletion","removeChange","filter","oChangeInMap","oVariantRevertData","removeRevertData","oRevertDataContent","getChange","oChangeRevertData","overrideStandardVariant","oStandardVariant","standardVariant","aChanges","removeAllChanges","persist","writeObjectAndAddToState","write","flexObjects","isLegacyVariant","saveObject","sReference","getStorageResponse","aFlexObjects","aPromises","map","index","sDraftVersion","Number","Draft","Promise","all","persistAll","mCompEntities","hasDirtyChanges","aEntities","mCompVariantsOfPersistencyKey","sId"],"sources":["CompVariantState-dbg.js"],"mappings":";;;;;AAMAA,IAAIC,GAAGC,OAAO,CACb,iCACA,iCACA,8BACA,mBACA,mBACA,kBACA,kBACA,oDACA,8DACA,0DACA,mDACA,+CACA,wDACA,gDACA,qEACA,8BACA,oCACA,qCACA,+BACE,SACFC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,GAEA,aAEA,SAASC,EAA8BC,EAASC,GAC/C,IAAIC,EAAkBC,EAA6B,kBAAmBF,GACtE,GAAIC,EAAiB,CACpB,OAAOF,EAAQI,aAAepB,EAAOqB,OAAOC,KACzCJ,EAAgBK,SAASP,EAAQQ,QACrC,CACA,OAAO,IACR,CAEA,SAASL,EAA6BM,EAAeR,GACpD,IAAIA,EAAe,CAClBS,UAAWxB,EAAMyB,mBAAmBV,EAAaS,WACjDE,MAAOX,EAAaW,OAErB,GAAIf,EAASgB,iBAAiBZ,GAAe,CAC5C,OAAOJ,EAASiB,iBAAiBb,GAAcc,YAAYN,EAC5D,CACA,OAAOO,SACR,CAEA,SAASC,EAAkBC,EAAajB,GACvC,IAAIkB,EAAcD,EAAYE,sBAAwBF,EAAYE,wBAAwBC,WAAaH,EAAYI,gBACnH,IAAK,CAAC,iBAAkB,iBAAiBf,SAASY,GAAc,CAC/D,OAAO,KACR,CAEA,IAAII,EAAaL,EAAYM,aAAevB,EAAaW,MACzD,IAAIa,EAAeP,EAAYQ,aAC/B,IAAIC,GAAmBF,GAAgBA,IAAiB,OAExD,OAAOF,GAAcI,GAAmB5B,EAA8BmB,EAAajB,EACpF,CAEA,SAAS2B,EAAcC,EAAMX,GAC5B,GAAIA,EAAYY,YAAa,CAC5B,OAAOD,EAAKE,QACb,CAEA,IAAIZ,EAAcD,EAAYI,gBAC9B,OAAQH,GACP,IAAK,iBACJ,OAAOU,EAAKG,gBACb,IAAK,kBACJ,OAAOH,EAAKI,iBACb,QACC,OAAOJ,EAAKK,QAEf,CAEA,SAASC,EAAkBC,EAAclB,GACxC,IAAK,IAAImB,EAAI,EAAGA,EAAID,EAAaE,OAAQD,IAAK,CAC7C,GAAID,EAAaC,GAAGE,WAAarB,EAAYqB,SAAU,CACtDH,EAAaI,OAAOH,EAAG,EAAGnB,GAC1B,KACD,CACD,CACD,CAEA,SAASuB,EAAuBvB,EAAawB,EAAiBC,GAC7D,OAAO/C,EAAQgD,OAAO,CACrBC,WAAY3B,EAAY4B,qBAAuB5B,EAAY4B,uBAAyB5B,EAAY6B,gBAChGnC,MAAOM,EAAYM,WACnBwB,UAAW9B,EAAY+B,aACvBC,cAAeP,IACbQ,KAAK,SAAUC,GAEjB,GAAIA,GAAUA,EAAOC,SAAU,CAC9BnC,EAAYoC,YAAYF,EAAOC,UAC/B,GAAIV,EAAgB,CACnB9C,EAAS0D,kBAAkB,CAC1B7C,UAAW0C,EAAOC,SAAS3C,UAC3BE,MAAOwC,EAAOC,SAASzC,OAEzB,CACD,KAAO,CACNM,EAAYsC,SAASjE,EAAOkE,UAC7B,CACD,GAAGN,KAAK,WAEP,IAAIf,EAAeR,EAAcc,EAAgBR,QAAQwB,KAAMxC,GAC/D,IAAIyC,EAAezC,EAAY4B,qBAAuB5B,EAAY4B,uBAAyB5B,EAAY6B,gBACvGZ,EAAkBC,EAAcuB,GAChC,OAAOA,CACR,EACD,CAEA,SAASC,EAAoBxB,EAAcyB,GAC1C,IAAK,IAAIxB,EAAID,EAAaE,OAAS,EAAGD,GAAK,EAAGA,IAAK,CAIlD,IAAIyB,EAAY1B,EAAaC,GAAGE,UAAaH,EAAaC,GAAG7B,SAAW4B,EAAaC,GAAG7B,QACxF,IAAKsD,GAAa1B,EAAaC,GAAG7B,WAAaqD,EAAW,CACzDzB,EAAaI,OAAOH,EAAG,GACvB,KACD,CACD,CACD,CAEA,SAAS0B,EAA0B7C,EAAa8C,UACxCA,EAAiCC,KAAK/C,EAAYV,SACzD,GAAIU,EAAYI,kBAAoB,kBAAmB,CACtD0C,EAAiCE,sBAAwBlD,SAC1D,KAAO,CACN4C,EAAoBhC,EAAcoC,EAAkC9C,GAAcA,EAAYV,QAC/F,CACD,CAEA,SAAS2D,EAAiCjD,EAAa8C,EAAkCtB,EAAiBC,GACzG,IAAIgB,EAAezC,EAAY4B,qBAAuB5B,EAAY4B,uBAAyB5B,EAAY6B,gBACvG,OAAOnD,EAAQwE,OAAO,CACrBvB,WAAYc,EACZ/C,MAAOM,EAAYM,WACnBwB,UAAW9B,EAAY+B,aACvBC,cAAeP,IACbQ,KAAK,WAEPY,EAA0B7C,EAAa8C,EACxC,GAAGb,KAAK,WAEPS,EACChC,EAAcc,EAAgBR,QAAQwB,KAAMxC,GAC5CyC,EAAapB,UAEd,OAAOoB,CACR,EACD,CAEA,SAASU,EAASpE,GACjB,IAAIqE,EAAiB,CAAC,EACtB,UAAYrE,EAAkB,QAAM,SAAU,CAC7CsE,OAAOC,KAAKvE,EAAawE,OAAOC,QAAQ,SAAUC,GACjDL,EAAeK,GAAO,CACrBC,MAAO3E,EAAawE,MAAME,GAC1BE,KAAM,OAER,EACD,CACA,OAAOP,CACR,CAEA,SAASQ,EAAqB5D,GAC7B,OAAOA,GACN,CAAC3B,EAAOe,IAAKf,EAAOwF,MAAOxF,EAAOyF,SAASzE,SAASW,EAAYd,WAClE,CAEA,SAAS6E,EAAyBjB,GACjC,OAAOA,EAAiCjC,SACtCmD,OAAOlB,EAAiC9B,SACxCgD,OAAOlB,EAAiChC,iBACxCkD,OAAOlB,EAAiCE,sBAC3C,CAEA,SAASiB,EAAelF,GAEvB,GAAIA,EAAaW,MAAO,CACvB,OAAOX,EAAaW,KACrB,CAGA,GAAIX,EAAamF,gBAAiB,CACjC,OAAOnG,EAAMoG,IACd,CAEA,IAAIC,EAASxG,EAAcyG,UAAUC,OAAOC,SAASC,QAAQC,IAAI,iBAAmB,GACpFL,EAASA,EAAOM,cAChB,GAAIN,EAAQ,CACX,OAAOA,CACR,CAGA,IAAKrF,EAAa4F,WAAa,UAAW,CACzC,OAAO5G,EAAM6G,QACd,CAEA,IAAIC,EAAwBpG,EAASqG,qBAAqBC,yBAC1D,OAAOF,EAAwB9G,EAAMiH,OAASjH,EAAM6G,QACrD,CAEA,SAASK,EAAelG,GACvB,IAAImG,EAAuB3G,EAAU4G,mBAAmBpG,EAAaS,WAAW4F,aAAarG,EAAasG,gBAC1G,OAAOH,EAAqBnC,KAAKhE,EAAauG,GAC/C,CAEA,SAASC,EAAyBvF,GACjC,GAAIA,aAAuB/B,EAAa,CACvC+B,EAAYwF,qBACb,CACD,CAEA,SAASC,EAAoBC,EAAU3G,GACtC2G,EAASC,wBAAwB5G,EAAa6G,oBAC9CF,EAASG,cAAc9G,EAAa+G,UACpCJ,EAASK,cAAchH,EAAaiH,UACpCN,EAASO,UAAUlH,EAAamH,MAChCR,EAASS,aAAapH,EAAaqH,SAAWV,EAASW,cACvD,OAAOX,CACR,CAEA,SAASY,EAAoBZ,EAAU3G,GACtC2G,EAASa,sBAAsBxH,EAAa6G,oBAC5CF,EAASc,YAAYzH,EAAa+G,UAClCJ,EAASe,YAAY1H,EAAaiH,UAClCN,EAASgB,QAAQ3H,EAAamH,MAC9BR,EAASiB,WAAW5H,EAAaqH,SAAWV,EAASW,cACrD,OAAOX,CACR,CAYA,IAAIkB,EAAmB,CAAC,EAcxBA,EAAiBC,WAAa,SAAU9H,GACvC,IAAI+H,EAAW,CACdC,mBAAoBhI,EAAaiI,kBAGlCjI,EAAaW,MAAQX,EAAaW,OAAS9B,EAAcyG,UAAUC,OAAOC,SAASC,QAAQC,IAAI,iBAAmB1G,EAAMoG,KAExH,IAAI8C,EAAmB1I,EAAU4G,mBAAmBpG,EAAaS,WAAW4F,aAAarG,EAAasG,gBACtG,IAAI6B,EAAc,iBAClB,IAAIC,EAAyBF,EAAiBnG,gBAC9C,IAAIhC,EAAUqI,EAAuBA,EAAuB/F,OAAS,GAErE,IAAKtC,IAAYiB,EAAkBjB,EAASC,GAAe,CAC1D,IAAIqI,EAAmB,CACtB/F,SAAUrD,EAAMqJ,sBAAsBH,GACtCvC,SAAU,SACVxE,WAAY+G,EACZxH,MAAOX,EAAaW,MACpB0G,QAASU,EACTQ,UAAWtJ,EAAMuJ,gBAAgBxI,EAAc,WAC/CS,UAAWT,EAAaS,UACxBgI,SAAU,CACTnC,eAAgBtG,EAAasG,gBAE9BoC,QAAS1I,EAAa0I,SAAW,CAAC,GAEnCL,EAAiBK,QAAQC,UAAYN,EAAiBK,QAAQC,WAAa,oBAAsBR,EACjGE,EAAiBK,QAAQE,cAAgB9J,EAAK+J,mBAAmBC,aAAaC,WAC9EhJ,EAAU,IAAIR,EAAgB8I,GAC9BH,EAAiBnG,gBAAgBiH,KAAKjJ,GACtCmI,EAAiBlE,KAAKjE,EAAQQ,SAAWR,EACzCA,EAAQkJ,cAAc,IAAI5J,EAAW,CACpCuF,KAAMiD,EAAiBqB,cAAcC,YAEvC,KAAO,CACNpJ,EAAQkJ,cAAc,IAAI5J,EAAW,CACpCuF,KAAMiD,EAAiBqB,cAAcE,cACrC/B,QAAS,CACRgC,cAAetJ,EAAQI,WACvBmJ,gBAAiBvJ,EAAQuH,iBAG3BvH,EAAQ6H,WAAWG,EACpB,CACA,OAAOhI,CACR,EASA8H,EAAiB0B,0BAA4B,SAAUvJ,GACtD,IAAIkI,EAAmB1I,EAAU4G,mBAAmBpG,EAAaS,WAAW4F,aAAarG,EAAasG,gBACtG,IAAI8B,EAAyBF,EAAiBnG,gBAC9C,IAAIhC,EAAUqI,EAAuBA,EAAuB/F,OAAS,GACrE,IAAImH,EAAczJ,EAAQ0J,sBAC1B,GAAID,EAAYE,YAAc7B,EAAiBqB,cAAcE,cAAe,CAC3ErJ,EAAQ6H,WAAW4B,EAAYlC,aAAagC,iBAC5CvJ,EAAQwD,SAASiG,EAAYlC,aAAa+B,cAC3C,KAAO,CACNtJ,EAAQwD,SAASxE,EAAOqB,OAAO2E,SAC/BmD,EAAiBnG,gBAAgB4H,KAClC,CACD,EA0BA9B,EAAiB+B,WAAa,SAAS5J,GACtC,IAAKA,EAAc,CAClB,OAAOe,SACR,CAEA,IAAI8I,EAAsB7J,EAAa8J,mBAEvCD,EAAoBlJ,MAAQuE,EAAe2E,GAC3CA,EAAoBzI,WAAayI,EAAoBjF,KACrDiF,EAAoBrF,MAAQJ,EAASyF,GACrC,IAAInG,EAAeY,OAAOyF,OAAO,CAAC,EAAGF,EAAqBlL,EAAMqB,EAAc,uBAC9E,IAAIiB,EAAc7B,EAAkB4K,kBAAkBtG,GAEtD,IAAIwE,EAAmB1I,EAAU4G,mBAAmBpG,EAAaS,WACjE,IAAIwJ,EAAuB/B,EAAiB7B,aAAarG,EAAasG,gBACtE2D,EAAqBnI,SAASkH,KAAK/H,GACnCgJ,EAAqBjG,KAAK/C,EAAYV,SAAWU,EACjD,OAAOA,CACR,EAsBA4G,EAAiBqC,cAAgB,SAAUlK,GAC1C,SAASmK,EAAoBxD,EAAUtB,GACtC,IAAI/D,EAAaqF,EAASpF,aAAe8D,EACzC,IAAI7D,EAAemF,EAASlF,aAC5B,IAAIC,GAAmBF,GAAgBA,IAAiB,OAExD,IAAI4I,EAAoBzD,EAAS0D,aAAaC,KAAK,SAAUvK,GAC5D,OAAOA,EAAQwB,aAAe8D,CAC/B,GACA,OAAOsB,EAAS4D,gBAAkBjJ,GAAcI,IAAoB0I,GAAqBtK,EAA8B6G,EAAU3G,EAClI,CAEA,SAASwK,EAAyB7D,GACjC,OAAOA,EAAS0D,aAAaI,UAAUC,KAAK,SAAU3K,GACrD,OAAOA,EAAQsB,kBAAoB,iBAAmBL,EAAkBjB,EAASC,EAClF,EACD,CAEA,SAAS2K,EAAyB3K,EAAc2G,EAAUiE,EAAgB7K,GACzE,IAAI8K,EAAc,CACjBjG,KAAMgG,EACNE,OAAQ/K,EACRsH,QAAS,CACRgC,cAAe1C,EAASxG,WACxBmJ,gBAAiB3C,EAASW,aAC1ByD,iBAAkBpE,EAASqE,cAC3BC,2BAA4BtE,EAASuE,wBACrCC,iBAAkBxE,EAASyE,cAC3BC,aAAc1E,EAAS2E,UACvBC,eAAgBvL,EAAawL,SAG/B7E,EAAS8E,cAAc,IAAItM,EAAsB0L,GAClD,CAEA,SAASX,EAAclK,EAAc2G,GACpCgE,EAAyB3K,EAAc2G,EAAUkB,EAAiBqB,cAAcE,eAEhF,GAAIpJ,EAAa6G,qBAAuB9F,UAAW,CAClD4F,EAASC,wBAAwB5G,EAAa6G,mBAC/C,CACA,GAAI7G,EAAa+G,WAAahG,UAAW,CACxC4F,EAASG,cAAc9G,EAAa+G,SACrC,CACA,GAAI/G,EAAaiH,SAAU,CAC1BN,EAASK,cAAchH,EAAaiH,SACrC,CACA,GAAIjH,EAAamH,KAAM,CACtBR,EAASO,UAAUlH,EAAamH,KACjC,CACA,GAAInH,EAAa0L,YAAa,CAC7B/E,EAASgF,WAAW3L,EAAa0L,YAClC,CACA/E,EAASS,aAAapH,EAAaqH,SAAWV,EAASW,aACxD,CAEA,SAASsE,EAAa5L,EAAc2G,EAAU5G,GAC7C,IAAI8L,EAAc9L,EAAQ+L,iBAAmB,GAC7C,IAAIC,EAAiBzH,OAAOyF,OAAO,CAAC,EAAGhK,EAAQuH,cAC/C,IAAIuD,EAAc,CACjBvB,gBAAiBhF,OAAOyF,OAAO,CAAC,EAAGgC,GACnC1C,cAAetJ,EAAQI,WACvB2K,OAAQlM,EAAM0F,OAAOyF,OAAO,CAAC,EAAG/J,GAAe,CAAC,WAAY,qBAAsB,WAAY,UAAW,UAE1G6L,EAAY7C,KAAK6B,GACjB9K,EAAQiM,cAAcH,GACtB,GAAI7L,EAAa6G,qBAAuB9F,UAAW,CAClDgL,EAAelF,mBAAqB7G,EAAa6G,kBAClD,CACA,GAAI7G,EAAa+G,WAAahG,UAAW,CACxCgL,EAAehF,SAAW/G,EAAa+G,QACxC,CACA,GAAI/G,EAAaiH,SAAU,CAC1B8E,EAAe9E,SAAWjH,EAAaiH,QACxC,CACA,GAAIjH,EAAaqH,QAAS,CACzB0E,EAAeE,eAAiBjM,EAAaqH,OAC9C,CACA,GAAIrH,EAAamH,KAAM,CACtBpH,EAAQmM,QAAQ,cAAelM,EAAamH,KAC7C,CACApH,EAAQ6H,WAAWmE,GACnB,GAAI/L,EAAa0L,YAAa,CAC7B3L,EAAQ4L,WAAW3L,EAAa0L,YACjC,CACAf,EAAyB3K,EAAc2G,EAAUkB,EAAiBqB,cAAciD,6BAA8BpM,GAC9GN,EAAkB2M,qBAAqBzF,EAAU5G,EAClD,CAEA,SAASsM,EAAarM,EAAc2G,GACnC,SAAS2F,EAAUvM,GAClB,IAAImI,EAAmB1I,EAAU4G,mBAAmBrG,EAAQwM,gBAC5D,IAAIC,EAAkBzM,EAAQ0M,cAAcnG,eAC5C4B,EAAiBsE,GAAiBvK,QAAQ+G,KAAKjJ,GAC/CmI,EAAiBsE,GAAiBxI,KAAKjE,EAAQQ,SAAWR,CAC3D,CAEA,IAAI2M,EAAoB3N,EAAO4N,yBAAyB,CACvDvL,WAAY,gBACZT,MAAO0E,EACPO,SAAU,SACVnF,UAAWT,EAAaS,UACxBmM,YAAa5M,EAAa4M,YAC1BvF,QAAS,CAAC,EACVoB,SAAU,CACTnC,eAAgBtG,EAAasG,eAC7BuG,UAAWlG,EAASmG,kBAItB,CAAC,WAAY,qBAAsB,YAAYrI,QAAQ,SAAUjE,GAChE,GAAIR,EAAaQ,KAAmBO,UAAW,CAC9C2L,EAAkBrF,QAAQ7G,GAAiBR,EAAaQ,EACzD,CACD,GACA,GAAIR,EAAaqH,UAAYtG,UAAW,CACvC2L,EAAkBrF,QAAQ4E,eAAiBjM,EAAaqH,OACzD,CACA,GAAIrH,EAAamH,KAAM,CACtBuF,EAAkBlI,MAAMuI,YAAc,CACrCpI,MAAO3E,EAAamH,KACpBvC,KAAM,OAER,CAEA,IAAI7E,EAAU,IAAIhB,EAAO2N,GACzB,GAAI1M,EAAa0L,YAAa,CAC7B3L,EAAQ4L,WAAW3L,EAAa0L,YACjC,CACAY,EAAUvM,GACV4K,EAAyB3K,EAAc2G,EAAUkB,EAAiBqB,cAAcC,UAAWpJ,GAC3FN,EAAkB2M,qBAAqBzF,EAAU5G,EAClD,CAEA,IAAI4G,EAAWT,EAAelG,GAC9B,IAAIqF,EAASH,EAAelF,GAE5B,GAAImK,EAAoBxD,EAAUtB,GAAS,CAC1C6E,EAAclK,EAAc2G,EAC7B,KAAO,CACN,IAAIqG,EAAmBxC,EAAyB7D,GAChD,GAAIqG,EAAkB,CACrBpB,EAAa5L,EAAc2G,EAAUqG,EACtC,KAAO,CACNX,EAAarM,EAAc2G,EAC5B,CACD,CACA,OAAOA,CACR,EAeAkB,EAAiBoF,sBAAwB,SAASjN,GACjD,IAAI2G,EAAWT,EAAelG,GAC9B,IAAIkN,EAAqBvG,EAASmF,gBAClC,GAAIoB,EAAmB7K,SAAW,EAAG,CAEpC,IAAI8K,EAAkBD,EAAmBE,QAAQ3C,UAAUH,KAAK,SAAUO,GACzE,GAAIA,EAAYvD,aAAaiE,iBAAmB1D,EAAiBwF,iBAAiBC,KAAM,CACvFtN,EAAaqH,QAAUwD,EAAYvD,aAAagC,gBAChDtJ,EAAawL,OAAS3D,EAAiBwF,iBAAiBE,QACxD,OAAO,IACR,CACD,GAEA,IAAKJ,EAAiB,CACrBnN,EAAaqH,QAAU6F,EAAmB,GAAG5F,aAAagC,gBAC1DtJ,EAAawL,OAAS3D,EAAiBwF,iBAAiBE,OACzD,CAEA1F,EAAiBqC,cAAclK,EAChC,CACA,OAAO2G,CACR,EAOAkB,EAAiBwF,iBAAmB,CACnCG,OAAQ,SACRF,KAAM,OACNC,QAAS,UACTE,gBAAiB,mBAUlB5F,EAAiBqB,cAAgB,CAChCwE,YAAa,cACbtE,cAAe,gBACfD,UAAW,YACXwE,uBAAwB,yBACxBxB,6BAA8B,gCAe/BtE,EAAiB+F,cAAgB,SAAU5N,GAC1C,IAAI2G,EAAWT,EAAelG,GAC9B,IAAI6N,EAAgBlH,EAASxG,WAE7B,IAAKH,EAAa8N,OAAQ,CACzB,IAAIjD,EAAc,IAAI1L,EAAsB,CAC3CyF,KAAMiD,EAAiBqB,cAAcwE,YACrCrG,QAAS,CACRgC,cAAewE,KAGjBlH,EAAS8E,cAAcZ,EACxB,CAEA,GAAIgD,IAAkBvO,EAAOe,IAAK,CACjC,IAAI6H,EAAmB1I,EAAU4G,mBAAmBpG,EAAaS,WACjE,IAAIsD,EAAmCmE,EAAiB7B,aAAarG,EAAasG,gBAClFxC,EAA0B6C,EAAU5C,GACpC,OAAO4C,CACR,CAEAA,EAASoH,kBACT,OAAOpH,CACR,EAWAkB,EAAiBiG,OAAS,SAAU9N,GACnC,SAASgO,EAAajO,GACrB,IAAIyM,EAAkBzM,EAAQ0M,cAAcnG,eAC5C,IAAI4B,EAAmB1I,EAAU4G,mBAAmBrG,EAAQwM,uBACrDrE,EAAiBsE,GAAiBxI,KAAKjE,EAAQQ,SACtD2H,EAAiBsE,GAAiBvK,QAAUiG,EAAiBsE,GAAiBvK,QAAQgM,OAAO,SAAUC,GACtG,OAAOA,IAAiBnO,CACzB,EACD,CAEA,IAAI4G,EAAWT,EAAelG,GAE9B,IAAImO,EAAqBxH,EAASmF,gBAAgBnC,MAClDhD,EAASyH,iBAAiBD,GAC1B,IAAIE,EAAqBF,EAAmB7G,aAC5C,IAAIvH,EAEJ,OAAQoO,EAAmBzE,WAC1B,KAAK7B,EAAiBqB,cAAcE,cACnC1C,EACCC,EACArC,OAAOyF,OAAO,CACb5C,KAAMkH,EAAmBhD,aACzBhE,QAASgH,EAAmB/E,gBAC5BvC,SAAUsH,EAAmBtD,iBAC7BlE,mBAAoBwH,EAAmBpD,2BACvChE,SAAUoH,EAAmBlD,kBAE9BvM,EAAMoB,EAAc,CAAC,YAAa,iBAAkB,SAErD,MACD,KAAK6H,EAAiBqB,cAAcC,UACnCpJ,EAAUoO,EAAmBG,YAC7B3H,EAASqH,aAAajO,GACtBiO,EAAajO,GACbwH,EACCZ,EACArC,OAAOyF,OACN,CACC5C,KAAMkH,EAAmBhD,aACzBhE,QAASgH,EAAmB/E,gBAC5BvC,SAAUsH,EAAmBtD,iBAC7BlE,mBAAoBwH,EAAmBpD,2BACvChE,SAAUoH,EAAmBlD,kBAE9BvM,EAAMoB,EAAc,CAAC,YAAa,iBAAkB,SAEtD,MACD,KAAK6H,EAAiBqB,cAAciD,6BACnCpM,EAAUoO,EAAmBG,YAC7B/G,EACCZ,EACArC,OAAOyF,OACN,CACC5C,KAAMkH,EAAmBhD,aACzBhE,QAASgH,EAAmB/E,gBAC5BvC,SAAUsH,EAAmBtD,iBAC7BlE,mBAAoBwH,EAAmBpD,2BACvChE,SAAUoH,EAAmBlD,kBAE9BvM,EAAMoB,EAAc,CAAC,YAAa,iBAAkB,SAEtD,IAAIuO,EAAoBxO,EAAQ+L,gBAAgBnC,MAChD5J,EAAQ6H,WAAW2G,EAAkBjF,iBACrCvJ,EAAQwD,SAASgL,EAAkBlF,eACnC,MACD,KAAKxB,EAAiBqB,cAAcwE,YACpC,QACC,MAGF/G,EAASpD,SAAS8K,EAAmBhF,eACrC,OAAO1C,CACR,EAUAkB,EAAiB2G,wBAA0B,SAASxO,GACnD,IAAIkI,EAAmB1I,EAAU4G,mBAAmBpG,EAAaS,WAAWT,EAAasG,gBACzF,IAAImI,EAAmBvG,EAAiBlE,KAAKkE,EAAiBwG,gBAAgB5B,gBAE9E2B,EAAiBjH,wBAAwBxH,EAAa6G,oBACtD,IAAI8H,EAAWF,EAAiBpE,aAChCoE,EAAiBG,mBACjBD,EAASlK,QAAQ,SAAU1E,GAC1BN,EAAkB2M,qBAAqBqC,EAAkB1O,EAC1D,EACD,EAYA8H,EAAiBgH,QAAU,SAAS7O,GACnC,SAAS8O,EAAyB7N,EAAawB,EAAiBC,GAE/D,OAAO/C,EAAQoP,MAAM,CACpBC,YAAa,CAAC/N,EAAY4B,qBAAuB5B,EAAY4B,uBAAyB5B,EAAY6B,iBAClGnC,MAAOM,EAAYM,WACnBwB,UAAW9B,EAAY+B,aACvBiM,gBAAiBhO,EAAYY,YAC7BoB,cAAeP,IACbQ,KAAK,SAAUC,GAEjB,GAAIA,GAAUA,EAAOC,UAAYD,EAAOC,SAAS,GAAI,CACpDnC,EAAYoC,YAAYF,EAAOC,SAAS,IACxC,GAAIV,EAAgB,CACnB9C,EAAS0D,kBAAkB,CAC1B7C,UAAW0C,EAAOC,SAAS,GAAG3C,UAC9BE,MAAOwC,EAAOC,SAAS,GAAGzC,OAE5B,CACD,KAAO,CACNM,EAAYsC,SAASjE,EAAOkE,UAC7B,CACD,GAAGN,KAAK,WAEP,IAAIQ,EAAezC,EAAY4B,qBAAuB5B,EAAY4B,uBAAyB5B,EAAY6B,gBACvGnB,EAAcc,EAAgBR,QAAQwB,KAAMxC,GAAa+H,KAAKtF,GAC9D,OAAOA,CACR,EACD,CAEA,SAASwL,EAAWjO,EAAa8C,EAAkCtB,EAAiBC,GACnF,OAAQzB,EAAYd,YACnB,KAAKb,EAAOe,IACXmG,EAAyBvF,GACzB,OAAO6N,EAAyB7N,EAAawB,EAAiBC,GAC/D,KAAKpD,EAAOwF,MACX0B,EAAyBvF,GACzB,OAAOuB,EAAuBvB,EAAawB,EAAiBC,GAC7D,KAAKpD,EAAOyF,QACXyB,EAAyBvF,GACzB,OAAOiD,EAAiCjD,EAAa8C,EAAkCtB,EAAiBC,GACzG,QACC,MAEH,CAEA,IAAIyM,EAAanP,EAAaS,UAC9B,IAAI+L,EAAkBxM,EAAasG,eACnC,IAAI4B,EAAmB1I,EAAU4G,mBAAmB+I,GACpD,IAAIpL,EAAmCmE,EAAiB7B,aAAamG,GAErE,OAAOhN,EAAU4P,mBAAmBD,GAClCjM,KAAK,SAAST,GACd,IAAI4M,EAAerK,EAAyBjB,GAAkCkK,OAAOpJ,GACrF,IAAIyK,EAAYD,EAAaE,IAAI,SAAStO,EAAauO,GACtD,GAAIA,IAAU,EAAG,CAChB,IAAI9M,EAAiBxC,EAA6B,oBAAqB,CACtES,MAAOM,EAAYM,WACnBd,UAAWQ,EAAYE,sBACtBF,EAAYE,wBAAwBV,UACpCQ,EAAY6B,gBAAgBrC,YAI9B,OAAOyO,EAAWjO,EAAa8C,EAAkCtB,EAAiBC,GACjFQ,KAAK,WACL,IAAIoM,EAAYD,EAAaE,IAAI,SAAStO,EAAauO,GACtD,GAAIA,IAAU,EAAG,CAChB,IAAIC,EAAgB/M,EAAiB7C,EAAQ6P,OAAOC,MAAQ5O,UAC5D,OAAOmO,EAAWjO,EAAa8C,EAAkCtB,EAAiBgN,EACnF,CACD,GACA,OAAOH,CACR,EACD,CACD,GAEA,OAAOM,QAAQC,IAAIP,EACpB,EACF,EASAzH,EAAiBiI,WAAa,SAASX,GACtC,IAAIY,EAAgBpR,EAAMa,EAAU4G,mBAAmB+I,GAAa,eAAgB,eACnF,IAAIG,EAAYhL,OAAOC,KAAKwL,GAAeR,IAAI,SAAS/C,GACxD,OAAO3E,EAAiBgH,QAAQ,CAC/BpO,UAAW0O,EACX7I,eAAgBkG,GAElB,GACA,OAAOoD,QAAQC,IAAIP,EACpB,EAQAzH,EAAiBmI,gBAAkB,SAAUb,GAC5C,IAAIY,EAAgBvQ,EAAU4G,mBAAmB+I,GACjD,IAAIc,EAAY,GAChB,IAAK,IAAIzD,KAAmBuD,EAAe,CAC1C,IAAIG,EAAgCH,EAAcvD,GAClD,IAAK,IAAI2D,KAAOD,EAA8BlM,KAAM,CACnDiM,EAAUjH,KAAKkH,EAA8BlM,KAAKmM,GACnD,CACD,CACA,OAAOF,EAAU3F,KAAK,SAASrJ,GAC9B,OAAOA,EAAYd,aAAeb,EAAOkE,aAAevC,EAAY6L,cAAgB7L,EAAY6L,iBAAmB,aACpH,EACD,EAEA,OAAOjF,CACR"}