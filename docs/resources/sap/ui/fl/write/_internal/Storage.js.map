{"version":3,"file":"Storage.js","names":["sap","ui","define","StorageUtils","StorageFeaturesMerger","States","ObjectPath","WRITE_CONNECTOR_NAME_SPACE","_getWriteConnectors","getConnectors","findConnectorConfigForLayer","sLayer","aConnectors","aFilteredConnectors","filter","oConnector","layers","indexOf","length","Error","_sendLoadFeaturesToConnector","aConnectorPromises","map","oConnectorConfig","writeConnectorModule","loadFeatures","url","then","oFeatures","features","catch","logAndResolveDefault","bind","Promise","all","_getConnectorConfigByLayer","reject","this","_validateDraftScenario","mPropertyBag","draft","resolve","require","FeaturesAPI","isVersioningEnabled","layer","bDraftEnabled","findChangeCreateIndex","oCurrentChange","aCondensedChanges","aNewChanges","oInnerChange","getState","NEW","getFileType","iChangeCreateIndex","findIndex","oNewChange","getId","prepareCondensingForConnector","mCondense","allChanges","condensedChanges","namespace","convertToFileContent","iOffset","bAlreadyReordered","forEach","oChange","index","sFileType","condenserState","bDifferentOrder","PERSISTED","delete","push","aReorderedChanges","slice","reorder","create","update","iChangeUpdateIndex","content","getContent","_executeActionByName","sActionName","undefined","get","call","Storage","write","condense","flexObjects","remove","reset","getFlexInfo","getContexts","loadContextDescriptions","isContextSharingEnabled","mergeResults","publish","contextBasedAdaptation","versions","load","activate","discardDraft","translation","getSourceLanguages","getTexts","postTranslationTexts"],"sources":["Storage-dbg.js"],"mappings":"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"}