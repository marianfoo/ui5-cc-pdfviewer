/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/ui/thirdparty/jquery","./PositionContainer","sap/ui/commons/library","sap/ui/core/Control","./AbsoluteLayoutRenderer","sap/ui/core/library"],function(jQuery,t,e,o,i,n){"use strict";var r=n.Scrolling;var s=o.extend("sap.ui.commons.layout.AbsoluteLayout",{metadata:{deprecated:true,library:"sap.ui.commons",properties:{width:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:"100%"},height:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:"100%"},verticalScrolling:{type:"sap.ui.core.Scrolling",group:"Behavior",defaultValue:r.Hidden},horizontalScrolling:{type:"sap.ui.core.Scrolling",group:"Behavior",defaultValue:r.Hidden}},defaultAggregation:"positions",aggregations:{positions:{type:"sap.ui.commons.layout.PositionContainer",multiple:true,singularName:"position"}}}});s.prototype.setWidth=function(t){return p(this,"width",t,"LYT_SIZE")};s.prototype.setHeight=function(t){return p(this,"height",t,"LYT_SIZE")};s.prototype.setVerticalScrolling=function(t){return p(this,"verticalScrolling",t,"LYT_SCROLL")};s.prototype.setHorizontalScrolling=function(t){return p(this,"horizontalScrolling",t,"LYT_SCROLL")};s.prototype.insertPosition=function(t,e){var o=!!this.getDomRef();this.insertAggregation("positions",t,e,o);if(o&&t&&t.getControl()){this.contentChanged(t,"CTRL_ADD")}return this};s.prototype.addPosition=function(t){var e=!!this.getDomRef();this.addAggregation("positions",t,e);if(e&&t&&t.getControl()){this.contentChanged(t,"CTRL_ADD")}return this};s.prototype.removePosition=function(t){var e=!!this.getDomRef();var o=this.removeAggregation("positions",t,e);if(o){u([o]);this.contentChanged(o,"CTRL_REMOVE")}return o};s.prototype.removeAllPositions=function(){u(this.getPositions());var t=!!this.getDomRef();var e=this.removeAllAggregation("positions",t);if(t){this.contentChanged(e,"CTRL_REMOVE_ALL")}return e};s.prototype.destroyPositions=function(){u(this.getPositions());var t=!!this.getDomRef();this.destroyAggregation("positions",t);if(t){this.contentChanged(null,"CTRL_REMOVE_ALL")}return this};s.prototype.getContent=function(){var t=[];var e=this.getPositions();for(var o=0;o<e.length;o++){t.push(e[o].getControl())}return t};s.prototype.addContent=function(e,o){var i=t.createPosition(e,o);this.addPosition(i);return this};s.prototype.insertContent=function(e,o,i){var n=t.createPosition(e,i);this.insertPosition(n,o);return this};s.prototype.removeContent=function(t){var e=t;if(typeof t=="string"){t=sap.ui.getCore().byId(t)}if(typeof t=="object"){e=this.indexOfContent(t)}if(e>=0&&e<this.getContent().length){this.removePosition(e);return t}return null};s.prototype.removeAllContent=function(){var t=this.getContent();this.removeAllPositions();return t};s.prototype.indexOfContent=function(t){var e=this.getContent();for(var o=0;o<e.length;o++){if(t===e[o]){return o}}return-1};s.prototype.destroyContent=function(){this.destroyPositions();return this};s.prototype.setPositionOfChild=function(t,e){var o=this.indexOfContent(t);if(o>=0){var i=this.getPositions()[o];i.updatePosition(e);return true}return false};s.prototype.getPositionOfChild=function(t){var e=this.indexOfContent(t);if(e>=0){var o=this.getPositions()[e];return o.getComputedPosition()}return{}};s.prototype.exit=function(){u(this.getPositions())};s.prototype.doBeforeRendering=function(){var t=this.getPositions();if(!t||t.length==0){return}for(var e=0;e<t.length;e++){var o=t[e];o.reinitializeEventHandlers(true);l(o,true)}};s.prototype.onAfterRendering=function(){var t=this.getPositions();if(!t||t.length==0){return}for(var e=0;e<t.length;e++){t[e].reinitializeEventHandlers()}};s.cleanUpControl=function(t){if(t&&t[a]){t.removeDelegate(t[a]);t[a]=undefined}};s.prototype.contentChanged=function(t,e){switch(e){case"CTRL_POS":i.updatePositionStyles(t);l(t);t.reinitializeEventHandlers();break;case"CTRL_CHANGE":l(t,true);i.updatePositionedControl(t);t.reinitializeEventHandlers();break;case"CTRL_REMOVE":i.removePosition(t);t.reinitializeEventHandlers(true);break;case"CTRL_REMOVE_ALL":i.removeAllPositions(this);var o=t;if(o){for(var n=0;n<o.length;n++){o[n].reinitializeEventHandlers(true)}}break;case"CTRL_ADD":l(t,true);i.insertPosition(this,t);t.reinitializeEventHandlers();break;case"LYT_SCROLL":i.updateLayoutScolling(this);break;case"LYT_SIZE":i.updateLayoutSize(this);break}};var a="__absolutelayout__delegator";var u=function(t){for(var e=0;e<t.length;e++){var o=t[e];var i=o.getControl();if(i){s.cleanUpControl(i)}}};var l=function(t,e){var o=t.getControl();if(o){s.cleanUpControl(o);if(!e){g(o)}var i=function(t){return{onAfterRendering:function(){g(t)}}}(o);o[a]=i;o.addDelegate(i,true)}};var g=function(t){var e=false;if(t.getParent()&&t.getParent().getComputedPosition){var o=t.getParent().getComputedPosition();if(o.top&&o.bottom||o.height){jQuery(t.getDomRef()).css("height","100%");e=true}if(o.left&&o.right||o.width){jQuery(t.getDomRef()).css("width","100%");e=true}if(e){i.updatePositionStyles(t.getParent())}}return e};var p=function(t,e,o,i){var n=!!t.getDomRef();t.setProperty(e,o,n);if(n){t.contentChanged(null,i)}return t};t.cleanUpControl=s.cleanUpControl;return s});
//# sourceMappingURL=AbsoluteLayout.js.map