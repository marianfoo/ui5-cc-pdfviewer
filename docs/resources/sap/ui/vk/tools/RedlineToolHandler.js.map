{"version":3,"file":"RedlineToolHandler.js","names":["sap","ui","define","EventProvider","core","RedlineToolHandler","extend","metadata","library","constructor","tool","this","_priority","_tool","_rect","_zoomFactor","prototype","destroy","init","_previousHoverTarget","beginGesture","event","gizmo","getGizmo","_inside","_textEditingElement","handled","hit","hitTest","x","y","domRef","getDomRef","childNodes","blur","passEvent","_gesture","_activeElement","buttons","getAggregation","boundingClientRect","getBoundingClientRect","pos","_toVirtualSpace","left","window","pageXOffset","top","pageYOffset","setOriginX","setOriginY","rerender","_pivotPoint","move","edit","shiftKey","endGesture","_stopAdding","pan","deltaX","deltaY","getRedlineElements","forEach","element","getOriginX","getOriginY","zoom","zoomDelta","scaleChange","pivotPoint","undefined","applyZoom","originX","originY","toleranceX","toleranceY","htmlElement","document","elementFromPoint","byId","id","parentNode","vk","RedlineElement","y2","x2","click","fireElementClicked","elementId","getElementId","doubleClick","getEditable","RedlineElementText","editTextElement","hover","fireElementHovered","contextMenu","getViewport","_viewport","_getOffset","obj","rectangle","p","getIdForLabel","domobj","getElementById","o","w","offsetWidth","h","offsetHeight"],"sources":["RedlineToolHandler-dbg.js"],"mappings":"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"}