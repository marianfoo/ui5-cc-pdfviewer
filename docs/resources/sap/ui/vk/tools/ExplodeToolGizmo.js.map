{"version":3,"file":"ExplodeToolGizmo.js","names":["sap","ui","define","getResourceBundle","threejs","Gizmo","AxisColours","ExplodeAxis","ExplodeDirection","ExplodeType","AnimationTrackType","assert","Log","core","ExplodeToolGizmo","extend","metadata","library","GIZMO_SIZE","TOUCH_RADIUS","HANDLES","PositiveX","PositiveY","PositiveZ","NegativeX","NegativeY","NegativeZ","ResetAdjustment","AdjustUp","AdjustDown","MoveUp","MoveDown","prototype","init","apply","this","_createEditingForm","getText","_moveDelta","THREE","Vector3","_anchorPosition","_axisDirection","_axisColor","_magnitude","_viewport","_tool","_groups","_nodes","_groupsMap","Map","_sceneGizmo","Scene","ambientLight","AmbientLight","layers","enableAll","add","directionalLight","DirectionalLight","position","set","_gizmo","Group","_touchAreas","_touchAreas2","_matViewProj","Matrix4","touchMaterial","MeshLambertMaterial","color","transparent","opacity","createGizmoArrow","arrowLength","dir","touchAreas","lineRadius","coneRadius","coneHeight","material","lineGeometry","CylinderBufferGeometry","d1","y","z","x","d2","m","makeBasis","setPosition","clone","multiplyScalar","applyMatrix4","line","Mesh","matrixAutoUpdate","userData","coneGeometry","cone","touchGeometry","CylinderGeometry","parameters","height","touchGeometry2","merge","_axisTitles","_createAxisTitles","undefined","d","_groupGizmo","sphere","IcosahedronBufferGeometry","dconeHeight","doubleCone","BufferGeometry","fromGeometry","rotateX","Math","PI","MeshBasicMaterial","side","BackSide","addTouchCylinder","a","b","IcosahedronGeometry","enableAllLayer","obj","traverse","child","updateLayers","children","forEach","index","node","enable","min","hasDomElement","show","viewport","tool","length","_handleGroupsChanged","hide","_cleanTempData","_updateEditingForm","getGizmoCount","_getActiveAxisIndex","_getSelectedItem","getTouchObject","i","_updateGizmoObjectTransformation","_updateGroupGizmoTransformation","event","_setMagnitude","groupsMap","clear","getItems","slice","nodes","group","items","getNodeRef","boundingBox","Box3","_expandBoundingBox","push","center","getCenter","local","setFromMatrixPosition","matrix","origin","matrixWorld","matParentInv","parent","getInverse","_calculateGroupOffsets","getMagnitude","byId","getSelectedItem","_handleSelectedItemChanged","vsm","_viewStateManager","outlined","Set","selectedItem","item","unoutlined","enumerateOutlinedNodes","has","setOutliningStates","Array","from","highlightHandle","hoverMode","_handleIndex","arrow","highlight","setHex","bind","axisDirection","getType","Linear","abs","size","totalLength","bbox","getBoundingBox","_center","getSize","dot","_offset","_deltaOffset","offsetScale","delta","maxSize","maxNodeCenter","manhattanLength","axis","getAxis","direction","getDirection","X","Y","Z","indexOf","Negative","_recalculateOffsets","setShouldRenderFrame","_updateAxis","setFromMatrixColumn","normalize","_moveSelectedGroup","removeItem","insertItem","fireItemSequenceChangePressed","moveUp","_setMagnitudeAdjustmentMultiplier","value","finalValue","setMagnitudeAdjustmentMultiplier","_updatePositions","magnitudeAdjustmentMultiplier","getMagnitudeAdjustmentMultiplier","_beginGesture","setScalar","_beginMagnitude","_magnitudeAdjustmentMultiplier","setAxis","setDirection","Positive","fireAxisSelected","magnitude","_setOffset","offset","setMagnitude","fireMagnitudeChanging","type","linear","nodeInfo","copy","sub","multiplyMatrices","updateMatrixWorld","_getEffectiveParent","_setJointNodeOffsets","Translate","_endGesture","fireMagnitudeChanged","fireItemPositionAdjusted","expandBoundingBox","getCamera","getCameraRef","fromArray","getAnchor","decompose","quaternion","scale","_getGizmoScale","axisIndex","visible","setFromUnitVectors","updateMatrix","_updateGizmoTransformation","camera","_getCameraLayersMask","mask","render","getMetadata","getName","renderer","getRenderer","projectionMatrix","matrixWorldInverse","clearDepth","_updateAxisTitles"],"sources":["ExplodeToolGizmo-dbg.js"],"mappings":"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"}