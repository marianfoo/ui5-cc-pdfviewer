{"version":3,"file":"ExplodeToolHandler.js","names":["sap","ui","define","EventProvider","ExplodeToolGizmo","threejs","ExplodeToolHandler","extend","metadata","library","constructor","tool","this","_priority","_tool","_gizmo","getGizmo","_rect","_rayCaster","THREE","Raycaster","_handleIndex","_handleAxis","Vector3","_gizmoOrigin","_mouse","Vector2","prototype","_updateMouse","event","size","getViewport","getRenderer","getSize","x","width","y","height","setFromCamera","getCamera","getCameraRef","far","Infinity","_updateHandles","hoverMode","prevHandleIndex","n","type","layers","mask","_getCameraLayersMask","i","l","getGizmoCount","touchObj","getTouchObject","intersects","intersectObject","length","children","indexOf","object","distance","setFromMatrixPosition","matrixWorld","setFromMatrixColumn","normalize","multiplyScalar","copy","_axisDirection","highlightHandle","setShouldRenderFrame","hover","_inside","_gesture","handled","click","hit","hitTest","setSelectedItem","node","groupsMap","_groupsMap","group","get","parent","delta","_getAxisOffset","ray","dir","clone","cross","direction","origin","sub","dot","_getPlaneOffset","dist","beginGesture","_beginGesture","_dragOrigin","move","offset","isFinite","_setOffset","endGesture","_endGesture","undefined","contextMenu","_viewport","_getOffset","obj","rectangle","getBoundingClientRect","p","left","window","pageXOffset","top","pageYOffset","id","getIdForLabel","domobj","document","getElementById","o","w","offsetWidth","h","offsetHeight"],"sources":["ExplodeToolHandler-dbg.js"],"mappings":"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"}