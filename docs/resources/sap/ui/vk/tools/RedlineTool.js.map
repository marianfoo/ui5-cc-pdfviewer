{"version":3,"file":"RedlineTool.js","names":["sap","ui","define","Log","vkLibrary","Tool","RedlineToolHandler","RedlineToolGizmo","Redline","RedlineElementRectangle","RedlineElementEllipse","RedlineElementFreehand","RedlineElementLine","RedlineElementText","RedlineTool","extend","metadata","library","properties","editable","type","defaultValue","events","elementCreated","parameters","element","elementClicked","elementId","elementHovered","aggregations","redlineElements","multiple","forwarding","getter","aggregation","forwardBinding","constructor","sId","mSettings","_instance","apply","this","arguments","_viewport","_handler","prototype","init","call","setFootprint","setAggregation","exit","setActive","value","activeViewport","gizmoContainer","viewport","_activateRedline","threejs","Viewport","_viewportGestureHandler","_redlineHandler","_zoomFactor","_gizmo","getGizmo","show","_addLocoHandler","_removeLocoHandler","hide","_deactivateRedline","JsonElementClasses","rectangle","ellipse","freehand","line","text","SvgElementClasses","rect","path","startAdding","elementInstance","_startAdding","stopAdding","_stopAdding","exportJSON","getRedlineElements","map","importJSON","jsonElements","gizmo","Array","isArray","forEach","json","ElementClass","addRedlineElement","warning","rerender","exportSVG","svgDoc","document","createElementNS","svgNamespace","appendChild","importSVG","svg","childNodes","typeElement","getAttribute","tagName","queueCommand","command","isViewportType","onElementClicked","event","fireElementClicked","getParameter"],"sources":["RedlineTool-dbg.js"],"mappings":"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"}