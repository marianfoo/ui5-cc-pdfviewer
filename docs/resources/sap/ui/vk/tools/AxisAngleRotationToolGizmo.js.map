{"version":3,"file":"AxisAngleRotationToolGizmo.js","names":["sap","ui","define","Log","threejs","Gizmo","AxisAngleRotationToolGizmoRenderer","AxisColours","AnimationTrackType","assert","AxisAngleRotationToolGizmo","extend","metadata","library","axisColors","y","z","math2PI","Math","PI","mathHalfPI","fontSize","degToRad","THREE","radToDeg","prototype","init","apply","this","_createEditingForm","String","fromCharCode","_gizmoIndex","_handleIndex","_value","Vector3","_rotationDelta","_viewport","_tool","_sceneGizmo","Scene","light","DirectionalLight","position","set","add","AmbientLight","_gizmo","Group","_touchAreas","_nodes","_matViewProj","Matrix4","_gizmoSize","createTouchCircle","axis","radius","segments","geometry","TorusBufferGeometry","rotateY","rotateX","rotateZ","Mesh","MeshBasicMaterial","opacity","transparent","i","sphere","IcosahedronBufferGeometry","setComponent","_createGizmoObject","gizmo","userData","createGizmoCircle","color","circle","matrixAutoUpdate","createGizmoArrow","dir","arrowLength","lineRadius","coneHeight","coneRadius","multiplyScalar","material","MeshLambertMaterial","lineGeometry","CylinderBufferGeometry","m","makeBasis","x","setPosition","clone","applyMatrix4","line","coneGeometry","cone","axisArrow","BufferGeometry","setAttribute","Float32BufferAttribute","Float32Array","arrowProjection","Line","LineDashedMaterial","scale","dashSize","gapSize","computeLineDistances","AxesHelper","arcMeshes","arcMesh","Geometry","vertexColors","VertexColors","side","DoubleSide","depthWrite","visible","push","valueLabels","valueMesh","_createTextMesh","renderOrder","depthTest","axisTitles","_createAxisTitles","setScalar","titleDistance","children","hasDomElement","resetValues","show","viewport","tool","handleSelectionChanged","fireEvent","nodesProperties","_getNodesProperties","hide","_cleanTempData","_updateEditingForm","getGizmoCount","length","getTouchObject","copyObjectTransformation","_updateGizmoObjectTransformation","highlightHandle","index","gizmoIndex","hoverMode","gi","gc","arrow","setHex","axisTitle","_snapToAxis","dy","dz","beginGesture","_rotate","Euler","endGesture","selectHandle","_updateEditValue","setShouldRenderFrame","dest","src","quaternion","copy","updateMatrix","updateMatrixWorld","axisToAzimuth","atan2","axisToElevation","sqrt","azimuthElevationToAxis","azimuth","elevation","sa","sin","ca","cos","se","ce","updateArcMesh","axisIndex","angle1","angle2","c","Color","vertices","colors","r","g","b","i1","i2","deltaAngle","n","min","max","ceil","abs","mr","lerp","f","a","cf","indices","geom","setIndex","_updateGizmoObject","angle","euler","circleZ","setFromEuler","circleX","setFromMatrixColumn","matrix","projectionLength","updateValueLabel","forEach","nodeInfo","beginAngle","beginAzimuth","beginElevation","getValues","fireRotated","drawText","canvas","text","pixelRatio","window","devicePixelRatio","w","width","h","height","hw","hh","ctx","getContext","font","textMetrics","measureText","dx","clearRect","beginPath","arc","lineTo","closePath","globalAlpha","fillStyle","fill","lineWidth","strokeStyle","stroke","textAlign","Device","browser","chrome","firefox","textBaseline","fillText","actualBoundingBoxDescent","value","toLocaleString","useGrouping","minimumFractionDigits","maximumFractionDigits","texture","map","image","needsUpdate","_axis","_quaternion","Quaternion","_updateNodeRotation","fromArray","setFromAxisAngle","node","multiplyQuaternions","skipUpdateJointNode","_viewStateManager","_setJointNodeOffsets","Rotate","clamp","_setRotationAxisAngle","rotate","_getValueLocaleOptions","getValue","getComponent","setValue","rotateBy","setAxis","Array","isArray","values","_getNodeInfoByNode","nodes","l","setValues","premultiply","expandBoundingBox","boundingBox","_expandBoundingBox","getCamera","getCameraRef","_updateSelection","viewStateManager","call","getEnableSnapping","getDetector","setSource","event","count","remove","_getObjectSize","objectIndex","Box3","isEmpty","size","getSize","obj","parent","_getEffectiveParent","setFromMatrixPosition","matrixWorld","setFromRotationMatrix","_getGizmoScale","_getValuePosition","out","vi","applyEuler","_pos","_updateGizmoTransformation","camera","child","inverse","multiply","_getEditingFormPosition","render","getMetadata","getName","renderer","getRenderer","multiplyMatrices","projectionMatrix","matrixWorldInverse","clearDepth","_getOffsetForRestTransformation"],"sources":["AxisAngleRotationToolGizmo-dbg.js"],"mappings":";;;;;;AAQAA,IAAIC,GAAGC,OAAO,CACb,eACA,sBACA,UACA,uCACA,gBACA,wBACA,mBACE,SACFC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,GAEA,aAoBA,IAAIC,EAA6BL,EAAMM,OAAO,6CAAiH,CAC9JC,SAAU,CACTC,QAAS,eAIX,IAAIC,EAAa,CAAC,SAAUP,EAAYQ,EAAGR,EAAYS,GACvD,IAAIC,EAAUC,KAAKC,GAAK,EACvBC,EAAaF,KAAKC,GAAK,EACvBE,EAAW,GACZ,IAAIC,EAAWC,MAAML,KAAKI,SACzBE,EAAWD,MAAML,KAAKM,SAEvBd,EAA2Be,UAAUC,KAAO,WAC3C,GAAIrB,EAAMoB,UAAUC,KAAM,CACzBrB,EAAMoB,UAAUC,KAAKC,MAAMC,KAC5B,CAEAA,KAAKC,mBAAmBC,OAAOC,aAAa,KAAM,IAClDH,KAAKI,aAAe,EACpBJ,KAAKK,cAAgB,EACrBL,KAAKM,OAAS,IAAIX,MAAMY,QACxBP,KAAKQ,eAAiB,IAAIb,MAAMY,QAEhCP,KAAKS,UAAY,KACjBT,KAAKU,MAAQ,KACbV,KAAKW,YAAc,IAAIhB,MAAMiB,MAC7B,IAAIC,EAAQ,IAAIlB,MAAMmB,iBAAiB,SAAU,IACjDD,EAAME,SAASC,IAAI,EAAG,EAAG,GACzBhB,KAAKW,YAAYM,IAAIJ,GACrBb,KAAKW,YAAYM,IAAI,IAAItB,MAAMuB,aAAa,SAAU,KACtDlB,KAAKmB,OAAS,IAAIxB,MAAMyB,MACxBpB,KAAKW,YAAYM,IAAIjB,KAAKmB,QAC1BnB,KAAKqB,YAAc,IAAI1B,MAAMyB,MAE7BpB,KAAKsB,OAAS,GACdtB,KAAKuB,aAAe,IAAI5B,MAAM6B,QAC9BxB,KAAKyB,WAAa,GAElB,SAASC,EAAkBC,EAAMC,EAAQC,GACxC,IAAIC,EAAW,IAAInC,MAAMoC,oBAAoBH,EAAQ,GAAK,GAAI,EAAGC,EAAUF,IAAS,EAAIrC,KAAKC,GAAKF,GAClG,GAAIsC,IAAS,EAAG,CACfG,EAASE,QAAQxC,EAClB,MAAO,GAAImC,IAAS,EAAG,CACtBG,EAASG,QAAQzC,EAClB,KAAO,CACNsC,EAASI,SAAS1C,EACnB,CACA,OAAO,IAAIG,MAAMwC,KAAKL,EAAU,IAAInC,MAAMyC,kBAAkB,CAAEC,QAAS,GAAKC,YAAa,OAC1F,CAEA,IAAIC,EAEJ,IAAKA,EAAI,EAAGA,EAAI,EAAGA,IAAK,CACvBvC,KAAKqB,YAAYJ,IAAIS,EAAkBa,EAAG,EAAG,IAC9C,CAEA,IAAKA,EAAI,EAAGA,EAAI,EAAGA,IAAK,CACvB,IAAIC,EAAS,IAAI7C,MAAMwC,KAAK,IAAIxC,MAAM8C,0BAA0B,IAAM,GAAI,IAAI9C,MAAMyC,kBAAkB,CAAEC,QAAS,GAAKC,YAAa,QACnIE,EAAOzB,SAAS2B,aAAaH,EAAG,KAChCvC,KAAKqB,YAAYJ,IAAIuB,EACtB,CACD,EAEA1D,EAA2Be,UAAU8C,mBAAqB,WACzD,IAAIC,EAAQ,IAAIjD,MAAMyB,MACtB,IAAIyB,EAAWD,EAAMC,SAErB,SAASC,EAAkBnB,EAAMoB,EAAOnB,EAAQC,GAC/C,IAAIC,EAAW,IAAInC,MAAMoC,oBAAoBH,EAAQ,EAAI,GAAI,EAAGC,EAAUF,IAAS,EAAIrC,KAAKC,GAAKF,GACjG,GAAIsC,IAAS,EAAG,CACfG,EAASE,QAAQxC,EAClB,MAAO,GAAImC,IAAS,EAAG,CACtBG,EAASG,QAAQzC,EAClB,KAAO,CACNsC,EAASI,SAAS1C,EACnB,CACA,IAAIwD,EAAS,IAAIrD,MAAMwC,KAAKL,EAAU,IAAInC,MAAMyC,kBAAkB,CAAEW,MAAOA,EAAOT,YAAa,QAC/FU,EAAOC,iBAAmB,MAC1BD,EAAOH,SAASE,MAAQA,EAExB,OAAOC,CACR,CAEA,SAASE,EAAiBC,EAAKJ,GAC9B,IAAIK,EAAc,GAAK,EACtBC,EAAa,EACbC,EAAa,GAAK,EAClBC,EAAa,EAAI,EAClBJ,EAAIK,eAAe,EAAIJ,GACvB,IAAIK,EAAW,IAAI9D,MAAM+D,oBAAoB,CAAEX,MAAOA,IACtD,IAAIY,EAAe,IAAIhE,MAAMiE,uBAAuBP,EAAYA,EAAYD,EAAcE,EAAY,GACtG,IAAIO,GAAI,IAAIlE,MAAM6B,SAAUsC,UAAU,IAAInE,MAAMY,QAAQ4C,EAAIhE,EAAGgE,EAAI/D,EAAG+D,EAAIY,GAAIZ,EAAK,IAAIxD,MAAMY,QAAQ4C,EAAI/D,EAAG+D,EAAIY,EAAGZ,EAAIhE,IACvH0E,EAAEG,YAAYb,EAAIc,QAAQT,gBAAgBJ,EAAcE,GAAc,KACtEK,EAAaO,aAAaL,GAC1B,IAAIM,EAAO,IAAIxE,MAAMwC,KAAKwB,EAAcF,GACxCU,EAAKlB,iBAAmB,MACxBkB,EAAKtB,SAASE,MAAQA,EAEtB,IAAIqB,EAAe,IAAIzE,MAAMiE,uBAAuB,EAAGL,EAAYD,EAAY,GAAI,GACnFO,EAAEG,YAAYb,EAAIc,QAAQT,eAAeJ,EAAcE,EAAa,KACpEc,EAAaF,aAAaL,GAC1B,IAAIQ,EAAO,IAAI1E,MAAMwC,KAAKiC,EAAcX,GACxCY,EAAKpB,iBAAmB,MACxBkB,EAAKlD,IAAIoD,GAET,OAAOF,CACR,CAEA,IAAI5B,EAGJ,IAAKA,EAAI,EAAGA,EAAI,EAAGA,IAAK,CACvBK,EAAM3B,IAAI6B,EAAkBP,EAAGrD,EAAWqD,GAAI,EAAG,KAClD,CAEAM,EAASyB,UAAYpB,EAAiB,IAAIvD,MAAMY,QAAQ,EAAG,EAAG,GAAIrB,EAAW,IAC7E0D,EAAM3B,IAAI4B,EAASyB,WAEnB,IAAIX,EAAe,IAAIhE,MAAM4E,eAC7BZ,EAAaa,aAAa,WAAY,IAAI7E,MAAM8E,uBAAuB,IAAIC,aAAa,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,IAC7G7B,EAAS8B,gBAAkB,IAAIhF,MAAMiF,KAAKjB,EAAc,IAAIhE,MAAMkF,mBAAmB,CACpF9B,MAAO7D,EAAW,GAClBoD,YAAa,KACbwC,MAAO,GACPC,SAAU,EACVC,QAAS,KAEVnC,EAAS8B,gBAAgBM,uBACzBrC,EAAM3B,IAAI4B,EAAS8B,iBAEnB/B,EAAM3B,IAAI,IAAItB,MAAMuF,WAAW,MAG/BrC,EAASsC,UAAY,GACrB,IAAK5C,EAAI,EAAGA,EAAI,EAAGA,IAAK,CACvB,IAAI6C,EAAU,IAAIzF,MAAMwC,KAAK,IAAIxC,MAAM0F,SAAY,IAAI1F,MAAMyC,kBAAkB,CAAEkD,aAAc3F,MAAM4F,aAAclD,QAAS,GAAKC,YAAa,KAAMkD,KAAM7F,MAAM8F,WAAYC,WAAY,SACxLN,EAAQO,QAAU,MAClB9C,EAASsC,UAAUS,KAAKR,GACxBxC,EAAM3B,IAAImE,EACX,CAGAvC,EAASgD,YAAc,GACvB,IAAKtD,EAAI,EAAGA,EAAI,EAAGA,IAAK,CACvB,IAAIuD,EAAY9F,KAAK+F,gBAAgB,GAAI,GAAI,GAAItG,EAAU,SAAU,OACrEqG,EAAUE,YAAc,GACxBF,EAAUrC,SAASwC,UAAY,MAC/BH,EAAUH,QAAU,MACpB9C,EAASgD,YAAYD,KAAKE,GAC1BlD,EAAM3B,IAAI6E,EACX,CAEA,IAAII,EAAarD,EAASqD,WAAalG,KAAKmG,oBAC5CD,EAAWpB,MAAMsB,UAAU,EAAIpG,KAAKyB,YACpC,IAAI4E,EAAgBrG,KAAKyB,WAAa,IACtCyE,EAAWI,SAAS,GAAGvF,SAASgD,EAAIsC,EACpCH,EAAWI,SAAS,GAAGvF,SAAS5B,EAAIkH,EACpCH,EAAWI,SAAS,GAAGvF,SAAS3B,EAAIiH,EACpCzD,EAAM3B,IAAIiF,GAEV,OAAOtD,CACR,EAEA9D,EAA2Be,UAAU0G,cAAgB,WACpD,OAAO,IACR,EAEAzH,EAA2Be,UAAU2G,YAAc,WAClDxG,KAAKM,OAAO8F,UAAU,EACvB,EAEAtH,EAA2Be,UAAU4G,KAAO,SAASC,EAAUC,GAC9D3G,KAAKS,UAAYiG,EACjB1G,KAAKU,MAAQiG,EACb3G,KAAK4G,yBAEL5G,KAAKU,MAAMmG,UAAU,WAAY,CAAE9C,EAAG,EAAG5E,EAAG,EAAGC,EAAG,EAAG0H,gBAAiB9G,KAAK+G,uBAAyB,KACrG,EAEAjI,EAA2Be,UAAUmH,KAAO,WAC3ChH,KAAKiH,iBACLjH,KAAKS,UAAY,KACjBT,KAAKU,MAAQ,KACbV,KAAKI,YAAcJ,KAAKK,cAAgB,EACxCL,KAAKkH,mBAAmB,MACzB,EAEApI,EAA2Be,UAAUsH,cAAgB,WACpD,OAAOnH,KAAKsB,OAAO8F,MACpB,EAEAtI,EAA2Be,UAAUwH,eAAiB,SAAS9E,GAC9D,GAAIvC,KAAKsB,OAAO8F,SAAW,EAAG,CAC7B,OAAO,IACR,CAEA,IAAIxE,EAAQ5C,KAAKmB,OAAOmF,SAAS/D,GACjC+E,EAAyBtH,KAAKqB,YAAYiF,SAAS,GAAI1D,EAAM0D,SAAS,IACtEgB,EAAyBtH,KAAKqB,YAAYiF,SAAS,GAAI1D,EAAM0D,SAAS,IACtEtG,KAAKuH,iCAAiCvH,KAAKqB,YAAakB,GAExD,OAAOvC,KAAKqB,WACb,EAEAvC,EAA2Be,UAAU2H,gBAAkB,SAASC,EAAOC,EAAYC,GAClF,IAAK,IAAIC,EAAK,EAAGC,EAAK7H,KAAKmB,OAAOmF,SAASc,OAAQQ,EAAKC,EAAID,IAAM,CACjE,IAAIhF,EAAQ5C,KAAKmB,OAAOmF,SAASsB,GACjC,IAAI/E,EAAWD,EAAMC,SACrB,IAAK,IAAIN,EAAI,EAAGA,EAAI,EAAGA,IAAK,CAC3B,IAAIuF,EAAQlF,EAAM0D,SAAS/D,GAC3B,IAAIQ,EAASR,IAAMkF,GAAWG,IAAOF,EAAc,SAAWI,EAAMjF,SAASE,MAC7E+E,EAAMrE,SAASV,MAAMgF,OAAOhF,GAE5B+E,EAAMrE,SAASpB,QAAUoF,KAAW,GAAKlF,IAAMkF,EAAQ,EAAI,IAE3DK,EAAMrE,SAASkC,QAAUgC,GAAapF,IAAMkF,EAE5C,IAAIO,EAAYnF,EAASqD,WAAWI,SAAS/D,GAC7CyF,EAAUvE,SAASV,MAAMgF,OAAQH,IAAOF,GAAgBnF,IAAMkF,EAAQ,EAAK,SAAWK,EAAMjF,SAASE,OACrGiF,EAAUvE,SAASpB,QAAUsF,EAAY,EAAI,IAG7C9E,EAASsC,UAAU5C,GAAGkB,SAASkC,QAAUgC,GAAapF,IAAMkF,GAAUlF,IAAM,GAAKkF,IAAU,CAC5F,CACD,CACD,EAEA3I,EAA2Be,UAAUoI,YAAc,SAASR,GAC3D,IAAIS,GAAMlI,KAAKM,OAAOnB,EAAGgJ,GAAMnI,KAAKM,OAAOlB,EAC3C,OAAQqI,GACP,KAAK,EAAGS,GAAM,GAAI,MAClB,KAAK,EAAGC,GAAM,GAAI,MAClB,QAAS,MAGVnI,KAAKoI,eACLpI,KAAKqI,QAAQ,IAAI1I,MAAM2I,MAAM,EAAG5I,EAASwI,GAAKxI,EAASyI,KACvDnI,KAAKuI,YACN,EAEAzJ,EAA2Be,UAAU2I,aAAe,SAASf,EAAOC,GACnE1H,KAAKI,YAAcsH,EACnB1H,KAAKK,aAAeoH,EACpB,GAAIA,GAAS,GAAKA,EAAQ,EAAG,CAC5BzH,KAAKiI,YAAYR,EAAQ,EAC1B,CACAzH,KAAKyI,mBACLzI,KAAKS,UAAUiI,sBAChB,EAEA,SAASpB,EAAyBqB,EAAMC,GACvCD,EAAKE,WAAWC,KAAKF,EAAIC,YACzBF,EAAK5H,SAAS+H,KAAKF,EAAI7H,UACvB4H,EAAKI,eACLJ,EAAKK,kBAAkB,KACxB,CAEA,SAASC,EAActH,GACtB,OAAO/B,EAASN,KAAK4J,MAAMvH,EAAK,GAAIA,EAAK,IAC1C,CAEA,SAASwH,EAAgBxH,GACxB,OAAO/B,EAASN,KAAK4J,MAAMvH,EAAK,GAAIrC,KAAK8J,KAAKzH,EAAK,GAAKA,EAAK,GAAKA,EAAK,GAAKA,EAAK,KAClF,CAEA,SAAS0H,EAAuBC,EAASC,GACxCD,EAAU5J,EAAS4J,GACnBC,EAAY7J,EAAS6J,GACrB,IAAIC,EAAKlK,KAAKmK,IAAIH,GAAUI,EAAKpK,KAAKqK,IAAIL,GAC1C,IAAIM,EAAKtK,KAAKmK,IAAIF,GAAYM,EAAKvK,KAAKqK,IAAIJ,GAC5C,MAAO,CAACC,EAAKK,EAAID,EAAIF,EAAKG,EAC3B,CAEA,SAASC,EAAc1E,EAAS2E,EAAWC,EAAQC,GAClD,GAAI7E,EAAQvC,SAASmH,SAAWA,GAAU5E,EAAQvC,SAASoH,SAAWA,EAAQ,CAC7E,MACD,CACA7E,EAAQvC,SAASmH,OAASA,EAC1B5E,EAAQvC,SAASoH,OAASA,EAG1B,IAAIC,GAAI,IAAIvK,MAAMwK,OAAQpC,OAAO7I,EAAW6K,IAC5C,IAAIK,EAAW,CAAC,EAAG,EAAG,GACtB,IAAIC,EAAS,CAACH,EAAEI,EAAGJ,EAAEK,EAAGL,EAAEM,GAE1B,IAAIrH,EAAM,IAAIxD,MAAMY,QACpB,IAAIkK,GAAMV,EAAY,GAAK,EAC1BW,GAAMX,EAAY,GAAK,EACxB,IAAIY,EAAaV,EAASD,EAC1B,IAAIzH,EAAGqI,EAAItL,KAAKuL,IAAIvL,KAAKwL,IAAIxL,KAAKyL,KAAKzL,KAAK0L,IAAIL,GAAc,GAAKrL,KAAKC,IAAK,GAAI,KACjF,IAAI0L,EAAK3L,KAAKuL,IAAIxL,EAAUC,KAAK0L,IAAIL,GAAa,GAClD,IAAIO,EAAOvL,MAAML,KAAK4L,KAEtB,IAAK3I,EAAI,EAAGA,GAAKqI,EAAGrI,IAAK,CACxB,IAAI4I,EAAI,EAAK5I,EAAIqI,EACjB,IAAIQ,EAAIpB,EAASW,EAAaQ,EAC9B,IAAIb,EAAIY,EAAKD,EAAI,EAAGE,GACpBhI,EAAInC,IAAI,EAAG,EAAG,GAAG0B,aAAa+H,EAAInL,KAAKqK,IAAIyB,GAAKd,GAAG5H,aAAagI,EAAIpL,KAAKmK,IAAI2B,GAAKd,GAClFF,EAASxE,KAAKzC,EAAIY,EAAGZ,EAAIhE,EAAGgE,EAAI/D,GAChC,IAAIiM,EAAKH,EAAK,EAAG,GAAKC,GACtBd,EAAOzE,KAAKsE,EAAEI,EAAIe,EAAInB,EAAEK,EAAIc,EAAInB,EAAEM,EAAIa,EACvC,CAEA,IAAIC,EAAU,GACd,IAAK/I,EAAI,EAAGA,EAAIqI,EAAGrI,IAAK,CACvB+I,EAAQ1F,KAAK,EAAGrD,EAAI,EAAGA,EAAI,EAC5B,CAGA,IAAIgJ,EAAO,IAAI5L,MAAM4E,eACrBgH,EAAKC,SAASF,GACdC,EAAK/G,aAAa,WAAY,IAAI7E,MAAM8E,uBAAuB2F,EAAU,IACzEhF,EAAQtD,SAAWyJ,EACnBnG,EAAQtD,SAAS0C,aAAa,QAAS,IAAI7E,MAAM8E,uBAAuB4F,EAAQ,IAChFjF,EAAQO,QAAUgF,IAAe,CAClC,CAEA7L,EAA2Be,UAAU4L,mBAAqB,SAAShE,EAAOiE,EAAOpC,EAASC,GACzF,IAAI3G,EAAQ5C,KAAKmB,OAAOmF,SAASmB,GACjC,IAAIkE,EAAQ,IAAIhM,MAAM2I,MAAM,EAAG5I,EAAS4J,EAAU,IAAK,EAAG,OAC1D,IAAIsC,EAAUhJ,EAAM0D,SAAS,GAC7BsF,EAAQ/C,WAAWgD,aAAaF,GAChCC,EAAQ7C,eAER4C,EAAMvM,EAAIM,EAAS6J,GACnB,IAAIuC,EAAUlJ,EAAM0D,SAAS,GAC7BwF,EAAQjD,WAAWgD,aAAaF,GAChCG,EAAQ/C,eACR+C,EAAQ/K,SAASgL,oBAAoBD,EAAQE,OAAQ,GAAGxI,eAAe,GACvEsI,EAAQ/C,eAER,IAAIlG,EAAWD,EAAMC,SACrB,IAAIyB,EAAYzB,EAASyB,UACzBA,EAAUuE,WAAWC,KAAKgD,EAAQjD,YAClCvE,EAAUyE,eAEV,IAAIpE,EAAkB9B,EAAS8B,gBAC/B,IAAIsH,EAAmB3M,KAAKqK,IAAIgC,EAAMvM,GACtCuF,EAAgBkE,WAAWC,KAAK8C,EAAQ/C,YACxClE,EAAgBG,MAAMsB,UAAU6F,GAChCtH,EAAgBoE,eAChBpE,EAAgBlB,SAASqB,MAAQmH,EAAmB,GAEpD,IAAI9G,EAAYtC,EAASsC,UACzB2E,EAAc3E,EAAU,GAAI,EAAG,EAAGzF,EAASgM,IAC3CpE,EAAyBnC,EAAU,GAAIvC,EAAM0D,SAAS,IACtDwD,EAAc3E,EAAU,GAAI,EAAG,EAAGzF,EAAS4J,IAC3ChC,EAAyBnC,EAAU,GAAIvC,EAAM0D,SAAS,IACtDwD,EAAc3E,EAAU,GAAI,EAAG,EAAGzF,EAAS6J,IAC3CjC,EAAyBnC,EAAU,GAAIvC,EAAM0D,SAAS,IAEtD,IAAIT,EAAchD,EAASgD,YAC3BqG,EAAiBrG,EAAY,GAAI6F,GACjCQ,EAAiBrG,EAAY,GAAIyD,GACjC4C,EAAiBrG,EAAY,GAAI0D,EAClC,EAEAzK,EAA2Be,UAAUuI,aAAe,WACnDpI,KAAKQ,eAAe4F,UAAU,GAC9BpG,KAAKsB,OAAO6K,QAAQ,SAASC,GAC5BA,EAASC,WAAaD,EAASV,MAC/BU,EAASE,aAAeF,EAAS9C,QACjC8C,EAASG,eAAiBH,EAAS7C,SACpC,EACD,EAEAzK,EAA2Be,UAAUkH,oBAAsB,WAC1D,OAAO/G,KAAKwM,WACb,EAEA1N,EAA2Be,UAAU0I,WAAa,WACjDvI,KAAKsB,OAAO6K,QAAQ,SAASC,UACrBA,EAASC,kBACTD,EAASE,oBACTF,EAASG,cACjB,GAEA,IAAIzF,EAAkB9G,KAAK+G,sBAC3B/G,KAAKU,MAAM+L,YAAY,CAAE1I,EAAG/D,KAAKQ,eAAeuD,EAAG5E,EAAGa,KAAKQ,eAAerB,EAAGC,EAAGY,KAAKQ,eAAepB,EAAG0H,gBAAiBA,GACzH,EAEA,SAAS4F,EAASC,EAAQC,GACzB,IAAIC,EAAaC,OAAOC,iBACxB,IAAIC,EAAIL,EAAOM,MACf,IAAIC,EAAIP,EAAOQ,OACf,IAAIC,EAAKJ,EAAI,GACb,IAAIK,EAAKH,EAAI,GACb,IAAI5C,EAAIhL,KAAKuL,IAAIpL,EAAW,IAAOoN,EAAYO,EAAK,GACpD,IAAIE,EAAMX,EAAOY,WAAW,MAC5BD,EAAIE,KAAO,QAAU/N,EAAWoN,EAAa,WAC7C,IAAIY,EAAcH,EAAII,YAAYd,GAClC,IAAIe,EAAKrO,KAAKuL,IAAI4C,EAAYR,MAAQ,GAAM3C,EAAI,GAAK8C,EAAK9C,EAAI,GAE9DgD,EAAIM,UAAU,EAAG,EAAGZ,EAAGE,GAKvBI,EAAIO,YACJP,EAAIQ,IAAIV,EAAKO,EAAIN,EAAI/C,EAAG9K,EAAYA,EAAa,EAAG,OACpD8N,EAAIS,OAAOX,EAAKO,EAAIN,EAAK/C,GACzBgD,EAAIQ,IAAIV,EAAKO,EAAIN,EAAI/C,GAAI9K,EAAYA,EAAY,OACjD8N,EAAIS,OAAOX,EAAKO,EAAIN,EAAK/C,GACzBgD,EAAIU,YAGJV,EAAIW,YAAc,IAClBX,EAAIY,UAAY,OAChBZ,EAAIa,OAGJb,EAAIW,YAAc,EAClBX,EAAIc,UAAYvB,EAChBS,EAAIe,YAAc,OAClBf,EAAIgB,SAGJhB,EAAIY,UAAY,OAChBZ,EAAIiB,UAAY,SAChB,GAAInQ,IAAIC,GAAGmQ,OAAOC,QAAQC,QAAUtQ,IAAIC,GAAGmQ,OAAOC,QAAQE,QAAS,CAClErB,EAAIsB,aAAe,MACnBtB,EAAIuB,SAASjC,EAAMQ,EAAIC,EAAKI,EAAYqB,yBAA2B,GACpE,KAAO,CACNxB,EAAIsB,aAAe,SACnBtB,EAAIuB,SAASjC,EAAMQ,EAAIC,EACxB,CACD,CAEA,SAASnB,EAAiBpG,EAAWiJ,GACpCjJ,EAAUH,QAAUoJ,IAAU,EAC9B,GAAIjJ,EAAUH,SAAWG,EAAUjD,SAASkM,QAAUA,EAAO,CAC5DjJ,EAAUjD,SAASkM,MAAQA,EAE3B,IAAInC,EAAOmC,EAAMC,eAAe,WAAY,CAAEC,YAAa,MAAOC,sBAAuB,EAAGC,sBAAuB,IAAO,IAC1H,IAAIC,EAAUtJ,EAAUrC,SAAS4L,IACjC3C,EAAS0C,EAAQE,MAAO1C,GACxBwC,EAAQG,YAAc,IACvB,CACD,CAEAzQ,EAA2Be,UAAU4I,iBAAmB,WACvD,IAAI2D,EAAWpM,KAAKsB,OAAOtB,KAAKI,aAChC,GAAIgM,EAAU,CACbpM,KAAKM,OAAOU,IAAIoL,EAASV,MAAOU,EAAS9C,QAAS8C,EAAS7C,UAC5D,CACD,EAEA,IAAIiG,EAAQ,IAAI7P,MAAMY,QACtB,IAAIkP,EAAc,IAAI9P,MAAM+P,WAE5B5Q,EAA2Be,UAAU8P,oBAAsB,SAASvD,GACnEoD,EAAMI,UAAUvG,EAAuB+C,EAAS9C,QAAS8C,EAAS7C,YAClEkG,EAAYI,iBAAiBL,EAAO9P,EAAS0M,EAASV,QACtDU,EAAS0D,KAAKjH,WAAWkH,oBAAoBN,EAAarD,EAASvD,YACnEuD,EAAS0D,KAAK/G,eAEd,GAAIqD,EAAS0D,KAAKjN,SAAU,QACpBuJ,EAAS0D,KAAKjN,SAASmN,mBAC/B,CACAhQ,KAAKS,UAAUwP,kBAAkBC,qBAAqB9D,EAAS0D,KAAMlR,EAAmBuR,OACzF,EAEArR,EAA2Be,UAAUwI,QAAU,SAASsD,GACvD3L,KAAKQ,eAAeQ,IAAIpB,EAAS+L,EAAM5H,GAAInE,EAAS+L,EAAMxM,GAAIS,EAAS+L,EAAMvM,IAE7EY,KAAKsB,OAAO6K,QAAQ,SAASC,GAC5BA,EAASV,MAAQU,EAASC,WAAarM,KAAKQ,eAAeuD,EAC3DqI,EAAS9C,SAAW8C,EAASE,aAAetM,KAAKQ,eAAerB,GAAK,IACrEiN,EAAS7C,UAAY5J,MAAML,KAAK8Q,MAAMhE,EAASG,eAAiBvM,KAAKQ,eAAepB,GAAI,GAAI,IAC5F,GAAIgN,EAAS9C,QAAU,IAAK,CAC3B8C,EAAS9C,SAAW,GACrB,CAAE,GAAI8C,EAAS9C,SAAW,IAAK,CAC9B8C,EAAS9C,SAAW,GACrB,CACAtJ,KAAK2P,oBAAoBvD,EAC1B,EAAGpM,MAEHA,KAAKyI,mBAELzI,KAAKS,UAAUiI,sBAChB,EAEA5J,EAA2Be,UAAUwQ,sBAAwB,SAAStG,EAAWC,EAAQC,GACxF,IAAIU,EAAaV,EAASD,EAC1B,GAAID,IAAc,EAAG,CACpBY,GAActL,CACf,CAEA,IAAIsM,EAAQ,IAAIhM,MAAM2I,MACtBqD,EAAM,CAAC,IAAK,IAAK,KAAK5B,IAAcY,EACpC,IAAI7D,EAAkB9G,KAAK+G,sBAC3B,GAAI/G,KAAKU,MAAMmG,UAAU,WAAY,CAAE9C,EAAGnE,EAAS+L,EAAM5H,GAAI5E,EAAGS,EAAS+L,EAAMxM,GAAIC,EAAGQ,EAAS+L,EAAMvM,GAAI0H,gBAAiBA,GAAmB,MAAO,CACnJ9G,KAAKqI,QAAQsD,EACd,CACD,EAEA7M,EAA2Be,UAAUyQ,OAAS,SAASvM,EAAG5E,EAAGC,GAC5DY,KAAKoI,eACLpI,KAAKqI,QAAQ,IAAI1I,MAAM2I,MAAM5I,EAASqE,GAAK,GAAIrE,EAASP,GAAK,GAAIO,EAASN,GAAK,IAChF,EAEAN,EAA2Be,UAAU0Q,uBAAyB,WAC7D,MAAO,CAAEtB,YAAa,MAAOC,sBAAuB,EAAGC,sBAAuB,EAC/E,EAEArQ,EAA2Be,UAAU2Q,SAAW,WAC/C,OAAQxQ,KAAKI,aAAe,GAAKJ,KAAKK,cAAgB,GAAKL,KAAKK,aAAe,EAAKL,KAAKM,OAAOmQ,aAAazQ,KAAKK,cAAgB,CACnI,EAEAvB,EAA2Be,UAAU6Q,SAAW,SAAS3B,GACxD,GAAI/O,KAAKI,aAAe,GAAKJ,KAAKK,cAAgB,GAAKL,KAAKK,aAAe,EAAG,CAC7E,IAAIsL,EAAQ,IAAIhM,MAAM2I,MACtBqD,EAAM,CAAC,IAAK,IAAK,KAAK3L,KAAKK,eAAiBX,EAASqP,EAAQ/O,KAAKM,OAAOmQ,aAAazQ,KAAKK,eAC3FL,KAAKoI,eACLpI,KAAKqI,QAAQsD,GACb3L,KAAKuI,YACN,CACD,EAEAzJ,EAA2Be,UAAU8Q,SAAW,SAAShG,GACxD3K,KAAKoI,eACLpI,KAAKqI,QAAQ,IAAI1I,MAAM2I,MAAM5I,EAASiL,GAAa,EAAG,IACtD3K,KAAKuI,YACN,EAEAzJ,EAA2Be,UAAU+Q,QAAU,SAASjP,GACvD3B,KAAKoI,eACL,IAAIkB,EAAU,EACd,IAAIC,EAAY,EAChB,GAAIsH,MAAMC,QAAQnP,GAAO,CACxB2H,EAAUL,EAActH,GACxB4H,EAAYJ,EAAgBxH,EAC7B,KAAO,CACN,GAAI,YAAaA,EAAM,CACtB2H,EAAU3H,EAAK2H,OAChB,CACA,GAAI,cAAe3H,EAAM,CACxB4H,EAAY5H,EAAK4H,SAClB,CACD,CACAvJ,KAAKsB,OAAO6K,QAAQ,SAASC,GAC5BA,EAAS9C,QAAUA,EACnB8C,EAAS7C,UAAYA,EACrBvJ,KAAK2P,oBAAoBvD,EAC1B,EAAGpM,MACHA,KAAKyI,mBACLzI,KAAKS,UAAUiI,uBACf1I,KAAKuI,YACN,EAEAzJ,EAA2Be,UAAU2M,UAAY,WAChD,IAAIuE,EAAS,GACb/Q,KAAKsB,OAAO6K,QAAQ,SAASC,GAC5B2E,EAAOnL,KAAK,CACXkK,KAAM1D,EAAS0D,KACfpE,MAAOU,EAASV,MAChBpC,QAAS8C,EAAS9C,QAClBC,UAAW6C,EAAS7C,UACpB5H,KAAM0H,EAAuB+C,EAAS9C,QAAS8C,EAAS7C,YAE1D,GACA,OAAOwH,CACR,EAEAjS,EAA2Be,UAAUmR,mBAAqB,SAASlB,GAClE,IAAImB,EAAQjR,KAAKsB,OACjB,IAAK,IAAIiB,EAAI,EAAG2O,EAAID,EAAM7J,OAAQ7E,EAAI2O,EAAG3O,IAAK,CAC7C,GAAI0O,EAAM1O,GAAGuN,OAASA,EAAM,CAC3B,OAAOmB,EAAM1O,EACd,CACD,CACA,OAAO,IACR,EAEAzD,EAA2Be,UAAUsR,UAAY,SAASJ,GACzDA,EAAO5E,QAAQ,SAAS4C,GACvB,IAAI3C,EAAWpM,KAAKgR,mBAAmBjC,EAAMe,MAC7C,GAAI1D,EAAU,CACbA,EAASV,MAAQqD,EAAMrD,MACvB,GAAIqD,EAAMpN,KAAM,CACfyK,EAAS9C,QAAUL,EAAc8F,EAAMpN,MACvCyK,EAAS7C,UAAYJ,EAAgB4F,EAAMpN,KAC5C,KAAO,CACNyK,EAAS9C,QAAUyF,EAAMzF,QACzB8C,EAAS7C,UAAYwF,EAAMxF,SAC5B,CACA6C,EAASvD,WAAauD,EAAS0D,KAAKjH,WAAW5E,QAC/CuL,EAAMI,UAAUvG,EAAuB+C,EAAS9C,QAAS8C,EAAS7C,YAClEkG,EAAYI,iBAAiBL,GAAQ9P,EAAS0M,EAASV,QACvDU,EAASvD,WAAWuI,YAAY3B,GAChCzP,KAAK2P,oBAAoBvD,EAC1B,CACD,EAAGpM,MACHA,KAAKyI,mBACLzI,KAAKS,UAAUiI,sBAChB,EAEA5J,EAA2Be,UAAUwR,kBAAoB,SAASC,GACjE,GAAItR,KAAKS,UAAW,CACnBT,KAAKuR,mBAAmBD,EAAatR,KAAKS,UAAU+Q,YAAYC,eAAgB,KACjF,CACD,EAEA3S,EAA2Be,UAAU6R,iBAAmB,SAASC,GAChElT,EAAMoB,UAAU6R,iBAAiBE,KAAK5R,KAAM2R,GAE5C,GAAI3R,KAAKU,MAAMmR,oBAAqB,CACnC7R,KAAKU,MAAMoR,cAAcC,UAAUJ,EACpC,CACD,EAEA7S,EAA2Be,UAAU+G,uBAAyB,SAASoL,GACtEhS,KAAKsB,OAAO8F,OAAS,EACrBpH,KAAKI,YAAcJ,KAAKK,cAAgB,EACxC,GAAIL,KAAKS,UAAW,CACnBT,KAAK0R,iBAAiB1R,KAAKS,UAAUwP,mBACrCjQ,KAAKU,MAAMmG,UAAU,WAAY,CAAE9C,EAAG,EAAG5E,EAAG,EAAGC,EAAG,EAAG0H,gBAAiB9G,KAAK+G,uBAAyB,MAEpG/G,KAAKsB,OAAO6K,QAAQ,SAASC,GAC5BA,EAASvD,WAAauD,EAAS0D,KAAKjH,WAAW5E,QAC/CmI,EAASV,MAAQ,EACjBU,EAAS9C,QAAU,EACnB8C,EAAS7C,UAAY,CACtB,GAEA,IAAI0I,EAAQjS,KAAKsB,OAAO8F,OACxB,IAAIxE,EAAQ5C,KAAKmB,OACjB,MAAOyB,EAAM0D,SAASc,OAAS6K,EAAO,CACrCrP,EAAMsP,OAAOtP,EAAM0D,SAAS1D,EAAM0D,SAASc,OAAS,GACrD,CACA,MAAOxE,EAAM0D,SAASc,OAAS6K,EAAO,CACrCrP,EAAM3B,IAAIjB,KAAK2C,qBAChB,CACD,CACD,EAEA7D,EAA2Be,UAAUsS,eAAiB,SAASC,GAC9D,IAAId,EAAc,IAAI3R,MAAM0S,KAC5BrS,KAAKsB,OAAO8Q,GAAatC,KAAKyB,mBAAmBD,EAAa,KAAM,OACpE,GAAIA,EAAYgB,UAAW,CAC1B,OAAO,CACR,CACA,IAAIC,EAAO,IAAI5S,MAAMY,QACrB+Q,EAAYkB,QAAQD,GACpB,OAAOA,EAAKnL,QACb,EAEAtI,EAA2Be,UAAU0H,iCAAmC,SAASkL,EAAKlQ,GACrF,IAAIuN,EAAO9P,KAAKsB,OAAOiB,GAAGuN,KAC1B,IAAI4C,EAAS1S,KAAK2S,oBAAoB7C,GAEtC2C,EAAI1R,SAAS6R,sBAAsB9C,EAAK+C,aAExC,GAAIH,EAAQ,CACXD,EAAI5J,WAAWiK,sBAAsBJ,EAAOG,YAC7C,KAAO,CACNJ,EAAI5J,WAAW7H,IAAI,EAAG,EAAG,EAAG,EAC7B,CAEA,IAAI8D,EAAQ9E,KAAK+S,eAAeN,EAAI1R,UACpC0R,EAAI3N,MAAMsB,UAAUpG,KAAKyB,WAAaqD,GAEtC2N,EAAI1J,eACJ0J,EAAIzJ,kBAAkB,MAEtB,OAAOlE,CACR,EAEAhG,EAA2Be,UAAUmT,kBAAoB,SAASC,EAAKC,EAAI5J,EAASC,GACnFD,EAAU5J,EAAS4J,GACnBC,EAAY7J,EAAS6J,GACrB,IAAIoC,EAAQ,IAAIhM,MAAM2I,MAAM,EAAG,EAAG,EAAG,OACrC,GAAI4K,IAAO,EAAG,CACbvH,EAAM3K,IAAI,EAAGsI,EAASC,EACvB,MAAO,GAAI2J,IAAO,EAAG,CACpBvH,EAAM3K,IAAI,EAAGsI,EAAU,GAAK,EAC7B,KAAO,CACNqC,EAAM3K,IAAI,EAAGsI,EAASC,EAAY,GACnC,CACAoC,EAAMxM,GAAKK,EACXyT,EAAIjS,IAAIkS,IAAO,EAAI,KAAO,KAAM,EAAG,GAAGC,WAAWxH,EAClD,EAEA,IAAIyH,EAAO,IAAIzT,MAAMY,QACrBzB,EAA2Be,UAAUwT,2BAA6B,SAAS9Q,EAAG+Q,GAC7E,IAAI1Q,EAAQ5C,KAAKmB,OAAOmF,SAAS/D,GACjC,IAAI6J,EAAWpM,KAAKsB,OAAOiB,GAC3B,IAAIuC,EAAQ9E,KAAKuH,iCAAiC3E,EAAOL,GAGzDK,EAAMC,SAASqD,WAAWI,SAAS6F,QAAQ,SAASoH,GACnDA,EAAM1K,WAAWC,KAAKlG,EAAMiG,YAAY2K,UAAUC,SAASH,EAAOzK,WACnE,GAGA,IAAK,IAAIqK,EAAK,EAAGA,EAAK,EAAGA,IAAM,CAC9B,IAAIpN,EAAYlD,EAAMC,SAASgD,YAAYqN,GAC3ClT,KAAKgT,kBAAkBlN,EAAU/E,SAAUmS,EAAI9G,EAAS9C,QAAS8C,EAAS7C,WAC1EzD,EAAU+C,WAAWC,KAAKlG,EAAMiG,YAAY2K,UAAUC,SAASH,EAAOzK,YACtEuK,EAAKtK,KAAKhD,EAAU/E,UAAUmD,aAAatB,EAAMiQ,aACjD/M,EAAUhB,MAAMsB,UAAUpG,KAAK+S,eAAeK,IAAStO,EAAQ9E,KAAKyB,YACrE,CACD,EAEA3C,EAA2Be,UAAU6T,wBAA0B,WAC9D,IAAI9Q,EAAQ5C,KAAKmB,OAAOmF,SAAStG,KAAKI,aACtC,IAAIgM,EAAWpM,KAAKsB,OAAOtB,KAAKI,aAChCJ,KAAKuH,iCAAiC3E,EAAO5C,KAAKI,aAClDJ,KAAKgT,kBAAkBI,EAAMpT,KAAKK,aAAc+L,EAAS9C,QAAS8C,EAAS7C,WAC3E,OAAO6J,EAAKlP,aAAatB,EAAMiQ,aAAa3O,aAAalE,KAAKuB,aAC/D,EAEAzC,EAA2Be,UAAU8T,OAAS,WAC7C9U,EAAOmB,KAAKS,WAAaT,KAAKS,UAAUmT,cAAcC,YAAc,6BAA8B,yDAElG,GAAI7T,KAAKsB,OAAO8F,OAAS,EAAG,CAC3B,IAAI0M,EAAW9T,KAAKS,UAAUsT,cAC7BT,EAAStT,KAAKS,UAAU+Q,YAAYC,eAErCzR,KAAKuB,aAAayS,iBAAiBV,EAAOW,iBAAkBX,EAAOY,oBAEnEJ,EAASK,aAET,IAAK,IAAI5R,EAAI,EAAG2O,EAAIlR,KAAKmH,gBAAiB5E,EAAI2O,EAAG3O,IAAK,CACrD,IAAI6J,EAAWpM,KAAKsB,OAAOiB,GAC3BvC,KAAKyL,mBAAmBlJ,EAAG6J,EAASV,MAAOU,EAAS9C,QAAS8C,EAAS7C,WACtEvJ,KAAKqT,2BAA2B9Q,EAAG+Q,EACpC,CAEAQ,EAASH,OAAO3T,KAAKW,YAAa2S,GAElCtT,KAAKyI,kBACN,CAEAzI,KAAKkH,mBAAmBlH,KAAKsB,OAAO8F,OAAS,GAAKpH,KAAKI,aAAe,GAAKJ,KAAKK,cAAgB,GAAKL,KAAKK,aAAe,EAAGL,KAAKK,aAAc,CAAC,IAAK,IAAK,KAAKL,KAAKK,cACrK,EAGAvB,EAA2Be,UAAUuU,gCAAkC,SAAStE,GAEhF,EAEA,OAAOhR,CAER"}