{"version":3,"file":"Gizmo.js","names":["sap","ui","define","vkLibrary","mLibrary","Input","Label","coreLibrary","Control","CoordinateSystem","AxisColours","ToolNodeSet","three","GizmoPlacementMode","AnimationTrackType","InputType","Gizmo","extend","metadata","library","renderer","render","rm","control","prototype","hasDomElement","_drawText","canvas","text","fontSize","drawBorder","pixelRatio","window","devicePixelRatio","w","width","h","height","halfWidth","halfHeight","ctx","getContext","clearRect","font","textAlign","textBaseline","fillStyle","globalAlpha","filter","fillText","beginPath","arc","Math","PI","closePath","lineWidth","strokeStyle","stroke","_createTextMesh","color","document","createElement","this","texture","THREE","Texture","needsUpdate","material","MeshBasicMaterial","map","transparent","alphaTest","premultipliedAlpha","side","DoubleSide","mesh","Mesh","PlaneGeometry","userData","_createAxisTitles","size","drawCircle","addNegativeAxes","group","Group","add","x","y","z","_extractBasis","matrix","basis","Vector3","extractBasis","normalize","_updateAxisTitles","obj","gizmo","camera","distance","scale","matrixWorld","children","forEach","child","i","offset","constructor","getComponent","position","copy","multiplyScalar","quaternion","setScalar","_updateSelection","viewStateManager","nodes","_tool","getNodeSet","Highlight","enumerateSelection","nodeRef","push","node","enumerateOutlinedNodes","_nodes","length","every","v","_cleanTempData","nodeInfo","ignore","parent","l","_getOffsetForRestTransformation","bind","setPlacementMode","placementMode","_placementMode","_getAnchorPoint","_viewport","_anchorPoint","_getSelectionCenter","target","setFromMatrixPosition","_nodeUserDataMap","get","Rest","offsetWTranslation","center","boundingBox","getCenter","applyMatrix4","_getGizmoScale","getRenderer","getCamera","getCameraRef","pos4","Vector4","_matViewProj","getSize","Vector2","projectionMatrix","elements","_getEffectiveParent","_viewStateManager","joints","getJoints","n","joint","skipUpdateJointNode","clear","_sequence","_prepareForCreatingKey","playback","_playback","Map","set","trans","getTransformation","restTrans","getRestTransformation","wrestTrans","getRestTransformationWorld","wtrans","getTransformationWorld","pos","translation","sc","quatRest","Quaternion","matRest","Matrix4","compose","matRestInv","getInverse","initialTranslation","slice","initialScale","initialQuaternion","matInitial","clone","matInitialInv","quatInitialDiff","multiply","inverse","quatInitialDiffInv","matInitialDiff","Box3","expandByObject","offsetWTranslationCenter","euler","animationPlayer","getAnimationPlayer","data","getAnimatedProperty","Rotate","offsetToPrevious","Euler","startEuler","eulerInParentCoors","startEulerInParentCoors","_updateGizmoObjectTransformation","moveToCenter","anchorPoint","nodeWorldMatrix","parentWorldMatrix","_coordinateSystem","Custom","Local","Parent","effParent","decompose","setPosition","Screen","_gizmoSize","makeBasis","copyPosition","matrixAutoUpdate","updateMatrixWorld","_expandBoundingBox","visibleOnly","gizmoCount","getGizmoCount","multiplyMatrices","matrixWorldInverse","_updateGizmoTransformation","_sceneGizmo","_createEditingForm","units","_label","m","addStyleClass","_units","_input","type","Number","maxLength","TextAlign","Right","change","event","setValue","getParameter","_editingForm","HBox","items","onkeydown","ontap","ontouchstart","setMarked","_getValueLocaleOptions","useGrouping","_updateEditingForm","active","axisIndex","label","domRef","getDomRef","getShowEditingUI","setText","rerender","labelDomRef","style","Color","getStyle","getValue","toLocaleString","_getEditingFormPosition","gizmoPosition","_gizmo","sub","viewportRect","getBoundingClientRect","formRect","alignRight","dx","dy","clamp","max","min","left","round","top","transform","display"],"sources":["Gizmo-dbg.js"],"mappings":"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"}