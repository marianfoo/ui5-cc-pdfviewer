{"version":3,"file":"MoveToolGizmo.js","names":["sap","ui","define","getResourceBundle","threejs","Gizmo","MoveToolGizmoRenderer","CoordinateSystem","GizmoPlacementMode","AxisColours","AnimationTrackType","assert","Log","MoveToolGizmo","extend","metadata","library","prototype","init","apply","this","_createEditingForm","getText","_gizmoIndex","_handleIndex","_value","THREE","Vector3","_moveDelta","_viewport","_tool","_sceneGizmo","Scene","light","DirectionalLight","position","set","add","AmbientLight","_gizmo","Group","_touchAreas","_coordinateSystem","World","_placementMode","Default","_nodes","_matViewProj","Matrix4","_gizmoSize","createGizmoArrow","dir","color","touchAreas","arrowLength","lineRadius","coneHeight","coneRadius","touchRadius","multiplyScalar","material","MeshLambertMaterial","transparent","lineGeometry","CylinderBufferGeometry","m","makeBasis","y","z","x","setPosition","clone","applyMatrix4","line","Mesh","matrixAutoUpdate","userData","coneGeometry","cone","touchGeometry","CylinderGeometry","touchGeometry2","merge","createGizmoPlane","a","b","colors","Float32Array","v1","setComponent","v2","geometry","Geometry","vertices","push","faces","Face3","MeshBasicMaterial","opacity","visible","side","DoubleSide","plane","BufferGeometry","setAttribute","Float32BufferAttribute","Line","LineBasicMaterial","vertexColors","VertexColors","linewidth","window","devicePixelRatio","_axisTitles","_createAxisTitles","_line","LineSegments","frustumCulled","hasDomElement","resetValues","setScalar","setCoordinateSystem","coordinateSystem","screenSystem","Screen","gizmoObjects","children","touchObjects","show","viewport","tool","length","_updateSelection","_viewStateManager","nodesProperties","_getNodesProperties","fireEvent","hide","_cleanTempData","_updateEditingForm","getGizmoCount","Local","Parent","getTouchObject","i","_updateGizmoObjectTransformation","arrowHighlighting","highlightHandle","index","hoverMode","arrow","highlight","setHex","axisTitle","colorAttr","attributes","copyArray","needsUpdate","selectHandle","gizmoIndex","getAutoResetValues","setShouldRenderFrame","beginGesture","_beginValue","_matOrigin","matrixWorld","forEach","nodeInfo","node","matOrigin","originLocal","origin","setFromMatrixPosition","parent","matParentInv","getInverse","_printEventInfo","event","debug","properties","name","offsetToRest","offsetToPrevious","absolute","world","restDifference","restDifferenceInCoordinates","_getOffsetToRestInCoordinateSystem","offsetInWorld","toArray","Custom","gmat","extractRotation","gmatInv","nmat","nmatInv","size","getRenderer","getSize","Vector2","camera","getCamera","getCameraRef","Vector4","copy","mat","Matrix3","setFromMatrix4","matInv","offsetInCamera","applyMatrix3","dx","w","projectionMatrix","elements","width","dy","height","property","_getEffectiveParent","pMat","rtransform","getRelativeTransformation","offsetToRestInParent","translation","slice","offsetToPreviousInParent","sequenceOffset","_playback","_getEndPropertyInPreviousPlayback","Translate","restTrans","getRestTransformation","previous","quat","Quaternion","scale","matrix","decompose","MatPreviousTInv","makeTranslation","MatRestTInv","MatSInv","makeScale","MatRInv","makeRotationFromQuaternion","inverse","MatTOffsetToPrevious","multiply","MatTOffsetToRest","skipUpdateJointNode","_setJointNodeOffsets","offsetTranslation","_setJointNodeMatrix","joint","getRestTransformationUsingJoint","pos","sc","qu","quaternion","offsetScale","offsetQuaternion","offsetQuat","matRot","matTrans","matRest","matT","transform","getTransformation","wtrans","getTransformationWorld","_nodeUserDataMap","get","initialTranslation","restDifferenceInWorld","bind","endGesture","offsetInParam","fireMoved","_setOffset","offset","effParent","setFromMatrixScale","originPos","sub","pos1","pos2","Math","round","_move","setFromMatrixColumn","normalize","dot","anchorPoint","_getAnchorPoint","matInvAnchor","scaleAnchor","newPos","verticesNeedUpdate","computeBoundingBox","abs","max","setRGB","addVectors","basis","_extractBasis","multiplyMatrices","matrixWorldNeedsUpdate","ignore","move","getValue","getComponent","setValue","value","expandBoundingBox","boundingBox","_expandBoundingBox","viewStateManager","call","getEnableSnapping","getDetector","setSource","handleSelectionChanged","_getSelectionCenter","target","arguments","that","toScreenXYZ","vector","widthHalf","heightHalf","project","fromScreenXYZ","unproject","getScreenCenter","leftTop","rightTop","rightBottom","leftBottom","cornerPoints","OnScreen","viewportRect","getDomRef","getBoundingClientRect","posOnScreen","edgePos","checkOnScreen","setX","setY","some","c","ObjectCenter","center","getCenter","Box3","expandByObject","_updateGizmoTransformation","_updateAxisTitles","_getEditingFormPosition","direction","render","getMetadata","getName","renderer","matrixWorldInverse","clearDepth","l"],"sources":["MoveToolGizmo-dbg.js"],"mappings":"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"}