{"version":3,"file":"RedlineToolGizmo.js","names":["sap","ui","define","Gizmo","RedlineToolGizmoRenderer","RedlineToolGizmo","extend","metadata","library","aggregations","redlineElements","type","activeElement","multiple","visibility","prototype","init","apply","this","_activeElement","_virtualLeft","_virtualTop","_virtualSideLength","show","getParent","_viewport","attachEvent","_onResize","addStyleClass","hide","detachEvent","removeStyleClass","_startAdding","elementInstance","setAggregation","_stopAdding","addElement","element","addRedlineElement","getEditable","vk","RedlineElementText","_createdTextElement","editTextElement","fireElementCreated","_toVirtualSpace","x","y","arguments","length","_toPixelSpace","getDomRef","rerender","_getPanningRatio","clientRect","getBoundingClientRect","height","width","selectText","domRef","_textEditingElement","childNodes","blur","_nextElementSibling","nextElementSibling","parentNode","appendChild","focus","select","onBeforeRendering","viewport","virtualViewportSize","getOutputSize","left","top","sideLength","onAfterRendering","that","attachTextEventHandlers","textArea","onfocus","event","style","background","backdropFilter","resize","overflow","onblur","scrollTop","setWidth","parseFloat","Math","max","scrollHeight","setHeight","insertBefore","onchange","setText","value","addEventListener","stopPropagation","getRedlineElements","forEach","onkeydown","setMarked"],"sources":["RedlineToolGizmo-dbg.js"],"mappings":"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"}