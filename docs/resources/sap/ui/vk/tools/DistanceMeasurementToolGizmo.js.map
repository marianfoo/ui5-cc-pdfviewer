{"version":3,"file":"DistanceMeasurementToolGizmo.js","names":["sap","ui","define","Distance","Utils","State","MeasurementToolGizmo","DistanceMeasurementToolGizmo","extend","metadata","library","basePrototype","getMetadata","getParent","getClass","prototype","init","call","this","_updateCurrentFeature","nodeRef","point","viewport","allowFace","allowEdge","allowVertex","meshAnalyzer","_getMeshAnalyzer","r","_computeSphereRadius","removeFeature","intersection","intersectSphere","_is2D","vertex","_replaceCurrentFeature","_vertexFeatures","_currentFeatureIndex","vertexId","_currentFeature","setValue","edge","_edgeFeatures","edgeId","getVertex","buildEdgePath","faceId","_faceFeatures","buildFace","_surface","_updateMeasurement","currentMeasurement","feature1","_firstFeature","feature2","change1","isEdge","isFace","change2","p","_hoverPoint","worldPoint","np1","isVertex","getValue","res","findClosestPointEdgeToEdge","findClosestPointFaceToEdge","findClosestPointFaceToFace","findClosestPointEdgeToPoint","findClosestPointFaceToPoint","p1","getPoint1","setPoint1","setPoint2","setHoverPoint","data","oldHighlightedNodeRef","newHighlightedNodeRef","vsm","_vsm","outlined","unoutlined","setOutliningStates","_state","SearchingSecondFeature","_currentMeasurement","setVisible","update","_viewport","getCamera","settings","_settings","shiftKey","featureFace","featureEdge","featureVertex","needToUpdateMeasurement","fixPoint","state","SearchingFirstFeature","setCurrentFeatureIndex","slice","measurement","point1","point2","beginMeasurementConstruction","getDistance","setShowArrows","setFeatures","newMeasurement","endMeasurementConstruction","escapePressed","cancelMeasurementConstruction","Off","_tool","setActive","is2D"],"sources":["DistanceMeasurementToolGizmo-dbg.js"],"mappings":"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"}