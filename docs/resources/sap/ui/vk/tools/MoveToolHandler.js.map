{"version":3,"file":"MoveToolHandler.js","names":["sap","ui","define","EventProvider","Menu","MenuItem","getResourceBundle","threejs","CoordinateSystem","MoveToolHandler","extend","metadata","library","constructor","tool","this","_priority","_tool","_gizmo","getGizmo","_rect","_rayCaster","THREE","Raycaster","_handleIndex","_gizmoIndex","_handleAxis","Vector3","_gizmoOrigin","_gizmoScale","_objectSpace","Matrix4","_mouse","Vector2","prototype","_updateMouse","event","size","getViewport","getRenderer","getSize","x","width","y","height","setFromCamera","getCamera","getCameraRef","_updateHandles","hoverMode","prevHandleIndex","n","type","i","l","getGizmoCount","touchObj","getTouchObject","intersects","intersectObject","length","children","indexOf","object","setFromMatrixPosition","matrixWorld","scale","extractRotation","_coordinateSystem","World","copyPosition","setFromMatrixColumn","normalize","highlightHandle","setShouldRenderFrame","hover","_inside","_gesture","handled","click","selectHandle","delta","_getAxisOffset","ray","dir","clone","cross","direction","copy","origin","sub","dot","_getPlaneOffset","dist","multiplyScalar","beginGesture","_dragOrigin","_setOffset","offset","getEnableStepping","stepSize","Math","pow","round","log10","matInv","getInverse","applyMatrix4","pos","add","pos1","getComponent","abs","pos2","isFinite","z","move","getEnableSnapping","getDetector","detect","viewport","_viewport","gizmo","detectType","endGesture","undefined","contextMenu","getAllowContextMenu","menu","items","text","getText","key","Local","Parent","Screen","Custom","itemSelected","item","getParameters","setCoordinateSystem","getKey","bind","openAsContextMenu","_getOffset","obj","rectangle","getBoundingClientRect","p","left","window","pageXOffset","top","pageYOffset","id","getIdForLabel","domobj","document","getElementById","o","w","offsetWidth","h","offsetHeight"],"sources":["MoveToolHandler-dbg.js"],"mappings":"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"}