{"version":3,"file":"TransformSvgElementToolGizmo.js","names":["sap","ui","define","Gizmo","GizmoRenderer","Element","ToolNodeSet","TransformSvgElementToolGizmo","extend","metadata","library","prototype","show","viewport","tool","this","_viewport","_tool","_nodes","_cursor","handleSelectionChanged","attachCameraChanged","_handleChanged","_viewStateManager","attachTransformationChanged","hide","removeStyleClass","detachTransformationChanged","detachCameraChanged","getDomRef","rerender","_getHandleLocalPositions","nodeInfo","matrix","bbox","x1","x","x2","width","xc","yc","y","height","dy","ySign","y1","y2","yr","_camera","zoom","Math","sqrt","_selectHandle","gizmoIndex","handleIndex","_gizmoIndex","_handleIndex","newCursor","node","_matrixWorld","angleIndex","round","atan2","PI","xSign","addStyleClass","getPosition","getScale","getAngle","normalizeAngle","angle","getYSign","root","parent","dot","v1x","v1y","v2x","v2y","det","viewStateManager","nodes","getNodeSet","Highlight","_multiplyMatrices","_invertMatrix","push","_getBBox","position","scale","length","every","v","i","_beginGesture","forEach","beginWorldMatrix","_eventParameters","getScaleFactor","ax","ay","dirX","dirY","dx","a","b","_update","invertUniformMode","hi","ohi","sx","sy","ca","sa","nodesProperties","eventType","event","activeNode","m","handleLocalPositions","p0x","p0y","p1x","p1y","getUniformScaleEnabled","max","rc","_transformPoint","rh","angle1","angle2","rotationAngle","cos","sin","slice","nodesProperty","px","py","matRotation","Float32Array","pos","setMatrix","bind","fireEvent","_endGesture"],"sources":["TransformSvgElementToolGizmo-dbg.js"],"mappings":"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"}