{"version":3,"file":"PoiToolHandler.js","names":["sap","ui","define","EventProvider","threejs","PoiToolHandler","extend","metadata","library","constructor","tool","this","_priority","_tool","_gizmo","getGizmo","_rect","_poiIndex","_mouse","THREE","Vector2","prototype","_updateMouse","event","size","getViewport","getRenderer","getSize","x","width","y","height","_updateActivePOI","n","type","viewportRect","_viewport","getDomRef","getBoundingClientRect","hit","hitTest","left","top","object","_poiZ","Vector3","setFromMatrixPosition","matrixWorld","project","getCamera","getCameraRef","z","i","l","getPOICount","getPOI","_getDragPosition","unproject","click","_inside","_gesture","selectPOI","handled","beginGesture","_dragOrigin","_setOffset","offset","isFinite","move","sub","endGesture","undefined","setShouldRenderFrame","_getOffset","obj","rectangle","p","window","pageXOffset","pageYOffset","id","getIdForLabel","domobj","document","getElementById","o","w","offsetWidth","h","offsetHeight"],"sources":["PoiToolHandler-dbg.js"],"mappings":"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"}