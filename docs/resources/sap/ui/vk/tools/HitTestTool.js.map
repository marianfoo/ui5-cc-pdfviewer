{"version":3,"file":"HitTestTool.js","names":["sap","ui","define","Tool","HitTestToolHandler","HitTestIdMode","HitTestTool","extend","metadata","library","properties","IdMode","type","defaultValue","ThreeJS","events","hit","parameters","id","object","point","clickType","constructor","sId","mSettings","_instance","apply","this","arguments","setToolid","_viewport","_handler","_loco","prototype","init","call","setFootprint","setActive","value","activeViewport","gizmoContainer","_prepare","_removeLocoHandler","_addLocoHandler","okToExec","isViewportType","_dvl","_dvlRendererId","_scene","getSceneRef","queueCommand","command","Renderer","_queueCommand","hitTest","x","y","scene","camera","hitResult","_renderer","element","domElement","mouse","THREE","Vector2","offsetLeft","clientWidth","offsetTop","clientHeight","raycaster","Raycaster","setFromCamera","getCameraRef","intersects","intersectObjects","children","length","i","result","parent","userData","closed","skipIt","visible","isBillboard","isDetailView","ret","idResult","getIdMode","VEsID","nodeRefToPersistentId","fireHit"],"sources":["HitTestTool-dbg.js"],"mappings":"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"}