{"version":3,"file":"CreatePathToolGizmo.js","names":["sap","ui","define","Gizmo","Element","Path","KeyCodes","CreatePathToolGizmo","extend","metadata","library","prototype","hasDomElement","show","viewport","tool","this","_viewport","_tool","_activeElement","updateParentNode","_onKeyPressListener","_onKeyPress","bind","document","addEventListener","hide","removeEventListener","_gizmo","parent","remove","_finishPath","_root","MIN_POINTS_DISTANCE","CLOSURE_DISTANCE","_getDistance","dx","dy","Math","sqrt","_camera","zoom","_getGizmoSegments","pos","l","type","points","x","y","_addPoint","forceAdd","checkClosure","activeElement","subelement","material","_material","lineStyle","_lineStyle","fillStyle","segments","stroke","set","strokeDashArray","getClosePath","push","setFillStyle","_fillStyle","_pointCount","_canClosePath","colour","width","node","name","add","length","invalidate","_checkClosure","closePath","fireCompleted","setLineStyle","request","_createRequest","closed","event","keyCode","ESCAPE","ENTER"],"sources":["CreatePathToolGizmo-dbg.js"],"mappings":"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"}