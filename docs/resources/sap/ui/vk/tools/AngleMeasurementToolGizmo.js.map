{"version":3,"file":"AngleMeasurementToolGizmo.js","names":["sap","ui","define","Angle","Utils","State","MeasurementToolGizmo","AngleMeasurementToolGizmo","extend","metadata","library","basePrototype","getMetadata","getParent","getClass","prototype","init","call","this","_thirdFeature","_updateCurrentFeature","nodeRef","point","viewport","allowFace","allowEdge","allowVertex","meshAnalyzer","_getMeshAnalyzer","r","_computeSphereRadius","removeFeature","shouldUpdate","wantEdge","_firstFeature","isEdge","intersection","intersectSphere","_is2D","vertex","_replaceCurrentFeature","_vertexFeatures","_currentFeatureIndex","vertexId","_currentFeature","setValue","edge","_state","SearchingSecondFeature","getFeatureId","edgeId","getContext","_edgeFeatures","getVertex","buildEdgePath","faceId","_faceFeatures","face","buildFace","intersectPlanes","getValue","planeEquation","_surface","_trimByContour","p1","p2","desiredU","line1","u","interval","o1","o2","ab","edges","v","vertices","i","count","length","intersectLines","cut","pointOnLine","_updateFace2FaceMeasurement","worldPoint","face1","face2","line","p","uMin","uMax","pointMin","pointMax","dist2","farPoint","farDist","projectPointToLine","computePointToPointDistance2","u2","_currentMeasurement","setPoint1","setPoint2","farOnLine","farToP2","pointMinusPoint","distance1","computePointToPointDistance","distance2","setPoint3","setPoint4","computeAngle","precise0","Math","acos","dotProduct","precise180","PI","angle","getAngle","setAngle","abs","_updateMeasurement","currentMeasurement","DefiningAngle","_viewport","camera","getCamera","getPoints","s1","projectToScreen","e1","s2","e2","dx","x","dy","y","wp","_hoverPoint","screenPoint","setAngleRadius","slice","isVertex","isFace","setState","SearchingThirdFeature","setHoverPoint","data","oldHighlightedNodeRef","newHighlightedNodeRef","vsm","_vsm","outlined","unoutlined","setOutliningStates","definingAngleNow","setVisible","update","settings","_settings","shiftKey","featureFace","featureEdge","featureVertex","needToUpdateMeasurement","fixPoint","outlinedNodeRef","state","SearchingFirstFeature","setCurrentFeatureIndex","worldPoint1","worldPoint2","initialState","measurement","point1","point2","point3","point4","beginMeasurementConstruction","getVisible","isEdge1Defined","_secondFeature","getState","isEdge2Defined","setFeatures","newMeasurement","endMeasurementConstruction","escapePressed","setRadiusScale","cancelMeasurementConstruction","Off","_tool","setActive","is2D"],"sources":["AngleMeasurementToolGizmo-dbg.js"],"mappings":"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"}