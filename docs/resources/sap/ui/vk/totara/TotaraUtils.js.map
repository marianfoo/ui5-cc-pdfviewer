{"version":3,"file":"TotaraUtils.js","names":["sap","ui","define","Command","IncludeUsageIdType","TotaraUtils","createCommand","commandName","parameters","requestCommandContent","JSON","stringify","length","createRequestCommand","isInitial","command","method","createRequest","ProgressLogger","id","context","totaraLoader","this","loader","tokens","Set","logPerformance","name","token","add","options","timestamp","Date","now","message","addClientLog","url","getUrl","postMessage","getTokens","logPerformanceTiming","measureList","pUuid","that","sort","a","b","measureListArray","push","splice","forEach","measureListElement","records","perf","uuid","duration","value","parent_uuid","commandStr","performanceTiming","postPerformanceTiming","mark","tag","window","performance","measure","startTag","endTag","getEntriesByName","clearMarks","clearMeasures","perfObserve","PerformanceObserver","_perfList","sceneMeasureUuid","startTimestamp","timing","navigationStart","perfObserver","list","getEntries","entry","generateToken","startTime","find","filter","PerformanceMeasure","progressLogger","observe","entryTypes","createLogger","connector","base64ToUint8Array","base64","binaryString","atob","len","bytes","Uint8Array","i","charCodeAt","arrayToColumnMajorMatrixArray16","arr","pushElementIntoMapArray","map","key","elem","array","get","set","guid","s4","Math","floor","random","toString","substring","default$select","default$expand","defaultContentTypes","configureSceneViewQuery","$select","slice","$expand","contentTypes","includeAnimation","includeBackground","includeParametric","includeUsageId","concat","to$expandQueryParameter","pushPMI","query","join","hidden","includeHidden","metadataFilter"],"sources":["TotaraUtils-dbg.js"],"mappings":"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"}