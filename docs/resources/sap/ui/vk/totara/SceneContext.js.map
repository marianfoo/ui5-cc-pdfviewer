{"version":3,"file":"SceneContext.js","names":["sap","ui","define","Log","CallbackHandler","TotaraUtils","GeometryFactory","ProgressCounter","RequestQueue","getResourceBundle","AnimationRotateType","SceneContext","sceneId","params","loader","this","root","onActiveCameraCallbacks","onInitialSceneFinishedCallbacks","onPartialRetrievalFinishedCallbacks","onSceneCompletedCallbacks","onSetPlaybackCallbacks","onViewFinishedCallbacks","onViewGroupFinishedCallbacks","onContentChangesProgressCallbacks","onInitialViewCompletedCallbacks","Object","assign","sceneBuilder","requestQueue","phase","Phase","Started","retrievalType","RetrievalType","Initial","rootNodeId","meshNodes","Map","parametricNodeMap","annotationNodeMap","leaderLineMaterialIdMap","imageNoteMaterialIdMap","thumbnailViewMap","viewThumbnailMap","viewAnimatedThumbnailMap","progressCount","treeNodes","viewIdTreeNodesMap","viewIdBoxMap","nodeSidsForPartialTree","Set","replacedNodes","updatedNodes","currentViewId","initialViewId","initialViewDecided","initialViewFired","eventObject","percentage","loadingGeometry","FinishedHierarchy","FinishedMesh","FinishedGeometry","Partial","ProgressPhase","FinishedTree","getText","FinishedMeshes","FinishedMaterials","FinishedGeomMeshes","LoadingGeomMeshes","FinishedTextures","prototype","setOnProgressChanged","callback","isLoadingFinished","isEmpty","isWaitingForContent","size","isSceneCompleted","meshes","isWaiting","annotations","materials","parametric","geomMeshes","geometries","textures","isInitialViewCompleted","texturesDone","meshesDone","geomMeshesDone","info","_checkSceneCompletion","execute","mark","logPerformance","_fireProgress","globalList","dispose","suppressedBoundingBoxListMap","name","progressLogger","token","setCameraSingle","cameraInfo","createCamera","getCamera","id","getPartialTreeNodes","partialTreeRoots","partialTreeNodes","i","j","treeNode","length","children","entityId","childNode","visualisable","childIndex","parentNode","renderOrder","parent","push","has","sid","clear","node","getNode","buildTree","isInitial","result","error","retryList","parentSid","buildNode","updateViewsForReplacedNodes","mesh","total","tNode","parentId","recursively","reportError","existingTreeNode","remove","suppressed","createNode","parametricId","meshId","preferMeshes","get","set","hasMesh","pushElementIntoMapArray","getSkipLowLODRendering","annotationId","hasAnnotation","newTreeNode","setTree","jsonContent","rootGroup","userData","skipIt","setRootNode","vkScene","camera","measure","setTreeNode","Array","isArray","nodes","concat","suppressSendRequests","setSuppressSendRequests","unsuppressSendRequests","sendRequest","notifyFinishedTree","command","initialView","setViewGroup","insertViewGroup","views","viewGroupId","view","currentViewGroupId","existingView","getView","ti","param","thumbnailId","undefined","toString","hasImage","setViewThumbnail","onViewGroupUpdatedCallbacks","thumbnails","imageId","viewId","viewInfo","animatedThumbnailId","finalizeViewGroups","sequences","setView","box","cameraId","delete","insertView","viewNodes","setViewCamera","setViewNode","binaryContent","context","notifyFinishedView","pop","activeCameraId","setCamera","viewResult","buildView","setViewNodeInfos","nodeInfos","from","processNodeRecursively","parentVisible","visible","materialId","_checkIfNeededAndOrderMaterial","target","opacity","transform","arrayToColumnMajorMatrixArray16","existingChildrenSids","getChildNodeIds","incomingChildrenSids","map","index","currentSid","childSid","childVisibility","highlightStyleId","recordHighlightedNodeInView","highlightStyleExists","highlights","setAnnotationSingle","singleAnnotation","nodeIds","annotation","JSON","parse","stringify","nodeId","detailView","cutaway","createDetailView","labelMaterialId","label","checkMaterialExists","createImageNote","onAnnotationFinishedCallbacks","createAnnotation","leaderLines","l","leaderLine","insertLeaderLine","cameras","forEach","bind","setMeshSingle","submesh","viewBoundingBox","submeshes","insertSubmesh","count","bbox","Infinity","lods","li","boundingBox","Math","min","max","x","y","z","totalScale","matrixWorld","getMaxScaleOnAxis","geometrySize","geometry","setMesh","binaryData","dataView","DataView","buffer","byteOffset","byteLength","bufferCount","getUint16","offset","geomInfo","getUint32","getFloat32","geometryType","flags","quality","pointCount","elementCount","bufferLength","subarray","setGeometry","setMaterialSingle","material","texturesToLoad","createMaterial","imageNotes","onMaterialFinishedCallbacks","setMaterial","m","geometryId","data","base64ToUint8Array","geometryInfo","getGeometryInfo","onSetGeometryCallbacks","setImage","createImage","onImageFinishedCallbacks","tileWidth","setAnnotation","setHighlightStyle","insertHighlightStyle","setLineStyle","lineStyles","lineStyle","insertLineStyle","setFillStyle","fillStyles","fillStyle","insertFillStyle","setTextStyle","textStyles","textStyle","insertTextStyle","temporaryMaterialNeeded","parametricContent","materialNeeded","setParametric","parametrics","shapes","k","materialID","setParametricContent","setPlayback","playbacks","onlyLoadingPlaybacks","playback","playbackIds","notLoading","sortPlaybacks","resetPlaybacksStartTimes","joints","insertJoints","sequence","sequenceId","setSequence","insertPlayback","existingSequence","getSequence","hasAnimation","finalizeAnimation","finalizePlaybacks","setSequenceSingle","tracks","obj","key","hasOwnProperty","nj","seqNode","rotate","rrotate","rotateNode","trackId","track","binding","pivot","isAbsoluteValue","empty","translate","rtranslate","translateNode","scale","rscale","scaleNode","ropacity","opacityNode","insertSequence","setTrack","onSetSequenceCallbacks","times","time","vector3","values","quaternion","rotateType","Quaternion","angleAxis","AngleAxis","euler","Euler","scalar","cyclicInfo","cyclicStart","cyclicEnd","insertTracks","onSetTrackCallbacks","notifyError"],"sources":["SceneContext-dbg.js"],"mappings":"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"}