/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)

        (c) Copyright 2009-2015 SAP SE. All rights reserved
    
 */
sap.ui.define(["./IndexCompressor"],function(r){"use strict";var a=1;var e=2;var t=4;var u=0;var o=3;var n=function(){};n.getGeometryInfo=function(u,o){var n=new DataView(o.buffer,o.byteOffset,o.byteLength);var s=0;var l=(u.flags&e)>0;var C=(u.flags&t)>0;var p=(u.flags&a)>0;var y=false;var m=[];var d=[];var h=[];var g=[];var c=[-.5,-.5,-.5,.5,.5,.5];var B=new r(o,o.length);B.setCurByte(s);if(!B.ReadCommand()){throw"buffer over flow"}var F=B.rvalue;var O;if(F){O=i(B,u.pointCount,F,c,m);if(O.isOk){m=O.array;y=true}else{return false}}var k=1;if(l){if(!B.ReadCommand()){return false}k=B.rvalue;if(k){O=f(B,u.pointCount,k);if(O.isOk){d=O.array}else{return false}}}var R=1;var w=false;if(C){if(!B.ReadCommand()){return false}R=B.rvalue;if(R){O=v(B,u.pointCount,R);if(O.isOk){w=true;h=O.array}else{return false}}}if(!F||!k||!R||w){if(w){s=B.getCurByte();var M=n.getFloat32(s,true);var b=n.getFloat32(s+4,true);B.moveCurByte(8);if(M!==0||b!==1){var I=b-M;for(var P=0;P<u.pointCount*2;P++){h[P]=h[P]*I+M}}}var A;if(!F){s=B.getCurByte();for(A=0;A<u.pointCount;A++){m.push(n.getFloat32(s+A*4,true));m.push(n.getFloat32(s+(A+u.pointCount)*4,true));m.push(n.getFloat32(s+(A+u.pointCount*2)*4,true))}B.moveCurByte(u.pointCount*3*4)}if(!k){s=B.getCurByte();for(A=0;A<u.pointCount;A++){d.push(n.getFloat32(s+A*4,true));d.push(n.getFloat32(s+(A+u.pointCount*1)*4,true));d.push(n.getFloat32(s+(A+u.pointCount*2)*4,true))}B.moveCurByte(u.pointCount*3*4)}if(!R){if(C){s=B.getCurByte();for(A=0;A<u.pointCount;A++){h.push(n.getFloat32(s+A*4,true));h.push(n.getFloat32(s+(A+u.pointCount*1)*4,true))}B.moveCurByte(u.pointCount*2*4)}}}var D=B.getCurByte();B.Reset();B.setCurByte(D);var x=[0,0,0];var z=p?2:3;for(var G=0;G<u.elementCount;G++){for(var L=0;L<z;L++){if(!B.ReadCommand(x[L])){throw"UIC1 Decompression error!!!"}else{g.push(B.rvalue);x[L]=B.rvalue}}}return{id:u.id,isPolyline:p,isPositionQuantized:y,data:{indices:g,points:m,normals:d,uvs:h}}};function i(r,a,e,t){var n={array:new Array(a*3),isOk:false};for(var i=0;i<3;i++){var f=t[u+i];var v=(t[o+i]-f)/e;for(var s=0;s<a;s++){if(!r.ReadCommand()){return n}n.array[s*3+i]=v*r.rvalue+f}}n.isOk=true;return n}function f(r,a,e){var t={array:[],isOk:false};var u=[];var o;for(o=0;o<a;o++){if(!r.ReadCommand()){return t}u.push(r.rvalue)}var n=2*Math.PI/e;var i;var f;var v;for(o=0;o<a;o++){if(!r.ReadCommand()){return t}i=n*u[o];f=n*r.rvalue;v=Math.sin(f);t.array.push(v*Math.cos(i));t.array.push(v*Math.sin(i));t.array.push(Math.cos(f))}t.isOk=true;return t}function v(r,a,e){var t={array:new Array(a*2),isOk:false};var u=1/e;for(var o=0;o<2;o++){for(var n=0;n<a;n++){if(!r.ReadCommand()){return false}t.array[n*2+o]=u*r.rvalue}}t.isOk=true;return t}return n});
//# sourceMappingURL=GeometryFactory.js.map