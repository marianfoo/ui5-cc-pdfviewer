{"version":3,"file":"RequestQueue.js","names":["sap","ui","define","TotaraUtils","Command","IncludeUsageIdType","Log","ResourceQueue","getBatchSize","this","globalList","Set","requestedList","waitingList","Map","prototype","push","id","requestData","has","add","set","setBatchSizeInfo","batchSizeInfo","fetchBatch","batchSize","batchStringLength","batch","i","length","reqData","pop","toString","separatorLength","maxBatchStringLength","index","indexOf","splice","delete","isReady","clear","isEmpty","isWaiting","size","isInitialViewCompleted","initialRequests","filter","li","isInitial","initialWaitingRequests","forEach","val","key","PriorityResourceQueue","getMaxBatchDataSize","call","priorityMap","Object","create","constructor","priority","p","s","sort","a","b","get","maxBatchDataSize","minBatchDataSize","resSize","RequestQueue","context","sceneId","token","generateToken","loader","meshes","getMeshesBatchSize","bind","materials","getMaterialsBatchSize","textures","geometries","getGeometriesBatchSize","getGeometriesMaxBatchDataSize","geomMeshes","getGeomMeshesBatchSize","getGeomMeshesMaxBatchDataSize","annotations","getAnnotationsBatchSize","parametric","getParametricsBatchSize","views","thumbnails","tracks","getTracksBatchSize","sequences","getSequencesBatchSize","highlights","isWaitingForContent","clearContent","createGetContentCommand","commandName","ids","extraOptions","options","map","parseInt","createRequestCommand","assign","generateRequestCommand","command","Error","getMesh","method","getAnnotation","parameters","annotationIds","getParametric","getMaterial","materialIds","getGeometry","geomMeshIds","getGeomMesh","meshIds","info","imageId","getImage","getSequence","getTrack","getView","viewId","query","configureSceneViewQuery","getHighlightStyle"],"sources":["RequestQueue-dbg.js"],"mappings":"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"}