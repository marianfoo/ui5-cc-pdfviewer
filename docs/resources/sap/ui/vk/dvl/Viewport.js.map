{"version":3,"file":"Viewport.js","names":["sap","ui","define","ResizeHandler","abgrToColor","CameraFOVBindingType","CameraProjectionType","colorToABGR","colorToCSSColor","vkCore","cssColorToColor","getResourceBundle","glMatrix","Loco","Messages","SelectionMode","Smart2DHandler","ViewportBase","ViewportHandler","VisibilityMode","ZoomTo","OutputSettings","getJSONObject","Scene","ViewportRenderer","Log","dictionary","initializeDictionary","encodedProjectionType","decodedProjectionType","encodedBindingType","decodedBindingType","decodedZoomTo","Perspective","ve","dvl","DVLCAMERAPROJECTION","PERSPECTIVE","Orthographic","ORTHOGRAPHIC","Minimum","DVLCAMERAFOVBINDING","MIN","Maximum","Max","Horizontal","HORZ","Vertical","VERT","MAX","All","DVLZOOMTO","DVLZOOMTO_ALL","Visible","DVLZOOMTO_VISIBLE","Selected","DVLZOOMTO_SELECTED","Node","DVLZOOMTO_NODE","NodeSetIsolation","DVLZOOMTO_NODE_SETISOLATION","Restore","DVLZOOMTO_RESTORE","RestoreRemoveIsolation","DVLZOOMTO_RESTORE_REMOVEISOLATION","ViewLeft","VIEW_LEFT","ViewRight","VIEW_RIGHT","ViewTop","VIEW_TOP","ViewBottom","VIEW_BOTTOM","ViewBack","VIEW_BACK","ViewFront","VIEW_FRONT","Viewport","extend","metadata","library","properties","backgroundColorTopABGR","type","defaultValue","backgroundColorBottomABGR","events","pan","parameters","dx","dy","zoom","zoomFactor","rotate","frameRenderingFinished","basePrototype","getMetadata","getParent","getClass","prototype","init","call","this","_eventBus","getEventBus","_graphicsCore","_dvl","_dvlRendererId","_viewStateManager","_canvas","_resizeListenerId","_is2D","_viewportHandler","_loco","addHandler","_smart2DHandler","_lastPlayedStep","_contentConnector","exit","removeHandler","destroy","deregister","setViewStateManager","setScene","setGraphicsCore","graphicsCore","Client","detachFrameFinished","_handleFrameFinished","detachStepEvent","_updateLastPlayedStep","Renderer","SetViewStateManager","_deregisterViewport","_getDvl","_registerViewport","setShowDebugInfo","getShowDebugInfo","attachStepEvent","attachFrameFinished","getGraphicsCore","_setCanvas","canvas","shouldInvalidate","getDomRef","invalidate","_setRenderer","rendererId","DVLSTEPEVENT","DVLSTEPEVENT_STARTED","stepId","_updateOutputSettings","scene","AttachScene","getSceneRef","_dvlSceneRef","attachUrlClicked","_fireUrlClicked","isSmart2DContent","_isSmart2DContent","_isSmart2DContentLegacy","SetBackgroundColor","topColor","_getDecomposedABGR","getBackgroundColorTopABGR","bottomColor","getBackgroundColorBottomABGR","red","green","blue","alpha","fireViewActivated","detachUrlClicked","stepInfo","RetrieveSceneInfo","DVLSCENEINFO","DVLSCENEINFO_STEP_INFO","dvlOutput","RetrieveOutputSettings","StepId","outputSettings","width","height","dpi","setOutputSettings","hotspotNodeRefs","DVLSCENEINFO_HOTSPOTS","ChildNodes","length","cameraId","GetCurrentCamera","rotation","Camera","GetRotation","projection","GetProjection","_initializeSmart2DHandler","getShowAllHotspots","nodeHierarchy","getNodeHierarchy","hotspotsNodeRefs","getHotspotNodeIds","showHotspots","paramaters","fireUrlClicked","url","nodeRef","nodeId","setHotspotColorABGR","value","setProperty","getProperty","setHotspotColor","_getStepAndProcedureIndexes","procedures","procedureIndex","stepIndex","isFound","i","j","steps","id","_getStepVeIdById","veIds","RetrieveVEIDs","Array","isArray","idIndex","idCount","veId","source","fields","fieldIndex","fieldCount","field","name","_getStepIdByVeId","stepVeId","procedureCount","stepCount","setDefaultQueryCamera","effectiveQuery","camera","setDefaultQueryCameraMatrices","matrices","setDefaultQueryCameraUseTransitionCamera","useTransitionCamera","setDefaultQueryAnimation","animation","setDefaultQueryVisibility","visibility","setDefaultQueryVisibilityMode","mode","Complete","getViewInfo","query","Differences","viewInfo","GetTransitionCamera","DVLID_INVALID","cameraOrigin","GetOrigin","yaw","pitch","roll","position","x","y","z","projectionType","bindingType","GetFOVBinding","_matView","viewMatrix","slice","_matProj","projectionMatrix","fieldOfView","GetFOV","GetOrthoZoomFactor","GetCameraMatrices","view","isStepBeingPlayed","animationTime","StepTime","RetrieveProcedures","stepAndProcedureIndexes","allVisibility","getVisibilityComplete","visible","hidden","getShouldTrackVisibilityChanges","changes","getVisibilityChanges","warning","getText","VIT32","summary","code","setViewInfo","flyToDuration","shouldResetVisibility","error","VIT26","VIT27","ActivateStep","PauseCurrentStep","VIT19","currentCamera","CreateCamera","SetFOV","SetOrthoZoomFactor","SetOrigin","SetRotation","SetFOVBinding","ActivateCamera","DeleteNode","veIdToNodeRefMap","Map","allNodeRefs","findNodesByName","forEach","nodeProxy","createNodeProxy","jQuery","grep","getVeIds","destroyNodeProxy","set","visibleVeIds","hiddenVeIds","setVisibilityState","get","resetView","transition","getVisibilityState","VIT28","setSelectionRect","rect","DrawSelectionRect","p1","_toDvlRendererCoord","x1","y1","p2","x2","y2","getOutputSize","boundingClientRect","getBoundingClientRect","viewportWidth","viewportHeight","relevantDimension","Math","min","max","left","top","sideLength","onBeforeRendering","onAfterRendering","domRef","appendChild","register","_handleResize","bind","size","clientWidth","clientHeight","event","drawingBufferWidth","window","devicePixelRatio","drawingBufferHeight","px","py","pmax","getAggregation","_gestureRatio","getKeepOutputSize","getDpi","getWidth","getHeight","wratio","hratio","ratio","SetDimensions","SetOptionF","DVLRENDEROPTIONF","DVLRENDEROPTIONF_DPI","DVLRENDEROPTIONF_MIN_VISIBLE_OBJECT_SIZE","style","fireResize","_onVisibilityChanged","_onSelectionChanged","_onOpacityChanged","_onTintColorChanged","ForceRenderFrame","nodeRefs","show","color","setTintColor","vk","NodeProxy","setNodeProxyTintColor","highlightColor","undefined","getHotspotColorABGR","children","nodeChildren","RetrieveNodeInfo","DVLNODEINFO","DVLNODEINFO_CHILDREN","push","apply","descendants","getAllDescendants","getChildren","integerColor","_setBackgroundColor","bottom","setBackgroundColorTopABGR","setBackgroundColorTop","setBackgroundColorBottomABGR","setBackgroundColorBottom","setKeepOutputSize","_updateViewportSize","setAggregation","setShouldRenderFrame","shouldRenderFrame","ShouldRenderFrame","lerp","a","b","f","smootherStep","edge0","edge1","_updateRedlineZoomToAnimation","anim","_anim","startProjRect","endProjRect","Date","now","startTime","duration","projRect","right","_redlineHandler","prevProjRect","currentProjRect","pcx","pcy","ncx","ncy","setProjectionRect","renderFrame","renderFrameEx","RenderFrame","RenderFrameEx","concat","resetOptions","isPlainObject","VIT31","options","dvlOption","DVLRESETVIEWFLAG","CAMERA","SMOOTHTRANSITION","VISIBILITY","ResetView","canIsolateNode","CanIsolateNode","setIsolatedNode","SetIsolatedNode","getIsolatedNode","GetIsolatedNode","r1","getProjectionRect","r2","rx","ry","hitTest","p","result","HitTest","SetOption","DVLRENDEROPTION","DVLRENDEROPTION_SHOW_DEBUG_INFO","fireFrameRenderingFinished","beginGesture","_gesturePoint","BeginGesture","endGesture","EndGesture","_activateRedline","_deactivateRedline","getFreezeCamera","Pan","firePan","Rotate","fireRotate","matProj","isOrthographic","rightMinusLeft","topMinusBottom","rightPlusLeft","topPlusBottom","Zoom","fireZoom","zoomTo","what","crossFadeSeconds","margin","flags","_redlineZoomTo","Infinity","bbox","DVLNODEINFO_BBOX","matWorld","GetNodeWorldMatrix","matrix","vec3","mat4","matViewProj","multiply","create","matWorldViewProj","fromValues","transformMat4","cx","cy","hw","hh","tap","isDoubleClick","node","picked","fireNodesPicked","getSelectionMode","Exclusive","exclusiveSelectionHandler","Sticky","stickySelectionHandler","fireNodeClicked","Tap","rectSelect","nodes","RectSelect","SelectedNodes","queueCommand","command","_queueCommand","_setContent","content","arguments","_setScene","onSetContentConnector","contentConnector","attachContentChangesFinished","_onContentChangesFinished","onUnsetContentConnector","detachContentChangesFinished","getSource","getContentResources","onSetViewStateManager","viewStateManager","attachOpacityChanged","attachSelectionChanged","attachTintColorChanged","attachVisibilityChanged","onUnsetViewStateManager","detachOpacityChanged","detachSelectionChanged","detachTintColorChanged","detachVisibilityChanged","offscreenPosition","rotateDelta","panDelta","key","item","preventDefault","stopPropagation","shiftKey","ctrlKey","altKey","metaKey","d","$"],"sources":["Viewport-dbg.js"],"mappings":"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"}