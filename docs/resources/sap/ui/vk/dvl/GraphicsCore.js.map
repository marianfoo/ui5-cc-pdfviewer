{"version":3,"file":"GraphicsCore.js","names":["sap","ui","define","EventProvider","Html2Canvas","Dvl","Scene","ContentResource","DownloadManager","ViewStateManager","DvlException","Messages","URI","GraphicsCoreApi","checkResult","getPointer","getJSONObject","getResourceBundle","utf8ArrayBufferToString","assert","uid","Log","core","getStorageName","source","File","getSourceName","name","SourceDatum","Object","defineProperties","this","value","writable","enumerable","_refCount","prototype","isInUse","addRef","release","destroy","VdslSourceDatum","vdsSourceDatum","vdslContent","call","content","create","constructor","DvlSceneDatum","dvlSceneId","sourceDatum","root","ShadowContentResource","contentResource","fake","getSource","sourceType","getSourceType","sourceId","getSourceId","getName","localMatrix","getLocalMatrix","password","getPassword","children","getContentResources","map","dvlSceneDatum","nodeProxy","sourceProperties","_shadowContentResource","VkSceneDatum","vkScene","shadowContentResource","GraphicsCore","extend","metadata","library","publicMethods","runtimeSettings","webGLContextAttributes","apply","settings","jQuery","filePackagePrefixURL","require","toUrl","_dvlClientId","that","_initialized","Promise","resolve","_initResolve","ve","dvl","createRuntime","then","_dvl","CreateCoreInstance","Core","Init","_DVLMajorVersion","_DVLMinorVersion","ui5Core","attachLocalizationChanged","_onlocalizationChanged","SetLocale","getConfiguration","getLanguageTag","_canvas","_createRenderingCanvasAndContext","_rendererId","CreateRenderer","Renderer","SetOptionF","DVLRENDEROPTIONF","DVLRENDEROPTIONF_DPI","window","devicePixelRatio","_sourceData","_dvlSceneData","_vkSceneData","_viewports","_renderLoopRequestId","_renderLoop","bind","_viewStateManagers","_authorizationHandler","_retryCount","reject","g","err","detachLocalizationChanged","viewports","slice","reverse","forEach","viewport","control","setGraphicsCore","_cleanupVkSceneData","_cleanupDvlSceneData","length","_cleanupSourceData","destroyViewStateManager","_webGLContext","DeleteRenderer","Release","canvas","document","createElement","id","CreateWebGLContext","_getCanvas","_getWebGLContext","_getDvl","_getDvlClientId","_findSourceData","properties","propNames","getOwnPropertyNames","filter","item","every","propName","_destroySourceDatum","DeleteFileByUrl","needAnotherPass","i","referencedSourceDatum","splice","_findDvlSceneData","_destroyDvlSceneDatum","_findVkSceneData","destroyScene","_destroyShadowContentResource","nodeHierarchy","getDefaultNodeHierarchy","removeNode","getNodeRef","e","message","code","error","destroyNodeProxy","_filterContentResources","contentResources","result","enumerate","push","_getContentResourcesWithMissingPasswords","Library","RetrieveInfo","flags","DVLFILEFLAG","ENCRYPTED","warning","_getContentResourcesWithEncryptedVds3","fileInfo","major","_collectAndCheckSourceProperties","sourceInfo","version","minor","PAGESCOMPRESSED","WHOLEFILECOMPRESSED","compressed","encrypted","loadContentResourcesAsync","onComplete","onProgress","sources","vdslSources","Map","indexOf","srcType","ext","split","pop","set","sourceData","sourcesFailedToLoad","downloadManager","attachItemSucceeded","event","getParameter","response","has","trim","status","VIT22","statusText","getText","summary","lines","m","match","VIT23","vdslSourceData","get","referencedSource","originalReferencedSource","originalReferencedSourceUrl","is","VIT24","vdslSourceUrl","absoluteTo","href","replace","GetFilename","queue","isFile","storageName","CreateFileFromArrayBuffer","attachAllItemsCompleted","Array","vdslSource","join","attachItemFailed","attachItemProgress","start","_buildPlaceholders","parentNodeRef","insertBeforeNodeRef","shadowContentResources","shadowContentResourcesToLoad","build","nodeRef","createNode","createNodeProxy","setLocalMatrix","_updatePlaceholders","rootShadowContentResource","update","equals","copyMutableProperties","changes","arrayDiff","change","index","type","nextNodeRef","concat","_loadAndMergeContentResource","groupingNodeRef","LoadSceneFromVDSL","LoadSceneByUrl","VIT34","ResetView","DVLRESETVIEWFLAG","CAMERA","Merge","_dvlSceneRef","buildSceneTree","rootDvlSceneDatum","CreateEmptyScene","fakeRootContentResource","updateSceneTree","onError","errors","contentResourcesWithEncryptedVds3","VIT25","contentResourcesWithMissingPasswords","VIT21","oldRootIsFromFile","newRootIsFromFile","fireChanged","_loadDvlSceneAsync","deregisterEventHandlers","handleSucceeded","parameters","fireSceneLoadingFinished","sceneId","handleFailed","errorMessage","DVLRESULT","getDescription","errorCode","reason","handleProgress","clientId","percentage","fireSceneLoadingProgress","Client","NotifyFileLoadProgress","detachSceneFailed","detachSceneLoaded","attachSceneLoaded","attachSceneFailed","fireSceneLoadingStarted","LoadSceneFromVDSLAsync","LoadSceneByUrlAsync","FAIL","forEachAsynchronousSequential","objects","action","step","catch","_loadAndMergeContentResourcesAsync","buildSceneTreeAsync","scene","failureReason","updateSceneTreeAsync","vkSceneDataIndex","getId","vkSceneData","findIndex","array","predicate","thisArg","isArray","count","findViewportByControl","findViewportByRendererId","rendererId","_registerViewport","viewportControl","newViewport","_startRenderLoop","firstViewport","_setCanvas","attachFrameFinished","_handleFrameFinished","_setRenderer","attachResize","_handleViewportResize","_deregisterViewport","_stopRenderLoop","detachFrameFinished","remainingViewport","detachResize","_getViewportCount","width","Math","max","height","requestAnimationFrame","cancelAnimationFrame","lastRendererId","multipleViewports","_processCommandQueue","ShouldRenderFrame","SetDimensions","renderFrame","targetCanvas","targetContext","getContext","targetWidth","targetHeight","drawImage","createViewStateManager","shouldTrackVisibilityChanges","viewStateManager","_setNodeHierarchy","setShouldTrackVisibilityChanges","showDebugInfo","enable","setShowDebugInfo","getApi","apiId","LegacyDvl","collectGarbage","language","getDecryptionHandler","setDecryptionHandler","handler","setAuthorizationHandler","setRetryCount","retryCount","attachSceneLoadingFinished","data","func","listener","attachEvent","detachSceneLoadingFinished","detachEvent","parameter","allowPreventDefault","enableEventBubbling","fireEvent","attachSceneLoadingProgress","detachSceneLoadingProgress","attachSceneLoadingStarted","detachSceneLoadingStarted"],"sources":["GraphicsCore-dbg.js"],"mappings":"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"}