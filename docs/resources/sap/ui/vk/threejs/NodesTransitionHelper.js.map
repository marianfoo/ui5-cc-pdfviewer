{"version":3,"file":"NodesTransitionHelper.js","names":["sap","ui","define","three","Element","TransformationMatrix","NodesTransitionHelper","extend","metadata","library","properties","publicMethods","events","displaying","displayed","prototype","init","this","_viewStateManager","_nodeLocalmMatrixMap","Map","_nodeLocalMatrixMapForVisibility","_timeIntervalForDisplay","_startTimeForDisplay","destroy","apply","arguments","setViewStateManager","viewStateManager","setNodeForDisplay","node","newMatrix","set","oldMatrix","getLocalMatrix","convertTo4x3","elements","setDisappearingNode","om","nm","visible","_viewport","getViewStateManager","setVisibilityState","getNodeRef","setAppearingNode","_interpolateNodePositionForVisibility","data","interpolateCoeff","nodeRef","_interpolateNodePosition","oldTHREEMatrix","THREE","Matrix4","fromArray","convertTo4x4","oldPosition","Vector3","oldQuaternion","Quaternion","oldScale","decompose","newTHREEMatrix","newPosition","newQuaternion","newScale","position","lerpVectors","quaternion","copy","slerp","scale","translation","toArray","startDisplay","timeInterval","size","undefined","Date","now","forEach","matrices","fireDisplaying","displayNodesMoving","Math","min","pow","transforms","nodeRefs","positions","push","bind","length","setTransformation","visibility","values","clear","fireDisplayed"],"sources":["NodesTransitionHelper-dbg.js"],"mappings":"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"}