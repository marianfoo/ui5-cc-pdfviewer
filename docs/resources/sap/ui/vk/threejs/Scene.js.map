{"version":3,"file":"Scene.js","names":["sap","ui","define","SceneBase","NodeHierarchy","RenderMode","ThreeExtensions","ThreeUtils","uid","Scene","extend","metadata","library","constructor","scene","call","this","_id","_scene","_sceneBuilder","_defaultNodeHierarchy","_currentViewStateManager","_animationSequenceMap","Map","_initialView","_materialMap","prototype","init","_outlineColor","THREE","Vector4","_outlineMaterial","ShaderMaterial","uniforms","color","value","vertexShader","join","fragmentShader","depthWrite","depthFunc","LessEqualDepth","polygonOffset","polygonOffsetFactor","blending","NormalBlending","alphaTest","clipping","_solidWhiteMaterial","MeshBasicMaterial","clearThreeScene","all3DNodes","allGroupNodes","getAllTHREENodes","disposedBufferGeometries","disposedMaterials","forEach","n3d","Mesh","has","geometry","uuid","disposeGeometry","set","material","disposeMaterial","userData","originalMaterial","parent","remove","gn","clear","destroy","dispose","setDoubleSided","setProperty","traverse","node","undefined","originalMaterialSide","FrontSide","materialUserData","side","DoubleSide","setViewStateManager","getViewStateManager","getId","getDefaultNodeHierarchy","_computeBoundingBox","visibleOnly","ignoreDynamicObjects","ignore2DObjects","boundingBox","Box3","_expandBoundingBox","getSceneRef","setSceneBuilder","sceneBuilder","getSceneBuilder","nodeRefToPersistentId","nodeRefs","Array","isArray","map","nodeRef","_vkPersistentId","persistentIdToNodeRef","pIDs","pID","getNode","setNodePersistentId","sid","sceneId","setAnnotationPersistentId","annotation","enumerateMaterials","topNode","createNodeProxy","distEpsilon","compare","a","b","dx","x","dy","y","z","quickSort","array","beginIndex","endIndex","partitionIndex","partition","pivotValue","i","swap","j","temp","size","Vector3","mergeVertices","geom","computeBoundingBox","getSize","Math","max","vertices","vertexCount","length","faceCount","faces","faceCount2","index","unique","changes","push","faceSrc","face","c","OutlineGeometry","thresholdAngle","BufferGeometry","type","thresholdDot","cos","DEG2RAD","edges","edge1","edge2","key","keys","v","geometry2","isBufferGeometry","Geometry","fromBufferGeometry","clone","computeFaceNormals","sourceVertices","fi","l","min","index1","index2","face1","face2","normals1","normals2","e","normal","dot","copy","sub","cross","vertex","normal1","normal2","setAttribute","Float32BufferAttribute","Object","create","box3IsNull","box","createMergedGeometry","isMesh","skipIt","children","child","childGeometry","merge","matrix","setMeshMaterial","newMaterial","defaultMaterial","_vkUpdateMaterialColor","_vkUpdateMaterialOpacity","restoreMeshMaterial","_createOutlineGeometry","renderMode","_vkTraverseMeshNodes","isOutline","visible","hasOutline","mergedGeometry","err","line","LineSegments","renderOrder","add","isLineBasicMaterial","isLineMaterial","LineIllustration","ShadedIllustration","emissive","multiplyScalar","addScalar","bind","_hideOutlineGeometry","getInitialView","setInitialView","view","getMaterial","materialId","get","setMaterial","clearMaterials","_getNativeMaterial","getMaterialRef","_setNodeMaterial","_setSubmeshMaterial","initialMaterialId","initialMaterial"],"sources":["Scene-dbg.js"],"mappings":"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"}