{"version":3,"file":"ThreeExtensions.js","names":["sap","ui","define","abgrToColor","ObjectType","threeJs","NodeContentType","ThreeUtils","THREE","Object3D","prototype","defaultEmissive","r","g","b","defaultSpecular","_vkCalculateObjectOrientedBoundingBox","computeObjectOrientedBoundingBox","this","userData","boundingBox","Box3","_vkTraverseNodeGeometry","callback","i","l","children","length","child","geometry","undefined","skipIt","_vkSetHighlightColor","colorABGR","node","highlightingColor","_vkUpdateMaterialColor","_vkSetTintColor","tintColorABGR","tintColor","_vkSetOpacity","opacity","joints","nodeJointMap","parentJointsMap","Map","forEach","joint","parent","set","jointsArray","get","push","_vkTraverseNodes","_vkUpdateMaterialOpacity","material","color","originalMaterial","map","bumpMap","alphaMap","envMap","emissiveMap","aoMap","clone","copy","emissive","specular","highlightColor","Color","fromArray","lerp","c","red","green","blue","alpha","defaultHighlightingEmissive","defaultHighlightingSpecular","highligColor","transparent","hasOpacity","obj3D","currentOpacity","offsetOpacity","renderOrder","depthTest","_vkGetTotalOpacity","_vkTraverseMeshNodes","_vkUpdate","isDetailView","childJoints","j","box3ApplyMatrix4","matrix","min","max","m","elements","cx","x","cy","y","cz","z","ex","ey","ez","tcx","tcy","tcz","tex","Math","abs","tey","tez","_expandBoundingBox","visibleOnly","ignoreDynamicObjects","ignore2DObjects","nodeBoundingBox","expandBoundingBox","computeBoundingBox","isEmpty","matrixWorld","isFinite","selectionBoundingBox","traverse","is2D","visible","_vkPersistentId","treeNode","sid","_vkSetNodeContentType","nodeContentType","Reference","Background","renderStage","Symbol","updateMatrix","updateMatrixWorld","direction","Vector3","setFromMatrixColumn","normalize","_vkGetNodeContentType","Camera","_vkZoomTo","margin","size","getSize","lengthSq","boxVertices","matViewProj","Matrix4","projectVector","projectBox","Box2","calcBoxProjection","camera","vertex","project","expandByPoint","Vector2","view","enabled","offsetX","width","offsetY","height","zoomScale","insideFrustum","multiplyMatrices","projectionMatrix","matrixWorldInverse","applyMatrix4","target","getCenter","dir","getWorldDirection","multiplyScalar","position","sub","isPerspectiveCamera","step","vPos1","vPos2","nj","add","isOrthographicCamera","zoom","updateProjectionMatrix","Mesh","_vkClone","clonedMesh","disposeMaterial"],"sources":["ThreeExtensions-dbg.js"],"mappings":"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"}