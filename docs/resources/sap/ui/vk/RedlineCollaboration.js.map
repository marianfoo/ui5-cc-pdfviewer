{"version":3,"file":"RedlineCollaboration.js","names":["sap","ui","define","Element","vkCore","RedlineTool","RedlineConversation","uuidv4","RedlineUpgradeManager","core","RedlineCollaboration","extend","metadata","library","aggregations","conversations","singularName","type","multiple","associations","viewport","activeConversation","activeComment","events","elementCreated","parameters","element","elementClicked","elementId","elementHovered","conversationActivating","conversation","conversationActivated","viewportLocked","constructor","sId","apply","this","arguments","undefined","_elementId","prototype","init","_header","Map","exit","_tool","setActive","destroy","byId","getViewport","surface","getMeasurementSurface","detachMeasurementsAdded","_onmMeasurementsAdded","detachMeasurementsRemoving","_onMeasurementsRemoving","detachScaleChanged","_onMeasurementsScaleChanged","getElementId","setViewport","setAssociation","attachElementCreated","_onElementCreated","attachElementClicked","_onElementClicked","attachElementHovered","_onElementHovered","addTool","attachMeasurementsAdded","_onMeasurementsAdded","attachMeasurementsRemoving","attachScaleChanged","event","measurements","getParameter","getActiveConversation","comment","getActiveComment","forEach","measurement","json","toJSON","addMeasurement","id","getId","removeMeasurement","comments","getComments","scale","setMeasurementScale","fireElementHovered","addContent","destroyRedlineElements","_activate","fireElementCreated","fireElementClicked","setHeaderProperty","key","value","set","getHeaderProperty","get","removeHeaderProperty","delete","createConversation","name","conversationName","addConversation","setActiveConversation","getViewInfo","result","_updateViewInfo","setViewInfo","_deactivate","fireConversationActivating","scene","getContentConnector","getContent","views","getViews","view","j","length","getViewId","getEventBus","subscribe","_readyForAnimation","vsm","getViewStateManager","vm","getViewManager","setAllowAutoPlayAnimation","_activatingView","getActive","activateView","getMeasurements","fromJSON","getMeasurementScale","setShouldRenderFrame","fireConversationActivated","animationPlayer","getAnimationPlayer","setTime","getAnimationOffset","viewInfo","getCamera","getCameraRef","camera","enabled","unsubscribe","createElement","redlineElement","setViewId","getCurrentView","setAnimationOffset","getTime","startAdding","deactivateRedlineDrawing","stopAdding","removeElement","removeContent","_normalizeElementsArray","elements","normalizedArray","currentElements","getActiveRedlineElements","Array","isArray","i","vk","RedlineElement","push","k","setHighlight","color","setHalo","setHaloColor","_haloColor","getGizmo","rerender","setDefaultHighlightColor","clearHighlight","addStyleClass","className","removeStyleClass","toggleStyleClass","query","matrices","visibility","selection","freezeView","unfreezeView","getRedlineElements","getText","_createConversationFromJSON","userIds","importJSON","upgrade","Set","destroyConversations","setActiveComment","headerProperties","Object","entries","header","jsonConversations","ids","add","initialId","getConversations","initialConversation","exportJSON","activeId","headerObject","fromEntries","schemaVersion","map"],"sources":["RedlineCollaboration-dbg.js"],"mappings":"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"}