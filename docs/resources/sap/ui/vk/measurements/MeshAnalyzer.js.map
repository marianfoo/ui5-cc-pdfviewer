{"version":3,"file":"MeshAnalyzer.js","names":["sap","ui","define","Utils","tempV0","Float64Array","tempV1","tempV2","tempVertexIndices","Uint32Array","tempTriangle","MeshAnalyzer","maxTriangles","maxLines","maxTriangleVertices","maxLineVertices","this","_vertices","_vertexCount","_vertexToVertexIndices","_vertexToVertexConnectivity","_vertexToVertexEdgeId","_triangles","_triangleFaceId","fill","_triangleDoubleSidedFlag","Uint8Array","_triangleCount","_triangleBoundingSphere","_lines","_lineCount","_vertexSearchMap","Map","_vertexNextIndexWithSameHash","_indexSearchMap","_vertexTriangleIndices","_vertexTriangleUsage","prototype","_pointsEqual","p0","p1","_hashTypedArray","p","uint8","buffer","val","i","count","length","_addVertex","v","hash","predIndex","index","get","offset","undefined","set","_finishMeshBuildingPart1","_buildVertexTriangleUsage","_buildFaceIds","edgesCount","_buildEdges","_finishMeshBuildingPart2","_buildEdgeIds","_computeBoundingSpheres","finishMeshBuilding","total","vertexIndex","j","indexCount","firstIndex","lastIndex","triangleIndex","realTriangleOffset","currentVertex","lineIndex","v0","v1","start","triangleFaceId","connected","Set","vertexToVertexIndices","name","addVertexIndices","value","Number","split","clear","has","delete","add","forEach","addTriangle","p2","isDegenerateTriangle","i0","i1","i2","indices","id","foundIndex","addLine","found","recursionStack","initialIsDoubleSided","initialNormal","tri","vi","v2","trianglesFrom","trianglesTo","checkTriangleIndex","adjacent","checkTriangleOffset","currentFaceId","isTriangleDoubleSided","computeTriangleNormal","push","pop","compareNormal","Int32Array","currentEdgeId","predPoint","curPoint","direction","currentDirection","edgesFrom","edgesTo","edgeIndex","v1i","pred","cur","pass","keepGoing","checkEdgesFrom","checkEdgesTo","checkEdgeIndex","other","v0i","getVertex","computeEdgeDirection","vertexOffset","sphereOffset","computeTriangleBoundingSphere","intersectSphere","position","radius","allowFace","allowEdge","allowVertex","_allowClosedContour","_allowCurvedEdge","subarray","ret","faceId","faceDistance","edgeId","edgeDistance","vertexId","vertexDistance","closestEdgeVertex0","closestEdgeVertex1","dist","t","nearestPoint","triangleDistance","tj","k","tk","radius2","allowEdgesOrVertices","computePointToPointDistance","getNearestPointOnTriangle","computePointToPointDistance2","computeEdgeToPointDistance2","getEdgeId","vertexIndex0","vertexIndex1","buildEdgePath","onlyFirstAndLast","path","currentForward","currentBackward","vert","eid","reverseEdgeId","unshift","buildFace","triangleCount","triangleBoundingSphere","triangles","newVertexCount","vertices","planeEquation","newVertexIndex","newIndices","boundingSpheres","edges","oldVertexIndex","ni","s","o0","o1","o2","computePlaneEquation","newVertices","remaining","getTriangleCount","getLineCount","getVertexCount","i3","u","pointMinusPoint","n","crossProduct","d","dotProduct","Math","sqrt"],"sources":["MeshAnalyzer-dbg.js"],"mappings":"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"}