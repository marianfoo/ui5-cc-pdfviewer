{"version":3,"file":"HotspotHelper.js","names":["sap","ui","define","NodeContentType","Element","Rectangle","Path","assert","uid","TransformationMatrix","ImageTracer","uuidv4","HotspotHelper","prototype","createHotspot","scene","parentNode","jointNodes","name","nodeInfo","hotspotNode","getDefaultNodeHierarchy","createNode","Hotspot","this","updateHotspot","removeHotspot","removeNode","duplicateHotspot","hotspots","transformationMatrix","viewport","Array","isArray","matrixOffset","_multiplyMatrices","_invertMatrix","_matrixWorld","rect","_camera","_transformRect","x1","y1","x2","y2","parentMatrixWorldInv","newHotspots","forEach","hotspot","newHotspot","clone","userData","duplicatedFrom","sid","matrixWorld","matrix","set","add","push","length","i","children","child","sourceJointNode","undefined","remove","from","addNodeGeometry","jointNode","traverse","nodeContentType","parent","type","x","y","width","height","constructor","copy","_initAsHotspot","getHotspotRelatedNodes","mergeHotspots","hierarchy","firstHotspot","target","targetJointNodes","nodesToBeRemoved","targetMatrixWorldInv","contentTypeChecker","contentType","node","_vkGetNodeContentType","every","bind","childCount","Regular","hotspotColor","setHotspotColor","vMask","customHotspotColor","setCustomHotspotColor","nodes","parametrics","fillStyles","lineStyles","textStyles","targetNode","joints","jn","parametricContent","getParametricContent","transform","convert3x2To4x3","parametric","action","h","suppressed","currentView","getViewStateManager","getCurrentView","nodeRef","request","views","id","getViewId","getName","fillstyles","linestyles","mergeElements","nodeHierarchy","requestNodes","shapes","geomNodes","Set","childNode","_isGeometryNode","setMatrix","skipIt","shape","_getParametricShape","has","createHotspotFromGeometry","elements","Promise","resolve","reject","geometryNodes","traverseVisible","geom","bbox","svg","document","createElementNS","_getBBox","Math","max","min","domRef","cloneNode","getAttribute","setAttribute","join","appendChild","dx","dy","ceil","image","Image","onload","canvas","createElement","ctx","getContext","parentMatrixWorld","flipY","drawImage","srcData","getImageData","pixelPos","destData","createImageData","src","dest","getAlpha","it","data","tmp","notMarked","p","pixels","pop","svgXml","imagedataToSVG","ltres","qtres","pathomit","rightangleenhance","colorsampling","numberofcolors","mincolorratio","colorquantcycles","blurradius","blurdelta","strokewidth","linefilter","roundcoords","pal","r","g","b","a","desc","segments","doc","DOMParser","parseFromString","firstChild","tagName","nextSibling","concat","_extractSegmentsFromDomRef","btoa","XMLSerializer","serializeToString","createRequest","view","_currentView","pushNode","element","setNodePersistentId","veId","index","childrenInfo","getScene"],"sources":["HotspotHelper-dbg.js"],"mappings":"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"}