{"version":3,"file":"ViewStateManager.js","names":["sap","ui","define","Log","vkCore","ViewStateManagerBase","cssColorToColor","colorToCSSColor","abgrToColor","colorToABGR","AnimationTrackType","NodeContentType","Scene","Element","core","VisibilityTracker","ViewStateManager","extend","metadata","library","basePrototype","getMetadata","getParent","getClass","prototype","init","call","this","_mask","_nodeHierarchy","_selectedNodes","Set","_visibilityTracker","setHighlightColor","getEventBus","subscribe","_onActivateView","exit","unsubscribe","_setContent","content","_scene","scene","_setScene","initialView","getInitialView","_currentView","_resetNodesStatusByCurrentView","_setNodeHierarchy","getDefaultNodeHierarchy","setViewStateManager","nodeHierarchy","oldNodeHierarchy","clear","attachNodeReplaced","_handleNodeReplaced","attachNodeUpdated","_handleNodeUpdated","attachNodeRemoving","_handleNodeRemoving","_initialState","visible","hidden","that","allNodeRefs","findNodesByName","forEach","nodeRef","isVisible","push","fireVisibilityChanged","fireNodeHierarchyReplaced","newNodeHierarchy","event","replacedNodeRef","getParameter","replacementNodeRef","getSelectionState","setSelectionState","getNodeHierarchy","getVisibilityChanges","getShouldTrackVisibilityChanges","getInfo","getCurrentView","viewManager","byId","getViewManager","currentView","getActiveView","getVisibilityComplete","nodeProxy","createNodeProxy","veId","getVeId","destroyNodeProxy","getVisibilityState","resetVisibility","setVisibilityState","nodeRefs","mask","Array","isArray","map","recursive","force","isBulkChange","recursiveVisibility","idx","collected","_collectNodesRecursively","concat","length","fill","changedVisibility","usedNodeRefs","changed","filter","index","has","add","eventParameters","setVisible","node","parent","trackNodeRef","enumerateSelection","callback","selectionSet","isSelected","_getSelectionComplete","selected","_isAncestorSelected","_updateHighlightColor","parentSelected","setSelected","_highlightColorABGR","nodeContentType","Hotspot","children","i","l","blockNotification","getRecursiveSelection","value","self","indexOf","_appendAncestors","fireSelectionChanged","unselected","setSelectionStates","selectedNodeRefs","unselectedNodeRefs","delete","result","collectChildNodes","enumerateChildren","_getOpacity","opacity","undefined","getOpacity","setTotalOpacity","totalOpacity","setOpacity","recursiveOpacity","changedOpacity","fireOpacityChanged","_getTintColorABGR","tintColor","_getTintColor","getTintColor","inABGRFormat","getTintColorMethodName","toABGR","color","CSSColor","isValid","setTintColor","recursiveColor","changedColor","changedABGR","tintColorABGR","fireTintColorChanged","size","fireHighlightColorChanged","highlightColor","highlightColorABGR","getHighlightColor","getTransformationWorld","getData","_decompose","_matrixWorld","getTransformation","t","matrix","translation","position","quaternion","scale","arrayToMatrix","array","Float32Array","setTransformation","transformations","transformation","getTransformParametersForEvent","userData","setMatrix","slice","transform","angleAxis","halfAngle","s","Math","sin","cos","euler","warning","_compose","fireTransformationChanged","view","nodeInfos","getNodeInfos","transforms","nodeInfo","target","Translate","Rotate","Scale","nodeStartDataByAnimation","data","nodeVisible","nodeInvisible","info","skipIt","getChildren","channel","eventId","source","getId","activateView","fireViewStateApplying","fireViewStateApplied","publish","setJoints","joints","playback","_propagateOpacityToJointChildren","opacities","_setJointNodeMatrix","_visibilityChanges","changedNodes","getScene","nodeRefToPersistentId"],"sources":["ViewStateManager-dbg.js"],"mappings":"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"}