{"version":3,"file":"SceneBuilder.js","names":["sap","ui","define","Log","Element","Ellipse","Rectangle","Line","Polyline","Path","Text","Image","LinearGradient","OrthographicCamera","View","NodeContentType","TransformationMatrix","getResourceBundle","TotaraUtils","colorToCSSColor","SceneBuilder","rootNode","contentResource","resolve","reject","this","_rootNode","_contentResource","_resolve","_reject","_cameras","Map","_sceneIdTreeNodesMap","_sceneIdRootNodeMap","_materialMap","_annotationsMap","_annotationNodesMap","_materialNodesMap","_nodes","_viewGroups","_views","_viewThumbnails","_geometries","_geometryMeshes","_meshNodes","_meshSubmeshes","_images","_imageTextures","_fillStyles","_lineStyles","_textStyles","_joints","_yIndex","_materialsByTextureImageId","nodeProxy","getNodeProxy","nodeHierarchy","getNodeHierarchy","_vkScene","getScene","source","getSource","name","set","_currentSceneId","userData","skipIt","getName","prototype","setScene","info","result","err","status","errorText","getText","matrix","upAxis","camera","get","cameraId","JSON","stringify","node","backgroundTopColor","backgroundBottomColor","builder","setRootNode","nodeId","sceneId","vkScene","sid","setNodePersistentId","nodeRef","_resetCurrentScene","cleanup","clear","getNode","contextIterator","values","contextItem","next","done","value","nodes","createCamera","cameraInfo","setUpDirection","Array","isArray","up","setZoomFactor","zoom","setPosition","origin","id","getCamera","hasMesh","meshId","has","hasImage","imageId","hasAnnotation","annotationId","findBestLOD","lods","i","length","type","undefined","setMeshNode","_setMeshNode","setModelViewVisibilitySet","setAnimationPlaybacks","loadingFinished","createThumbnail","view","thumbnailData","window","btoa","String","fromCharCode","apply","data","_fireThumbnailLoaded","modelView","insertSubmesh","submeshInfo","lod","boundingBox","geometry","ni","_addGeometryToNode","pushElementIntoMapArray","getViewGroup","viewGroupId","viewGroup","views","vi","viewId","push","insertViewGroup","createViewGroup","description","setViewGroupId","setName","setDescription","metadata","veids","insertView","viewInfo","createView","aspectRatio","safeAreaAspectRatio","autoPlayAnimation","thumbnailId","imageData","setCamera","flyToTime","preDelay","postDelay","navigationMode","topColor","_getSavedColor","topColour","localStorage","getItem","setTopColor","bottomColor","bottomColour","setBottomColor","dimension","query","addView","getView","setViewCamera","getChildNodeIds","includeMeshNode","ids","children","child","treeNode","setViewNodeInfos","nodeInfos","setNodeInfos","finalizeViewGroups","entries","removeViews","setVoxelThreshold","voxelThreshold","getVoxelThreshold","createNode","nodeInfo","transform","convertTo3x2","usageIds","parametricId","setVisible","visible","visualisable","joints","forEach","joint","parent","parentSid","jointNodes","concat","viewBox","parentId","add","contentType","_vkSetNodeContentType","Hotspot","Annotation","preferMeshes","createAnnotation","attributes","annotation","getAnnotation","createImageNote","remove","nodeIds","that","target","delete","_getMatrixFromBoundingBox","Float32Array","Math","max","Number","EPSILON","materialId","material","_getMaterial","indices","points","isPositionQuantized","i0","i1","i2","l","segments","isPolyline","Object","assign","lineColor","lineWidth","path","isTriangleMesh","materialID","fillStyle","colour","color","subelement","uid","setGeometry","geomInfo","geometryMeshes","mi","_fireSceneUpdated","submeshes","DEFAULT_T","DEFAULT_R","DEFAULT_S","getTransformationMatrix","shape","_compose","t","r","s","setParametricContent","parametricContent","warning","shapes","_createObject","polarToCartesian","cx","cy","rx","ry","angle","cos","sin","stroke_id","lineStyle","fill_id","gradient","fillURL","style_id","style","textStyles","major","radius","minor","start","end","PI","short","abs","clockwise","po","label","j","imageNode","removeNode","createMaterial","materialInfo","textureIds","lineColour","width","haloWidth","lineHaloWidth","endCapStyle","lineEndRound","dashPattern","lineDashPattern","dashPatternScale","lineDashPatternScale","widthCoordinateSpace","lineWidthCoordinateSpace","emissiveColour","opacity","textureEmissive","textureImageId","texture","textureInfo","imageIdsToLoad","Set","textureWidth","textureHeight","height","nodeIdsToUpdate","setMaterial","_createTemporaryMaterial","checkMaterialExists","temporaryMaterialNeeded","materialNeeded","content","updateViewsForReplacedNodes","insertFillStyle","veid","insertLineStyle","insertTextStyle","textStyle","uint8ArrayToString","uint8Array","finalString","CHUNK_SIZE","index","slice","min","e","createImage","imageInfo","binaryData","dv","DataView","buffer","isPng","getUint8","parseInt","imageDataStr","dataUri","materialsAwaitingTexture","m","size","bind","setViewThumbnail","tileWidth","viewInfoColor","settingColor","red","floor","green","blue","alpha"],"sources":["SceneBuilder-dbg.js"],"mappings":"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"}