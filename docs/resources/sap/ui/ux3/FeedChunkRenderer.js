/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/ui/core/theming/Parameters","sap/base/security/encodeXML","sap/base/security/URLListValidator"],function(e,t,i){"use strict";var r={};r.render=function(t,i){if(i.getParent()instanceof sap.ui.ux3.FeedChunk){i.bComment=true}else{i.bComment=false}var r=i.getId();t.write("<article");t.writeControlData(i);t.addClass("sapUiFeedChunk");if(i.bComment){t.addClass("sapUiFeedChunkComment")}t.writeClasses();t.write(">");t.write("<img id="+r+"-thumb");var a=i.getThumbnailSrc();if(!a){a=e._getThemeImage("_sap_ui_ux3_FeedChunk_PersonPlaceholder")}t.writeAttributeEscaped("src",a);t.writeAttributeEscaped("alt",i.getSender());t.writeClasses();t.write(">");t.write('<div class= "sapUiFeedChunkText" >');t.write("<a id="+r+"-sender ");t.writeAttribute("href","#");t.write(">");t.writeEscaped(i.getSender());t.write("</a> ");if(i.oHCMMenuButton){t.renderControl(i.oHCMMenuButton)}this.renderText(t,i);t.write("</div>");if(!i.bComment){t.write('<ul class= "sapUiFeedChunkStatusIcons" >');if(i.getFlagged()){t.write('<li class= "sapUiFeedChunkFlagged" title="'+i.rb.getText("FEED_FLAGGED")+'" >&#9873</li>')}if(i.getFavorite()){t.write('<li class= "sapUiFeedChunkFavorite" title="'+i.rb.getText("FEED_FAVORITE")+'" >&#9733</li>')}if(i.getShared()){t.write('<li class= "sapUiFeedChunkShared" title="'+i.rb.getText("FEED_SHARED")+'" >&#8635</li>')}t.write("</ul>")}t.write('<span class= "sapUiFeedChunkByline" >');t.writeEscaped(i.getTimestamp());t.write("</span>");if(!i.bComment){if(i.oToolsButton){t.renderControl(i.oToolsButton)}if(i.getEnableShare()){t.write('<button type = "button" id='+r+'-ActShare class= "sapUiFeedChunkAct sapUiFeedChunkActShare" title="'+i.rb.getText("FEED_ACT_SHARE")+'" >&#8635</BUTTON>')}if(i.getEnableInspect()){t.write('<button type = "button" id='+r+'-ActInspect class= "sapUiFeedChunkAct sapUiFeedChunkActInspect" title="'+i.rb.getText("FEED_ACT_INSPECT")+'" >i</BUTTON>')}if(i.getEnableFavorite()){t.write('<button type = "button" id='+r+'-ActFavorite class= "sapUiFeedChunkAct sapUiFeedChunkActFavorite" title="'+i.rb.getText("FEED_ACT_FAVORITE")+'" >&#9733</BUTTON>')}if(i.getEnableFlag()){t.write('<button type = "button" id='+r+'-ActFlag class= "sapUiFeedChunkAct sapUiFeedChunkActFlag" title="'+i.rb.getText("FEED_ACT_FLAG")+'" >&#9873</BUTTON>')}if(i.getEnableComment()){t.write('<button type = "button" id='+r+'-ActComment class= "sapUiFeedChunkAct sapUiFeedChunkActComment" title="'+i.rb.getText("FEED_ACT_COMMENT")+'" >C</BUTTON>')}}if(i.getDeletionAllowed()&&i.bComment){t.write('<button type = "button" id='+r+'-delete class= "sapUiFeedChunkDel" title="'+i.rb.getText("FEED_DELETE")+'" >X</BUTTON>')}if(i.getComments().length>0||i.showCommentFeeder){t.write("<section>");this.renderComments(t,i);t.write("</section>")}t.write("</article>")};r.renderText=function(e,r){var a=r.getText();var s=0;var n=0;do{n=a.search(/\s/);var l="",d="";if(n<0){d=a}else{d=a.slice(0,n);l=a.slice(n,n+1);a=a.slice(n+1)}if(/^@/.test(d)){e.write("<a id="+r.getId()+"-Ref"+s);e.writeAttribute("href","#");e.write(">");e.writeEscaped(d,true);e.write("</a>",l);s++}else if(/^(https?|ftp):\/\//i.test(d)&&i.validate(d)){e.write("<a");e.writeAttribute("href",t(d));e.write(">");e.writeEscaped(d,true);e.write("</a>",l)}else if(/^(www\.)/i.test(d)&&i.validate("http://"+d)){e.write("<a");e.writeAttribute("href",t("http://"+d));e.write(">");e.writeEscaped(d,true);e.write("</a>",l)}else if(/^[\w\.=-]+@[\w\.-]+\.[\w]{2,5}$/.test(d)){e.write("<a");e.writeAttribute("href","mailto:"+t(d));e.write(">");e.writeEscaped(d,true);e.write("</a>",l)}else{e.writeEscaped(d+l,true)}}while(n>=0)};r.renderComments=function(e,t){var i=t.getComments();var r=i.length;e.write('<header class= "sapUiFeedChunkComments" >');if(t.rb){e.write(t.rb.getText("FEED_NO_COMMENTS",[r]));if(r>t.maxComments){e.write("<a id="+t.getId()+"-all ");e.writeAttribute("href","#");e.write(">");if(!t.allComments){e.write(t.rb.getText("FEED_ALL_COMMENTS"))}else{e.write(t.rb.getText("FEED_MAX_COMMENTS"))}e.write("</a>")}}e.write("</header>");var a=r;if(!t.allComments&&t.maxComments<a){a=t.maxComments}for(var s=0;s<a;s++){e.renderControl(i[r-a+s])}if(t.oCommentFeeder){e.renderControl(t.oCommentFeeder)}};r.renderExpander=function(e){if(e.expanded){return"<button id= '"+e.getId()+"-exp' class='sapUiFeedChunkCollapse' title='"+e.rb.getText("FEED_COLLAPS")+"'>&#9660</button>"}else{return"<button id= '"+e.getId()+"-exp' class='sapUiFeedChunkExpand' title='"+e.rb.getText("FEED_EXPAND")+"'>&#9660</button>"}};return r},true);
//# sourceMappingURL=FeedChunkRenderer.js.map