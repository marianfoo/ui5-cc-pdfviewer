{"version":3,"file":"ToolPopup.js","names":["sap","ui","define","jQuery","Control","IconPool","Popup","Parameters","RenderManager","library","ToolPopupRenderer","ResizeHandler","coreLibrary","assert","Log","Configuration","OpenState","ToolPopup","extend","metadata","deprecated","interfaces","properties","title","type","group","defaultValue","icon","iconHover","iconSelected","modal","inverted","autoClose","maxHeight","maxWidth","openDuration","closeDuration","defaultAggregation","aggregations","buttons","multiple","singularName","content","associations","initialFocus","opener","defaultButton","events","open","close","allowPreventDefault","enter","parameters","originalEvent","originalSrcControl","iconChanged","closed","opened","ARROW_LEFT","RegExp","ARROW_RIGHT","ARROW_UP","ARROW_DOWN","prototype","init","this","oPopup","_bPositionSet","_mParameters","that","firstFocusable","getId","lastFocusable","_bFocusSet","_proxyOpened","proxy","fnPopupOpened","_proxyClosed","fnOnClosed","_proxyFixSize","fnFixSize","_proxyOnResize","fnOnResize","fnSetArrowDimensions","exit","detachOpened","detachClosed","destroy","_bPreventRestoreFocus","_bRTL","_sArrowDir","_oArrowIcon","_bThemeInverted","_sInitialFocusId","_fnGetInitialFocus","context","_fnGetNewFocusElement","oElement","oFocusControl","defaultFocusableElements","aTabbables","$","get","i","length","indexOf","id","control","oFocusDomRef","getFocusDomRef","window","document","getElementById","focus","_fnGetFocusControlById","oToolPopup","oControl","parent","getCore","byId","parentNode","domRefId","focusElement","getDomRef","onfocusin","oEvent","event","$FocusablesContent","$FocusablesFooter","focusTabChain","$This","iValue","sMaxHeight","getMaxHeight","iMaxHeight","parseInt","sMaxWidth","getMaxWidth","iMaxWidth","sBorderLeft","css","iBorderLeft","sBorderRight","iBorderRight","sPaddingLeft","iPaddingLeft","sPaddingRight","iPaddingRight","sPaddingTop","iPaddingTop","sPaddingBottom","iPaddingBottom","sBorderTop","iBorderTop","sBorderBottom","iBorderBottom","iPaddings","iScrollTop","scrollTop","oThisRect","rect","iBottomEnd","top","outerHeight","iWinHeight","height","bTooHigh","iYOffset","$Opener","getOpener","oOpenerRect","iOpenerBottom","aOffset","_getPositionOffset","Math","abs","sMessage","warning","toggleClass","$Title","$TitleSep","$Buttons","$ButtonsSep","$Content","fnSetArrow","sInitFocusId","getCurrentFocusedControlId","trigger","_sResizeID","register","fireOpened","isOpen","getOpenState","willBeClosed","eState","OPENING","OPEN","my","at","_my","_at","fnGetArrowDirection","$OpenerRef","sOffset","fnUpdateThemeInverted","iOffsetX","iOffsetY","Dock","BeginTop","EndTop","iArrowWidth","setPosition","_ensurePopup","bAutoClose","getAutoClose","bModal","getModal","setAutoClose","setModal","_oPreviousFocus","getCurrentFocusInfo","fireOpen","fnCheckOpener","getOpenDuration","oThis","sId","_oPosition","of","core","Element","setAssociation","error","mParams","Object","assign","sapUiUx3ToolPopupArrowWidth","sapUiUx3ToolPopupArrowHeight","sapUiUx3ToolPopupArrowRightMarginCorrection","sapUiUx3ToolPopupArrowRightMarginCorrectionInverted","name","callback","invalidate","sParam","sArrowWidth","sArrowHeight","iArrowHeight","sArrowPadding","iArrowPadding","sArrowPaddingInverted","iArrowPaddingInverted","sDirection","_bHorizontalArrow","aMy","split","aAt","sRule","exec","oPopRect","iPopRight","left","outerWidth","iOpenerRight","iPopBottom","sKey","iVal","iZero","iHalfArrow","isRTL","getRTL","sArrowDir","oOpener","popupBorder","$Arrow","round","width","sClassAttr","hasClass","isInverted","attr","iWidth","right","onsapescape","fireClose","applyFocusInfo","preserveContent","remove","fireClosed","bPreventRestoreFocus","deregister","getCloseDuration","getEnabled","CLOSED","onsapenter","sInitFocus","getDefaultButton","oFocusCtrl","contains","commons","Button","$FocusCtrl","preventDefault","stopPropagation","onBeforeRendering","sInitialFocusId","getInitialFocus","sDefaultButtontId","setInitialFocusId","attachOpened","attachClosed","_applyPosition","apply","arguments","_oLastPosition","$of","getContent","fnChangeContent","sType","fnRenderContent","fnRenderButtons","oContentDomRef","innerHTML","aContent","rm","createRenderManager","renderControl","flush","oButtons","oSeparator","aButtons","getButtons","addClass","removeClass","addContent","oContent","addAggregation","insertContent","index","insertAggregation","removeContent","removeAggregation","addButton","oButton","insertButton","removeButton","_sParam","onThemeChanged","getInverted","setAutoCloseAreas","aAutoCloseAreas","addFocusableArea","sID","_addFocusableArea","removeFocusableArea","_removeFocusableArea","setIcon","sIcon","setProperty","fireIconChanged","setIconHover","sIconHover","setIconSelected","sIconSelected","getIconSelected","getProperty","setMaxWidth","pattern","test"],"sources":["ToolPopup-dbg.js"],"mappings":"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"}