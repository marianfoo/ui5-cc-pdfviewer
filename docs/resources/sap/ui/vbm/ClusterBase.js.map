{"version":3,"file":"ClusterBase.js","names":["sap","ui","define","Element","Parameters","ClusterContainer","Menu","jQuery","Log","library","thisModule","ClusterBase","extend","metadata","properties","areaAlwaysVisible","type","group","defaultValue","areaColor","areaColorBorder","textProperty","textSettings","rule","defaultAggregation","aggregations","vizTemplate","multiple","vizVo","clusterVos","visibility","singularName","clusterContainers","events","click","parameters","clusterID","contextMenu","menu","prototype","openDetailWindow","oSpotInst","oParams","oParent","this","getParent","mDTWindowCxt","bUseClickPos","open","src","key","getKey","params","m_bWindowsDirty","invalidate","openContextMenu","sType","oContainer","oMenu","init","mVizObjMap","mContObjMap","sDefaultFontFamily","get","setProperty","textcolor","textfont","textfontsize","exit","oSpotAggr","destroy","setTextSettings","oSettings","oNewSettings","getTextSettings","getTemplateObject","oTemplate","sId","getId","getVizTemplate","id","datasource","getVizVo","vbm","Spots","items","path","template","error","getActionArray","aActions","i","length","refVO","getClusterDefinition","VO","getRule","areapermanent","getAreaAlwaysVisible","toString","areabordersize","areafillcol","getAreaColor","areabordercol","getAreaColorBorder","handleContainerCreated","event","sClusterId","mParameters","oItem","_getVizObjInst","oNodeInfo","getInfoForCluster","ClusterInfoType","NodeInfo","getBindingInfo","getTextProperty","cnt","oDOMHandler","oDOMHander","_DOMHandler","oDomRef","getParameter","addEventListener","addRenderItem","handleContainerDestroyed","removeEventListener","_removeVizObjInst","handleEvent","sName","Action","name","funcname","toUpperCase","slice","oVo","eventContext","data","nodeInfo","instance","pos","mClickGeoPos","AddActionProperties","AddActionProperty","mClickPos","Params","Param","mVBIContext","m_Menus","deleteMenu","oMenuObject","vbi_data","menuRef","VBIName","split","aggr","inst","oDragSource","getAggregatorContainer","findInstanceByKey","findInstance","sKey","_getContainer","oResult","oVizObj","clone","mClusterId","addAggregation","removeAggregation","setItem","_removeContainer","_handleDOMEvent","oEvent","currentTarget","m_Key","oCluster","parent","fireClick","_onContextMenu","touch","touchTime","Date","now","time","oMapDiv","getDomRef","clientX","offsetLeft","clientY","offsetTop","preventDefault","fireContextMenu","e"],"sources":["ClusterBase-dbg.js"],"mappings":"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"}