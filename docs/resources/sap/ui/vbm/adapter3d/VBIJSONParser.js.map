{"version":3,"file":"VBIJSONParser.js","names":["sap","ui","define","BaseObject","Utilities","ObjectFactory","Log","library","thisModule","toArray","VBIJSONParser","extend","constructor","context","call","this","_context","_factory","prototype","loadVBIJSON","payload","SAPVB","Resources","_processResources","Config","_processConfig","DataTypes","_processDataTypes","Data","_processData","Scenes","_processScenes","Windows","_processWindows","Actions","_processActions","Automation","_processAutomation","_refreshVisualObjects","copyProperties","target","source","sourcePropertyNames","targetPropertyNames","i","count","length","sourcePropertyName","targetPropertyName","hasOwnProperty","resources","Set","Resource","forEach","res","set","name","value","config","P","cfg","dataTypes","Array","isArray","splice","create","dataTypeElement","dataType","createDataType","A","attributeElement","attributes","push","createDataTypeAttribute","N","childDataTypeElement","bind","error","_findDataTypeByPath","path","find","level","undefined","typeName","_findDataTypeByDataNodePath","dataNodePath","dataTypePath","data","Remove","removeElement","type","split","keyAttribute","getKeyAttribute","dataInstanceKeys","E","map","instanceElement","alias","dataNode","_findDataNodeByPath","warning","_removeDataInstancesByKey","loadDataNode","nodeElement","index","instance","vbm","findInArray","createDataInstance","isDirty","prop","createDataNode","concat","attribute","getAttributeByAlias","setElements","_removeAllDataNodes","some","setElement","nodePath","_getDataValueByPath","join","pathComponent","dataNodeName","_clearDataNode","_clearDataInstance","dataInstance","visualObject","_removeVisualObject","propName","keyName","keys","instanceKey","k","loadScene","scene","sceneElement","position","zoom","pitch","yaw","setupView","home","flyTo","VO","voElement","voGroup","getVisualObjectGroupById","id","createVisualObjectGroup","endsWith","isDataBound","voAttribute","shift","template","_removeScenes","scenes","Scene","SceneGeo","createScene","sceneQueues","toAdd","Merge","mergeElements","mergeElement","_findSceneById","toUpdate","ids","sceneId","toRemove","voGroups","vos","_processVisualObjectGroup","datasource","maxSel","minSel","keyAttributeName","_queueVisualObjectToUpdate","_populateVisualObject","_queueVisualObjectToAdd","createVisualObject","vo","groupInstances","indexOf","groupSelectedInstances","selected","selectedIndex","_queueVisualObjectToRemove","attributeName","wasSelected","isSelected","addToQueue","queue","has","get","voQueues","_resetDirtyFlag","findWindowById","windows","window","result","windowQueues","Window","windowElement","createWindow","pos","actions","Action","apply","automation","Call","handler","params","Param","s","p","abcissae","ordinate","applicate","traverseDataNode","node","getAttributeAlias","j","attr"],"sources":["VBIJSONParser-dbg.js"],"mappings":"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"}