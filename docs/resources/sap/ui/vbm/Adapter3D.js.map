{"version":3,"file":"Adapter3D.js","names":["sap","ui","define","Element","Observer","Menu","MenuItem","Popover","Viewport","ObjectFactory","Parser","SceneBuilder","Utilities","DragDropHandler","HBox","VBox","Link","Button","Text","Image","THREE","Log","jQuery","library","Vector2","Vector3","toBoolean","thisModule","viewportEventDelegate","Adapter3D","extend","metadata","associations","viewport","type","events","submit","parameters","data","basePrototype","getMetadata","getParent","getClass","prototype","init","call","this","_viewport","_context","resources","Map","config","dataTypes","windows","scenes","actions","voQueues","toAdd","toUpdate","toRemove","clear","sceneQueues","length","windowQueues","setupView","undefined","_update","Promise","resolve","_parser","_sceneBuilder","_hoverInstance","_hoverTimeOutId","_clickTimerId","_mouseDown","_lastXY","x","y","_viewportObserver","_observeChanges","bind","_detail","popover","anchor","pending","_raycaster","Raycaster","_dragDropHandler","exit","clearTimeout","_disconnectViewport","disconnect","destroy","setViewport","setAssociation","_configureViewport","associatedViewport","getCore","byId","getViewport","_connectViewport","orbitInstance","getOrbitControl","setConfig","setUtilities","observe","addEventDelegate","removeEventDelegate","onBeforeRendering","unobserve","change","object","load","that","reject","payload","JSON","parse","ex","error","SAPVB","setBusy","then","loadVBIJSON","synchronize","_processAutomation","_processDetailWindow","forEach","instances","instance","update","_resetBBox","_updateCamera","window","vbm","findInArray","scene","id","refScene","_closeDetailWindow","_createDetailWindow","_fillDetailWindow","_openDetailWindow","close","style","visibility","customHeader","caption","customHeaderText","m","width","textAlign","core","TextAlign","Center","text","tooltip","Bar","contentLeft","ResponsivePopover","placement","PlacementType","Auto","showCloseButton","verticalScrolling","contentWidth","addStyleClass","setCustomHeader","_getAnchor","document","createElement","setAttribute","AccessibleRole","Note","classList","add","getDomRef","appendChild","left","top","definition","pos","split","world","parseFloat","rect","getBoundingClientRect","screen","worldToScreen","vbToThreeJs","clamp","height","openBy","attachAfterClose","_openDetailPending","alignToFlexJustify","align","alignment","FlexJustifyContent","Start","End","Inherit","processItem","item","obj","vo","level","href","autoexecute","reference","image","src","makeDataUri","get","itemsByRow","voGroups","map","vog","vos","v","reduce","a","b","concat","sort","parseInt","g","group","push","content","row","hasOwnProperty","box","Math","max","apply","i","right","previousRight","rowResult","pBox","justifyContent","addItem","addContent","processMenuItem","menu","currentItem","name","separated","menuItem","enabled","disabled","startsSection","select","_menuItemSelectionHandler","subMenu","mi","setSubmenu","Automation","Call","handler","xOffset","Param","filter","p","yOffset","offset","Menus","Set","menuPayloads","refID","contextMenu","action","dock","Popup","Dock","open","BeginTop","voGroupId","version","Action","fireSubmit","stringify","_genericEventHandler","event","homeButtonKey","parseKeyboardShortcut","has","matchKeyboardShortcut","applyCameraHome","groupId","voGroup","actionDefinition","refVO","refEvent","param","datasource","Params","indexOf","key","code","keyCode","shiftKey","ctrlKey","altKey","metaKey","cursor","AddActionProperty","actionProperties","actionProperty","hitPoint","threeJsToVb","toFixed","z","state","_getCameraState","zoom","_getZoomFactor","position","target","AddActionProperties","selectionChanges","dataType","keyAlias","getAttributeAlias","keyAttributeName","Data","Merge","N","E","selected","deselected","_propagateClick","_propagateDoubleClick","_propagateContextMenu","_propagateKeyPress","_propogateHoverChange","_handleClick","trace","_extendEventWithSelection","updateSelection","_handleDoubleClick","_handleContextMenu","_handleHover","domRef","removeAttribute","setTimeout","updateHotInstance","_handleKeyPress","_getXY","pageX","originalEvent","pageXOffset","pageY","pageYOffset","_hitTest","getScene","camera","getCamera","normalizedXY","layers","set","setFromCamera","intersects","intersectObjects","children","info","_instanceHitTest","Function","_sapInstance","point","_intersectMapPlane","_extendEventWithCursor","_extendEventWithInstance","hitInfo","MIN_MOVE","onkeydown","repeat","oncontextmenu","_skipClick","onmousedown","onmouseup","onhover","abs","onmouseout","_onhoverProxy","$","off","Device","browser","msie","edge","_onpointerdownProxy","_onpointerupProxy","onAfterRendering","on","controlKeyName","os","macintosh","exclusive","_changeSelection","wasSelected","selectedIndex","maxSel","splice","minSel"],"sources":["Adapter3D-dbg.js"],"mappings":"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"}