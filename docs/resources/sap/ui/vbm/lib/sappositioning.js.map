{"version":3,"file":"sappositioning.js","names":["sap","ui","define","VBI","addScenePositioningFunctions","scene","GetNearestPosArray","posarray","pa","slice","nLen","Math","floor","length","nx","ny","minX","maxX","minY","maxY","nJ","m_MinX","m_MaxX","m_MinY","m_MaxY","GetNearestPos","pos","nearpos","p","BuildCacheDataObj","newObj","mul","PI","cv","m_Canvas","cvo","m_nOverlayIndex","lod","m_nCurrentLOD","minLOD","GetMinLOD","nMaxLODTiles","tilePixelWidth","m_nWidthCanvas","m_nTilesX","tilePixelHeight","m_nHeightCanvas","m_nTilesY","completeX","completeY","fx","getPixelWidth","fy","getPixelHeight","proj","m_Proj","ucs_min","m_nUCSMin","ucs_max","m_nUCSMax","ucs_compl","m_nXYRatio","ox","m_nCurrentX","oy","m_nCurrentY","factX","factY","addX","addY","m_CacheVars","DestroyCacheDataObj","undefined","FillPositionCache","bUnordered","n","ucs","cache","cx","cy","lltucs","LonLatToUCS","len","push","data","ref","lt","rb","minLod","log","max","GetVOExtension","BB","GetPointArrayFromPosArrayWCache","GetPointFromUCSPoint","point","GetPointArrayFromUCSArray","ret","GetShortPointArrayFromUCSArray","GetPointArrayFromPosArray","adjust","bIgnoreStretch","lonlat","x","y","m_bVisible","GetPointFromGeo","MathLib","RadToDeg","GetInstanceOffsets","rect","rc","rcCanvas","nCount","Utilities","RectOffset","aOffsets","RectIntersect","GetCorrectedInstanceOffsets","zf","GetPosFromVPPoint","pt","canv","cp","getPixelLeft","getPixelTop","tmp","this","GetGeoFromPoint","GetPosFromPoint","nLOD","canvasPixelLeft","canvasPixelTop","nOutsideX","nOutsideY","currentX","currentY","UCSToLonLat"],"sources":["sappositioning-dbg.js"],"mappings":"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"}