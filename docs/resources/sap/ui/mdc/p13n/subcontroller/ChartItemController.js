/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["./BaseController","sap/ui/mdc/p13n/P13nBuilder"],function(t,e){"use strict";var o=sap.ui.getCore().getLibraryResourceBundle("sap.ui.mdc");var i=t.extend("sap.ui.mdc.p13n.subcontroller.ChartItemController");i.prototype.getAdaptationUI=function(t){var e;this._oAdaptationControl.getAdaptationUI().then(function(o){this._oPanel=o;this._oPropHelper=t;var i=this.mixInfoAndState(t);o.setP13nData(i.items);e(o)}.bind(this));return new Promise(function(t,o){e=t})};i.prototype.update=function(){t.prototype.update.apply(this,arguments);this._oPanel.setP13nData(this.mixInfoAndState(this._oPropHelper).items)};i.prototype.getDelta=function(e){e.deltaAttributes.push("role");return t.prototype.getDelta.apply(this,arguments)};i.prototype.getUISettings=function(){return{title:o.getText("chart.PERSONALIZATION_DIALOG_TITLE"),tabText:o.getText("p13nDialog.TAB_Chart")}};i.prototype.mixInfoAndState=function(t){var o=this.getCurrentState();var i=e.arrayToMap(o);var n=e.prepareAdaptationData(t,function(t,e){var o=i[e.name];t.visible=!!o;t.position=o?o.position:-1;t.role=o?o.role:e.role;t.kind=e.kind;if(e.availableRoles){t.availableRoles=e.availableRoles}return e.visible});e.sortP13nData({visible:"visible",position:"position"},n.items);n.items.forEach(function(t){delete t.position});return n};i.prototype.getChangeOperations=function(){return{add:"addItem",remove:"removeItem",move:"moveItem"}};return i});
//# sourceMappingURL=ChartItemController.js.map