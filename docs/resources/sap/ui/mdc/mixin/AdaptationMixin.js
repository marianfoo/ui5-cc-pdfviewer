/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/ui/mdc/p13n/Engine"],function(i){"use strict";var t={};t.getEngine=function(){return i.getInstance()};t._onModifications=function(){};t.awaitPendingModification=function(){var t=this._pPendingModification||Promise.resolve();var e=i.getInstance().getTrace(this);return t.then(function(){return e})};t.retrieveInbuiltFilter=function(){if(!this._oInbuiltFilterPromise){this._oInbuiltFilterPromise=new Promise(function(i,t){sap.ui.require(["sap/ui/mdc/filterbar/p13n/AdaptationFilterBar"],function(e){if(this.bIsDestroyed){t("exit");return}if(!this._oP13nFilter){this._oP13nFilter=new e(this.getId()+"-p13nFilter",{adaptationControl:this,filterConditions:this.getFilterConditions()});if(this._registerInnerFilter){this._registerInnerFilter.call(this,this._oP13nFilter)}this.addDependent(this._oP13nFilter);i(this._oP13nFilter)}else{i(this._oP13nFilter)}}.bind(this))}.bind(this))}return this._oInbuiltFilterPromise};t.validateState=function(i,t){if(this.getControlDelegate().validateState instanceof Function){return this.getControlDelegate().validateState(this,i,t)}};t.getInbuiltFilter=function(){return this._oP13nFilter};t.exit=function(i){return function(){if(this._oP13nFilter){this._oP13nFilter.destroy();this._oP13nFilter=null}if(this._oInbuiltFilterPromise){this._oInbuiltFilterPromise=null}if(i){i.apply(this,arguments)}}};t._getWaitForChangesPromise=function(){var i=this.getEngine&&this.getEngine();if(!i){throw"Engine instance not found."}return i.waitForChanges(this)};return function(){this.retrieveInbuiltFilter=t.retrieveInbuiltFilter;this.getInbuiltFilter=t.getInbuiltFilter;this.validateState=t.validateState;this._onModifications=t._onModifications;this.awaitPendingModification=t.awaitPendingModification;this._getWaitForChangesPromise=t._getWaitForChangesPromise;this.getEngine=t.getEngine;this.exit=t.exit(this.exit)}});
//# sourceMappingURL=AdaptationMixin.js.map