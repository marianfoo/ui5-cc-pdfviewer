/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
*/
sap.ui.define(["sap/ui/model/FilterOperator","sap/ui/model/Filter","sap/ui/model/ValidateException","sap/base/Log","sap/base/util/merge","sap/ui/mdc/enum/FieldDisplay","./Operator","./RangeOperator","sap/ui/mdc/enum/BaseType","sap/ui/mdc/enum/ConditionValidated","sap/ui/mdc/util/loadModules","sap/ui/core/date/UniversalDate","sap/ui/core/date/UniversalDateUtils","sap/ui/core/format/DateFormat","sap/ui/model/json/JSONModel","sap/ui/model/type/Integer"],function(e,a,t,r,n,s,o,l,i,u,p,m,f,c,y,T){"use strict";var O=sap.ui.getCore().getLibraryResourceBundle("sap.ui.mdc");sap.ui.getCore().attachLocalizationChanged(function(){O=sap.ui.getCore().getLibraryResourceBundle("sap.ui.mdc")});var g={_mOperators:{equal:new o({name:"EQ",alias:{Date:"DATE",DateTime:"DATETIME"},filterOperator:e.EQ,tokenParse:"^=([^=].*)$",tokenFormat:"{1} ({0})",valueTypes:[o.ValueType.Self,null],displayFormats:{DescriptionValue:"{1} ({0})",ValueDescription:"{0} ({1})",Description:"{1}",Value:"{0}"},format:function(e,a,t,r,n){t=t||s.DescriptionValue;var o=this.valueTypes.length;var l=e.values;var i=e&&e.validated===u.Validated||l.length===2||r?"":"=";var p=i+this.displayFormats[t];if(!l[1]){p=i+this.displayFormats["Value"];o=1}for(var m=0;m<o;m++){var f,c=l[m];if(c===null||c===undefined){c=""}if(m==0){f=this._formatValue(c,a,n)}else{f=c}if(f===null){p=null;break}p=p.replace(new RegExp("\\$"+m+"|"+m+"\\$"+"|"+"\\{"+m+"\\}","g"),f)}return p},parse:function(e,a,t,r,n){t=t||s.DescriptionValue;var l=o.prototype.parse.apply(this,[e,a,t,r,n]);if(r&&(!l||l[0]===null||l[0]===undefined)&&t!==s.Value){t=s.Value;l=o.prototype.parse.apply(this,[e,a,t,r,n])}if(l&&(l[1]===null||l[1]===undefined)&&t===s.Value){l=[l[0]]}return l},getValues:function(e,a,t){var r=e.match(this.tokenParseRegExp);var n;if(r||t&&e){var s;var o=this.displayFormats[a];var l=o.indexOf("{0}");var i=o.indexOf("{1}");var u;var p;if(r){s=r[1]}else if(t){s=e}if(l>=0&&i>=0){if(s.lastIndexOf("(")>0&&(s.lastIndexOf(")")===s.length-1||s.lastIndexOf(")")===-1)){var m=s.length;if(s[m-1]===")"){m--}var f=s.substring(0,s.lastIndexOf("("));if(f[f.length-1]===" "){f=f.substring(0,f.length-1)}var c=s.substring(s.lastIndexOf("(")+1,m);if(l<i){u=f;p=c}else{u=c;p=f}}else if(l<i){u=s}else{p=s}}else if(l>=0){u=s}else{p=s}n=[u];if(i>=0){n.push(p)}}return n},isEmpty:function(e,a){var t=false;var r=e.values[0];if((r===null||r===undefined||r==="")&&!e.values[1]){t=true}return t},getCheckValue:function(e){return{value:e.values[0]}},checkValidated:function(e){if(e.values.length===2&&e.values[0]!==undefined&&e.values[1]!==null&&e.values[1]!==undefined){e.validated=u.Validated}else{e.validated=u.NotValidated}},validateInput:true}),between:new o({name:"BT",alias:{Date:"DATERANGE",DateTime:"DATETIMERANGE"},filterOperator:e.BT,tokenParse:"^([^!].*)\\.\\.\\.(.+)$",tokenFormat:"{0}...{1}",valueTypes:[o.ValueType.Self,o.ValueType.Self],validate:function(e,a){if(e.length===2){if(h(e[0])&&h(e[1])){return}else if(h(e[0])||h(e[1])){throw new t(O.getText("operator.between.validate.missingValue"))}else if(e[0]===e[1]){throw new t(O.getText("operator.between.validate.sameValues"))}}o.prototype.validate.apply(this,[e,a])}}),notBetween:new o({name:"NOTBT",filterOperator:e.NB,tokenParse:"^!(.+)\\.\\.\\.(.+)$",tokenFormat:"!({0}...{1})",valueTypes:[o.ValueType.Self,o.ValueType.Self],exclude:true,validate:function(e,a){g._mOperators.between.validate(e,a)}}),lessThan:new o({name:"LT",filterOperator:e.LT,tokenParse:"^<([^=].*)$",tokenFormat:"<{0}",valueTypes:[o.ValueType.Self]}),notLessThan:new o({name:"NOTLT",filterOperator:e.GE,tokenParse:"^!<([^=].*)$",tokenFormat:"!(<{0})",valueTypes:[o.ValueType.Self],exclude:true}),greaterThan:new o({name:"GT",filterOperator:e.GT,tokenParse:"^>([^=].*)$",tokenFormat:">{0}",valueTypes:[o.ValueType.Self]}),notGreaterThan:new o({name:"NOTGT",filterOperator:e.LE,tokenParse:"^!>([^=].*)$",tokenFormat:"!(>{0})",valueTypes:[o.ValueType.Self],exclude:true}),lessEqual:new o({name:"LE",alias:{Date:"TO",DateTime:"TODATETIME"},filterOperator:e.LE,tokenParse:"^<=(.+)$",tokenFormat:"<={0}",valueTypes:[o.ValueType.Self]}),notLessEqual:new o({name:"NOTLE",filterOperator:e.GT,tokenParse:"^!<=(.+)$",tokenFormat:"!(<={0})",valueTypes:[o.ValueType.Self],exclude:true}),greaterEqual:new o({name:"GE",alias:{Date:"FROM",DateTime:"FROMDATETIME"},filterOperator:e.GE,tokenParse:"^>=(.+)$",tokenFormat:">={0}",valueTypes:[o.ValueType.Self]}),notGreaterEqual:new o({name:"NOTGE",filterOperator:e.LT,tokenParse:"^!>=(.+)$",tokenFormat:"!(>={0})",valueTypes:[o.ValueType.Self],exclude:true}),startsWith:new o({name:"StartsWith",filterOperator:e.StartsWith,tokenParse:"^([^!\\*]+.*)\\*$",tokenFormat:"{0}*",valueTypes:[o.ValueType.SelfNoParse]}),notStartsWith:new o({name:"NotStartsWith",filterOperator:e.NotStartsWith,tokenParse:"^!([^\\*].*)\\*$",tokenFormat:"!({0}*)",valueTypes:[o.ValueType.SelfNoParse],exclude:true}),endsWith:new o({name:"EndsWith",filterOperator:e.EndsWith,tokenParse:"^\\*(.*[^\\*])$",tokenFormat:"*{0}",valueTypes:[o.ValueType.SelfNoParse]}),notEndsWith:new o({name:"NotEndsWith",filterOperator:e.NotEndsWith,tokenParse:"^!\\*(.*[^\\*])$",tokenFormat:"!(*{0})",valueTypes:[o.ValueType.SelfNoParse],exclude:true}),contains:new o({name:"Contains",filterOperator:e.Contains,tokenParse:"^\\*(.*)\\*$",tokenFormat:"*{0}*",valueTypes:[o.ValueType.SelfNoParse]}),notContains:new o({name:"NotContains",filterOperator:e.NotContains,tokenParse:"^!\\*(.*)\\*$",tokenFormat:"!(*{0}*)",valueTypes:[o.ValueType.SelfNoParse],exclude:true}),notEqual:new o({name:"NE",filterOperator:e.NE,tokenParse:"^!=(.+)$",tokenFormat:"!(={0})",valueTypes:[o.ValueType.Self],exclude:true}),empty:new o({name:"Empty",filterOperator:e.EQ,tokenParse:"^<#tokenText#>$",tokenFormat:"<#tokenText#>",valueTypes:[],getModelFilter:function(t,r,n,s,o){var l=false;if(n){var i=n.parseValue("","string");try{n.validateValue(i);l=i===null}catch(e){l=false}}if(l){return new a({filters:[new a({path:r,operator:e.EQ,value1:""}),new a({path:r,operator:e.EQ,value1:null})],and:false})}else{return new a({path:r,operator:this.filterOperator,value1:""})}}}),notEmpty:new o({name:"NotEmpty",filterOperator:e.NE,tokenParse:"^!<#tokenText#>$",tokenFormat:"!(<#tokenText#>)",valueTypes:[],exclude:true,getModelFilter:function(t,r,n,s,o){var l=false;if(n){var i=n.parseValue("","string");try{n.validateValue(i);l=i===null}catch(e){l=false}}if(l){return new a({filters:[new a({path:r,operator:e.NE,value1:""}),new a({path:r,operator:e.NE,value1:null})],and:true})}else{return new a({path:r,operator:this.filterOperator,value1:""})}}}),yesterday:new l({name:"YESTERDAY",valueTypes:[o.ValueType.Static],calcRange:function(){return f.ranges.yesterday()},formatRange:function(e,a){return a.formatValue(e[0],"string")}}),today:new l({name:"TODAY",valueTypes:[o.ValueType.Static],calcRange:function(){return f.ranges.today()},formatRange:function(e,a){return a.formatValue(e[0],"string")}}),tomorrow:new l({name:"TOMORROW",valueTypes:[o.ValueType.Static],calcRange:function(){return f.ranges.tomorrow()},formatRange:function(e,a){return a.formatValue(e[0],"string")}}),lastDays:new l({name:"LASTDAYS",valueTypes:[{name:"sap.ui.model.type.Integer",formatOptions:{emptyString:null},constraints:{minimum:0}}],paramTypes:["(\\d+)"],additionalInfo:"",calcRange:function(e){return f.ranges.lastDays(e)}}),firstDayWeek:new l({name:"FIRSTDAYWEEK",valueTypes:[o.ValueType.Static],calcRange:function(){return f.ranges.firstDayOfWeek()},formatRange:function(e,a){return a.formatValue(e[0],"string")}}),lastDayWeek:new l({name:"LASTDAYWEEK",valueTypes:[o.ValueType.Static],calcRange:function(){return f.ranges.lastDayOfWeek()},formatRange:function(e,a){return a.formatValue(e[0],"string")}}),firstDayMonth:new l({name:"FIRSTDAYMONTH",valueTypes:[o.ValueType.Static],calcRange:function(){return f.ranges.firstDayOfMonth()},formatRange:function(e,a){return a.formatValue(e[0],"string")}}),lastDayMonth:new l({name:"LASTDAYMONTH",valueTypes:[o.ValueType.Static],calcRange:function(){return f.ranges.lastDayOfMonth()},formatRange:function(e,a){return a.formatValue(e[0],"string")}}),firstDayQuarter:new l({name:"FIRSTDAYQUARTER",valueTypes:[o.ValueType.Static],calcRange:function(){return f.ranges.firstDayOfQuarter()},formatRange:function(e,a){return a.formatValue(e[0],"string")}}),lastDayQuarter:new l({name:"LASTDAYQUARTER",valueTypes:[o.ValueType.Static],calcRange:function(){return f.ranges.lastDayOfQuarter()},formatRange:function(e,a){return a.formatValue(e[0],"string")}}),firstDayYear:new l({name:"FIRSTDAYYEAR",valueTypes:[o.ValueType.Static],calcRange:function(){return f.ranges.firstDayOfYear()},formatRange:function(e,a){return a.formatValue(e[0],"string")}}),lastDayYear:new l({name:"LASTDAYYEAR",valueTypes:[o.ValueType.Static],calcRange:function(){return f.ranges.lastDayOfYear()},formatRange:function(e,a){return a.formatValue(e[0],"string")}}),todayFromTo:new l({name:"TODAYFROMTO",valueTypes:[{name:"sap.ui.model.type.Integer",formatOptions:{emptyString:null}},{name:"sap.ui.model.type.Integer",formatOptions:{emptyString:null}}],paramTypes:["([-+]?\\d+)","([-+]?\\d+)"],additionalInfo:"",calcRange:function(e,a){var t=e>=0?f.ranges.lastDays(e)[0]:f.ranges.nextDays(-e)[1];var r=a>=0?f.ranges.nextDays(a)[1]:f.ranges.lastDays(-a)[0];if(t.oDate.getTime()>r.oDate.getTime()){r=[t,t=r][0]}return[f.resetStartTime(t),f.resetEndTime(r)]}}),nextDays:new l({name:"NEXTDAYS",valueTypes:[{name:"sap.ui.model.type.Integer",formatOptions:{emptyString:null},constraints:{minimum:0}}],paramTypes:["(\\d+)"],additionalInfo:"",calcRange:function(e){return f.ranges.nextDays(e)}}),lastWeek:new l({name:"LASTWEEK",valueTypes:[o.ValueType.Static],calcRange:function(){return f.ranges.lastWeek()}}),thisWeek:new l({name:"THISWEEK",valueTypes:[o.ValueType.Static],calcRange:function(){return f.ranges.currentWeek()}}),nextWeek:new l({name:"NEXTWEEK",valueTypes:[o.ValueType.Static],calcRange:function(){return f.ranges.nextWeek()}}),lastWeeks:new l({name:"LASTWEEKS",valueTypes:[{name:"sap.ui.model.type.Integer",formatOptions:{emptyString:null},constraints:{minimum:0}}],paramTypes:["(\\d+)"],additionalInfo:"",calcRange:function(e){return f.ranges.lastWeeks(e)}}),nextWeeks:new l({name:"NEXTWEEKS",valueTypes:[{name:"sap.ui.model.type.Integer",formatOptions:{emptyString:null},constraints:{minimum:0}}],paramTypes:["(\\d+)"],additionalInfo:"",calcRange:function(e){return f.ranges.nextWeeks(e)}}),lastMonth:new l({name:"LASTMONTH",valueTypes:[o.ValueType.Static],calcRange:function(){return f.ranges.lastMonth()}}),thisMonth:new l({name:"THISMONTH",valueTypes:[o.ValueType.Static],calcRange:function(){return f.ranges.currentMonth()}}),nextMonth:new l({name:"NEXTMONTH",valueTypes:[o.ValueType.Static],calcRange:function(){return f.ranges.nextMonth()}}),lastMonths:new l({name:"LASTMONTHS",valueTypes:[{name:"sap.ui.model.type.Integer",formatOptions:{emptyString:null},constraints:{minimum:0}}],paramTypes:["(\\d+)"],additionalInfo:"",calcRange:function(e){return f.ranges.lastMonths(e)}}),nextMonths:new l({name:"NEXTMONTHS",valueTypes:[{name:"sap.ui.model.type.Integer",formatOptions:{emptyString:null},constraints:{minimum:0}}],paramTypes:["(\\d+)"],additionalInfo:"",calcRange:function(e){return f.ranges.nextMonths(e)}}),lastQuarter:new l({name:"LASTQUARTER",valueTypes:[o.ValueType.Static],calcRange:function(){return f.ranges.lastQuarter()}}),thisQuarter:new l({name:"THISQUARTER",valueTypes:[o.ValueType.Static],calcRange:function(){return f.ranges.currentQuarter()}}),nextQuarter:new l({name:"NEXTQUARTER",valueTypes:[o.ValueType.Static],calcRange:function(){return f.ranges.nextQuarter()}}),lastQuarters:new l({name:"LASTQUARTERS",valueTypes:[{name:"sap.ui.model.type.Integer",formatOptions:{emptyString:null},constraints:{minimum:0}}],paramTypes:["(\\d+)"],additionalInfo:"",calcRange:function(e){return f.ranges.lastQuarters(e)}}),nextQuarters:new l({name:"NEXTQUARTERS",valueTypes:[{name:"sap.ui.model.type.Integer",formatOptions:{emptyString:null},constraints:{minimum:0}}],paramTypes:["(\\d+)"],additionalInfo:"",calcRange:function(e){return f.ranges.nextQuarters(e)}}),quarter1:new l({name:"QUARTER1",valueTypes:[o.ValueType.Static],calcRange:function(){return f.ranges.quarter(1)}}),quarter2:new l({name:"QUARTER2",valueTypes:[o.ValueType.Static],calcRange:function(){return f.ranges.quarter(2)}}),quarter3:new l({name:"QUARTER3",valueTypes:[o.ValueType.Static],calcRange:function(){return f.ranges.quarter(3)}}),quarter4:new l({name:"QUARTER4",valueTypes:[o.ValueType.Static],calcRange:function(){return f.ranges.quarter(4)}}),lastYear:new l({name:"LASTYEAR",valueTypes:[o.ValueType.Static],calcRange:function(){return f.ranges.lastYear()}}),thisYear:new l({name:"THISYEAR",valueTypes:[o.ValueType.Static],calcRange:function(){return f.ranges.currentYear()}}),nextYear:new l({name:"NEXTYEAR",valueTypes:[o.ValueType.Static],calcRange:function(){return f.ranges.nextYear()}}),lastYears:new l({name:"LASTYEARS",valueTypes:[{name:"sap.ui.model.type.Integer",formatOptions:{emptyString:null},constraints:{minimum:0}}],paramTypes:["(\\d+)"],additionalInfo:"",calcRange:function(e){return f.ranges.lastYears(e)}}),nextYears:new l({name:"NEXTYEARS",valueTypes:[{name:"sap.ui.model.type.Integer",formatOptions:{emptyString:null},constraints:{minimum:0}}],paramTypes:["(\\d+)"],additionalInfo:"",calcRange:function(e){return f.ranges.nextYears(e)}}),specificMonth:new l({name:"SPECIFICMONTH",valueTypes:[{name:"sap.ui.model.type.Integer",constraints:{minimum:0,maximum:11}}],paramTypes:["(.+)"],additionalInfo:"",label:[O.getText("operators.SPECIFICMONTH_MONTH.label")],defaultValues:function(){var e=new m;return[e.getMonth()]},calcRange:function(e){var a=new m;a.setMonth(e);a=f.getMonthStartDate(a);return f.getRange(0,"MONTH",a)},format:function(e,a,t,r,n){var s=e.values[0];var o=this.tokenFormat;var l=v.apply(this)[s];if(r){return l}else{return l==null?null:o.replace(new RegExp("\\$"+0+"|"+0+"\\$"+"|"+"\\{"+0+"\\}","g"),l)}},getValues:function(e,a,t){var r=e.match(this.tokenParseRegExp);var n;if(r||t&&e){n=[];for(var s=0;s<this.valueTypes.length;s++){var o;if(r){o=r[s+1]}else if(t&&e){o=e}n.push(o)}return[_.call(this,n[0])]}return null},createControl:function(e,a,t,n){var s=sap.ui.require("sap/ui/mdc/Field");var o=w.call(this);if(s&&o){var l=new s(n,{value:{path:a,type:e,mode:"TwoWay",targetType:"raw"},display:"Description",width:"100%",fieldHelp:o});return l}else{r.warning("Operator.createControl","not able to create the control for the operator "+this.name);return null}}}),specificMonthInYear:new l({name:"SPECIFICMONTHINYEAR",valueTypes:[{name:"sap.ui.model.type.Integer",constraints:{minimum:0,maximum:11}},{name:"sap.ui.model.type.Integer",constraints:{minimum:1,maximum:9999}}],paramTypes:["(.+)","(.+)"],additionalInfo:"",label:[O.getText("operators.SPECIFICMONTHINYEAR_MONTH.label"),O.getText("operators.SPECIFICMONTHINYEAR_YEAR.label")],defaultValues:function(){var e=new m;return[e.getMonth(),e.getFullYear()]},calcRange:function(e,a){var t=new m;t.setMonth(e);t.setYear(a);t=f.getMonthStartDate(t);return f.getRange(0,"MONTH",t)},format:function(e,a,t,r,n){var s=e.values[0];var o=e.values[1];var l=this.tokenFormat;var i=v.apply(this)[s];if(r){return i+","+o}else{var u=new RegExp("\\$"+0+"|"+0+"\\$"+"|"+"\\{"+0+"\\}","g");var p=new RegExp("\\$"+1+"|"+1+"\\$"+"|"+"\\{"+1+"\\}","g");l=i==null?null:l.replace(u,i);return l.replace(p,o)}},getValues:function(e,a,t){var r=e.match(this.tokenParseRegExp);var n;if(r||t&&e){n=[];for(var s=0;s<this.valueTypes.length;s++){var o;if(r){o=r[s+1]}else if(t&&e){o=e}n.push(o)}return[_.call(this,n[0]),n[1]]}return null},createControl:function(e,a,t,n){var s;var o=sap.ui.require("sap/ui/mdc/Field");if(!o){r.warning("Operator.createControl","not able to create the control for the operator "+this.name);return null}if(t==0){var l=w.call(this);if(l){s=new o(n,{value:{path:a,type:e,mode:"TwoWay",targetType:"raw"},display:"Description",width:"100%",fieldHelp:l})}else{r.warning("Operator.createControl","not able to create the control for the operator "+this.name)}}if(t==1){s=new o(n,{value:{path:"$this>",type:e,mode:"TwoWay",targetType:"raw"},width:"100%"})}return s}}),yearToDate:new l({name:"YEARTODATE",valueTypes:[o.ValueType.Static],calcRange:function(){return f.ranges.yearToDate()}}),dateToYear:new l({name:"DATETOYEAR",valueTypes:[o.ValueType.Static],calcRange:function(){return f.ranges.dateToYear()}})},_mDefaultOpsForType:{},addOperator:function(e){g._mOperators[e.name]=e},addOperators:function(e){if(!Array.isArray(e)){e=[e]}e.forEach(function(e){g.addOperator(e)})},removeOperators:function(e){if(!Array.isArray(e)){e=[e]}e.forEach(function(e){g.removeOperator(e)})},removeOperator:function(e){if(typeof e==="string"){delete g._mOperators[e]}else{delete g._mOperators[e.name]}},setOperatorsForType:function(e,a,t){if(!Array.isArray(a)){a=[a]}if(!g._mDefaultOpsForType[e]){g._mDefaultOpsForType[e]={}}g._mDefaultOpsForType[e].operators=[];a.forEach(function(a){g.addOperatorForType(e,a)});if(t){g.setDefaultOperatorForType(e,t)}},setDefaultOperatorForType:function(e,a){if(!g._mDefaultOpsForType[e]){g._mDefaultOpsForType[e]={}}if(typeof a==="string"){a=g.getOperator(a)}g._mDefaultOpsForType[e].defaultOperator=a},addOperatorForType:function(e,a){g.insertOperatorForType(e,a)},insertOperatorForType:function(e,a,t){if(!g._mDefaultOpsForType[e]){g._mDefaultOpsForType[e]={operators:[]}}t=t===undefined?g._mDefaultOpsForType[e].operators.length:t;if(typeof a==="string"){a=g.getOperator(a)}g._mDefaultOpsForType[e].operators.splice(t,0,a)},removeOperatorForType:function(e,a){var t;if(typeof a==="string"){t=a}else{t=a.name}for(var r=0;r<g._mDefaultOpsForType[e].operators.length;r++){if(g._mDefaultOpsForType[e].operators[r].name===t){g._mDefaultOpsForType[e].operators.splice(r,1);return}}},getOperatorsForType:function(e){var a=[];for(var t=0;t<g._mDefaultOpsForType[e].operators.length;t++){a.push(g._mDefaultOpsForType[e].operators[t].name)}return a},getDefaultOperator:function(e){return g._mDefaultOpsForType[e].defaultOperator||g._mOperators.equal},getMatchingOperators:function(e,a){var t=[];for(var r=0;r<e.length;r++){var n=this.getOperator(e[r]);if(n){t.push(n)}}return d.call(this,t,a)},getOperator:function(e){for(var a in g._mOperators){var t=g._mOperators[a];if(t.name===e){return t}}return undefined},getEQOperator:function(e){if(e){for(var a=0;a<e.length;a++){var t=this.getOperator(e[a]);if(t&&t.validateInput&&!t.exclude&&t.valueTypes[0]&&t.valueTypes[0]!==o.ValueType.Static){return t}}}return g._mOperators.equal},onlyEQ:function(e){if(e.length===1&&e[0]==="EQ"){return true}else{return false}},checkConditionsEmpty:function(e){if(!Array.isArray(e)){e=[e]}e.forEach(function(e){var a=this.getOperator(e.operator);if(a){e.isEmpty=a.isEmpty(e)}}.bind(this))},updateConditionsValues:function(e){if(!Array.isArray(e)){e=[e]}for(var a=0;a<e.length;a++){this.updateConditionValues(e[a])}},updateConditionValues:function(e){var a=this.getOperator(e.operator);if(a&&e.validated!==u.Validated){var t=a.valueTypes.length;if(a.valueTypes.length===2&&a.valueTypes[1]===null&&(e.values.length<2||e.values[1]===null||e.values[1]===undefined)){t=t-1}if(a.valueTypes[0]==="static"){e.values=[]}else{while(e.values.length!=t){if(e.values.length<t){e.values.push(null)}if(e.values.length>t){e.values=e.values.slice(0,e.values.length-1)}}}}},indexOfCondition:function(e,a){var t=-1;for(var r=0;r<a.length;r++){if(this.compareConditions(e,a[r])){t=r;break}}return t},compareConditions:function(e,a){var t=false;if(e.operator===a.operator){var r=this.getOperator(e.operator);if(r){t=r.compareConditions(e,a)}}return t},compareConditionsArray:function(e,a){var t=false;if(e.length===a.length){t=true;for(var r=0;r<e.length;r++){if(!this.compareConditions(e[r],a[r])){t=false;break}}}return t},checkConditionValidated:function(e){var a=this.getOperator(e.operator);if(!e.validated&&a&&a.checkValidated){a.checkValidated(e)}},getOperatorForDynamicDateOption:function(e,a){var t;if(a&&e.startsWith(a)){t=this.getOperator(e.slice(a.length+1))}else{t=this.getOperator(e)}if(!t&&a){for(var r in g._mOperators){var n=g._mOperators[r];if(n.alias&&n.alias[a]===e){t=n;break}}}return t},getDynamicDateOptionForOperator:function(e,a,t){var r;if(e){if(a[e.name]){r=e.name}else if(e.alias&&a[e.alias[t]]){r=e.alias[t]}}return r},getCustomDynamicDateOptionForOperator:function(e,a){return a+"-"+e.name}};g.setOperatorsForType(i.String,[g._mOperators.contains,g._mOperators.equal,g._mOperators.between,g._mOperators.startsWith,g._mOperators.endsWith,g._mOperators.lessThan,g._mOperators.lessEqual,g._mOperators.greaterThan,g._mOperators.greaterEqual,g._mOperators.empty,g._mOperators.notContains,g._mOperators.notEqual,g._mOperators.notBetween,g._mOperators.notStartsWith,g._mOperators.notEndsWith,g._mOperators.notLessThan,g._mOperators.notLessEqual,g._mOperators.notGreaterThan,g._mOperators.notGreaterEqual,g._mOperators.notEmpty],g._mOperators.equal);g.setOperatorsForType(i.Date,[g._mOperators.equal,g._mOperators.between,g._mOperators.lessThan,g._mOperators.lessEqual,g._mOperators.greaterThan,g._mOperators.greaterEqual,g._mOperators.notEqual,g._mOperators.notBetween,g._mOperators.notLessThan,g._mOperators.notLessEqual,g._mOperators.notGreaterThan,g._mOperators.notGreaterEqual,g._mOperators.today,g._mOperators.yesterday,g._mOperators.tomorrow,g._mOperators.firstDayWeek,g._mOperators.lastDayWeek,g._mOperators.firstDayMonth,g._mOperators.lastDayMonth,g._mOperators.firstDayQuarter,g._mOperators.lastDayQuarter,g._mOperators.firstDayYear,g._mOperators.lastDayYear,g._mOperators.todayFromTo,g._mOperators.lastDays,g._mOperators.nextDays,g._mOperators.thisWeek,g._mOperators.lastWeek,g._mOperators.lastWeeks,g._mOperators.nextWeek,g._mOperators.nextWeeks,g._mOperators.specificMonth,g._mOperators.specificMonthInYear,g._mOperators.thisMonth,g._mOperators.lastMonth,g._mOperators.lastMonths,g._mOperators.nextMonth,g._mOperators.nextMonths,g._mOperators.thisQuarter,g._mOperators.lastQuarter,g._mOperators.lastQuarters,g._mOperators.nextQuarter,g._mOperators.nextQuarters,g._mOperators.quarter1,g._mOperators.quarter2,g._mOperators.quarter3,g._mOperators.quarter4,g._mOperators.thisYear,g._mOperators.lastYear,g._mOperators.lastYears,g._mOperators.nextYear,g._mOperators.nextYears,g._mOperators.yearToDate,g._mOperators.dateToYear]);g.setOperatorsForType(i.DateTime,[g._mOperators.equal,g._mOperators.between,g._mOperators.lessThan,g._mOperators.lessEqual,g._mOperators.greaterThan,g._mOperators.greaterEqual,g._mOperators.notEqual,g._mOperators.notBetween,g._mOperators.notLessThan,g._mOperators.notLessEqual,g._mOperators.notGreaterThan,g._mOperators.notGreaterEqual,g._mOperators.today,g._mOperators.yesterday,g._mOperators.tomorrow,g._mOperators.firstDayWeek,g._mOperators.lastDayWeek,g._mOperators.firstDayMonth,g._mOperators.lastDayMonth,g._mOperators.firstDayQuarter,g._mOperators.lastDayQuarter,g._mOperators.firstDayYear,g._mOperators.lastDayYear,g._mOperators.todayFromTo,g._mOperators.lastDays,g._mOperators.nextDays,g._mOperators.thisWeek,g._mOperators.lastWeek,g._mOperators.lastWeeks,g._mOperators.nextWeek,g._mOperators.nextWeeks,g._mOperators.specificMonth,g._mOperators.specificMonthInYear,g._mOperators.thisMonth,g._mOperators.lastMonth,g._mOperators.lastMonths,g._mOperators.nextMonth,g._mOperators.nextMonths,g._mOperators.thisQuarter,g._mOperators.lastQuarter,g._mOperators.lastQuarters,g._mOperators.nextQuarter,g._mOperators.nextQuarters,g._mOperators.quarter1,g._mOperators.quarter2,g._mOperators.quarter3,g._mOperators.quarter4,g._mOperators.thisYear,g._mOperators.lastYear,g._mOperators.lastYears,g._mOperators.nextYear,g._mOperators.nextYears,g._mOperators.yearToDate,g._mOperators.dateToYear]);g.setOperatorsForType(i.Numeric,[g._mOperators.equal,g._mOperators.between,g._mOperators.lessThan,g._mOperators.lessEqual,g._mOperators.greaterThan,g._mOperators.greaterEqual,g._mOperators.notEqual,g._mOperators.notBetween,g._mOperators.notLessThan,g._mOperators.notLessEqual,g._mOperators.notGreaterThan,g._mOperators.notGreaterEqual]);g.setOperatorsForType(i.Time,[g._mOperators.equal,g._mOperators.between,g._mOperators.lessThan,g._mOperators.lessEqual,g._mOperators.greaterThan,g._mOperators.greaterEqual,g._mOperators.notEqual,g._mOperators.notBetween,g._mOperators.notLessThan,g._mOperators.notLessEqual,g._mOperators.notGreaterThan,g._mOperators.notGreaterEqual]);g.setOperatorsForType(i.Boolean,[g._mOperators.equal,g._mOperators.notEqual]);function d(e,a){var t=[];for(var r=0;r<e.length;r++){var n=e[r];if(n&&n.test&&n.test(a)){t.push(n)}}return t}function h(e){return e===null||e===undefined||e===""}function v(){if(!this._aMonths){var e=new m,a=c.getDateInstance({pattern:"LLLL"});e.setDate(15);e.setMonth(0);var t=[];for(var r=0;r<12;r++){t.push(a.format(e));e.setMonth(e.getMonth()+1)}this._aMonths=t}return this._aMonths}function _(e){var a=e.toLowerCase();var t=v.apply(this);var r=-1;t.some(function(e,t){if(e.toLowerCase()==a){r=t;return true}});return r}var E=false;function w(){var e="LFHForSpecificMonth";if(!E){E=true;p(["sap/ui/mdc/valuehelp/content/FixedList","sap/ui/mdc/field/ListFieldHelpItem","sap/ui/mdc/ValueHelp","sap/ui/mdc/valuehelp/Popover","sap/ui/core/Control"]).then(function(a){var t=a[0];var n=a[1];var s=a[2];var o=a[3];var l=a[4];var i=function(){if(!this._aMonthsItems){var e=v.apply(this);this._aMonthsItems=[];for(var a=0;a<12;a++){this._aMonthsItems.push({text:e[a],key:a})}}return this._aMonthsItems}.bind(this);var u=new s({id:e,typeahead:new o({content:[new t({filterList:false,useFirstMatch:true,items:{path:"$items>/",template:new n({text:"{$items>text}",key:"{$items>key}"}),templateShareable:false}})]})}).setModel(new y(i()),"$items");try{var p=sap.ui.getCore().getStaticAreaRef();var m=sap.ui.getCore().getUIArea(p);var f=new l(e+"-parent",{dependents:[u]});m.addContent(f,true)}catch(e){r.error(e);throw new Error("MonthFieldHelp cannot be assigned because static UIArea cannot be determined.")}}.bind(this))}return e}return g},true);
//# sourceMappingURL=FilterOperatorUtil.js.map