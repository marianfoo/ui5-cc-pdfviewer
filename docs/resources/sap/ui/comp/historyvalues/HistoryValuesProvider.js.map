{"version":3,"file":"HistoryValuesProvider.js","names":["sap","ui","define","EventProvider","values","constants","HistoryGlobalDataService","HistoryAppDataService","HistoryValuesProvider","extend","metadata","library","events","fieldUpdated","parameters","fieldData","type","constructor","oControl","sFieldName","apply","this","arguments","_initialize","prototype","_oControl","_sFieldName","_getHistoryGlobalDataService","getInstance","_getHistoryAppDataService","attachChangeListener","isA","attachTokenUpdate","_onMultiInputChange","attachSelectionChange","_onMultiComboBoxChange","attachSuggestionItemSelected","_suggestionItemSelected","attachChange","_onComboBoxChange","_detachChangeListener","detachTokenUpdate","detachSelectionChange","detachSuggestionItemSelected","detachChange","oEvent","sType","getParameter","aAddedTokens","aDataToSave","reduce","aResult","oToken","oData","data","concat","setFieldData","bSelected","oChangedItem","getBindingContext","getObject","_processSingleValueControl","oSelectedRow","getCore","byId","getSource","getSelectedRow","sValue","sNewValue","oSelectedItem","getSelectedItem","_processDateValues","Object","keys","oResult","sKey","toString","call","getTime","_getDistinct","aData","oUnique","aDistinct","forEach","x","join","push","_getItemId","sMetadataId","iLastIndexOfParentheses","lastIndexOf","slice","getFieldData","aFieldNewData","aResults","sItemId","__metadata","id","assign","__ui5_id","getSuggestionsGroupPropertyName","bind","then","aFieldOldData","iMaxHistoryItems","getMaxHistoryItems","aDataToSet","fireEvent","getHistoryEnabled","destroy","_oDataReadyPromise"],"sources":["HistoryValuesProvider-dbg.js"],"mappings":"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"}