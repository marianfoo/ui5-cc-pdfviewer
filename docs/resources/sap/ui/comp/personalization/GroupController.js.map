{"version":3,"file":"GroupController.js","names":["sap","ui","define","BaseController","MLibrary","CompLibrary","Util","P13nConditionPanel","P13nConditionOperation","GroupController","extend","constructor","sId","mSettings","apply","this","arguments","setType","P13nPanelType","group","setItemType","metadata","events","afterGroupModelDataChange","prototype","setTable","oTable","getTableType","personalization","TableType","AnalyticalTable","Table","TreeTable","detachGroup","_onGroup","attachGroup","getColumn2Json","oColumn","sColumnKey","iIndex","getGrouped","columnKey","isGrouped","operation","getSortOrder","GroupAscending","GroupDescending","showIfGrouped","getShowIfGrouped","getAdditionalData2Json","oJson","groupItems","length","getGroupedColumns","forEach","iIndexNew","getCore","byId","iIndexOld","getIndexByKey","getColumnKey","oItem","splice","getColumn2JsonTransient","sText","sTooltip","isGroupable","text","tooltip","undefined","handleIgnore","sort","sortItems","syncJson2Table","oColumnKey2ColumnMap","getColumnMap","getTable","fireBeforePotentialTableChange","bIsSetFromGroupController","setGrouped","setShowIfGrouped","oMGroupItem","some","setGroupBy","fireAfterPotentialTableChange","getDataSuiteFormat2Json","oDataSuiteFormat","createControlDataStructure","GroupBy","map","sGroupBy","getDataSuiteFormatSnapshot","oControlDataTotal","getUnionData","getControlDataInitial","getControlData","oEvent","_updateInternalModel","getParameter","fireAfterGroupModelDataChange","_setGroup","bGrouped","aGroupedColumns","getInternalModel","setProperty","oControlData","updateControlDataBaseFromJson","getPanel","hasGroupableColumns","Promise","resolve","require","P13nGroupPanel","P13nItem","P13nGroupItem","maxGroups","containerQuery","items","path","template","beforeNavigationTo","setModelFunction","updateGroupItem","fireAfterPotentialModelChange","json","getControlDataReduce","bind","addGroupItem","oGroupItemData","oGroupItem","getOperation","oControlDataReduce","push","setControlDataReduce2Model","removeGroupItem","retrieveAdaptationUI","oPayload","GroupPanel","aGroupItems","getAdaptationData","bIsAnalyticalTable","oGroupPanel","queryLimit","enableShowField","oPanel","setP13nData","attachChange","oEvt","aGroups","getP13nData","oNew","o","name","descending","_transformAdaptationData","oReduce","oTransient","oAdaptationItem","grouped","_sortAdaptationData","aItems","_getP13nBuilder","sortP13nData","visible","position","_getPresenceAttribute","getChangeType","oPersistentDataBase","oPersistentDataCompare","ChangeType","Unchanged","bIsDirty","JSON","stringify","ModelChanged","getChangeData","copy","oJsonBase","isGroupSelected","iIndex_","exit"],"sources":["GroupController-dbg.js"],"mappings":"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"}