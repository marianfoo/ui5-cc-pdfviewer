{"version":3,"file":"ColumnsController.js","names":["sap","ui","define","BaseController","MLibrary","CompLibrary","Util","merge","ColumnsController","extend","constructor","sId","mSettings","apply","this","arguments","setType","P13nPanelType","columns","setItemType","metadata","properties","triggerModelChangeOnColumnInvisible","type","group","defaultValue","events","afterColumnsModelDataChange","prototype","setTable","oTable","getTableType","personalization","TableType","ResponsiveTable","oColumnResizerPlugin","findElements","oElement","isA","detachColumnResize","_onColumnResize","attachColumnResize","AnalyticalTable","Table","TreeTable","detachColumnMove","_onColumnMove","detachColumnVisibility","_onColumnVisibility","attachColumnMove","attachColumnVisibility","_monkeyPatchTable","getColumn2Json","oColumn","sColumnKey","iIndex","columnKey","index","visible","getVisible","width","getWidth","undefined","total","getSummed","getAdditionalData2Json","oJsonData","fixedColumnCount","getFixedColumnCount","getColumn2JsonTransient","sText","sTooltip","text","tooltip","handleIgnore","oJson","columnsItems","syncJson2Table","getTable","oColumnKey2ColumnMap","getColumnMap","fireBeforePotentialTableChange","_applyChangesToUiTableType","_applyChangesToMTableType","fireAfterPotentialTableChange","getDataSuiteFormat2Json","oDataSuiteFormat","createControlDataStructure","fnAddProperty","sPropertyName","oPropertyValue","getIndexByKey","length","splice","getControlDataInitial","filter","oMItem","forEach","Visualizations","aLineItemVisualizations","oVisualization","Type","Content","oContent","Value","aColumnWidthVisualizations","Width","Total","getDataSuiteFormatSnapshot","oControlDataTotal","getUnionData","getControlData","aColumnsItemsContainingTotal","oColumnsItem","map","aColumnsItemsVisible","sort","_sortByIndex","push","Label","aColumnWidthItems","oEvent","iIndexTo","getParameter","getColumnKey","oControlData","iIndexFrom","aMItem","iItemIndex","updateControlDataBaseFromJson","fireAfterColumnsModelDataChange","_updateInternalModel","_onColumnTotal","oParams","column","isSummed","_onColumnFixedCount","iFixedColumnCount","getInternalModel","setProperty","vPropertyValue","getPanel","oPayload","iVisibleItemsThreshold","visibleItemsThreshold","Promise","resolve","require","P13nColumnsPanel","P13nItem","P13nColumnsItem","items","path","template","beforeNavigationTo","setModelFunction","changeColumnsItems","oControlDataReduce","getControlDataReduce","setControlDataReduce2Model","_enhanceForStableKeys","fireAfterPotentialModelChange","json","bind","_swapIndexes","oItem1","oItem2","_quickSortPartition","aColumns","iStartIndex","iEndIndex","i","iPartitionIndex","oPivot","_quickSort","iInitialStartIndex","iInitialEndIndex","aStack","pop","_sortIndexesByOrder","findIndex","oItem","Number","isInteger","iLastVisibleColumnIndex","retrieveAdaptationUI","SelectionPanel","aP13nData","getAdaptationData","oSelectionPanel","showHeader","enableCount","fieldColumn","getCore","getLibraryResourceBundle","getText","setP13nData","_oListControl","setMultiSelectMode","oPanel","aMapped","attachChange","oChangeEvt","getSource","getP13nData","oP13nItem","oP13nColumnItem","name","position","_sortAdaptationData","oNew","_transformAdaptationData","oReduce","oTransient","oAdaptationItem","a","b","oColumnsItemsMap","that","fSetOrderArray","aColumnsItems","aColumnKeys","aColumnsItemsSortedByIndex","indexOf","fSetVisibility","setVisible","fSetOrder","iTableColumnIndex","indexOfColumn","iModelColumnIndex","removeColumn","insertColumn","fSetWidth","setWidth","fSetTotal","setSummed","aColumnsItemsArray","getColumnKeys","setFixedColumnCount","bTableInvalidateNeeded","setOrder","invalidate","getChangeType","oControlDataReduceBase","oControlDataReduceCompare","oChangeData","getChangeData","bNeedModelChange","getTriggerModelChangeOnColumnInvisible","oChangeType","ChangeType","TableChanged","some","ModelChanged","Unchanged","copy","bIsEqual","oItemCompare","getArrayElementByKey","semanticEqual","aToBeDeleted","property","Object","keys","_sortArrayByPropertyName","aArrayToBeSorted","bTakeACopy","aSortedArray","propertyA","propertyB","oJsonBase","oUnion","sAttribute","Array","isArray","oMItemBase","oMItemUnion","getStableColumnKeys","_checkFillRequired","aGapsFilled","_getFilledArray","mJson","reduce","obj","bFillRequired","mJsonBase","iIndexNew","fixConflictWithIgnore","oJsonIgnore","bIsConflictSituation","oMItemIgnore","isColumnSelected","fSetFixedColumnCountOrigin","fSetFixedColumnCountOverwritten","bSuppressInvalidate","toString","exit"],"sources":["ColumnsController-dbg.js"],"mappings":";;;;AAMAA,IAAIC,GAAGC,OAAO,CACb,mBACA,gBACA,sBACA,SACA,uBACE,SACFC,EACAC,EACAC,EACAC,EACAC,GAEA,aAaA,IAAIC,EAAoBL,EAAeM,OAAO,gDAC9C,CACCC,YAAa,SAASC,EAAKC,GAC1BT,EAAeU,MAAMC,KAAMC,WAC3BD,KAAKE,QAAQZ,EAASa,cAAcC,SACpCJ,KAAKK,YAAYf,EAASa,cAAcC,QAAU,QACnD,EACAE,SAAU,CACTC,WAAY,CAIXC,oCAAqC,CACpCC,KAAM,UACNC,MAAO,OACPC,aAAc,QAShBC,OAAQ,CACPC,4BAA6B,CAAC,MAKjCnB,EAAkBoB,UAAUC,SAAW,SAASC,GAC/C3B,EAAeyB,UAAUC,SAAShB,MAAMC,KAAMC,WAE9C,GAAID,KAAKiB,iBAAmB1B,EAAY2B,gBAAgBC,UAAUC,gBAAiB,CAClF,IAAIC,EAAuBL,EAAOM,aAAa,MAAO,SAASC,GAC9D,OAAOA,EAASC,IAAI,8BACrB,GAAG,GACH,GAAIH,EAAsB,CACzBA,EAAqBI,mBAAmBzB,KAAK0B,gBAAiB1B,MAC9DqB,EAAqBM,mBAAmB3B,KAAK0B,gBAAiB1B,KAC/D,CACD,MAAO,GAAIA,KAAKiB,iBAAmB1B,EAAY2B,gBAAgBC,UAAUS,iBAAmB5B,KAAKiB,iBAAmB1B,EAAY2B,gBAAgBC,UAAUU,OAAS7B,KAAKiB,iBAAmB1B,EAAY2B,gBAAgBC,UAAUW,UAAW,CAC3Od,EAAOe,iBAAiB/B,KAAKgC,cAAehC,MAC5CgB,EAAOiB,uBAAuBjC,KAAKkC,oBAAqBlC,MACxDgB,EAAOS,mBAAmBzB,KAAK0B,gBAAiB1B,MAChDgB,EAAOmB,iBAAiBnC,KAAKgC,cAAehC,MAC5CgB,EAAOoB,uBAAuBpC,KAAKkC,oBAAqBlC,MACxDgB,EAAOW,mBAAmB3B,KAAK0B,gBAAiB1B,KACjD,CAEAA,KAAKqC,kBAAkBrB,EACxB,EAQAtB,EAAkBoB,UAAUwB,eAAiB,SAASC,EAASC,EAAYC,GAC1E,MAAO,CACNC,UAAWF,EACXG,MAAOF,EACPG,QAASL,EAAQM,aACjBC,MAAOP,EAAQQ,SAAWR,EAAQQ,WAAaC,UAC/CC,MAAOV,EAAQW,UAAYX,EAAQW,YAAcF,UAEnD,EACAtD,EAAkBoB,UAAUqC,uBAAyB,SAASC,EAAWpC,GACxEoC,EAAUhD,QAAQiD,iBAAmBrC,GAAUA,EAAOsC,oBAAsBtC,EAAOsC,sBAAwBN,SAC5G,EACAtD,EAAkBoB,UAAUyC,wBAA0B,SAAShB,EAASC,EAAYgB,EAAOC,GAC1F,MAAO,CACNf,UAAWF,EACXkB,KAAMF,EAING,QAASF,IAAaD,EAAQC,EAAWT,UAE3C,EAEAtD,EAAkBoB,UAAU8C,aAAe,SAASC,EAAOpB,GAC1DoB,EAAMzD,QAAQ0D,aAAarB,GAAQG,QAAU,KAC9C,EAEAlD,EAAkBoB,UAAUiD,eAAiB,SAASF,GACrD,IAAI7C,EAAShB,KAAKgE,WAClB,IAAIC,EAAuBjE,KAAKkE,eAEhClE,KAAKmE,iCAEL,GAAInE,KAAKgE,aAAehE,KAAKiB,iBAAmB1B,EAAY2B,gBAAgBC,UAAUS,iBAAmB5B,KAAKiB,iBAAmB1B,EAAY2B,gBAAgBC,UAAUU,OAAS7B,KAAKiB,iBAAmB1B,EAAY2B,gBAAgBC,UAAUW,WAAY,CACzP9B,KAAKoE,2BAA2BpD,EAAQ6C,EAAOI,EAChD,MAAO,GAAIjE,KAAKiB,iBAAmB1B,EAAY2B,gBAAgBC,UAAUC,gBAAiB,CACzFpB,KAAKqE,0BAA0BrD,EAAQ6C,EAAOI,EAC/C,CAEAjE,KAAKsE,+BACN,EAUA5E,EAAkBoB,UAAUyD,wBAA0B,SAASC,GAC9D,IAAIX,EAAQ7D,KAAKyE,6BACjB,IAAIC,EAAgB,SAASlC,EAAYmC,EAAeC,GACvD,IAAInC,EAASjD,EAAKqF,cAAc,YAAarC,EAAYqB,EAAMzD,QAAQ0D,cACvE,GAAIrB,EAAS,EAAG,CACfA,EAASoB,EAAMzD,QAAQ0D,aAAagB,OACpCjB,EAAMzD,QAAQ0D,aAAaiB,OAAOtC,EAAQ,EAAG,CAC5CC,UAAWF,GAEb,CACAqB,EAAMzD,QAAQ0D,aAAarB,GAAQkC,GAAiBC,CACrD,EAGA5E,KAAKgF,wBAAwB5E,QAAQ0D,aAAamB,OAAO,SAASC,GACjE,OAAOA,EAAOtC,UAAY,IAC3B,GAAGuC,QAAQ,SAASD,GACnBR,EAAcQ,EAAOxC,UAAW,UAAW,MAC5C,GAGA,GAAI8B,EAAiBY,gBAAkBZ,EAAiBY,eAAeN,OAAQ,CAC9E,IAAIO,EAA0Bb,EAAiBY,eAAeH,OAAO,SAASK,GAC7E,OAAOA,EAAeC,OAAS,UAChC,GACA,GAAIF,EAAwBP,OAAQ,CACnCO,EAAwB,GAAGG,QAAQL,QAAQ,SAASM,EAAUhD,GAC7DiC,EAAce,EAASC,MAAO,UAAW,MACzChB,EAAce,EAASC,MAAO,QAASjD,EACxC,EAAGzC,KACJ,CAEA,IAAI2F,EAA6BnB,EAAiBY,eAAeH,OAAO,SAASK,GAChF,OAAOA,EAAeC,OAAS,aAChC,GACA,GAAII,EAA2Bb,OAAQ,CACtCa,EAA2B,GAAGH,QAAQL,QAAQ,SAASM,GACtDf,EAAce,EAASC,MAAO,QAASD,EAASG,MACjD,EAAG5F,KACJ,CACD,CAGA,GAAIwE,EAAiBqB,OAASrB,EAAiBqB,MAAMf,OAAQ,CAC5DN,EAAiBqB,MAAMV,QAAQ,SAAS3C,GACvCkC,EAAclC,EAAY,QAAS,KACpC,EACD,CACA,OAAOqB,CACR,EAOAnE,EAAkBoB,UAAUgF,2BAA6B,SAAStB,GACjE,IAAIuB,EAAoB/F,KAAKgG,aAAahG,KAAKgF,wBAAyBhF,KAAKiG,kBAC7E,IAAKF,EAAkB3F,UAAY2F,EAAkB3F,QAAQ0D,eAAiBiC,EAAkB3F,QAAQ0D,aAAagB,OAAQ,CAC5H,MACD,CAGA,IAAIoB,EAA+BH,EAAkB3F,QAAQ0D,aAAamB,OAAO,SAASkB,GACzF,QAASA,EAAalD,KACvB,GACA,GAAIiD,EAA6BpB,OAAQ,CACxCN,EAAiBqB,MAAQK,EAA6BE,IAAI,SAASD,GAClE,OAAOA,EAAazD,SACrB,EACD,CAIA,IAAI2D,EAAuBN,EAAkB3F,QAAQ0D,aAAamB,OAAO,SAASkB,GACjF,QAASA,EAAavD,OACvB,GACA,GAAIyD,EAAqBvB,OAAQ,CAChC,IAAKN,EAAiBY,eAAgB,CACrCZ,EAAiBY,eAAiB,EACnC,CACAiB,EAAqBC,KAAKtG,KAAKuG,cAE/B/B,EAAiBY,eAAeoB,KAAK,CACpCjB,KAAM,WACNC,QAASa,EAAqBD,IAAI,SAASD,GAC1C,MAAO,CACNT,MAAOS,EAAazD,UACpB+D,MAAOzD,UAET,IAEF,CAEA,IAAI0D,EAAoBX,EAAkB3F,QAAQ0D,aAAamB,OAAO,SAASkB,GAC9E,QAASA,EAAarD,KACvB,GACA,GAAI4D,EAAkB5B,OAAQ,CAC7B,IAAKN,EAAiBY,eAAgB,CACrCZ,EAAiBY,eAAiB,EACnC,CAEAZ,EAAiBY,eAAeoB,KAAK,CACpCjB,KAAM,cACNC,QAASkB,EAAkBN,IAAI,SAASD,GACvC,MAAO,CACNT,MAAOS,EAAazD,UACpBkD,MAAOO,EAAarD,MAEtB,IAEF,CACD,EAEApD,EAAkBoB,UAAUkB,cAAgB,SAAS2E,GACpD,IAAIC,EAAWD,EAAOE,aAAa,UACnC,IAAIrE,EAAahD,EAAKsH,aAAaH,EAAOE,aAAa,WACvD,IAAIE,EAAe/G,KAAKiG,iBACxB,IAAIe,EAAaxH,EAAKqF,cAAc,YAAarC,EAAYuE,EAAa3G,QAAQ0D,cAElF,GAAIkD,EAAa,GAAKJ,EAAW,GAAKI,EAAaD,EAAa3G,QAAQ0D,aAAagB,OAAS,GAAK8B,EAAWG,EAAa3G,QAAQ0D,aAAagB,OAAS,EAAG,CAC3J,MACD,CAEA9E,KAAKmE,iCAGL,IAAI8C,EAASF,EAAa3G,QAAQ0D,aAAaiB,OAAOiC,EAAY,GAClED,EAAa3G,QAAQ0D,aAAaiB,OAAO6B,EAAU,EAAGK,EAAO,IAE7D,IAAIC,GAAc,EAClBH,EAAa3G,QAAQ0D,aAAaqB,QAAQ,SAASD,GAClD,GAAIA,EAAOvC,QAAUK,UAAW,CAC/BkC,EAAOvC,QAAUuE,CAClB,CACD,GAGAlH,KAAKmH,8BAA8BJ,GAEnC/G,KAAKsE,gCACLtE,KAAKoH,iCACN,EACA1H,EAAkBoB,UAAUoB,oBAAsB,SAASyE,GAC1D3G,KAAKmE,iCAELnE,KAAKqH,qBAAqB7H,EAAKsH,aAAaH,EAAOE,aAAa,WAAY,UAAWF,EAAOE,aAAa,eAE3G7G,KAAKsE,gCACLtE,KAAKoH,iCACN,EACA1H,EAAkBoB,UAAUwG,eAAiB,SAASC,GACrDvH,KAAKmE,iCAELnE,KAAKqH,qBAAqB7H,EAAKsH,aAAaS,EAAQC,QAAS,QAASD,EAAQE,UAE9EzH,KAAKsE,gCACLtE,KAAKoH,iCACN,EACA1H,EAAkBoB,UAAUY,gBAAkB,SAASiF,GACtD3G,KAAKmE,iCAELnE,KAAKqH,qBAAqB7H,EAAKsH,aAAaH,EAAOE,aAAa,WAAY,QAASF,EAAOE,aAAa,UAEzG7G,KAAKsE,gCACLtE,KAAKoH,iCACN,EACA1H,EAAkBoB,UAAU4G,oBAAsB,SAASC,GAC1D3H,KAAKmE,iCAGL,IAAI4C,EAAe/G,KAAKiG,iBACxBjG,KAAK4H,mBAAmBC,YAAY,wCAAyCF,GAG7E3H,KAAKmH,8BAA8BJ,GAEnC/G,KAAKsE,gCACLtE,KAAKoH,iCACN,EACA1H,EAAkBoB,UAAUuG,qBAAuB,SAAS7E,EAAYmC,EAAemD,GACtF,IAAKtF,IAAemC,EAAe,CAClC,MACD,CAGA,IAAIoC,EAAe/G,KAAKiG,iBACxB,IAAIxD,EAASjD,EAAKqF,cAAc,YAAarC,EAAYuE,EAAa3G,QAAQ0D,cAC9E,GAAIrB,EAAS,EAAG,CACf,KAAM,sDAAwDD,EAAa,GAC5E,CACAxC,KAAK4H,mBAAmBC,YAAY,qCAAuCpF,EAAS,IAAMkC,EAAemD,GAGzG9H,KAAKmH,8BAA8BJ,EACpC,EAOArH,EAAkBoB,UAAUiH,SAAW,SAASC,GAC/C,IAAIC,EAA0BD,GAAYA,EAASE,sBAAyBF,EAASE,uBAAyB,EAE9G,OAAO,IAAIC,QAAQ,SAASC,GAE3BlJ,IAAIC,GAAGkJ,QAAQ,CACd,yBAA0B,iBAAkB,yBAC1C,SAASC,EAAkBC,EAAUC,GACvC,OAAOJ,EAAQ,IAAIE,EAAiB,CACnCJ,sBAAuBD,EACvBQ,MAAO,CACNC,KAAM,qDACNC,SAAU,IAAIJ,EAAS,CACtB7F,UAAW,6BACXgB,KAAM,wBACNC,QAAS,8BAGXG,aAAc,CACb4E,KAAM,yDACNC,SAAU,IAAIH,EAAgB,CAC7B9F,UAAW,6BACXC,MAAO,yBACPC,QAAS,2BACTE,MAAO,yBACPG,MAAO,4BAGT2F,mBAAoB5I,KAAK6I,mBACzBC,mBAAoB,SAASnC,GAC5B,IAAKA,EAAOE,aAAa,SAAU,CAClC,MACD,CAIA,IAAIkC,EAAqB/I,KAAKgJ,uBAC9BD,EAAmB3I,QAAQ0D,aAAe6C,EAAOE,aAAa,SAC9D7G,KAAKiJ,2BAA2BF,GAIhC/I,KAAKkJ,sBAAsBlJ,KAAKgF,wBAAyB+D,GAEzD/I,KAAKmJ,8BAA8B,CAClCC,KAAML,GAER,EAAEM,KAAKrJ,QAET,EAAEqJ,KAAKrJ,MACR,EAAEqJ,KAAKrJ,MACR,EAEAN,EAAkBoB,UAAUwI,aAAe,SAASC,EAAQC,GAC3D,IAAI/G,EAAS8G,EAAO5G,MAEpB4G,EAAO5G,MAAQ6G,EAAO7G,MACtB6G,EAAO7G,MAAQF,CAChB,EAEA/C,EAAkBoB,UAAU2I,oBAAsB,SAASC,EAAUC,EAAaC,GACjF,IAAIC,EACHC,EAAkBH,EAClBI,EAASL,EAASE,GAEnB,IAAKC,EAAIF,EAAaE,GAAKD,EAAY,EAAGC,IAAK,CAC9C,GAAIH,EAASG,GAAGlH,MAAQoH,EAAOpH,MAAO,CACrC,GAAIkH,IAAMC,EAAiB,CAC1B9J,KAAKsJ,aAAaI,EAASI,GAAkBJ,EAASG,GACvD,CACAC,GACD,CACD,CACA9J,KAAKsJ,aAAaI,EAASI,GAAkBC,GAC7C,OAAOD,CACR,EAEApK,EAAkBoB,UAAUkJ,WAAa,SAASN,EAAUO,EAAoBC,GAC/E,IAAIJ,EACHH,EACAC,EACAO,EAAS,CAACF,EAAoBC,GAE/B,MAAOC,EAAOA,EAAOrF,OAAS,IAAM,EAAG,CACtC8E,EAAYO,EAAOC,MACnBT,EAAcQ,EAAOC,MAErBN,EAAkB9J,KAAKyJ,oBAAoBC,EAAUC,EAAaC,GAGlE,GAAIE,EAAkB,EAAIH,EAAa,CACtCQ,EAAO3D,KAAKmD,GACZQ,EAAO3D,KAAKsD,EAAkB,EAC/B,CAGA,GAAIA,EAAkB,EAAIF,EAAW,CACpCO,EAAO3D,KAAKsD,EAAkB,GAC9BK,EAAO3D,KAAKoD,EACb,CACD,CACD,EAOAlK,EAAkBoB,UAAUuJ,oBAAsB,SAASX,GAC1D,IAAIG,EAAIH,EAASY,UAAU,SAASC,GAC7B,OAASC,OAAOC,UAAUF,EAAM5H,MACjC,GACA+H,EAA2Bb,KAAO,EAAMH,EAAS5E,OAAS,EAAM+E,EAAI,EAE1E,GAAIa,EAA0B,EAAG,CAChC1K,KAAKgK,WAAWN,EAAU,EAAGgB,EAC9B,CACD,EAEAhL,EAAkBoB,UAAU6J,qBAAuB,SAAS3C,GAC3D,OAAO,IAAIG,QAAQ,SAASC,GAC3BlJ,IAAIC,GAAGkJ,QAAQ,CACd,6BACE,SAASuC,GAEX,IAAIC,EAAY7K,KAAK8K,oBAErB,IAAIC,EAAkB,IAAIH,EAAe,CACxCI,WAAY,KACZC,YAAa,KACbC,YAAahM,IAAIC,GAAGgM,UAAUC,yBAAyB,cAAcC,QAAQ,sBAG9EN,EAAgBO,YAAYT,GAE5BE,EAAgBQ,cAAcC,mBAAmB,WAEjDxL,KAAKyL,OAASV,EAEd,IAAIW,EACJX,EAAgBY,aAAa,SAASC,GACrCF,EAAUE,EAAWC,YAAYC,cAAc1F,IAAI,SAAS2F,EAAWtJ,GACtE,IAAIuJ,EAAkB,CACrBtJ,UAAWqJ,EAAUE,KACrBrJ,QAASmJ,EAAUnJ,QACnBE,MAAOiJ,EAAUjJ,MACjBG,MAAO8I,EAAU9I,OAQlB+I,EAAgBrJ,MAAQkI,EAAUpI,GAAQyJ,SAE1C,OAAOF,CACR,GAGAhM,KAAKmM,oBAAoBT,GAEzB1L,KAAKqK,oBAAoBqB,GAEzB,IAAIU,EAAOpM,KAAKgJ,uBAChBoD,EAAKhM,QAAQ0D,aAAe4H,EAC5B1L,KAAKiJ,2BAA2BmD,GAChCpM,KAAKmJ,8BAA8B,CAClCC,KAAMpJ,KAAKkJ,sBAAsBlJ,KAAKgF,wBAAyBoH,IAEjE,EAAE/C,KAAKrJ,OAEPoI,EAAQ2C,EACT,EAAE1B,KAAKrJ,MACR,EAAEqJ,KAAKrJ,MACR,EAEAN,EAAkBoB,UAAUuL,yBAA2B,SAASC,EAASC,GACxE,IAAIC,EAAkBnN,EAAeyB,UAAUuL,yBAAyBtM,MAAMC,KAAMC,WACpFuM,EAAgB5J,QAAU0J,EAAQ1J,QAClC4J,EAAgBN,SAAWI,EAAQ3J,MACnC6J,EAAgB1J,MAAQwJ,EAAQxJ,MAChC0J,EAAgBvJ,MAAQqJ,EAAQrJ,MAChC,OAAOuJ,CACR,EAKA9M,EAAkBoB,UAAUyF,aAAe,SAASkG,EAAGC,GACtD,GAAID,EAAE9J,QAAUK,WAAa0J,EAAE/J,QAAUK,UAAW,CACnD,OAAQ,CACT,CACA,GAAI0J,EAAE/J,QAAUK,WAAayJ,EAAE9J,QAAUK,UAAW,CACnD,OAAO,CACR,CACA,GAAIyJ,EAAE9J,MAAQ+J,EAAE/J,MAAO,CACtB,OAAQ,CACT,CACA,GAAI8J,EAAE9J,MAAQ+J,EAAE/J,MAAO,CACtB,OAAO,CACR,CACA,OAAO,CACR,EASAjD,EAAkBoB,UAAUsD,2BAA6B,SAASpD,EAAQ6C,EAAOI,GAChF,IAAI1B,EAAU,KACd,IAAIoK,EAAmB,CAAC,EACxB,IAAIC,EAAO5M,KAEX,IAAI6M,EAAiB,SAASC,EAAeC,GAE5CD,EAAc3H,QAAQ,SAASgB,GAC9BwG,EAAiBxG,EAAazD,WAAayD,CAC5C,GAEA2G,EAAcxG,KAAKsG,EAAKrG,cACxB,IAAIyG,EAA6BF,EAAc1G,IAAI,SAASD,GAC3D,OAAOA,EAAazD,SACrB,GAEAqK,EAAY5H,QAAQ,SAAS3C,EAAYC,GACxC,GAAIuK,EAA2BC,QAAQzK,GAAc,EAAG,CACvDwK,EAA2BjI,OAAOtC,EAAQ,EAAGD,EAC9C,CACD,GACA,OAAOwK,CACR,EAEA,IAAIE,EAAiB,SAAS1K,EAAYD,GAEzC,IAAI4D,EAAewG,EAAiBnK,GACpC,GAAI2D,GAAgBA,EAAavD,UAAYI,WAAaT,EAAQM,eAAiBsD,EAAavD,QAAS,CACxGL,EAAQ4K,WAAWhH,EAAavD,QAAS,KAC1C,CACD,EAEA,IAAIwK,EAAY,SAAS3K,EAAQD,EAAYD,GAE5C,IAAI8K,EAAoBrM,EAAOsM,cAAc/K,GAC7C,IAAIgL,EAAoB9K,EACxB,GAAI8K,IAAsBvK,WAAaqK,IAAsBE,EAAmB,CAE/E,GAAIF,GAAqB,EAAG,CAE3BrM,EAAOwM,aAAajL,EAAS,KAC9B,CACAvB,EAAOyM,aAAalL,EAASgL,EAAmB,KACjD,CACD,EAEA,IAAIG,EAAY,SAASlL,EAAYD,GAEpC,IAAI4D,EAAewG,EAAiBnK,GACpC,GAAI2D,GAAgBA,EAAarD,QAAUE,WAAaT,EAAQQ,aAAeoD,EAAarD,MAAO,CAClGP,EAAQoL,SAASxH,EAAarD,MAAO,KACtC,CACD,EAEA,IAAI8K,EAAY,SAASpL,EAAYD,GAEpC,IAAI4D,EAAewG,EAAiBnK,GACpC,GAAI2D,GAAgBA,EAAalD,QAAUD,WAAaT,EAAQW,WAAaX,EAAQW,cAAgBiD,EAAalD,MAAO,CACxHV,EAAQsL,UAAU1H,EAAalD,MAAO,KACvC,CACD,EAEA,GAAIY,EAAMzD,QAAQ0D,aAAagB,OAAQ,CAEtC,IAAIgJ,EAAqBjB,EAAehJ,EAAMzD,QAAQ0D,aAAc9D,KAAK+N,iBACzED,EAAmB3I,QAAQ,SAAS3C,EAAYC,GAC/CF,EAAU0B,EAAqBzB,GAC/B,GAAID,EAAS,CACZ2K,EAAe1K,EAAYD,GAC3B6K,EAAU3K,EAAQD,EAAYD,GAC9BmL,EAAUlL,EAAYD,GACtBqL,EAAUpL,EAAYD,EACvB,CACD,EACD,CAGA,IAAIoF,EAAoB9D,EAAMzD,QAAQiD,kBAAoB,EAC1D,GAAIrC,EAAOsC,qBAAuBtC,EAAOsC,wBAA0BqE,EAAmB,CACrF3G,EAAOgN,oBAAoBrG,EAAmB,KAC/C,CACD,EASAjI,EAAkBoB,UAAUuD,0BAA4B,SAASrD,EAAQ6C,EAAOI,GAC/E,IAAIgK,EAAyB,MAE7B,IAAIb,EAAY,SAASjH,EAAc5D,GAEtC,IAAIgL,EAAoBpH,EAAaxD,MACrC,GAAI4K,IAAsBvK,UAAW,CACpCT,EAAQ2L,SAASX,EAAmB,MACpCU,EAAyB,IAC1B,CACD,EAEA,IAAIf,EAAiB,SAAS/G,EAAc5D,GAE3C,GAAI4D,EAAavD,UAAYI,WAAaT,EAAQM,eAAiBsD,EAAavD,QAAS,CACxFL,EAAQ4K,WAAWhH,EAAavD,QAAS,MACzCqL,EAAyB,IAC1B,CACD,EAEA,IAAIP,EAAY,SAASvH,EAAc5D,GAEtC,GAAI4D,EAAarD,QAAUE,WAAaT,EAAQQ,aAAeoD,EAAarD,MAAO,CAClFP,EAAQoL,SAASxH,EAAarD,MAC/B,CACD,EAGA,GAAIe,EAAMzD,QAAQ0D,aAAagB,OAAQ,CACtCjB,EAAMzD,QAAQ0D,aAAawC,KAAK,SAASmG,EAAGC,GAC3C,GAAID,EAAE9J,MAAQ+J,EAAE/J,MAAO,CACtB,OAAQ,CACT,CACA,GAAI8J,EAAE9J,MAAQ+J,EAAE/J,MAAO,CACtB,OAAO,CACR,CACA,OAAO,CACR,GAGAkB,EAAMzD,QAAQ0D,aAAaqB,QAAQ,SAASgB,GAC3C,IAAI5D,EAAU0B,EAAqBkC,EAAazD,WAChD,GAAIH,EAAS,CACZ6K,EAAUjH,EAAc5D,GACxB2K,EAAe/G,EAAc5D,GAC7BmL,EAAUvH,EAAc5D,EACzB,CACD,EAAGvC,KACJ,CAEA,GAAIiO,EAAwB,CAC3BjN,EAAOmN,YACR,CACD,EAUAzO,EAAkBoB,UAAUsN,cAAgB,SAASC,EAAwBC,GAC5E,IAAIC,EAAcvO,KAAKwO,cAAcH,EAAwBC,GAE7D,IAAIG,EAAmBzO,KAAKiB,iBAAmB1B,EAAY2B,gBAAgBC,UAAUS,iBAAmB5B,KAAK0O,yCAC7G,GAAIH,EAAa,CAChB,IAAII,EAAcpP,EAAY2B,gBAAgB0N,WAAWC,aACzDN,EAAYnO,QAAQ0D,aAAagL,KAAK,SAASvE,GAC9C,GAAIA,EAAM3H,SAAY2H,EAAM3H,UAAY,OAAS6L,EAAmB,CACnEE,EAAcpP,EAAY2B,gBAAgB0N,WAAWG,aACrD,OAAO,IACR,CACA,GAAIxE,EAAMtH,QAAU,OAASsH,EAAMtH,QAAU,KAAM,CAClD0L,EAAcpP,EAAY2B,gBAAgB0N,WAAWG,aACrD,OAAO,IACR,CACD,GACA,OAAOJ,CACR,CACA,OAAOpP,EAAY2B,gBAAgB0N,WAAWI,SAC/C,EASAtP,EAAkBoB,UAAU0N,cAAgB,SAASH,EAAwBC,GAE5E,IAAKA,IAA8BA,EAA0BlO,UAAYkO,EAA0BlO,QAAQ0D,aAAc,CACxH,OAAO,IACR,CAEA,IAAIyK,EAAc,CACjBnO,QAASZ,EAAKyP,KAAKZ,EAAuBjO,UAK3C,IAAI8O,EAAW,KACfA,EAAYb,EAAuBjO,QAAQiD,mBAAqBiL,EAA0BlO,QAAQiD,iBAClGgL,EAAuBjO,QAAQ0D,aAAagL,KAAK,SAASvE,GACzD,IAAI4E,EAAe3P,EAAK4P,qBAAqB,YAAa7E,EAAM7H,UAAW4L,EAA0BlO,QAAQ0D,cAC7G,IAAKtE,EAAK6P,cAAc9E,EAAO4E,GAAe,CAE7CD,EAAW,MACX,OAAO,IACR,CACD,GACA,GAAIA,EAAU,CACb,OAAO,IACR,CAGA,IAAII,EAAe,GACnBf,EAAYnO,QAAQ0D,aAAaqB,QAAQ,SAASoF,EAAO9H,GACxD,IAAI0M,EAAe3P,EAAK4P,qBAAqB,YAAa7E,EAAM7H,UAAW4L,EAA0BlO,QAAQ0D,cAC7G,GAAItE,EAAK6P,cAAc9E,EAAO4E,GAAe,CAE5CG,EAAa9I,KAAK+D,GAClB,MACD,CACA,IAAM,IAAIgF,KAAYhF,EAAO,CAC5B,GAAIgF,IAAa,cAAgBJ,EAAc,CAC9C,GAAIA,GAAgBA,EAAaI,KAAcvM,UAAW,QAClDuH,EAAMgF,EACd,KAAO,CACN,QACD,CACD,CACA,GAAIhF,EAAMgF,KAAcJ,EAAaI,GAAW,QACxChF,EAAMgF,EACd,CACD,CACA,GAAIC,OAAOC,KAAKlF,GAAOzF,OAAS,EAAG,CAClCwK,EAAa9I,KAAK+D,EACnB,CACD,GACA+E,EAAanK,QAAQ,SAASoF,GAC7B,IAAI9H,EAASjD,EAAKqF,cAAc,YAAa0F,EAAM7H,UAAW6L,EAAYnO,QAAQ0D,cAClFyK,EAAYnO,QAAQ0D,aAAaiB,OAAOtC,EAAQ,EACjD,GAGA,GAAI8L,EAAYnO,QAAQiD,mBAAqB,EAAG,QACxCkL,EAAYnO,QAAQiD,gBAC5B,CACA,OAAOkL,CACR,EAUA7O,EAAkBoB,UAAU4O,yBAA2B,SAASC,EAAkBhL,EAAeiL,GAChG,IAAIC,EAAe,GAEnB,GAAID,IAAe,MAAQA,IAAe5M,UAAW,CACpD4M,EAAa,KACd,CAEA,GAAID,GAAoBA,EAAiB7K,OAAS,GAAKH,IAAkB3B,WAAa2B,IAAkB,MAAQA,IAAkB,GAAI,CAErI,GAAIiL,EAAY,CACfC,EAAepQ,EAAM,GAAIkQ,EAC1B,KAAO,CACNE,EAAeF,CAChB,CAEAE,EAAavJ,KAAK,SAASmG,EAAGC,GAC7B,IAAIoD,EAAYrD,EAAE9H,GAClB,IAAIoL,EAAYrD,EAAE/H,GAClB,GAAImL,EAAYC,GAAcD,IAAc9M,WAAa+M,IAAc/M,UAAY,CAClF,OAAQ,CACT,CACA,GAAI8M,EAAYC,GAAcD,IAAc9M,WAAa+M,IAAc/M,UAAY,CAClF,OAAO,CACR,CACA,OAAO,CACR,EACD,CACA,OAAO6M,CACR,EASAnQ,EAAkBoB,UAAUkF,aAAe,SAASgK,EAAWnM,GAE9D,IAAKA,IAAUA,EAAMzD,UAAYyD,EAAMzD,QAAQ0D,aAAc,CAC5D,OAAOtE,EAAKyP,KAAKe,EAClB,CAEA,IAAIC,EAASzQ,EAAKyP,KAAKpL,GAEvB2L,OAAOC,KAAKO,EAAU5P,SAAS+E,QAAQ,SAAS+K,GAC/C,GAAIC,MAAMC,QAAQJ,EAAU5P,QAAQ8P,IAAc,CACjDF,EAAU5P,QAAQ8P,GAAY/K,QAAQ,SAASkL,GAC9C,IAAIC,EAAc9Q,EAAK4P,qBAAqB,YAAaiB,EAAW3N,UAAWuN,EAAO7P,QAAQ8P,IAC9F,IAAKI,EAAa,CACjBL,EAAO7P,QAAQ8P,GAAY1J,KAAK6J,GAChC,MACD,CACA,GAAIC,EAAY1N,UAAYI,WAAaqN,EAAWzN,UAAYI,UAAW,CAC1EsN,EAAY1N,QAAUyN,EAAWzN,OAClC,CACA,GAAI0N,EAAYxN,QAAUE,WAAaqN,EAAWvN,QAAUE,UAAW,CACtEsN,EAAYxN,MAAQuN,EAAWvN,KAChC,CACA,GAAIwN,EAAYrN,QAAUD,WAAaqN,EAAWpN,QAAUD,UAAW,CACtEsN,EAAYrN,MAAQoN,EAAWpN,KAChC,CACA,GAAIqN,EAAY3N,QAAUK,WAAaqN,EAAW1N,QAAUK,UAAW,CACtEsN,EAAY3N,MAAQ0N,EAAW1N,KAChC,CACD,GACA,MACD,CACA,GAAIsN,EAAO7P,QAAQ8P,KAAgBlN,WAAagN,EAAU5P,QAAQ8P,KAAgBlN,UAAW,CAC5FiN,EAAO7P,QAAQ8P,GAAcF,EAAU5P,QAAQ8P,EAChD,CACD,EAAGlQ,MAEH,OAAOiQ,CACR,EAEAvQ,EAAkBoB,UAAUoI,sBAAwB,SAAS8G,EAAWnM,GACvE,GAAI7D,KAAKuQ,sBAAsBzL,OAAS,GAAK9E,KAAKwQ,mBAAmBR,EAAWnM,GAAO,CAEtF,IAAI4M,EAAczQ,KAAK0Q,gBAAgBV,EAAWnM,GAClDA,EAAMzD,QAAQ0D,aAAe2M,CAC9B,CACA,OAAO5M,CACR,EAEAnE,EAAkBoB,UAAU0P,mBAAqB,SAASR,EAAWnM,GACpE,IAAI8M,EAAQ9M,EAAMzD,QAAQ0D,aAAa8M,OAAO,SAASxK,EAAKyK,GAC3DzK,EAAIyK,EAAInO,WAAamO,EACrB,OAAOzK,CACR,EAAG,CAAC,GAEJ,IAAI0K,EAAgBd,EAAU5P,QAAQ0D,aAAagL,KAAK,SAASvM,GAChE,OAAQoO,EAAMpO,EAAQG,UACvB,GAEA,OAAOoO,CACR,EAEApR,EAAkBoB,UAAU4P,gBAAkB,SAASV,EAAWnM,GAQjE,IAAI4M,EAAc,GAElB,IAAIM,EAAYf,EAAU5P,QAAQ0D,aAAa8M,OAAO,SAASxK,EAAKyK,GACnEzK,EAAIyK,EAAInO,WAAamO,EACrB,OAAOzK,CACR,EAAG,CAAC,GAEJ,IAAK,IAAIyD,EAAI,EAAGA,EAAIhG,EAAMzD,QAAQ0D,aAAagB,OAAQ+E,IAAK,CAC3D,IAAItH,EAAUsB,EAAMzD,QAAQ0D,aAAa+F,GACzC,GAAIkH,EAAUxO,EAAQG,WAAW,CAChC,IAAIsO,EAAYzO,EAAQI,MAAQJ,EAAQI,MAAQ3C,KAAKuQ,sBAAsBzL,OAAS+E,EAAI7J,KAAKuQ,sBAAsBzL,OACnHiM,EAAUxO,EAAQG,WAAaH,EAC/BwO,EAAUxO,EAAQG,WAAWC,MAAQqO,CACtC,CACD,CAEAxB,OAAOC,KAAKsB,GAAW5L,QAAQ,SAAS3C,GACvCiO,EAAYjK,KAAKuK,EAAUvO,GAC5B,GAEA,OAAOiO,CACR,EAEA/Q,EAAkBoB,UAAUmQ,sBAAwB,SAASpN,EAAOqN,GACnE,IAAKrN,IAAUA,EAAMzD,UAAYyD,EAAMzD,QAAQ0D,eAAiBoN,IAAgBA,EAAY9Q,UAAY8Q,EAAY9Q,QAAQ0D,eAAiBoN,EAAY9Q,QAAQ0D,aAAagB,OAAQ,CACrL,OAAOjB,CACR,CAEA7D,KAAK0P,yBAAyB7L,EAAMzD,QAAQ0D,aAAc,SAE1D,IAAIqN,EAAuB,MAC3BD,EAAY9Q,QAAQ0D,aAAaqB,QAAQ,SAASiM,GACjD,IAAI3O,EAASjD,EAAKqF,cAAc,YAAauM,EAAa1O,UAAWmB,EAAMzD,QAAQ0D,cACnF,GAAIrB,EAAS,GAAKoB,EAAMzD,QAAQ0D,aAAarB,GAAQE,QAAUK,UAAW,CACzE,MACD,CACA,GAAKP,EAAS,GAAKoB,EAAMzD,QAAQ0D,aAAagB,OAAS,GAAKjB,EAAMzD,QAAQ0D,aAAarB,EAAS,GAAGE,QAAUkB,EAAMzD,QAAQ0D,aAAarB,GAAQE,OAAWF,EAAS,GAAK,GAAKoB,EAAMzD,QAAQ0D,aAAarB,EAAS,GAAGE,QAAUkB,EAAMzD,QAAQ0D,aAAarB,GAAQE,MAAQ,CACzQwO,EAAuB,IACxB,CACA,GAAI1O,EAAS,GAAKoB,EAAMzD,QAAQ0D,aAAagB,OAAS,GAAKjB,EAAMzD,QAAQ0D,aAAarB,EAAS,GAAGE,QAAUkB,EAAMzD,QAAQ0D,aAAarB,GAAQE,MAAO,CACrJ,IAAIuC,EAASrB,EAAMzD,QAAQ0D,aAAaiB,OAAOtC,EAAQ,GACvDoB,EAAMzD,QAAQ0D,aAAaiB,OAAOtC,EAAS,EAAG,EAAGyC,EAAO,GACzD,CACD,GAEA,GAAIiM,EAAsB,CACzB,IAAIjK,GAAc,EAClBrD,EAAMzD,QAAQ0D,aAAaqB,QAAQ,SAASD,GAC3C,GAAIA,EAAOvC,QAAUK,UAAW,CAC/BkC,EAAOvC,QAAUuE,CAClB,CACD,EACD,CACD,EASAxH,EAAkBoB,UAAUuQ,iBAAmB,SAAStI,EAAoBvG,GAC3E,IAAIC,EAASjD,EAAKqF,cAAc,YAAarC,EAAYuG,EAAmBjF,cAC5E,OAAQrB,GAAU,EAAKsG,EAAmBjF,aAAarB,GAAQG,QAAU,KAC1E,EAEAlD,EAAkBoB,UAAUuB,kBAAoB,SAASrB,GACxD,GAAIhB,KAAKiB,iBAAmB1B,EAAY2B,gBAAgBC,UAAUS,iBAAmB5B,KAAKiB,iBAAmB1B,EAAY2B,gBAAgBC,UAAUU,OAAS7B,KAAKiB,iBAAmB1B,EAAY2B,gBAAgBC,UAAUW,UAAW,CACpO,MACD,CAEA,IAAI8K,EAAO5M,KACX,IAAIsR,EAA6BtQ,EAAOgN,oBAAoB3E,KAAKrI,GACjE,IAAIuQ,EAAkC,SAAS5J,EAAmB6J,GACjE5E,EAAKlF,oBAAoBC,GACzB2J,EAA2B3J,EAAmB6J,EAC/C,EACA,GAAIxQ,EAAOgN,oBAAoByD,aAAeF,EAAgCE,WAAY,CAEzF,MACD,CACAzQ,EAAOgN,oBAAsBuD,CAC9B,EAOA7R,EAAkBoB,UAAU4Q,KAAO,WAClCrS,EAAeyB,UAAU4Q,KAAK3R,MAAMC,KAAMC,WAE1C,IAAIe,EAAShB,KAAKgE,WAClB,GAAIhE,KAAKgE,aAAehE,KAAKiB,iBAAmB1B,EAAY2B,gBAAgBC,UAAUS,iBAAmB5B,KAAKiB,iBAAmB1B,EAAY2B,gBAAgBC,UAAUU,OAAS7B,KAAKiB,iBAAmB1B,EAAY2B,gBAAgBC,UAAUW,WAAY,CACzPd,EAAOe,iBAAiB/B,KAAKgC,cAAehC,MAC5CgB,EAAOiB,uBAAuBjC,KAAKkC,oBAAqBlC,MACxDgB,EAAOS,mBAAmBzB,KAAK0B,gBAAiB1B,KACjD,CACD,EAIA,OAAON,CAER"}