{"version":3,"file":"NavigationPopoverHandler.js","names":["sap","ui","define","jQuery","CompLibrary","ManagedObject","SemanticObjectController","JSONModel","BindingMode","Control","Factory","NavigationPopover","Util","VBox","LinkData","MessageBox","Controller","PersonalizationUtil","NavigationContainer","ContactDetailsController","Log","InvisibleText","CustomData","SapBaseLog","isPlainObject","Component","merge","whitespaceReplacer","NavigationPopoverHandler","extend","metadata","library","properties","semanticObject","type","defaultValue","additionalSemanticObjects","semanticObjectController","fieldName","semanticObjectLabel","mapFieldToSemanticObject","contactAnnotationPath","undefined","enableAvailableActionsPersonalization","beforeNavigationCallback","aggregations","_popover","multiple","visibility","associations","control","events","beforePopoverOpens","parameters","semanticAttributes","semanticAttributesOfSemanticObjects","setSemanticAttributes","setAppStateKey","originalId","open","navigationTargetsObtained","mainNavigation","actions","ownNavigation","popoverForms","show","innerNavigate","text","href","prototype","init","this","_oPopover","_oContactDetailsController","oModel","appStateKey","mainNavigationId","navigationTarget","extraContent","availableActions","setDefaultBindingMode","TwoWay","setSizeLimit","setModel","_oLog","getLevel","Level","INFO","applySettings","mSettings","apply","arguments","_setSemanticAttributes","_calculateSemanticAttributes","openPopover","oDomRef","that","_getPopover","then","oPopover","oLink","getDirectLink","_fireInnerNavigate","getText","getHref","internalHref","data","_destroyPopover","getSemanticObjectValue","oSemanticAttributes","_getSemanticAttributes","getSemanticObject","getNavigationPopoverStableId","oControl","getCore","byId","getControl","error","oAppComponent","_getComponent","getId","sSemanticObjectDefault","getModel","getProperty","aSemanticObjects","concat","getAdditionalSemanticObjects","sortArrayAlphabetical","sSemanticObjects","join","createId","updateBindingContext","oBCOld","getBindingContext","oBCNew","setSemanticObject","sSemanticObject","setProperty","setEnableAvailableActionsPersonalization","bEnableAvailableActionsPersonalization","setFieldName","sFieldName","setControl","setAssociation","_updateSemanticObjectController","setMapFieldToSemanticObject","bMapFieldToSemanticObject","setSemanticObjectController","oSemanticObjectController","exit","destroy","getSemanticObjectController","unregisterControl","_initModel","aAdditionalSemanticObjects","sContactAssociationPath","getContactAnnotationPath","sBindingPath","getPath","warning","oODataModel","oComponent","sId","sMainNavigationId","sSemanticObjectValue","aNavigationTargets","reset","loadLibrary","async","retrieveSemanticObjectMapping","getFieldName","oSemanticObjects","_fireBeforePopoverOpens","oResultFromOpen","_getTextOfDom","retrieveNavigationTargets","aTargets","getBindingPath4ContactAnnotation","sBindingPathOfAnnotation","aForms","getContactDetailsContainers","_fireNavigationTargetsObtained","oResultFromNavigationObtained","forEach","oLinkData","setInternalHref","setHref","_convertToExternal","setText","getDescription","setDescription","getSemanticObjectLabel","_updateVisibilityOfAvailableActions","convert2Json","_getEnableAvailableActionsPersonalization","TRACE","info","_getLogFormattedText","_initPopover","_createPopover","addDependent","_initNavigationContainer","oNavigationContainer","_createNavigationContainer","Promise","resolve","_getNavigationContainer","oInvisibleText","customData","key","content","ariaLabelledBy","title","semanticObjectName","source","beforeClose","removeAllContent","afterClose","bind","setAggregation","sStableId","path","templateShareable","template","target","description","visible","component","beforePopoverOpen","setModal","afterPopoverClose","navigate","_onNavigate","sHref","oXApplNavigation","getService","hrefForExternal","shellHash","oLog","oResult","hasListeners","fnExistsSemanticAttributeForAnySemanticObject","aSemanticObjectsWithExistingSemanticAttributes","Object","keys","filter","isEmptyObject","length","fireBeforePopoverOpens","updateSemanticObjectAttributes","sAppStateKey","oNavigationTargets","items","fireNavigationTargetsObtained","oMainNavigation","aAvailableActions","oAdditionalContent","Array","isArray","addIntent","intent","oAvailableAction","getKey","setVisible","oEvent","aParameters","getParameters","sAdditionalSemanticObject","find","includes","oNavigationInfo","getBeforeNavigationCallback","bNavigate","fireInnerNavigate","oParent","getParent","getAppComponent","get","getOwnerIdFor","_getBindingContextObject","oBindingContext","getObject","getFormattedText","oContextObject","sCurrentField","oResults","oMappingRules","_getMappingRules","sAttributeName","oAttribute","oTransformationAdditional","transformations","addSemanticObjectAttribute","push","value","sAttributeNameMapped","reason","oAttributeValue","getMapFieldToSemanticObject","oMap","getFieldSemanticObjectMap","hasOwnProperty","oControllerNew","oControllerOld","_getSemanticObjectControllerOfControl","isControlRegistered","registerControl","aMAvailableActions","aMValidAvailableActions","getStorableAvailableActions","bHasSuperiorAction","some","oMAvailableAction","isSuperiorAction","every","getEnableAvailableActionsPersonalization"],"sources":["NavigationPopoverHandler-dbg.js"],"mappings":"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"}