{"version":3,"file":"CombineFields.js","names":["sap","ui","define","RenameField","CombineFields","checkSingleFieldsForMandatoryFlag","oModifier","aSingleFields","mResult","Promise","all","map","oSingleField","found","index","getProperty","then","bMandatory","undefined","evaluateMandatoryFieldIndex","aGroupElements","reduce","previousPromise","oGroupElement","getAggregation","bind","resolve","_getPreviousLabelPropertyOnControl","oControl","sPropertyName","vLabel","getPropertyBindingOrProperty","sPrevious","isNewSourceElementOnCombineRequired","oChangeContent","newElementId","createNewGroupElement","mPropertyBag","oParent","modifier","oAppComponent","appComponent","oView","view","aDependentGroupElements","oDependentControl","find","oElement","bySelector","removeAggregation","createControl","sourceSelector","evaluateNewGroupElementIndex","oSourceControl","aSelectedGroupElements","aAllGroupElements","iControlIndex","indexOf","iAggr","oSelectedElement","iSelectedElementIndex","combineSingleFields","i","getParent","previousFieldsPromise","k","insertAggregation","length","applyChange","oChange","getContent","aLabelText","sPreviousLabel","sText","mRevertData","iSourceControlIndex","combineFieldSelectors","oCombineFieldSelector","oCreatedGroupElement","iIndex","this","_collectRevertDataForElements","mCollectedData","iMandatoryFieldIndex","setProperty","bIsRtl","getCore","getConfiguration","getRTL","iFieldIndex","iFieldsAdded","sLabel","toString","getText","unshift","push","setLabelPropertyOnControl","join","setRevertData","oSourceParent","elementStates","iLastFieldIndex","aRevertRelevantElements","concat","aReturnValues","groupElementSelector","getSelector","getId","parentSelector","groupElementIndex","firstFieldIndex","lastFieldIndex","label","elementForLabel","revertChange","oSmartForm","getRevertData","aFields","sort","mState1","mState2","mElementState","oAggregation","aReturnedFields","removeAllAggregation","aInsertAggregationPromises","aAggregations","oElementForLabel","resetRevertData","completeChangeContent","oSpecificChangeInfo","oContent","aCombineFieldIds","combineElementIds","sCombineFieldId","addDependentControl","Error","sourceControlId","sFieldLabel","mSelector","getLabelText","setText","setContent","getChangeVisualizationInfo","displayControls","affectedControls","descriptionPayload","originalSelectors"],"sources":["CombineFields-dbg.js"],"mappings":"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"}