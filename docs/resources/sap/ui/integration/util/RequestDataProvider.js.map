{"version":3,"file":"RequestDataProvider.js","names":["sap","ui","define","DataProvider","jQuery","Log","ODataUtils","Core","RETRY_STATUS_CODES","aModes","aMethods","RequestDataProvider","extend","metadata","library","properties","allowCustomDataType","type","defaultValue","associations","host","multiple","prototype","destroy","this","_iRetryAfterTimeout","clearTimeout","apply","arguments","getLastJQXHR","_lastJQXHR","getData","oRequestConfig","getSettings","request","pRequestChain","Promise","resolve","_oDestinations","process","_oCsrfTokenHandler","then","oRequest","resolveToken","bind","_fetch","catch","_handleExpiredToken","oError","isExpiredToken","resetTokenByRequest","sMessage","url","error","reject","getAllowCustomDataType","dataType","vData","parameters","sUrl","sDataType","mHeaders","headers","mBatchRequests","batch","oBatchSerialized","startsWith","_getRuntimeUrl","_hasHeader","JSON","stringify","serializeBatchRequest","Object","values","body","assign","_prepareHeaders","mode","method","toUpperCase","data","timeout","xhrFields","withCredentials","_isValidRequest","_request","vResult","_deserializeBatchResponse","bNoRetry","ajax","done","sTextStatus","jqXHR","bIsDestroyed","fail","sError","aError","_retryRequest","iRetryAfter","_getRetryAfter","includes","status","warning","setTimeout","vRetryAfter","getResponseHeader","retryAfter","Number","isInteger","match","parseInt","sHeader","sValue","sKey","toLowerCase","indexOf","sResponseBody","sContentType","aBatchResponses","deserializeBatchResponse","aKeys","keys","mResult","forEach","iInd","mResponse","oResponse","Response","responseText","ok","statusText","parse","oSettings","oCard","byId","getCard","oHost","getHost","modifyRequestHeaders","getDetails"],"sources":["RequestDataProvider-dbg.js"],"mappings":"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"}