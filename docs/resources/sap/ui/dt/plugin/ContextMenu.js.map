{"version":3,"file":"ContextMenu.js","names":["sap","ui","define","Plugin","Menu","MenuItem","DtUtil","OverlayRegistry","_createPromise","Device","assert","KeyCodes","ContextMenu","extend","metadata","library","properties","contextElement","type","openOnClick","defaultValue","events","openedContextMenu","closedContextMenu","mainStyleClass","miniMenuStyleClass","prototype","init","this","oContextMenuControl","attachItemSelected","_onItemSelected","attachClosed","_contextMenuClosed","addStyleClass","_aMenuItems","_aGroupedItems","_aSubMenus","exit","destroy","addMenuItem","mMenuItem","bRetrievedFromPlugin","bPersistOneTime","mMenuItemEntry","menuItem","fromPlugin","push","registerElementOverlay","oOverlay","attachBrowserEvent","_openContextMenu","_onKeyDown","_onKeyUp","deregisterElementOverlay","detachBrowserEvent","open","bContextMenu","bIsSubMenu","oEvent","aSelectedOverlays","addMenuItems","oMenu","aMenuItems","forEach","oMenuItem","index","sText","text","bEnabled","enabled","sTooltip","addItem","key","id","icon","setTooltip","submenu","getItems","_bContextMenu","removeStyleClass","oNewContextElement","getElement","_fnCancelMenuPromise","getContextElement","setContextElement","getDesignTime","getSelectionManager","attachChange","_onSelectionChanged","getSelectedOverlays","filter","oElementOverlay","unshift","destroyItems","oPromise","Promise","resolve","oDtSyncPromise","reject","waitForSynced","then","catch","bind","cancel","promise","aPluginItemPromises","oPlugins","getPlugins","oPlugin","vMenuItems","getMenuItems","oPluginItemsPromise","all","aPluginMenuItems","reduce","aConcatinatedMenuItems","concat","group","undefined","_addMenuItemToGroup","_addSubMenu","_addItemGroupsToMenu","map","length","_sortMenuItems","openAsContextMenu","fireOpenedContextMenu","oError","createError","sort","mFirstEntry","mSecondEntry","rank","oEventItem","_ensureSelection","_oCurrentOverlay","callHandler","aSelection","responsible","mPropertiesBag","eventItem","handler","sSelectedItemId","getParameter","getKey","some","oItem","apply","mSubMenuItem","getOverlay","currentTarget","keyCode","ENTER","getIgnoreEnterKeyUpOnce","setIgnoreEnterKeyUpOnce","stopPropagation","preventDefault","SPACE","shiftKey","altKey","ctrlKey","_checkForPluginLock","F10","isSelectable","setSelected","getSelected","fireClosedContextMenu","detachChange","isSelected","os","ios","getBusyPlugins","bGroupExists","_oGroupedItem","sGroupName","aGroupedItems","oSubMenuItem","sSubMenuId","aSubMenuItems","oGroupedItem"],"sources":["ContextMenu-dbg.js"],"mappings":";;;;;AAKAA,IAAIC,GAAGC,OAAO,CACb,mBACA,aACA,iBACA,iBACA,4BACA,gCACA,gBACA,kBACA,0BACE,SACFC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,GAEA,aAiBA,IAAIC,EAAcT,EAAOU,OAAO,+BAAsF,CACrHC,SAAU,CACTC,QAAS,YACTC,WAAY,CACXC,eAAgB,CACfC,KAAM,UAEPC,YAAa,CACZD,KAAM,UACNE,aAAc,OAGhBC,OAAQ,CACPC,kBAAmB,CAAC,EACpBC,kBAAmB,CAAC,MAMvB,IAAIC,EAAiB,qBACrB,IAAIC,EAAqB,yBAEzBb,EAAYc,UAAUC,KAAO,WAC5BC,KAAKC,oBAAsB,IAAIzB,EAC/BwB,KAAKC,oBAAoBC,mBAAmBF,KAAKG,gBAAiBH,MAClEA,KAAKC,oBAAoBG,aAAaJ,KAAKK,mBAAoBL,MAC/DA,KAAKC,oBAAoBK,cAAcV,GACvCI,KAAKO,YAAc,GACnBP,KAAKQ,eAAiB,GACtBR,KAAKS,WAAa,EACnB,EAEAzB,EAAYc,UAAUY,KAAO,kBACrBV,KAAKO,YACZ,GAAIP,KAAKC,oBAAqB,CAC7BD,KAAKC,oBAAoBU,SAC1B,CACD,EAiBA3B,EAAYc,UAAUc,YAAc,SAAUC,EAAWC,EAAsBC,GAC9E,IAAIC,EAAiB,CACpBC,SAAUJ,EACVK,aAAcJ,EACdC,gBAAiBA,GAElBf,KAAKO,YAAYY,KAAKH,EACvB,EAQAhC,EAAYc,UAAUsB,uBAAyB,SAAUC,GACxDA,EAASC,mBAAmB,QAAStB,KAAKuB,iBAAkBvB,MAC5DqB,EAASC,mBAAmB,aAActB,KAAKuB,iBAAkBvB,MACjEqB,EAASC,mBAAmB,cAAetB,KAAKuB,iBAAkBvB,MAClEqB,EAASC,mBAAmB,UAAWtB,KAAKwB,WAAYxB,MACxDqB,EAASC,mBAAmB,QAAStB,KAAKyB,SAAUzB,KACrD,EASAhB,EAAYc,UAAU4B,yBAA2B,SAAUL,GAC1DA,EAASM,mBAAmB,QAAS3B,KAAKuB,iBAAkBvB,MAC5DqB,EAASM,mBAAmB,aAAc3B,KAAKuB,iBAAkBvB,MACjEqB,EAASM,mBAAmB,cAAe3B,KAAKuB,iBAAkBvB,MAClEqB,EAASM,mBAAmB,UAAW3B,KAAKwB,WAAYxB,MACxDqB,EAASM,mBAAmB,QAAS3B,KAAKyB,SAAUzB,KACrD,EASAhB,EAAYc,UAAU8B,KAAO,SAAUP,EAAUQ,EAAcC,EAAYC,GAC1E,IAAIC,EACJ,SAASC,EAAaC,EAAOC,GAC5BA,EAAWC,QAAQ,SAASC,EAAWC,GACtC,IAAIC,SAAeF,EAAUG,OAAS,WAAaH,EAAUG,KAAKnB,GAAYgB,EAAUG,KACxF,IAAIC,SAAkBJ,EAAUK,UAAY,WAAaL,EAAUK,QAAQV,GAAqBK,EAAUK,QAC1G,IAAIC,EACJ,IAAKd,EAAc,CAClBc,EAAWJ,CACZ,CACAL,EAAMU,QACL,IAAInE,EAAS,CACZoE,IAAKR,EAAUS,GACfC,KAAMV,EAAUU,KAChBP,KAAMD,EACNG,QAASD,IACPO,WAAWL,IAEf,GAAIN,EAAUY,QAAS,CACtBhB,EAAaC,EAAMgB,WAAWZ,GAAQD,EAAUY,QACjD,CACD,EACD,CAEAjD,KAAKmD,gBAAkBtB,EACvB,GAAI7B,KAAKmD,cAAe,CACvBnD,KAAKC,oBAAoBmD,iBAAiBvD,EAC3C,KAAO,CACNG,KAAKC,oBAAoBK,cAAcT,EACxC,CACA,IAAIwD,EAAqBhC,EAASiC,aAClC,GAAItD,KAAKuD,qBAAsB,CAE9B,GAAIvD,KAAKwD,sBAAwBH,EAAoB,CAEpD,MACD,CACArD,KAAKuD,8BACEvD,KAAKuD,oBACb,CAEAvD,KAAKyD,kBAAkBJ,GACvBrD,KAAK0D,gBAAgBC,sBAAsBC,aAAa5D,KAAK6D,oBAAqB7D,MAElFgC,EAAoBhC,KAAK8D,sBAAsBC,OAAO,SAAUC,GAC/D,OAAOA,IAAoB3C,CAC5B,GACAW,EAAkBiC,QAAQ5C,GAG1BrB,KAAKO,YAAcP,KAAKO,YAAYwD,OAAO,SAAU/C,GACpD,GAAIA,EAAeD,gBAAiB,CACnCC,EAAeD,gBAAkB,MACjC,OAAO,IACR,CACA,OAAQC,EAAeE,UACxB,GAGAlB,KAAKC,oBAAoBiE,eAEzB,IAAIC,EAAWC,QAAQC,UACvB,IAAKvC,EAAY,CAChB,IAAIwC,EAAiB1F,EAAe,SAAUyF,EAASE,GACtD7F,EAAO8F,cAAcxE,KAAK0D,gBAA1BhF,GAA6C+F,KAAKJ,GAASK,MAAMH,EAClE,EAAEI,KAAK3E,OACPA,KAAKuD,qBAAuBe,EAAeM,OAC3CT,EAAWG,EAAeO,QACxBJ,KAAK,WACLzE,KAAKQ,eAAiB,GACtBR,KAAKS,WAAa,GAClB,IAAIqE,EAAsB,GAC1B,IAAIC,EAAW/E,KAAK0D,gBAAgBsB,aACpCD,EAAS3C,QAAQ,SAAU6C,GAC1B,IAAIC,EAAaD,EAAQE,aAAanD,GACtC,KAAMkD,aAAsBd,SAAU,CACrCc,EAAad,QAAQC,QAAQa,EAC9B,CACAJ,EAAoB3D,KAAK+D,EAC1B,GAEA,IAAIE,EAAsBxG,EAAe,SAAUyF,EAASE,GAC3DH,QAAQiB,IAAIP,GAAqBL,KAAKJ,GAASK,MAAMH,EACtD,GACAvE,KAAKuD,qBAAuB6B,EAAoBR,OAChD,OAAOQ,EAAoBP,OAC5B,EAAEF,KAAK3E,OACNyE,KAAK,SAASa,GACd,OAAOA,EAAiBC,OAAO,SAASC,EAAwBrD,GAC/D,OAAOqD,EAAuBC,OAAOtD,EACtC,EACD,GACCsC,KAAK,SAASa,GACdA,EAAiBlD,QAAQ,SAAUvB,GAElC,IAAI4B,SAAkB5B,EAAU6B,UAAY,WAAa7B,EAAU6B,QAAQV,GAAqBnB,EAAU6B,QAC1G,IAAKD,IAAaZ,EAAc,CAC/B,MACD,CACA,GAAIhB,EAAU6E,QAAUC,YAAc9D,EAAc,CACnD7B,KAAK4F,oBAAoB/E,EAC1B,MAAO,GAAIA,EAAUoC,UAAY0C,UAAW,CAC3C3F,KAAK6F,YAAYhF,EAClB,KAAO,CACNb,KAAKY,YAAYC,EAAW,KAC7B,CACD,EAAE8D,KAAK3E,OAEPA,KAAK8F,8BACE9F,KAAKuD,oBACb,EAAEoB,KAAK3E,MACT,CAEAmE,EAASM,KAAK,WACb,IAAItC,EAAanC,KAAKO,YAAYwF,IAAI,SAAU/E,GAC/C,OAAOA,EAAeC,QACvB,GAEA,GAAIkB,EAAW6D,OAAS,EAAG,CAC1B7D,EAAanC,KAAKiG,eAAe9D,GACjCF,EAAajC,KAAKC,oBAAqBkC,GACvCnC,KAAKC,oBAAoBiG,kBAAkBnE,EAAQV,EACpD,CAEArB,KAAKmG,uBACN,EAAExB,KAAK3E,OACL0E,MAAM,SAAS0B,GACf,MAAM1H,EAAO2H,YACZ,mBACA,kDAAoDD,EAEtD,EACF,EAOApH,EAAYc,UAAUmG,eAAiB,SAAU9D,GAChD,OAAOA,EAAWmE,KAAK,SAAUC,EAAaC,GAE7C,IAAKD,EAAYE,OAASD,EAAaC,KAAM,CAC5C,OAAO,CACR,CAEA,IAAKF,EAAYE,MAAQD,EAAaC,KAAM,CAC3C,OAAQ,CACT,CACA,GAAIF,EAAYE,OAASD,EAAaC,KAAM,CAC3C,OAAO,CACR,CACA,OAAOF,EAAYE,KAAOD,EAAaC,IACxC,EACD,EAQAzH,EAAYc,UAAUK,gBAAkB,SAAUuG,GACjD1G,KAAK2G,iBAAiB3G,KAAK4G,kBAE3B,SAASC,EAAYxE,EAAWqE,GAC/B,IAAII,EAAazE,EAAU0E,aAAe/G,KAAK8D,uBAAyB,GACxEhF,EAAOgI,EAAWd,OAAS,EAAG,+EAC9B,IAAIgB,EAAiB,CAAC,EACtBA,EAAeC,UAAYP,EAC3BM,EAAe3H,eAAiBW,KAAKwD,oBACrCnB,EAAU6E,QAAQJ,EAAYE,EAC/B,CAEA,IAAIG,EAAkBT,EAAWU,aAAa,QAAQC,SAEtDrH,KAAKO,YAAY+G,KAAK,SAAUtG,GAC/B,IAAIuG,EAAQvG,EAAeC,SAC3B,GAAIkG,IAAoBnG,EAAeC,SAAS6B,GAAI,CACnD+D,EAAYW,MAAMxH,KAAM,CAACuH,EAAOb,IAChC,OAAO,IACR,MAAO,GAAIa,EAAMtE,QAAS,CACzBsE,EAAMtE,QAAQqE,KAAK,SAASG,GAC3B,GAAIN,IAAoBM,EAAa3E,GAAI,CACxC+D,EAAYW,MAAMxH,KAAM,CAACyH,EAAcf,IACvC,OAAO,IACR,CACD,EAAE/B,KAAK3E,MACR,CACD,EAAGA,KACJ,EAQAhB,EAAYc,UAAU2B,SAAW,SAAUM,GAC1C,IAAIV,EAAW1C,EAAgB+I,WAAW3F,EAAO4F,cAAc7E,IAE/D,GAAIf,EAAO6F,UAAY7I,EAAS8I,OAASxG,EAASyG,0BAA2B,CAC5EzG,EAAS0G,wBAAwB,OACjChG,EAAOiG,kBACPjG,EAAOkG,iBACP,MACD,CACA,IAAKlG,EAAO6F,UAAY7I,EAASmJ,OAASnG,EAAO6F,UAAY7I,EAAS8I,QACpE9F,EAAOoG,WAAa,OACpBpG,EAAOqG,SAAW,OAClBrG,EAAOsG,UAAY,MAAQ,CAC5B,IAAKrI,KAAKsI,sBAAuB,CAChCtI,KAAKuB,iBAAiBQ,GACtBA,EAAOiG,kBACPjG,EAAOkG,gBACR,CACD,CACA,GAAKlG,EAAO6F,UAAY7I,EAASwJ,KAC/BxG,EAAOoG,WAAa,MACpBpG,EAAOqG,SAAW,OAClBrG,EAAOsG,UAAY,MAAQ,CAC5B,IAAKrI,KAAKsI,sBAAuB,CAChCtI,KAAKuB,iBAAiBQ,GACtBA,EAAOiG,kBACPjG,EAAOkG,gBACR,CACD,CACD,EAOAjJ,EAAYc,UAAU0B,WAAa,SAAUO,GAC5C,IAAIV,EAAW1C,EAAgB+I,WAAW3F,EAAO4F,cAAc7E,IAC/D,GAAKf,EAAO6F,UAAY7I,EAASmJ,OAC/BnG,EAAOoG,WAAa,OACpBpG,EAAOqG,SAAW,OAClBrG,EAAOsG,UAAY,MAAQ,CAC5B,GAAIhH,GAAYA,EAASmH,iBAAmBxI,KAAKsI,sBAAuB,CACvEjH,EAASoH,YAAY,MACrB1G,EAAOiG,kBACPjG,EAAOkG,gBACR,CACD,CACD,EAOAjJ,EAAYc,UAAUyB,iBAAmB,SAASQ,GACjD,IAAIV,EAAW1C,EAAgB+I,WAAW3F,EAAO4F,cAAc7E,IAC/D,GAAIzB,GAAYA,EAASmH,gBAAkBnH,EAASqH,cAAe,CAClE1I,KAAK4G,iBAAmBvF,EACxB,IAAIQ,EAAeE,EAAOzC,OAAS,eAAiByC,EAAO6F,UAAY7I,EAASwJ,IAChFvI,KAAK4B,KAAKP,EAAUQ,EAAc8D,UAAW5D,EAC9C,CACD,EAKA/C,EAAYc,UAAUO,mBAAqB,WAC1CL,KAAKC,oBAAoBmD,iBAAiBvD,GAC1CG,KAAK2I,uBACN,EAKA3J,EAAYc,UAAU+D,oBAAsB,WAC3C7D,KAAK0D,gBAAgBC,sBAAsBiF,aAAa5I,KAAK6D,oBAAqB7D,KACnF,EAMAhB,EAAYc,UAAU6G,iBAAmB,SAAUtF,GAClD,GAAIA,IAAaA,EAASwH,aAAc,CACvCxH,EAASoH,YAAY,KACtB,CACD,EAMAzJ,EAAYc,UAAUwI,oBAAsB,WAE3C,GAAIzJ,EAAOiK,GAAGC,IAAK,CAClB,OAAO,KACR,CAEA,GAAI/I,KAAK0D,gBAAgBsF,iBAAiBhD,OAAQ,CACjD,OAAO,IACR,CAEA,OAAO,KACR,EAMAhH,EAAYc,UAAU8F,oBAAsB,SAAU/E,GACrD,IAAIoI,EAAejJ,KAAKQ,eAAe8G,KAAK,SAAU4B,GACrD,GAAIA,EAAcC,aAAetI,EAAU6E,MAAO,CACjDwD,EAAcE,cAAcjI,KAAKN,GACjC,OAAO,IACR,CACD,GAEA,IAAKoI,EAAc,CAClBjJ,KAAKQ,eAAeW,KAAK,CACxBgI,WAAYtI,EAAU6E,MACtB0D,cAAe,CAACvI,IAElB,CACD,EAMA7B,EAAYc,UAAU+F,YAAc,SAAUhF,GAC7CA,EAAUoC,QAAQb,QAAQ,SAAUiH,GACnC,IAAKA,EAAanC,QAAS,CAC1BmC,EAAanC,QAAUrG,EAAUqG,OAClC,CACD,GAEAlH,KAAKS,WAAWU,KAAK,CACpBmI,WAAYzI,EAAUiC,GACtByG,cAAe1I,EAAUoC,UAG1BjD,KAAKY,YAAYC,EAAW,KAC7B,EAKA7B,EAAYc,UAAUgG,qBAAuB,WAC5C9F,KAAKQ,eAAe4B,QAAQ,SAAUoH,GAErC,GAAIA,EAAaJ,cAAcpD,SAAW,EAAG,CAC5ChG,KAAKY,YAAY4I,EAAaJ,cAAc,GAAI,KACjD,KAAO,CACNpJ,KAAKY,YAAY,CAChBkC,GAAI0G,EAAaL,WAAa,aAC9BzG,QAAS,KACTF,KAAMgH,EAAaL,WACnBpG,KAAMyG,EAAaJ,cAAc,GAAGrG,KACpC0D,KAAM+C,EAAaJ,cAAc,GAAG3C,KACpCxD,QAASuG,EAAaJ,eACpB,KACJ,CACD,EAAEzE,KAAK3E,MACR,EAEA,OAAOhB,CACR"}