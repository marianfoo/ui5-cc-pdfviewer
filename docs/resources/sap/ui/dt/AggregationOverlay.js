/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/ui/thirdparty/jquery","sap/ui/dt/Overlay","sap/ui/dt/ElementUtil","sap/ui/dt/OverlayUtil","sap/ui/dt/Util","sap/base/util/merge"],function(jQuery,e,t,i,r,n){"use strict";var a=e.extend("sap.ui.dt.AggregationOverlay",{metadata:{library:"sap.ui.dt",properties:{aggregationName:{type:"string"},targetZone:{type:"boolean",defaultValue:false},scrollContainerId:{type:"int"}},events:{targetZoneChange:{parameters:{targetZone:{type:"boolean"}}}}}});a.prototype._getAttributes=function(){return n({},e.prototype._getAttributes.apply(this,arguments),{"data-sap-ui-dt-aggregation":this.getAggregationName()})};a.prototype._getChildIndex=function(e){var t=this.getChildren();var i;var r=t.indexOf(e)-1;while(r>0){i=t[r];if(i.isRendered()){break}r--}return r<0?0:r+1};a.prototype.insertChild=function(e,n){if(!r.isInteger(e)){e=this.isAssociation()?t.getIndexInAssociation:i.getIndexInAggregation(n.getElement(),this.getElement(),this.getAggregationName())}var a=this.indexOfAggregation("children",n);if(a!==e){if(a>-1){this.removeAggregation("children",n)}this.insertAggregation("children",n,e);if(this.isRendered()){var o=this._getChildIndex(n);var g=n.isRendered();var s=g?n.$():n.render(true);var d=jQuery(this.getChildrenDomRef());var l=d.find(">").index(s);var p;if(l!==o){if(o>0){p=l>-1&&l<o?o:o-1;d.find(">").eq(p).after(s)}else{p=o;d.prepend(s)}}if(!g){n.fireAfterRendering({domRef:s.get(0)})}}this.fireChildAdded();return true}return false};a.prototype.addChild=function(e,t){this.insertChild(this.getChildren().length,e);if(!t){this.fireChildAdded()}};a.prototype.render=function(){if(this.getChildren().length>0||this.getDesignTimeMetadata().getDomRef()){this.addStyleClass("sapUiDtAggregationOverlay");return e.prototype.render.apply(this,arguments)}return undefined};a.prototype._getRenderingParent=function(){if(r.isInteger(this.getScrollContainerId())){return this.getParent().getScrollContainerById(this.getScrollContainerId())}return e.prototype._getRenderingParent.apply(this,arguments)};a.prototype._setPosition=function(t,i,n,a){e.prototype._setPosition.apply(this,arguments);if(i.domRef&&!r.isInteger(this.getScrollContainerId())){this._handleOverflowScroll(i,this.$(),this.getParent(),a)}};a.prototype.getAssociatedDomRef=function(){var e=this.getElement();var t=this.getAggregationName();var i=this.getDesignTimeMetadata();return i.getAssociatedDomRef(e,i.getDomRef(),t)};a.prototype.setTargetZone=function(e){if(this.getTargetZone()!==e){this.setProperty("targetZone",e);this.toggleStyleClass("sapUiDtOverlayTargetZone",e);this.fireTargetZoneChange({targetZone:e})}return this};a.prototype.isTargetZone=function(){return this.getTargetZone()};a.prototype.isAssociation=function(){return!!this.getDesignTimeMetadata().getData().aggregationLike};return a});
//# sourceMappingURL=AggregationOverlay.js.map