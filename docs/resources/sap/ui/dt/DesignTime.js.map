{"version":3,"file":"DesignTime.js","names":["sap","ui","define","ManagedObject","ElementOverlay","AggregationOverlay","OverlayRegistry","SelectionManager","ElementDesignTimeMetadata","AggregationDesignTimeMetadata","ElementUtil","Overlay","OverlayUtil","MetadataPropagationUtil","Util","TaskManager","TaskRunner","Log","isPlainObject","merge","SelectionMode","includes","DesignTimeStatus","_curry","_difference","isEmptyObject","DesignTime","extend","metadata","library","properties","designTimeMetadata","type","enabled","defaultValue","scope","associations","rootElements","multiple","aggregations","plugins","events","addRootElement","parameters","element","addPlugin","plugin","enabledChanged","value","elementOverlayCreated","elementOverlay","elementOverlayDestroyed","elementOverlayAdded","id","targetIndex","targetId","targetAggregation","elementOverlayMoved","elementOverlayEditableChanged","elementId","editable","elementPropertyChanged","name","oldValue","syncing","synced","syncFailed","constructor","this","_sStatus","SYNCED","_mPendingOverlays","_oTaskManager","complete","oEvent","getSource","isEmpty","_registerElementOverlays","setTimeout","fireSynced","bind","add","count","SYNCING","fireSyncing","_oTaskRunner","taskManager","taskType","run","_oSelectionManager","_aOverlaysCreatedInLastBatch","apply","arguments","getRootElements","forEach","_createOverlaysForRootElement","attachEvent","getParameter","getPlugins","oPlugin","_onProcessingStatusChange","bValue","$OverlayContainer","getOverlayContainer","oRootElement","oRootElementOverlay","getOverlay","setVisible","callbackFn","applyStyles","overlayId","getId","prototype","getMetadata","getName","completeBy","_onApplyStylesRequired","mParameters","getParameters","oOverlay","bForceScrollbarSync","bSkipForceCalculation","_removeOverlayFromSyncingBatch","oElementOverlay","iIndex","indexOf","splice","aElementOverlays","slice","length","iTaskId","aPlugins","register","attachBeforeDestroy","deregister","callElementOverlayRegistrationMethods","vError","oError","propagateError","printf","getElement","error","errorToString","fireElementOverlayCreated","exit","_bDestroyPending","destroy","_destroyAllOverlays","getSelection","getSelectionManager","get","getAggregation","getBusyPlugins","filter","isBusy","waitForBusyPlugins","aBusyPlugins","Promise","all","map","waitForBusyAction","addAggregation","fireAddPlugin","setDesignTime","insertPlugin","insertAggregation","removePlugin","oCurrentPlugin","detachEvent","removeAggregation","removeAllPlugins","removeAllAggregation","getAssociation","sElementId","getElementInstance","getDesignTimeMetadataFor","oElement","sClassName","getDesignTimeMetadata","vRootElement","addAssociation","fireAddRootElement","root","createOverlay","visible","getEnabled","then","append","render","cancel","fireSyncFailed","removeRootElement","removeAssociation","_destroyOverlaysForElement","removeAllRootElement","getElementOverlays","_iterateRootElements","concat","_getAllElementOverlaysIn","ensureRoot","bIsRoot","setIsRoot","vArg","mParams","Object","assign","isElementValid","_rejectCreateOverlay","resolve","_createElementOverlay","_createChildren","attachEventOnce","bIsDestroyed","_onElementOverlayDestroyed","reject","createError","push","catch","sReason","isElementInTemplate","getObjectType","_createAggregationOverlay","sAggregationName","mAggregationMetadata","bIsTemplateAggregation","aggregationName","isPartOfTemplate","data","init","oAggregationOverlay","_onAggregationOverlayDestroyed","beforeDestroy","createElementOverlay","fnResolve","fnReject","isRoot","metadataScope","getScope","mMetadataExtension","mParentMetadata","mMetadata","_mMetadataOriginal","propagateMetadataToElementOverlay","parentMetadata","_onElementDestroyed","_onElementOverlaySelectionChange","_onElementModified","_onEditableChanged","initFailed","getAggregationBindingTemplates","aAggregationNames","reduce","mTemplateAggregations","oTemplate","getAggregationBindingTemplate","getAggregationNames","mParentAggregationMetadata","mAggregationBindingTemplates","aTemplateAggregationNames","keys","bEncounteredTemplate","undefined","bHasTemplateAggregation","bIsRootTemplate","bIsPartOfTemplate","bIsCloneInsideTemplate","_createChildrenOverlays","sElementClassName","propagateMetadataToAggregationOverlay","aChildrenElements","isAssociation","sParentElementClassName","oChildElement","mError","_enrichChildCreationError","isDestroyed","severity","message","errorObject","aChildrenElementOverlays","oChildElementOverlay","getParent","addChild","aAggregationOverlays","addAggregationBindingTemplateOverlay","sSeverity","sError","join","toString","startsWith","cancelBy","hasOverlays","destroyMutationObserver","removeOverlayContainer","isSelected","remove","fireElementOverlayDestroyed","bSelected","getSelectionMode","Multi","set","setSelected","oParams","_onAddAggregation","target","_checkIfOverlayShouldBeDestroyed","getStatus","fireElementPropertyChanged","fireElementOverlayEditableChanged","oParent","oParentOverlay","oParentAggregationOverlay","getAggregationOverlay","onElementOverlayCreated","detachElementOverlayCreated","_addAggregation","attachElementOverlayCreated","getData","vInsertChildReply","insertChild","iOverlayPosition","indexOfAggregation","fireElementOverlayAdded","getAggregationName","sAggregationOverlayId","_isElementInRootElements","setDesignTimeMetadata","fireElementOverlayMoved","sParentAggregationName","bFoundAncestor","hasAncestor","fnStep","oScope","aRootElements","sRootElementId","call","iterateOverlayElementTree","oChildOverlay","setEnabled","setProperty","fireEnabledChanged"],"sources":["DesignTime-dbg.js"],"mappings":"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"}