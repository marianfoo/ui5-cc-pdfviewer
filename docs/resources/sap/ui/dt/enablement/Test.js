/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/ui/base/ManagedObject"],function(t){"use strict";var e=t.extend("sap.ui.dt.test.Test",{metadata:{abstract:true}});e.STATUS={SUPPORTED:{key:"SUPPORTED",text:"supported",value:3},PARTIAL_SUPPORTED:{key:"PARTIAL_SUPPORTED",text:"partial supported",value:2},NOT_SUPPORTED:{key:"NOT_SUPPORTED",text:"not supported",value:1},ERROR:{key:"ERROR",text:"error",value:0},UNKNOWN:{key:"UNKNOWN",text:"unknown",value:0}};e.TYPE={TEST:"Test",GROUP:"Group",SUITE:"Suite"};e.prototype.createSuite=function(t,s){return this.add(null,false,t,s,null,e.TYPE.SUITE)};e.prototype.addGroup=function(t,s,r,u){return this.add(t,true,s+(u?" ("+u+")":""),r,null,e.TYPE.GROUP)};e.prototype.addTest=function(t,s,r,u,a){return this.add(t,s,r,u,a,e.TYPE.TEST)};e.prototype.add=function(t,s,r,u,a,i){if(!a){if(s){a=e.STATUS.SUPPORTED}else{a=e.STATUS.NOT_SUPPORTED}}var n={name:r,message:u,result:s,status:a,type:i,statistic:{},children:[]};if(t){t.push(n)}return n};e.prototype.run=function(){throw new Error("Abstract method")};e.prototype.aggregate=function(t){if(t.type!==e.TYPE.TEST&&t.children.length>0){var s=t.children;var r=s.map(function(t){var e=this.aggregate(t);return{result:e.result,status:e.status}},this);if(r.length===1){r.push(r[0])}var u=r.reduce(function(t,e){return{result:this._getResult(t,e),status:this._getStatus(t,e),statistic:this._getStatistic(t,e)}}.bind(this));t.result=u.result;t.status=u.status;t.statistic=u.statistic}return t};e.prototype._getResult=function(t,e){return!t.result?false:e.result};e.prototype._getStatus=function(t,e){return t.status.value<e.status.value?t.status:e.status};e.prototype._getStatistic=function(t,e){var s=this._getStatisticObjectForEntry(t);if(t!==e){s[e.status.key]++}return s};e.prototype._getStatisticObjectForEntry=function(t){var s={};if(!t.statistic){for(var r in e.STATUS){s[r]=0}s[t.status.key]++}else{s=t.statistic}return s};return e});
//# sourceMappingURL=Test.js.map