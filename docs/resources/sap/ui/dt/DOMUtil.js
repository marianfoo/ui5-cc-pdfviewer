/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/ui/thirdparty/jquery","sap/ui/Device","sap/ui/core/Configuration","sap/ui/dom/jquery/zIndex","sap/ui/dom/jquery/scrollLeftRTL"],function(jQuery,e,t){"use strict";var r={};r.getSize=function(e){var t=e.getBoundingClientRect();return{width:t.width,height:t.height}};r.getOffsetFromParent=function(o,l){var n=l?jQuery(l):null;var i=n?n.scrollTop():null;var a=l?r.getScrollLeft(l):null;var s=n?n.offset():null;var c={left:o.position.left,top:o.position.top};if(s){c.left-=s.left-(a||0);c.top-=s.top-(i||0)}if(t.getRTL()){var f=n?n.outerWidth():jQuery(window).outerWidth();if(e.browser.safari&&!e.browser.mobile&&r.hasVerticalScrollBar(n)){c.left-=r.getScrollbarWidth()}c.left=c.left-(f-o.size.width)}return c};r.getScrollLeft=function(e){if(!t.getRTL()||!r.hasHorizontalScrollBar(e)){return jQuery(e).scrollLeft()}var o=jQuery(e).scrollLeftRTL();var l=e.scrollWidth-e.clientWidth;return o-l};r.getZIndex=function(e){var t;var r=jQuery(e);if(r.length){t=r.zIndex()||r.css("z-index")}return t};r._getElementDimensions=function(e,t,r){var o=e[0]||e;var l=o["offset"+t];var n=0;for(var i=0;i<2;i++){var a=window.getComputedStyle(o,null)["border"+r[i]+t];n-=a?parseInt(a.slice(0,-2)):0}return l+n};r._getElementWidth=function(e){return r._getElementDimensions(e,"Width",["Right","Left"])};r._getElementHeight=function(e){return r._getElementDimensions(e,"Height",["Top","Bottom"])};r.hasVerticalScrollBar=function(e){var t=jQuery(e);var o=t.css("overflow-y")==="auto"||t.css("overflow-y")==="scroll";return o&&t.get(0).scrollHeight>r._getElementHeight(e)};r.hasHorizontalScrollBar=function(e){var t=jQuery(e);var o=t.css("overflow-x")==="auto"||t.css("overflow-x")==="scroll";return o&&t.get(0).scrollWidth>r._getElementWidth(e)};r.hasScrollBar=function(e){return r.hasVerticalScrollBar(e)||r.hasHorizontalScrollBar(e)};r.getScrollbarWidth=function(){if(typeof r.getScrollbarWidth._cache==="undefined"){var e=jQuery("<div></div>").css({position:"absolute",top:"-9999px",left:"-9999px",width:"100px"}).appendTo("body");var t=e.width();e.css("overflow","scroll");var o=jQuery("<div></div>").css("width","100%").appendTo(e);var l=o.width();e.remove();r.getScrollbarWidth._cache=t-l}return r.getScrollbarWidth._cache};r.getOverflows=function(e){var t=jQuery(e);return{overflowX:t.css("overflow-x"),overflowY:t.css("overflow-y")}};r.getGeometry=function(e,t){if(e){var r=jQuery(e).offset();if(t){r.left=r.left-jQuery(window).scrollLeft();r.top=r.top-jQuery(window).scrollTop()}return{domRef:e,size:this.getSize(e),position:r,visible:this.isVisible(e)}}};r.syncScroll=function(e,t){var r=jQuery(t);var o=r.scrollTop();var l=r.scrollLeft();var n=jQuery(e);var i=n.scrollTop();var a=n.scrollLeft();if(i!==o){r.scrollTop(i)}if(a!==l){r.scrollLeft(a)}};r.getDomRefForCSSSelector=function(e,t){if(t&&e){var r=jQuery(e);if(t===":sap-domref"){return r}if(t.indexOf(":sap-domref")>-1){return r.find(t.replace(/:sap-domref/g,""))}return r.find(t)}return jQuery()};r.isVisible=function(e){if(e){var t=e.getBBox&&e.getBBox();var r=t?t.width:e.offsetWidth;var o=t?t.height:e.offsetHeight;return r>0&&o>0}return false};r.setDraggable=function(e,t){e.setAttribute("draggable",t)};r.getDraggable=function(e){switch(e.getAttribute("draggable")){case"true":return true;case"false":return false;default:return}};r._copyStylesTo=function(e,t){var r="";var o="";var l=e.length;for(var n=0;n<l;n++){o=e[n];r=r+o+":"+e.getPropertyValue(o)+";"}t.style.cssText=r};r._copyPseudoElement=function(e,t,o){var l=window.getComputedStyle(t,e);var n=l.getPropertyValue("content");if(n&&n!=="none"){n=String(n).trim();if(n.indexOf("attr(")===0){n=n.replace("attr(","");if(n.length){n=n.substring(0,n.length-1)}n=t.getAttribute(n)||""}var i=jQuery("<span></span>");if(e===":after"){i.appendTo(o)}else{i.prependTo(o)}i.text(n.replace(/(^['"])|(['"]$)/g,""));r._copyStylesTo(l,i.get(0));i.css("display","inline")}};r.copyComputedStyle=function(e,t){e=jQuery(e).get(0);t=jQuery(t).get(0);var o=window.getComputedStyle(e);if(o.getPropertyValue("display")==="none"){t.style.display="none";return}r._copyStylesTo(o,t);this._copyPseudoElement(":after",e,t);this._copyPseudoElement(":before",e,t)};r.copyComputedStyles=function(e,t){e=jQuery(e).get(0);t=jQuery(t).get(0);for(var r=0;r<e.children.length;r++){this.copyComputedStyles(e.children[r],t.children[r])}jQuery(t).removeClass();jQuery(t).attr("id","");jQuery(t).attr("role","");jQuery(t).attr("data-sap-ui","");jQuery(t).attr("for","");jQuery(t).attr("tabindex",-1);this.copyComputedStyle(e,t)};r.cloneDOMAndStyles=function(e,t){e=jQuery(e).get(0);var r=e.cloneNode(true);this.copyComputedStyles(e,r);jQuery(t).append(r)};r.contains=function(e,t){var r=document.getElementById(e);return!!r&&r.contains(t)};r.appendChild=function(e,t){var r=t.scrollTop;var o=jQuery(t).scrollLeft();e.appendChild(t);t.scrollTop=r;jQuery(t).scrollLeft(o)};r.focusWithoutScrolling=function(t){if(e.browser.name!=="ie"){t.focus({preventScroll:true});return}var r=[];var o=t.parentNode;while(o){r.push([o,jQuery(o).scrollLeft(),o.scrollTop]);o=o.parentNode}t.focus();r.forEach(function(e){var t=e[0];if(jQuery(t).scrollLeft()!==e[1]){jQuery(t).scrollLeft(e[1])}if(t.scrollTop!==e[2]){t.scrollTop=e[2]}})};return r},true);
//# sourceMappingURL=DOMUtil.js.map