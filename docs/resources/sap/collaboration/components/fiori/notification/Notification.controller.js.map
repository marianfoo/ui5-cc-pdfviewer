{"version":3,"file":"Notification.controller.js","names":["sap","ui","define","CommonUtil","NotificationTypeUtil","OdataUtil","Controller","ODataModel","Global","controller","onInit","this","initializeRefreshAndTransitionState","sPrefixId","getView","getViewData","controlId","oView","oLangBundle","sOdataServiceUrl","oDataServiceUrl","iTransitionInterval","transitionInterval","iRefreshInterval","refreshInterval","sProfilePhotoHiddenStyleClass","sStyleClassPrefix","sLoadingAnimationDummyTextStyleClass","sNewNotificationTextStyleClass","sErrorTextStyleClass","oNotificationNewNotificationOrErrorText","addStyleClass","setText","setBusy","oNotificationTypeUtil","bErrorInUnreadCountODataResponse","bErrorInNoticesODataResponse","bErrorInODataResponse","iNotificationCurrentIndex","undefined","iNotificationPreviousIndex","aNotifications","bIsTransitionActive","iNotificationsTransitionCallbackRegistrationId","bIsRefreshActive","iNotificationsRefreshCallbackRegistrationId","iNotificationUnreadCount","iMaxNotificationsToDisplay","numberOfNotifications","aImageControls","aProfilePhotos","iNotificationsToDisplay","aUsedImageControls","onBeforeRendering","initializeCommonUtil","initializeOdataModel","initializeOdataUtils","onAfterRendering","fetchNotificationData","asJson","oOdataModel","oODataUtil","oCommonUtil","aRequests","oNotificationUnreadCountReq","createNotificationUnreadCountBatchOperation","oNotificationReq","createNotificationBatchOperation","push","fParseResult","getFunctionParseResult","fErrorCallBack","getFunctionErrorCallBack","executeODataBatchRequest","self","aResults","removeStyleClass","error","results","clearAllUiTexts","hideAllProfilePhotoControls","setUiContent","activateNotificationRefresh","GetNoticeUnreadCount","UnreadCount","length","Math","min","setProfilePhotosSrc","activateNotificationTransition","oError","iSenderId","sSenderFullName","sProfilePhotoURL","i","SenderId","SenderFullName","getProfilePhotoURL","setSrc","resource","oNotificationTypeText","oNotificationMessageText","oNotificationUnreadCountText","oNotificationAgeText","oNotificationGroupText","getText","oNotification","sNotificationTypeText","EventType","toUpperCase","sNotificationMessageText","Message","sNotificationUnreadCountText","dCreatedAt","CreatedAt","sGroupName","GroupName","aNotificationTypePropertyNames","getRequiredNotificationPropertyNames","aNotificationPropertyValues","getNotificationPropertyValues","aNotificationAgeAndGroup","calculateNotificationAge","split","sNotificationAgeText","sNotificationGroupText","aNotificationTypePropertyValues","isValidDate","dNow","Date","setMilliseconds","nMillisInOneMinute","nMillisInOneHour","nMillisInOneDay","nNotificationAgeInMillis","getTime","nNumberOfDays","round","parseFloat","toString","nNumberOfHours","nNumberOfMins","getTransitionRegistrationId","setInterval","bind","deactivateNotificationTransition","clearInterval","getRefreshRegistrationId","refreshNotification","deactivateNotificationRefresh"],"sources":["Notification-dbg.controller.js"],"mappings":"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"}