{"version":3,"file":"SocialTextArea.js","names":["sap","ui","define","jQuery","includeStylesheet","JSONModel","TextArea","Popover","List","StandardListItem","SuggestionUtility","LanguageBundle","mobileLibrary","Device","ListSeparators","ListMode","PlacementType","require","toUrl","SocialTextArea","extend","metadata","library","properties","initialValue","type","group","defaultValue","enableNotifyAll","suggestionPlacement","VerticalPreferedBottom","suggestionHeight","events","suggest","parameters","value","afterSuggestionClose","renderer","apiVersion","prototype","init","apply","this","addStyleClass","_sTextAreaOldValue","_sTextAreaCurrentValue","_aAtMentionBuffer","_mCurrentAtMention","undefined","_oModel","oStandardListItem","title","description","icon","_oList","getId","mode","SingleSelectMaster","rememberSelections","showSeparators","None","setModel","bindItems","_oPop","showHeader","showArrow","content","setInitialFocus","_oSuggestionUtil","_oLangBundle","attachSelectionChange","onSelectionChange","bind","exit","destroy","onBeforeRendering","setPlacement","getSuggestionPlacement","getEnableNotifyAll","setProperty","getText","onAfterRendering","setContentWidth","$","width","oElement","children","id","css","height","oninput","event","isMarked","getValue","trim","closeSuggestionPopover","_triggerSuggestions","oListItem","getParameter","sFullname","getProperty","sEmail","getTextAreaValueAfterSuggestionSelected","setValue","selectText","endIndex","removeSelections","showSuggestions","suggestions","length","fullName","push","email","userImage","close","setData","openBy","setInitialValue","text","setSuggestionHeight","setContentHeight","fireAfterSuggestionClose","clearText","convertTextWithFullNamesToEmailAliases","atMentionsButtonPressed","iCursorPositionInTextArea","getDomRef","selectionStart","mAtMentionPressed","newValue","focus","cursorPosition","textAreaCurrentValue","textAreaOldValue","system","phone","oTextAreaChange","getChangesInTextArea","operation","_handleAddedCharacters","_handleDeletedCharacters","textAreaChange","iTextAreaChangeIndex","changeIndex","sTextAreaChangeChars","charactersChanged","iAtBufferLength","bIsNotifyAllEnabled","i","startIndex","maintainAtMentionIndices","iCurrentAtMentionArrayIndex","addToAtMentionBuffer","sCharBeforeAtMentionChar","iNextCharAfterAddedTextIndex","sNextCharAfterAddedText","fireSuggest","substring","sStringAfterAtMention","getStringAfterAtMention","sStringBeforeAtMention","getStringBeforeAtMention","sQueryString","oRegExp","RegExp","test","match","atMentioned","notifyAll","iAtMentionStartIndex","sTextWithoutAtChar","slice","splice","search","iCharsDifference","iAtMentionIndexInBuffer","isDeletedCharPartOfAtMentioned","substr","numberOfCharsChanged","sValue","j"],"sources":["SocialTextArea-dbg.js"],"mappings":"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"}