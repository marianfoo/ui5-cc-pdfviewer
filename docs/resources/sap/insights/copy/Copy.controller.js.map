{"version":3,"file":"Copy.controller.js","names":["sap","ui","define","JSONModel","ResourceModel","BaseController","CardHelper","MessageToast","Log","oLogger","getLogger","extend","onInit","this","_oCopyCardViewModel","oOrgCard","oCard","aCards","getView","setModel","I18_BUNDLE","getCore","getLibraryResourceBundle","bundle","i18Bundle","getModel","getResourceBundle","smartFormEditable","_getCopyCardPage","byId","initCopyCard","sCardId","descriptorContent","id","oDraftCardParams","getServiceAsync","then","oService","getUserCards","setProperty","bind","oCopyCard","JSON","parse","stringify","oContext","createBindingContext","refresh","setBindingContext","_setSmartFormForCopyCard","handleCopyCardDialogCancel","setValueState","isCopyCardDialogOpen","close","removeAllItems","_setSmartFormForCardEdit","_handleCardPreviewPress","oEvent","getProperty","header","title","_mergeDraftParamsIncard","handleCardsInputChange","oInput","getSource","sValue","getValue","sId","getId","includes","subTitle","handleCardCopyPress","oSmartFormContainer","oSmartForm","getItems","getSmartFields","some","oSmartField","checkClientError","handleSuccess","setBusy","oOriginalCard","sOriginalCardId","oNewCard","sNewCardId","Date","now","aCardList","length","oHighestRankObj","reduce","prev","current","rank","aVisibleCards","filter","visibility","visible","parentAppId","isDtCardCopy","componentName","createCard","cardTitle","msg","getText","show","getUserCardModel","cardListPage","getParent","getPages","to","catch","oError","message","finally","error","onNavBack","back"],"sources":["Copy-dbg.controller.js"],"mappings":"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"}