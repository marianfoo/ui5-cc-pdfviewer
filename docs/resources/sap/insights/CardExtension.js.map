{"version":3,"file":"CardExtension.js","names":["sap","ui","define","Extension","NumberFormat","SelectionVariant","Log","DateFormat","ValueState","ValueColor","IntegrationUtils","DynamicDateUtil","Core","NavError","UrlGenerateHelper","criticalityConstants","StateValues","None","Negative","Critical","Positive","ColorValues","oLogger","getLogger","endsWith","sString","sSuffix","indexOf","length","criticality2state","criticality","oCriticalityConfigValues","sState","EnumMember","val","calculateCriticalityState","value","sImproveDirection","deviationLow","deviationHigh","toleranceLow","toleranceHigh","oCriticality","nMinValue","Number","NEGATIVE_INFINITY","nMaxValue","POSITIVE_INFINITY","undefined","parseFloat","calculateTrendDirection","aggregateValue","referenceValue","downDifference","upDifference","kpiformatter","sPath","ovpProperties","bUnit","oStaticValue","kpiValue","numberFormat","getFloatInstance","minFractionDigits","NumberOfFractionalDigits","maxFractionDigits","style","showScale","shortRefNumber","sNum","format","sNumberScale","getScale","sLastNumber","slice","percentageAvailable","formatHeaderUrl","oParams","this","getCard","getCombinedParameters","_headerDataUrl","formatContentUrl","_contentDataUrl","targetValueFormatter","iKpiValue","iTargetValue","oStaticValues","iValue","iFractionalDigits","iScaleFactor","isNaN","manifestTarget","fnNumberFormat","returnPercentageChange","iReferenceValue","iPercentNumber","fnPercentFormatter","getPercentInstance","kpiValueCriticality","nCriticality","formatValueColor","arguments","index","sImprovementDirection","bIsDeviationLowBinding","bIsDeviationHighBinding","bIsToleranceLowBinding","bIsToleranceHighBinding","formatTrendIcon","bIsRefValBinding","bIsDownDiffBinding","bIsUpDiffBinding","formatDateValue","sPropertyValue","result","sPropertyType","propertyType","year","parseInt","substr","month","monthIndex","Date","UTC","quarter","monthFromQuarter","week","startOfWeekDay","formatDate","sDateValue","formatterProperties","oDate","parseJsonDateTime","getInstance","bUTC","formatNumber","textFragments","sValue1","sValue2","oFormatter","numberOfFractionalDigits","scaleFactor","aParts","push","sFinalValue","forEach","textFragment","formatCriticality","sCriticality","sType","String","Error","Warning","Success","Information","Good","Neutral","getMinMax","aData","getModel","getProperty","Math","apply","map","o","_mixAttributesToSelVariant","mSemanticAttributes","oSelVariant","iSuppressionBehavior","ignoreEmptyString","raiseErrorOnNull","raiseErrorOnUndefined","sPropertyName","hasOwnProperty","vSemanticAttributeValue","toJSON","Array","isArray","JSON","stringify","toString","info","error","warning","addSelectOption","mixAttributesAndSelectionVariant","vSemanticAttributes","sSelectionVariant","oSelectionVariant","oNewSelVariant","getFilterContextUrl","setFilterContextUrl","getParameterContextUrl","setParameterContextUrl","aParameters","getParameterNames","i","getSelectOption","getParameter","aSelOptionNames","getSelectOptionsPropertyNames","aSelectOption","j","Sign","Option","Low","High","enhanceVariant","oValue","SelectionVariantID","PresentationVariantID","Text","ODataFilterExpression","Version","FilterContextUrl","ParameterContextUrl","isJSONData","oVariant","parse","err","singleAndSimpleFilter","aRanges","bSingleRange","oRange","addPropertyValueToAppState","oNavData","oContext","oCard","getManifestEntry","oCardParams","configuration","parameters","cardSV","fe","navigation","aFilters","_relevantODataFilters","oSensitiveProps","sensitiveProps","oHeaderIbnParams","header","actions","ibnParams","oContentIbnParams","content","sFilterName","bJSONData","tempFilterSV","SelectOptions","Ranges","bSingleAndSimpleRange","massAddSelectOption","aContextKeys","Object","keys","toJSONObject","selectionVariant","formatStringTypeForSemanticDate","oDateTimeFormat","getDateInstance","pattern","calendarType","sValue","replace","formatDateTimeTypeForSemanticDate","oDateTimeFormatMs","addSelectionOptionForSemanticDate","oCardSV","sParamName","aRangeValues","operation","value1","toDates","values","operator","oValue1","oValue2","sLowValue","sHighValue","type","_getURLParametersFromSelectionVariant","vSelectionVariant","mURLParameters","aSelectProperties","aSelectOptions","aParameterNames","sParameterValue","getNavigationContext","sNavData","aMandatoryParams","_mandatoryODataParameters","oParameters","oIbnParams","oXAppStateData","oCardMandatoryFilterParamSV","oCurrentContext","presentationVariant","Parameters","key","formatHeaderDataUrlForSemanticDate","descriptorContent","sUrl","semanticHeaderContentUrl","formatContentDataUrlForSemanticDate","sUrlPrefix","data","request","url","oUrl","processPrivateParams","extend","init","prototype","setFormatters","bind","loadDependencies","Promise","resolve","loadLibrary","async","then","require","OVPChartFormatter","registerCustomFormatters"],"sources":["CardExtension-dbg.js"],"mappings":"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"}