{"version":3,"file":"Selection.controller.js","names":["sap","ui","define","ResourceModel","CardHelper","MessageBox","MessageToast","BaseController","Filter","FilterOperator","UriParameters","FormattedText","Link","DEFAULT_CARD_RANK","extend","onInit","I18_BUNDLE","getCore","getLibraryResourceBundle","this","getView","setModel","bundle","i18Bundle","getModel","getResourceBundle","oNavCon","byId","setBusy","initUserCards","showSelectionDialog","oCard","orgCard","setProperty","_getSelectionDialog","open","_getSelectionFragment","_getCardListPage","_getPreviewPage","closeDialog","getServiceAsync","then","oInstance","to","close","showCardPreview","bind","handleCardListItemPress","oEvent","oDynCard","oModel","currentCardPreviewPath","getSource","getBindingContextPath","cardTitle","getProperty","descriptorContent","header","title","oPage","oContext","createBindingContext","setBindingContext","oFormElement","removeAllItems","_setSmartFormForCardEdit","oCardHelperServiceInstance","getParentAppDetails","oParentAppDetails","semanticURL","getIsNavigationEnabled","setCopyVisible","oManifest","oCardDataSource","dataSources","oFilterService","filterService","uri","oTempSettings","settings","odataVersion","handleCardVisibilityToggle","oEventParameters","sPath","getBindingContext","getPath","bToggleValue","getSelected","visibility","visible","setSelectedCards","updateCard","catch","oError","refresh","show","message","insightsCardsListTable","getSelectedCards","length","onEditInsightCardsDrop","oDragItem","getParameter","iDragItemIndex","getParent","indexOfItem","oDropItem","iDropItemIndex","oCardRankObj","_setCardsRanking","setCardsRanking","aUpdatedCards","_createOdataModelsforDialog","setDTCards","finally","e","handleCardDeleteConfirm","getText","icon","Icon","WARNING","actions","Action","DELETE","CANCEL","emphasizedAction","onClose","sAction","handleCardDelete","sCardId","id","sCardTitle","deleteCard","aNewCardSet","filter","aVisibleCards","back","aCards","oService","getUserCardModel","userCardModel","iVisibleCount","forEach","rank","oSmartFormMap","bDeleteAllEnabled","isDeleteAllCardsEnabled","Promise","resolve","iDragIndex","iDropIndex","getItems","map","oItem","getObject","aCardsRank","getAffectedCardsList","index","iDropIndexCardRank","push","setRankForAffectedCards","removedCard","splice","reverse","Ranking","onNavBack","navigateToCopyCard","getController","initCopyCard","onCardSearch","sQuery","getValue","Contains","aFilters","oList","oBinding","getBinding","refreshCardList","bIsDeleteAllEnable","sContent","aDTCards","sContentText","oDTCard","htmlText","OK","_refreshUserCards","sEnableDeleteAllCardsFlag","fromQuery","window","location","search","get","toUpperCase","navigateToParentApp","sUrl","ushell","Container","oCrossAppNavigator","toExternal","target","shellHash","navigateToCardPreview","iCardIndex","findIndex","aCardList","crossApplicationNavigationService","isNavigationSupported","semanticObject","action","aResponses","supported","isDtCardCopy"],"sources":["Selection-dbg.controller.js"],"mappings":"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"}