sap.ui.define(["sap/ui/base/Object","sap/base/util/extend","sap/suite/ui/generic/template/genericUtilities/controlHelper","sap/suite/ui/generic/template/genericUtilities/oDataModelHelper","sap/suite/ui/generic/template/genericUtilities/testableHelper"],function(e,t,a,n,i){"use strict";var o=function(){var e=sap.ui.getCore().getLibraryResourceBundle("sap.m");return{navDownTooltip:e.getText("FACETFILTER_NEXT"),navUpTooltip:e.getText("FACETFILTER_PREVIOUS")}}();function r(e,i,r,s){var l=r.oComponentUtils.getTemplatePrivateModel();var c=r.oComponentUtils.getTemplatePrivateGlobalModel();function g(){var t=r.oComponentUtils.getPaginatorInfo();var a=!!t&&!t.suppressButtons&&(!e.fclInfo.isContainedInFCL||c.getProperty("/generic/FCL/isVisuallyFullScreen"));var n=a&&t.objectPageNavigationContexts.length;var i=a&&t.selectedRelativeIndex!==n-1;var o=a&&t.selectedRelativeIndex>0;l.setProperty("/objectPage/navButtons/navUpEnabled",o);l.setProperty("/objectPage/navButtons/navDownEnabled",i)}function u(e,t,n){var i=e.objectPageNavigationContexts[t];e.selectedRelativeIndex=t;if(i){if(n){r.oServices.oApplication.setNextFocus(function(e,t){setTimeout(function(){if(!n.getEnabled()){var e=n.getParent();var i=e.getItems();n=i.find(function(e){return e.getEnabled()});if(!n){t();return}}a.focusUI5Control(n)},0)})}e.paginate(i,s)}else{s.navigateUp()}}function v(e,t){var a=r.oComponentUtils.getPaginatorInfo();if(t&&r.oComponentUtils.isDraftEnabled()&&r.oComponentUtils.getViewLevel()===1){r.oCommonUtils.fnProcessDataLossOrDraftDiscardConfirmation(function(){p(e,a,t)},Function.prototype)}else{p(e,a,t)}}function p(e,t,a){var i=t.listBinding;var o=t.selectedRelativeIndex+e;var s=t.objectPageNavigationContexts;var l=r.oServices.oApplication.getBusyHelper();var c=t.selectedRelativeIndex;var g=n.analyseContext(s[c]);var v=s[c].getModel().getMetaModel().getODataEntitySet(g.entitySet);var p=v["Org.OData.Capabilities.V1.UpdateRestrictions"]&&v["Org.OData.Capabilities.V1.UpdateRestrictions"].Updatable;while(o<s.length&&!a){if(p&&p.Path){if(s[o].getModel().getProperty(p.Path,s[o])){break}o++;continue}}if(s&&s[o]){u(t,o,a)}else{var d=new Promise(function(e,n){var l=t.growingThreshold||Math.ceil(i.getLength()/5);var c=s?s.length:o;var g=c+l;var v=function(n){var s=n.getSource().getContexts(0,g);var l=r.oCommonUtils.filterActiveContexts(s);t.objectPageNavigationContexts=l;i.detachDataReceived(v);u(t,o,a);e()};i.attachDataReceived(v);i.loadData(0,g)});l.setBusy(d)}}function d(e){b(1,e)}function f(e){b(-1,e)}function b(e,t){var a=t.getSource();r.oServices.oDataLossHandler.performIfNoDataLoss(function(){v(e,a)},Function.prototype,"LeavePage")}l.setProperty("/objectPage/navButtons",t({navDownEnabled:false,navUpEnabled:false},o));if(e.fclInfo.isContainedInFCL){var C=c.bindProperty("/generic/FCL/isVisuallyFullScreen");C.attachChange(g)}function P(){v(1)}return{computeAndSetVisibleParamsForNavigationBtns:g,handleShowNextObject:d,handleShowPrevObject:f,switchToNextObject:P}}return e.extend("sap.suite.ui.generic.template.detailTemplates.PaginatorButtonsHelper",{constructor:function(e,a,n,o){t(this,i.testableStatic(r,"PaginatorButtonsHelper")(e,a,n,o))}})});
//# sourceMappingURL=PaginatorButtonsHelper.js.map