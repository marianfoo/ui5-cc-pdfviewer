{"version":3,"file":"KpiCardController.js","names":["sap","ui","define","Fragment","Controller","JSONModel","D3","KpiUtil","V4Terms","SelectionVariant","MessageBox","oData4Analytics","oNavigationHandler","oSTCommonUtils","oOvpCommonUtils","oSTController","cController","extend","onInit","evt","require","oOVPCommonUtils","onExit","onBeforeRendering","oView","this","getView","oSettings","data","oQualifier","qualifier","oModel","getModel","oMetaModel","getMetaModel","oEntitySet","getODataEntitySet","entitySet","oEntityType","getODataEntityType","entityType","oFilterableKPISelectionVariant","sKpiAnnotationPath","sSPVPath","sDataPointPath","oCardName","oCardSettings","cards","model","template","settings","title","showFilterInHeader","navigation","bEnableStableColors","enableStableColors","colorPalette","oComponent","getOwnerComponent","bShowDataLabel","getChartSettings","showDataLabel","hasOwnProperty","subTitle","String","kpiAnnotationPath","createCardComponent","dataPointAnnotationPath","selectionPresentationAnnotationPath","fnCheckNavigation","oNavModel","sTarget","getProperty","sAction","onHeaderClicked","oEvent","handleNavigationPress","bind","onContentClicked","oChartSelection","getObject","oPopover","getParent","setModal","oObjectInfo","semanticObject","action","_oSelectionVariant","appDescriptorParameters","JSON","parse","_createNavigationContext","_getSelectOptionsFromAnnotation","adaptNavigationParameterExtension","_constructContextURL","_sParameterContextURL","setParameterContextUrl","_sFilterContextURL","setFilterContextUrl","setModel","toJSONString","navigate","oError","generic","app","service","NavError","getErrorCode","show","getText","onClose","_assignSmartTemplateDependencies","oTemplateUtils","oController","oCommonUtils","oServices","oApplication","getNavigationHandler","oParameter","bIsParameter","keys","Object","i","length","eachKey","addParameter","getSelectOption","removeSelectOption","addSelectOption","that","bIsFilterableKPI","filterable","oMergedSelectionVariant","paramKeys","getParameterNames","getParameter","oSelectionVariant","aSelectOptions","SelectOptions","aSVParameters","Parameters","forEach","sParameterName","PropertyName","PropertyPath","sParameterValue","PropertyValue","removeParameter","oSelectOption","sPropertyName","aRanges","Ranges","oRange","sLowValue","Low","sHighValue","High","sSign","Sign","EnumMember","split","sOption","Option","o4a","Model","ReferenceByModel","queryResult","findQueryResultByName","name","parameterization","getParameterization","constructContextUrl","getEntitySet","getQName"],"sources":["KpiCardController-dbg.js"],"mappings":"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"}