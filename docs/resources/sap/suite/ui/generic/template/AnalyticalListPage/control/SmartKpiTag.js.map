{"version":3,"file":"SmartKpiTag.js","names":["sap","ui","define","Control","KpiTagController","KpiUtil","KpiAnnotationHelper","FilterUtil","V4Terms","ODataModelUtil","KpiProvider","ListUtils","Device","SelectionVariant","Filter","JSONModel","Locale","ResponsivePopover","MessageStrip","NumberFormat","SapMLibrary","SapCoreLibrary","FeLogger","GenericTag","ObjectNumber","KeyCodes","oFeLogger","oLogger","getLogger","oLevel","Level","TARGET","MAXIMIZE","MINIMIZE","extend","metadata","designTime","interfaces","properties","entitySet","type","defaultValue","bindable","qualifier","modelName","undefined","groupId","smartFilterId","shortDescription","enabled","error","errorType","MessageType","Error","errorMessage","kpivalue","kpiunit","indicator","events","beforeRebindFilterableKPI","renderer","_isPercent","_unScaledValue","_sUnitofMeasure","_relativeToProperties","_bStopDataLoad","bSearchTriggred","init","setLevel","WARNING","this","_initCompositeSupport","mSettings","addToKpiList","propagateProperties","prototype","apply","arguments","_initialiseMetadata","handleModelInit","_onMetaDataInit","_setDeferredGroups","_oModel","aDeferredGroups","getDeferredGroups","sGroupId","getGroupId","indexOf","push","setDeferredGroups","sModelName","getModelName","getModel","getMetaModel","loaded","then","kpiProvider","_kpiErrorHandler","_updateKpiList","kpiSettings","getConfig","sSmartFilterId","getSmartFilterId","_oSmartFilter","_findControl","attachSearch","oEvent","_createFilterableKpi","bind","attachFilterChange","isLiveMode","isDialogOpen","setEnabled","isInitialised","attachInitialized","_createGlobalKpi","_handleFilterableKpiInGoMode","bIsVisible","setProperty","getProperty","setBusy","bIsSameEntitySet","getEntitySet","checkManditoryFieldsFilled","bIsMandatoryFilter","_mandatoryfieldsErrorHandler","config","aSelectOptions","selectOptions","aParameters","getSelectionVariantParameterNamesWithoutNavigation","parameters","oUiState","getUiState","oUiStateSV","aUiStateSVSelectOptions","SelectOptions","aUIStateSVParams","Parameters","oSFBAllFilterData","getFilterData","oSFBSV","oFilterableKPISelectionVariant","aFilters","oSelectOption","sPropertyName","oRange","oFilter","bIsDiffEntSetWithNoMatchFields","oParameter","sPropertyValue","oMetaModel","oEntitySet","getODataEntitySet","entityDef","getODataEntityType","entityType","aKPIEntitySetProperties","aKPIEntitySetRequiredProperties","i","length","PropertyName","Ranges","entityProperty","getODataProperty","bisPropertyNonFilterable","isPropertyNonFilterable","name","isPropertyHidden","k","Sign","Low","getFilter","_checkKPIMandatoryFields","value1","split","value2","addSelectOption","path","sign","operator","PropertyValue","bMandateParam","checkMandatoryParameter","getParameter","bIsParam","checkParameterizedEntitySet","checkForDateTimeParameter","addParameter","PropertyPath","getSelectOption","EnumMember","SelectionRangeSignType","String","fireBeforeRebindFilterableKPI","selectionVariant","aPropertyNames","getSelectOptionsPropertyNames","j","_filterableKPISelectionVariant","sPath","resolveParameterizedEntitySet","_applyFiltersToKpi","oError","oSelectionVariant","oDatapoint","dataPoint","aSelectFields","_getCriticalityRefProperties","_oConfig","filterable","value","props","valueFormat","ValueFormat","title","unitOfMeasure","isInteger","Value","EdmType","_checkForPercent","concat","join","read","async","filters","urlParameters","$select","$top","success","_kpiSuccessHandler","bProcessed","Promise","resolve","_updateKpiListAsync","updateKpiList","oKpiListGroup","getKpiList","sKpi","submitChanges","bIsReqNotFilterPresent","bIsKPIData","bIsReqFilterbarData","_checkKpiCriticality","mCriticalityIndicator","criticalityNotDefined","criticality","criticalityPath","criticalityType","_getCriticalityFromEnum","criticalityCalculation","sImproveDirection","improveDirection","sToleranceHigh","toleranceHigh","sToleranceLow","toleranceLow","sDeviationLow","deviationLow","sDeviationHigh","deviationHigh","IndicatorParts","getError","_checkCriticalityCalculationForNumber","CriticalityCalculation","_mCriticalityIndicator","_getPathForIndicatorParts","parts","formatter","sDataToleranceHigh","sDataToleranceLow","sDataDeviationLow","sDataDeviationHigh","sValue","Number","_getImproveDirection","criticalityProps","criticalityIndicator","relativeProperties","oDataPoint","cCalc","crit","Criticality","Path","DeviationRangeLowValue","DeviationRangeHighValue","ToleranceRangeLowValue","ToleranceRangeHighValue","data","response","kpiConfig","bIsKpiAnnotaion","hasOwnProperty","oDefaultPV","oKpiData","results","Warning","oRb","getResourceBundle","getText","warning","oKpiTagModel","setData","setModel","_setKpiName","_setKpiValue","_setKpiIndicator","_setKpiStatus","getIndicator","_setTooltipForKPI","getEnabled","number","isPercent","getFloatInstance","maxFractionDigits","groupingEnabled","showScale","getCore","getConfiguration","getLanguage","format","formatNumberForPresentation","_getNumberOfFractionalDigits","bindProperty","setValue","sIndicator","setStatus","getValue","setState","setDesign","_resetKpiValue","statusCode","authorizationError","Information","info","message","unit","setIndicator","criticalityAnno","nameFromPath","sKpiDisplayName","_getKpiTagTitle","setText","getShortDescription","_getNameFromHeuristic","sCriticality","getCriticalityFromEnum","decimalPoints","NumberOfFractionalDigits","Int","getImproveDirection","_onMouseClick","_displayKpiErrorPopOverOrCard","_oPopoverDialog","getContent","mAggregations","_text","openBy","_getResponsivePopOver","getErrorMessage","openKpiCard","text","bShowHeader","system","phone","oResponsivePopover","showHeader","placement","PlacementType","Auto","content","showIcon","addStyleClass","setShowCloseButton","_onKeyUp","which","ENTER","SPACE","sUnitofMeasure","sentence","_getNameFromSingleWordHeuristic","_getNameFromMultiWordHeuristic","word","substr","toUpperCase","words","charAt","getFilterableKPISelectionVariant","sId","oResultControl","oView","byId","_getView","_oView","oObj","getParent","core","mvc","View","exit","getToolTipForUndefinedIndicator","oKPIValue","sTooltip","getNumber","getUnit","sKPITooltipKey","sFinalTooltip","setTooltip","getErrorType","_ariaLabel","onAfterRendering","setTimeout","detachBrowserEvent","attachBrowserEvent","getSmartKpiConfig","getOverflowToolbarConfig","canOverflow","setShortDescription","bValue","removeStyleClass"],"sources":["SmartKpiTag-dbg.js"],"mappings":"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"}