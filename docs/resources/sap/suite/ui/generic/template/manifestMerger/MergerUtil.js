sap.ui.define(["sap/suite/ui/generic/template/genericUtilities/FeLogger","sap/base/util/includes"],function(e,r){"use strict";var t=new e("manifestMerger.MergerUil").getLogger();var a={iterateAndFind:function e(r,a,n,i,o){var p;if(Array.isArray(r)){throw new Error("Manifest should have sap.ui.generic.app.pages as Object structure and not array ")}for(var d in r){if(d==="entitySet"&&r.entitySet===a){if(r.component&&r.component.name===n){if(r.pages){var s=Object.keys(r.pages);f(s)}t.info(r);return r}}else if(typeof r[d]==="object"&&!Array.isArray(r[d])){if(p){break}if(d==="pages"||o==="pages"){p=e(r[d],a,n,i,d)}}else if(d==="pages"&&Array.isArray(r[d])){throw new Error("Manifest should have sap.ui.generic.app.pages as Object structure and not array ")}}function f(e){if(e.length){e.filter(function(e){if(e===i){throw new Error("Adding duplicate pageKey "+i+" is not supported.")}})}}return p},consistencyCheck:function(e,t,a){if(!e["parentPage"]){throw new Error("Mandatory 'parentPage' parameter is not provided.")}if(!e.parentPage.entitySet){throw new Error("Mandatory 'parentPage.entitySet' parameter is not provided.")}if(!e.parentPage.component){throw new Error("Mandatory 'parentPage.component' parameter is not provided.")}if(t==="ADD"){if(!e.childPage.id){throw new Error(" Add mandatory parameter 'childPage.id' ")}if(!e.childPage.definition){throw new Error("Mandatory 'childPageDefinition' are not provided. Add 'childPage.definition' to add the new page. ")}var n=Object.keys(e.childPage.definition);n.forEach(function(e){if(!r(a,e)){throw new Error("Changing "+e+" is not supported. The supported 'propertyPath' is: "+a.join(","))}});var i=a.filter(function(e){return!r(n,e)});if(i.length){throw new Error("Mandatory parameter "+i+" is not defined.")}}else if(t==="MODIFY"){if(!e.entityPropertyChange){throw new Error('Changes for "'+e["pageId"]+'" are not provided.')}else{var o=e.entityPropertyChange;if(!o.propertyPath){throw new Error("Invalid change format: The mandatory 'propertyPath' is not defined. Please define the mandatory property 'propertyPath'")}if(!o.operation||o.operation!=="UPSERT"){throw new Error("Invalid change format: The mandatory 'operation' is not defined or is not valid type. Please define the mandatory property 'operation' with type 'UPSERT")}if(!o.propertyValue){throw new Error("Invalid change format: The mandatory 'propertyValue' is not defined. Please define the mandatory property 'propertyValue'")}}}}};return a});
//# sourceMappingURL=MergerUtil.js.map