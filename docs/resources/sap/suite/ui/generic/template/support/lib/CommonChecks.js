sap.ui.define(["sap/suite/ui/generic/template/support/lib/CommonMethods","sap/ui/Global","sap/suite/ui/generic/template/genericUtilities/polyFill"],function(e){"use strict";var t={UNKNOWN:"Unknown",LISTREPORT:"sap.suite.ui.generic.template.ListReport",ANALYTICALLISTPAGE:"sap.suite.ui.generic.template.AnalyticalListPage",OVERVIEWPAGE:"sap.ovp"};var n={UNKNOWN:"CA-UI5-ST",LISTREPORT:"CA-UI5-ST",ANALYTICALLISTPAGE:"CA-UI5-ST-ALP",OVERVIEWPAGE:"CA-UI5-ST-OVP"};function r(){return sap.ui.getVersionInfo()}function i(e){return e&&e["sap.app"]&&e["sap.app"].ach?e["sap.app"].ach:""}function a(e){if(e&&e["sap.app"]&&e["sap.app"].id){if(e["sap.app"].id==="${project"+".artifactId}"){return u()}return e["sap.app"].id}return""}function p(e){return e&&e["sap.fiori"]&&e["sap.fiori"].registrationIds&&e["sap.fiori"].registrationIds.length>0?e["sap.fiori"].registrationIds:[]}function o(e,t){for(var n=0;n<e.length;n++){if(e[n]&&e[n].id&&e[n].id.indexOf(t)!==-1){return e[n].id.split("::")[0]}}return""}function s(){var t=document.querySelectorAll(".sapUiXMLView"),n=document.querySelectorAll(".ovpWrapper"),r="::sap.suite.ui.generic.template",i;if(n&&n.length&&n.length>0){t=[];n.forEach(function(e){if(e.closest(".sapUiXMLView")){t.push(e.closest(".sapUiXMLView"))}});if(t&&t.length&&t.length>0&&t[0]&&t[0].id&&sap.ui.getCore().byId(t[0].id)&&sap.ui.getCore().byId(t[0].id).getController()&&sap.ui.getCore().byId(t[0].id).getController().getOwnerComponent()&&sap.ui.getCore().byId(t[0].id).getController().getOwnerComponent().getMetadata()&&sap.ui.getCore().byId(t[0].id).getController().getOwnerComponent().getMetadata().getManifest()){i=sap.ui.getCore().byId(t[0].id).getController().getOwnerComponent().getMetadata().getManifest()}else{return undefined}}else if(t&&t.length&&t.length>0){for(var a=0;a<t.length;a++){if(t[a].id.indexOf(r)!==-1){if(sap.ui.getCore().byId(t[a].id)&&sap.ui.getCore().byId(t[a].id).getController()&&sap.ui.getCore().byId(t[a].id).getController().getOwnerComponent()&&sap.ui.getCore().byId(t[a].id).getController().getOwnerComponent().getAppComponent()&&sap.ui.getCore().byId(t[a].id).getController().getOwnerComponent().getAppComponent().getMetadata()&&sap.ui.getCore().byId(t[a].id).getController().getOwnerComponent().getAppComponent().getMetadata().getManifest()){i=sap.ui.getCore().byId(t[a].id).getController().getOwnerComponent().getAppComponent().getMetadata().getManifest();break}}}if(!i||!e.hasObjectContent(i)){return undefined}if(i&&e.hasObjectContent(i)&&i["sap.app"]&&i["sap.app"].id&&i["sap.app"].id==="${project"+".artifactId}"){i["sap.app"].id=o(t,r)}}else{return undefined}return i}function u(){var t=s(),n,r,i="::sap.suite.ui.generic.template";if(t&&e.hasObjectContent(t)&&t["sap.app"]&&t["sap.app"].id){n=document.querySelectorAll(".sapUiXMLView");r=document.querySelectorAll(".ovpWrapper");if(r&&r.length&&r.length>0){n=[];r.forEach(function(e){if(e.closest(".sapUiXMLView")){n.push(e.closest(".sapUiXMLView"))}})}if(n&&n.length&&n.length>0){return o(n,i)}}return""}function f(e){if(!e){return""}return sap.ui.require.toUrl(e)+"/manifest.json"}function l(e,t,n){if(!e||!n){return""}if(n.indexOf("./")===0||n.indexOf("../")===0){if(!t){return""}return e+t.substring(0,t.lastIndexOf("/")+1)+n}if(n.indexOf("/")===0){return e+n}return""}function g(e){if(e){return e.replace("manifest.json","")}return""}function c(e){if(!e){return false}for(var n in t){if(!t.hasOwnProperty(n)){continue}if(t[n]===e){return true}}return false}function d(e){if(e===t.UNKNOWN){return n.UNKNOWN}else if(e===t.LISTREPORT){return n.LISTREPORT}else if(e===t.ANALYTICALLISTPAGE){return n.ANALYTICALLISTPAGE}else if(e===t.OVERVIEWPAGE){return n.OVERVIEWPAGE}else{return n.UNKNOWN}}function C(e){return e&&e.hasOwnProperty("sap.ovp")&&Object.keys(e["sap.ovp"]).length!==0}function I(e){if(!(e&&e["sap.ui.generic.app"]&&e["sap.ui.generic.app"].pages&&e["sap.ui.generic.app"].pages!==[])){return false}var t=e["sap.ui.generic.app"].pages;for(var n in t){if(t.hasOwnProperty(n)){if(t[n]&&t[n].component&&t[n].component.name&&t[n].component.name==="sap.suite.ui.generic.template.ListReport"){return true}}}return false}function A(e){if(!(e&&e["sap.ui.generic.app"]&&e["sap.ui.generic.app"].pages&&e["sap.ui.generic.app"].pages!==[])){return false}var t=e["sap.ui.generic.app"].pages;for(var n in t){if(t.hasOwnProperty(n)){if(t[n]&&t[n].component&&t[n].component.name&&t[n].component.name==="sap.suite.ui.generic.template.AnalyticalListPage"){return true}}}return false}function m(e){if(e){if(C(e)){return t.OVERVIEWPAGE}else if(I(e)){return t.LISTREPORT}else if(A(e)){return t.ANALYTICALLISTPAGE}}return t.UNKNOWN}function O(){return C(s())}function y(){return I(s())}function L(){return A(s())}function E(){var e=s();if(C(e)){return t.OVERVIEWPAGE}else if(I(e)){return t.LISTREPORT}else if(A(e)){return t.ANALYTICALLISTPAGE}return t.UNKNOWN}return{mFloorplans:t,mTicketComponents:n,getUI5VersionInfo:r,getApplicationComponentByManifest:i,getApplicationIDByManifest:a,getRegistrationIDsByManifest:p,getComponentIDByStructure:u,getManifestByStructure:s,getManifestPath:f,getManifestURL:l,getRootPath:g,isValidFloorplan:c,getTicketComponentForFloorplan:d,isOverviewPageByManifest:C,isListReportByManifest:I,isAnalyticalListPageByManifest:A,getFloorplanByManifest:m,isOverviewPageByStructure:O,isListReportByStructure:y,isAnalyticalListPageByStructure:L,getFloorplanByStructure:E}});
//# sourceMappingURL=CommonChecks.js.map