sap.ui.define(["sap/suite/ui/generic/template/js/AnnotationHelper","sap/ui/Device"],function(e,t){"use strict";function i(e){if(!e.startsWith("{")){return e}if(e.startsWith("{=")){var t=e.slice(2,-1).trim();return t.indexOf(" ")<0?t:"("+t+")"}return"$"+e}function r(e,t,r,n){var a=false;var o=t.filter(function(e){a=a||e===n;return e!==""&&e!==r});if(a){return n}if(o.length===0){return r}if(o.length===1&&o[0].indexOf("${")<0){return o[0]}return"{= "+o.map(i).join(" "+e+" ")+" }"}function n(){return r("&&",Array.from(arguments),"true","false")}function a(t,i,r,n,a){var o=r&&r[n];var l=o&&o.Path;if(l){e._actionControlExpand(t,l,i.entityType);return"{= !!${"+a.specificModelName+">"+l+"}}"}return""}function o(t,i,r,n){var a=r&&r[n];var o=a&&a.Path;if(o){e._actionControlExpand(t,o,i.entityType);return"!!${"+o+"}"}return""}function l(e,i,r){var n=!i.isDraft&&i.children.length&&!t.system.phone&&e.getFlexibleColumnLayout();if(n&&i.fCLLevel<(n.maxColumnsCount||3)-1){return"${_templPrivGlobal>/generic/FCL/highestViewLevel} === "+i.level}if(r==="Edit"&&i.isDraft&&i.level>1&&e.getFlexibleColumnLayout()){return"${_templPrivGlobal>/generic/FCL/isVisuallyFullScreen}"}return""}function u(t,i,r,n,a,o){var l=o&&a.some(function(i){if(i.level>0){var r=i.entitySetDefinition;var a=r&&r["Org.OData.Capabilities.V1.UpdateRestrictions"];var o=e.areBooleanRestrictionsValidAndPossible(t,a,r,"Updatable",undefined,n);return a&&!o}});return!l&&e.areBooleanRestrictionsValidAndPossible(t,i,r,"Updatable",undefined,n)}u.requiresIContext=true;function s(t,i,r,u,s,f){var c="!${ui>/editable}";var v="";if(s.isDraft&&s.level===1){v="!${DraftAdministrativeData/DraftIsCreatedByMe}";e.formatWithExpandSimple(t,{Path:"DraftAdministrativeData/DraftIsCreatedByMe"},r)}var d=l(u,s,"Edit");var p=o(t,r,i,"Updatable");var m=[],b="";if(s.isDraft){f.forEach(function(e){if(e.level>0){var i=e.entitySetDefinition;var r=i&&i["Org.OData.Capabilities.V1.UpdateRestrictions"];m.push(a(t,i,r,"Updatable",e));if(e.level===1){v="!${"+e.specificModelName+">DraftAdministrativeData/DraftIsCreatedByMe}"}}});b=n.apply(null,m)}return n(c,v,d,p,b)}s.requiresIContext=true;function f(e,t,i,r,a){var u;if(a.isDraft){u=a.level===1?"!${ui>/editable}":"{ui>/editable}"}else{u="!${ui>/createMode}"}var s=l(r,a,"Delete");var f=o(e,i,t,"Deletable");return n(u,s,f)}f.requiresIContext=true;function c(e){return!e||"{path: '"+e+"'}"}function v(e,t){var i=e.Action.String;var r=e.InvocationGrouping&&e.InvocationGrouping.EnumMember||"";var n=e["com.sap.vocabularies.UI.v1.IsCopyAction"]&&e["com.sap.vocabularies.UI.v1.IsCopyAction"].Bool==="true"||false;return"._templateEventHandlers.onCallAction('"+i+"', '"+t+"', '"+r+"', "+n+")"}function d(t,i,r,a,o){var l=o?"":"!${ui>/createMode}";var u="";if(a["com.sap.vocabularies.UI.v1.Hidden"]){var s=e.getBindingForHiddenPath(a);u=s.toString()}else if(i){e._actionControlExpand(t,i,r);u="{"+i+"}"}return n(l,u)}d.requiresIContext=true;return{isEditButtonRequired:u,getEditActionButtonVisibility:s,getDeleteActionButtonVisibility:f,getActionControlBreakoutVisibility:c,getCallAction:v,getDatafieldForActionVisibility:d}},true);
//# sourceMappingURL=AnnotationHelperActionButtons.js.map