sap.ui.define(["sap/suite/ui/generic/template/genericUtilities/FeError"],function(r){"use strict";var e=0;var t;var n={};var i=0;var o={};var u=[];var a="genericUtilities.testableHelper";function l(r){return function(t){if(e>=0){return null}var n=r.log||[];for(var i=0;i<n.length;i++){var o=n[i];if(o.me===t){return o.args}}}}function s(r){delete r.replace;delete r.observer;if(r.log){if(r.isStatic){var e=[];for(var t=0;t<r.log.length;t++){var n=r.log[t];if(n.testMode===0){e.push(n)}}if(e.length>0){r.log=e}else{delete r.log}}else{delete r.log}}}function f(){u.forEach(s)}function c(r,t){var n;for(var i=0;i<u.length;i++){n=u[i];if(n.fnConstructor===r){n.isStatic=n.isStatic||t;return n}}n={fnConstructor:r,isStatic:t};n.observable=function(){var t=n.replace?n.observer:r;var i=Object.create(t.prototype);i=t.apply(i,arguments)||i;if(e<0||e===0&&n.isStatic){var o={me:i,args:arguments,testMode:e};n.log=n.log||[];n.log.push(o);if(n.observer&&!n.replace){n.observer(i,arguments)}}return i};u.push(n);return n}return{startTest:function(){if(e!==0){return null}e=-1;t={};return t},endTest:function(){if(e<0){e=0;t=null;f()}},startApp:function(){if(e<0){return{}}e++;i++;var r={id:i};n[i]=r;return r},endApp:function(r){if(e>0){var t=r.id;if(r===n[t]){e--;delete n[t]}}},testable:function(r,n){if(e===-1){t[n]=t[n]||r;return function(){return t[n].apply(null,arguments)}}return r},testableStatic:function(r,t){if(e>0||e===0&&o[t]){return r}o[t]=o[t]||r;return function(){return o[t].apply(null,arguments)}},getStaticStub:function(){return e===-1&&o},observableConstructor:function(r,t){if(e>0){return r}return c(r,t).observable},observeConstructor:function(t,n,i){if(e>=0){return null}var o=c(t);if(n&&o.observer){throw new r(a,"Constructor is already observed")}o.observer=n;o.replace=n&&i;return l(o)}}});
//# sourceMappingURL=testableHelper.js.map