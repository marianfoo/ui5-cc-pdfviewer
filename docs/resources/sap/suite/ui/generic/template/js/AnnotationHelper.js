sap.ui.define(["sap/ui/model/odata/AnnotationHelper","sap/ui/comp/smartfield/SmartField","sap/suite/ui/generic/template/genericUtilities/FeLogger","sap/base/strings/formatMessage","sap/base/util/deepExtend","sap/suite/ui/generic/template/js/RuntimeFormatters","sap/suite/ui/generic/template/js/StableIdHelper","sap/suite/ui/generic/template/genericUtilities/testableHelper","sap/ui/Device","sap/m/library","sap/ui/core/library","sap/ui/core/IconPool","sap/ui/core/ValueState","sap/suite/ui/generic/template/genericUtilities/metadataAnalyser"],function(e,t,a,r,i,n,o,l,s,u,c,f,p,g){"use strict";var v=new a("js.AnnotationHelper").getLogger();function d(e){v.error("Error creating stable id for facet with RecordType: "+e.RecordType+" and Target: "+(e.Target&&e.Target.AnnotationPath));var t=new Uint32Array(1),a=Math.pow(2,32);var r=window.crypto||window.msCrypto;var i=r&&r.getRandomValues(t)[0]/a;return Math.floor(i*99999+1).toString()}function m(){return"${_templPrivGlobal>/generic/isTeamsModeActive} || !${_templPrivGlobal>/generic/shareControlVisibility}"}function y(e,t){var a=false;if(e["Org.OData.Capabilities.V1.SortRestrictions"]&&e["Org.OData.Capabilities.V1.SortRestrictions"].NonSortableProperties){var r=e["Org.OData.Capabilities.V1.SortRestrictions"].NonSortableProperties;for(var i=r.length-1;i>=0;i--){if(r[i].PropertyPath===t){a=true;break}}}var n=false;if(e["Org.OData.Capabilities.V1.FilterRestrictions"]){if(e["Org.OData.Capabilities.V1.FilterRestrictions"].Filterable!=="false"){if(e["Org.OData.Capabilities.V1.FilterRestrictions"].NonFilterableProperties){var o=e["Org.OData.Capabilities.V1.FilterRestrictions"].NonFilterableProperties;for(var l=o.length-1;l>=0;l--){if(o[l].PropertyPath===t){n=true;break}}}}else{n=true}}var s={getFilterRestriction:function(){return n},getSortRestriction:function(){return a}};return s}function h(e,t){return!!(e.name&&t&&t.some(function(t){return e.name===t.entitySet}))}function P(e,t,a,r,i,n){var o=r?"":" && !${ui>/editable}";return"{= ${_templPriv>/generic/supportedIntents/"+e+"/"+t+"/"+a+"/supported}"+o+" ? "+i+" : "+n+"}"}function b(e,t,a,r,i){var n;if(a){n=a.split("/")[0]}if(e&&t){for(var o=0;o<t.length;o++){if(e===t[o].entitySet&&(!n||n===t[o].navigationProperty)&&t[o].navigation&&t[o].navigation[r]){if(i){if(t[o].component&&t[o].component.settings&&t[o].component.settings.hideChevronForUnauthorizedExtNav){return t[o].navigation[r].target}}else{return t[o].navigation[r].target}}}}return null}function I(e,t,a,r,i,n,o,l){var s=n?"1":"Navigation";var u=a["sap.ui.generic.app"].pages[0].component.settings&&a["sap.ui.generic.app"].pages[0].component.settings.editFlow;if(u==="direct"&&l){var c=E.getUpdateRestrictions(e);if(typeof c==="boolean"){return c?"Detail":"Inactive"}else{return"{= ${"+c+"}? 'Detail' : 'Inactive'}"}}if(o){return s}var f=n?"0":"Inactive";var p=n?"":"'";var g=b(e.name,t,r,"display",true);if(g){var v=a["sap.app"].crossNavigation.outbounds[g];var d=v.semanticObject;var m=v.action;var y=e.name+(r?"::"+r.split("/")[0]:"");return P(d,m,y,i,p+s+p,p+f+p)}if(h(e,t)){return i?s:"{= ${ui>/editable} ? "+p+f+p+" : "+p+s+p+" }"}return f}function T(e,t,a,r,i){return I(e,t,a,r,i,true)}function F(e,t,a){var r=a;var i=e.getODataEntityType(t);if(r.indexOf("/")>-1){var n=r.split("/");for(var o=0;o<n.length-1;o++){var l=e.getODataAssociationEnd(i,n[o]);i=e.getODataEntityType(l.type)}r=n[n.length-1]}var s=e.getODataProperty(i,r);return!!s&&s.type==="Edm.Boolean"}function C(e){while(!e.getEntitySet){e=e.getParent()}return e}function x(e){for(var t=0;t<e.length;t++){if(e[t].getKey()==="lineItemQualifier"){var a=e[t].getValue();if(a){return a}}}}function D(e,t){var a=t.getModel();var r=a.getMetaModel();var i=C(e.getParent());var n=r.getODataEntitySet(i.getEntitySet());var o=r.getODataEntityType(n.entityType);var l=i.getCustomData();var s=o["com.sap.vocabularies.UI.v1.LineItem"];var u=o["com.sap.vocabularies.UI.v1.LineItem@com.sap.vocabularies.UI.v1.Criticality"];var c=x(l);if(c){u=o["com.sap.vocabularies.UI.v1.LineItem#"+c+"@com.sap.vocabularies.UI.v1.Criticality"]}if(s&&u){if(u.Path){var f=u.Path;var p=t.getObject(f);if(p){switch(p.toString()){case"0":return"None";case"1":return"Error";case"2":return"Warning";case"3":return"Success"}}}else if(u.EnumMember){var g=u.EnumMember;if(g){switch(g){case"com.sap.vocabularies.UI.v1.CriticalityType/Neutral":return"None";case"com.sap.vocabularies.UI.v1.CriticalityType/Negative":return"Error";case"com.sap.vocabularies.UI.v1.CriticalityType/Critical":return"Warning";case"com.sap.vocabularies.UI.v1.CriticalityType/Positive":return"Success"}}}}return"None"}function A(e,t,a,r,i,n,o){var l=["com.sap.vocabularies.UI.v1.DataFieldWithIntentBasedNavigation","com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation","com.sap.vocabularies.UI.v1.DataFieldForAction","com.sap.vocabularies.UI.v1.DataFieldWithNavigationPath"];if(l.indexOf(t.RecordType)!==-1){if(t&&t.Value&&t.Value.Path){return O(a,t.Value.Path,n)}}else if(t.RecordType==="com.sap.vocabularies.UI.v1.DataFieldForAnnotation"){if(i.indexOf("com.sap.vocabularies.Communication.v1.Contact")>=0){return S(e,a,r,i,n,o)}else if(i.indexOf("com.sap.vocabularies.UI.v1.DataPoint")>=0){if(r&&r.Value&&r.Value.Path){return O(a,r.Value.Path,n)}}}}function S(e,t,a,r,i,n){var o="";var l=e.getInterface(0).getModel();if(l){var s=l.getODataEntityType(t.entityType);if(s){o=E._getNavigationPrefix(l,s,r)}if(a&&a.fn&&a.fn.Path){if(o){if(!n){var u=l.getODataAssociationSetEnd(s,o);if(u&&u.entitySet){t=l.getODataEntitySet(u.entitySet)}return O(t,a.fn.Path,i,o)}}else{return O(t,a.fn.Path,i,o)}}}}function O(e,t,a,r){var i=y(e,t);if(r){if(a){var n=i.getSortRestriction();if(!n){return r+"/"+t}}else{var o=i.getFilterRestriction();if(!o){return r+"/"+t}}}else{if(a){var n=i.getSortRestriction();if(!n){return t}}else{var o=i.getFilterRestriction();if(!o){return t}}}}var C=l.testableStatic(C,"AnnotationHelper_getSmartTableControl");var x=l.testableStatic(x,"AnnotationHelper_getLineItemQualifier");var E={formatMessage:r,getNewVariable:function(e){var t=e.getProperty();var a={set:function(e,t){e=typeof e==="object"?i({},e):e;if(t){a.value=a.value||{};a.value[t]=e}else{a.value=e}if(typeof a.value==="object"){i(a,a.value)}}};t.push(a);return"/variables/"+(t.length-1)},getMetaModelBinding:function(e){var t=e.getObject();var a=e.getObject("/metaModel");return t&&a.createBindingContext(t)},getBlockForEditableHeaderFacet:function(e,t){var a={controlProperties:{id:o.getStableId({type:"ObjectPageSection",subType:"SmartForm",sFacet:o.getStableId({type:"ObjectPage",subType:"EditableHeaderFacet",sRecordType:t.RecordType,sAnnotationPath:t.Target&&t.Target.AnnotationPath,sAnnotationId:t.ID&&t.ID.String})})},aggregations:{groups:[{metaModelPath:e.getPath()}]}};if(!t.Target){a.aggregations.groups=[]}return a},getBindingForHiddenPath:function(e){if(e["com.sap.vocabularies.UI.v1.Hidden"]){if(e["com.sap.vocabularies.UI.v1.Hidden"].hasOwnProperty("Path")){return"{= !${"+e["com.sap.vocabularies.UI.v1.Hidden"].Path+"} }"}else if(e["com.sap.vocabularies.UI.v1.Hidden"].hasOwnProperty("Bool")){if(e["com.sap.vocabularies.UI.v1.Hidden"].Bool==="true"){return false}else if(e["com.sap.vocabularies.UI.v1.Hidden"].Bool==="false"){return true}else{v.error(e["com.sap.vocabularies.UI.v1.Hidden"].Bool+" is not a boolean value");return true}}else{return false}}else{return true}},getVisibiltyBasedOnImportance:function(e){if(e["com.sap.vocabularies.UI.v1.Importance"]&&e["com.sap.vocabularies.UI.v1.Importance"].hasOwnProperty("EnumMember")){if(e["com.sap.vocabularies.UI.v1.Importance"].EnumMember==="com.sap.vocabularies.UI.v1.ImportanceType/High"){return true}else if(e["com.sap.vocabularies.UI.v1.Importance"].EnumMember==="com.sap.vocabularies.UI.v1.ImportanceType/Medium"&&(s.system.tablet||s.system.desktop)){return true}else if(s.system.desktop){return true}else{return false}}},getSeverityIconFromIconPool:function(e){switch(e){case p.Error:return f.getIconURI("error");case p.Warning:return f.getIconURI("alert");case p.Information:return f.getIconURI("information");case p.Success:return f.getIconURI("sys-enter-2");default:return""}},getIconColor:function(e){var t=sap.ui.core.IconColor;switch(e){case p.Error:return t.Negative;case p.Warning:return t.Critical;case p.Success:return t.Positive;default:return""}},getVisibilityBasedOnHeaderInfoContent:function(e){if(e){return this.getVisibiltyBasedOnImportance(e)}return false},getValueListReadOnly:function(e,t,a){var r=e.getInterface(1).getModel();var i=e.getInterface(1).getPath()+"/Value";var n=sap.ui.model.odata.AnnotationHelper.resolvePath(r.getContext(i));var o=r.getObject(n);if(o["com.sap.vocabularies.UI.v1.TextArrangement"]){return o["com.sap.vocabularies.UI.v1.TextArrangement"].EnumMember!=="com.sap.vocabularies.UI.v1.TextArrangementType/TextSeparate"}else if(o["com.sap.vocabularies.Common.v1.Text"]){return true}else{var l=r.getODataEntityType(t);if(l["com.sap.vocabularies.UI.v1.TextArrangement"]){return l["com.sap.vocabularies.UI.v1.TextArrangement"].EnumMember!=="com.sap.vocabularies.UI.v1.TextArrangementType/TextSeparate"}}},getImportanceForTableColumns:function(e){return e["com.sap.vocabularies.UI.v1.Importance"]&&e["com.sap.vocabularies.UI.v1.Importance"].EnumMember&&e["com.sap.vocabularies.UI.v1.Importance"].EnumMember.split("/")[1]||c.Priority.None},getImportanceForTableColumnsWithSemanticKeyTitleAndDescription:function(e,t,a){var r=a&&a.Value;var i=E.getImportanceForTableColumns(a);if(!a["com.sap.vocabularies.UI.v1.Importance"]&&E.isPropertySemanticKey(e,t,r)){return c.Priority.High}return i},getCustomDataForContactPopup:function(e){return JSON.stringify(e).replace(/\}/g,"\\}").replace(/\{/g,"\\{")},renderColumnForConnectedFields:function(e){var t=function(e){return(e.RecordType==="com.sap.vocabularies.UI.v1.DataFieldForAction"||e.RecordType==="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation")&&!(e.Inline&&e.Inline.Bool==="true")};if(e.length){if(!e.every(t)){return"true"}else{return"false"}}else{return"false"}},renderColumnHeader:function(e){var t=function(e){return e.RecordType==="com.sap.vocabularies.UI.v1.DataFieldForAction"||e.RecordType==="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation"};if(e.length){if(e.every(t)){return"true"}else{return"false"}}},createP13NColumnForConnectedFields:function(e,t,a,r){var i="",n="",o={},l={},s=[],u;var c=e.getInterface(0);var f=e.getInterface(1).getModel();var p=[];var g=[];var v=[];var d="false";r=r&&r.Data;for(var m=0;m<r.length;m++){var y=r[m];f=e.getInterface(0).getModel();l=f.getODataEntityType(f.getContext(e.getInterface(0).getPath()).getObject().entityType);var h;if(y.RecordType==="com.sap.vocabularies.UI.v1.DataFieldForAnnotation"){if(y.Target.AnnotationPath.indexOf("/")>0){var P=y.Target.AnnotationPath.split("/")[0];var b=y.Target.AnnotationPath.split("/")[1].split("@")[1];l=f.getODataEntityType(f.getODataAssociationEnd(l,P).type);h=l[b]}else{h=l[y.Target.AnnotationPath.split("@")[1]]}}if((y.RecordType==="com.sap.vocabularies.UI.v1.DataFieldForAction"||y.RecordType==="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation")&&y.Inline&&y.Inline.Bool==="true"||y.RecordType==="com.sap.vocabularies.UI.v1.DataFieldWithIntentBasedNavigation"||y.RecordType==="com.sap.vocabularies.UI.v1.DataFieldWithNavigationPath"){i=E.createP13NColumnForAction(c,y)}else if(y.RecordType==="com.sap.vocabularies.UI.v1.DataField"){var I=E.getRelevantDataForAnnotationRecord(f,y.Value.Path,l);l=I.entityType;var T=I.dataFieldValuePath;s=l&&l.property||[];var F;for(var C=0;C<s.length;C++){if(s[C].name===T){F=s[C];break}}i=E.createP13N(e,t,F,y)}else if(y.RecordType==="com.sap.vocabularies.UI.v1.DataFieldForAnnotation"){if(y.Target.AnnotationPath.indexOf("com.sap.vocabularies.Communication.v1.Contact")>=0){i=E.createP13NColumnForContactPopUp(e,t,y,h,y.Target.AnnotationPath)}else if(y.Target.AnnotationPath.indexOf("com.sap.vocabularies.UI.v1.Chart")>=0){i=E.createP13NColumnForChart(e,t,y,h,y.Target.AnnotationPath)}else if(h.Visualization){i=E.createP13NColumnForIndicator(e,t,y,h,h.Value,y.Target.AnnotationPath)}}if(i){o=JSON.parse(i.replace(/\\/g,""))}if(!p.length&&o.leadingProperty){p.push(o.leadingProperty)}else{o.leadingProperty&&v.indexOf(o.leadingProperty)===-1?v.push(o.leadingProperty):Function.prototype}o.navigationProperty&&g.indexOf(o.navigationProperty)===-1?g.push(o.navigationProperty):Function.prototype;o.additionalProperty&&v.indexOf(o.additionalProperty)===-1?v.push(o.additionalProperty):Function.prototype;if(d==="false"){d=o.actionButton}}i="";n=E.createP13NColumnKey(a);u=E._determineColumnIndex(e.getInterface(1));i='\\{"columnKey":"'+n;i+='", "columnIndex":"'+u;i+='", "sortProperty":"'+"";i+='", "filterProperty":"'+"";if(p.length>0){i+='", "leadingProperty":"'+p.join()}if(g.length>0){i+='", "navigationProperty":"'+g.join()}if(v.length>0){i+='", "additionalProperty":"'+v.join()}i+='", "actionButton":"'+d+'"';i+=" \\}";return i},getDefaultWidthForTableColumn:function(e,t,a,r,i,n){var o=e.getModel(0);var l=o.getODataEntityType(r.entityType);var s=E.getDefaultWidthBasedOnAnnotation(a,n);if(s){return s}else if(t&&E.isImageUrl(t)){return"5rem"}else if(a.RecordType==="com.sap.vocabularies.UI.v1.DataFieldForAction"||a.RecordType==="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation"){return"15rem"}else if(i&&i.indexOf("com.sap.vocabularies.UI.v1.Chart")>-1){return"20rem"}else if(t&&t.Visualization){return"6.875rem"}else if(i&&i.indexOf("com.sap.vocabularies.Communication.v1.Contact")>-1){var l=o.getODataAssociationEnd(l,i.split("/")[0]).type;t=o.getODataProperty(o.getODataEntityType(l),t.fn.Path)}var u=a&&a.Value&&a.Value.Path;if(u&&u.indexOf("/")>-1){var c;while(u.indexOf("/")>-1){var f=u.split("/")[0];u=u.split("/").slice(1).join("/");c=o.getODataAssociationEnd(l,f);l=o.getODataEntityType(c&&c.type)||l}r=l}t=t&&E.getPropertyNameForText(e,t,r);s=t&&t.maxLength&&parseInt(t.maxLength,10)+1;if(s){if(s>=20){return"20rem"}else if(s<=3){return"3rem"}else{return s+"rem"}}return"auto"},getColumnWidthForConnectedFields:function(e,t,a,r){var i=0;var n=e.getInterface(0).getModel();for(var o=0;o<t.length;o++){if(t[o].Value&&t[o].Value.Path){var l=n.getODataProperty(n.getODataEntityType(a.entityType),t[o].Value.Path);var s=E.getDefaultWidthForTableColumn(e,l,t[o],a,undefined,r)}else{var u=n.getContext(e.getInterface(0).getPath()+"/"+o+"/Target");var c=sap.ui.model.odata.AnnotationHelper.resolvePath(u);var l=n.getObject(c);var f=t[o]&&t[o].Target&&t[o].Target.AnnotationPath;var s=E.getDefaultWidthForTableColumn(e,l,t[o],a,f,r)}if(s==="auto"){continue}s=parseFloat(s.split("rem",1));if(s>i){i=s}}return i===0?"auto":i+"rem"},setValidationForValueList:function(e){return e&&e["com.sap.vocabularies.Common.v1.ValueListForValidation"]!==undefined?"ValueList":"ValueListNoValidation"},getPropertyNameForText:function(e,t,a){var r=t["sap:text"];if(r){var i=e.getModel(0);var n=i.getODataEntityType(a.entityType);var o;if(r.indexOf("/")>-1){while(r.indexOf("/")>-1){var l=r.split("/")[0];r=r.split("/").slice(1).join("/");o=i.getODataAssociationEnd(n,l);n=i.getODataEntityType(o&&o.type)||n}}for(var s=0;s<=n.property.length;s++){if(n.property[s].name===r){t=n.property[s];break}}}return t},getDefaultWidthBasedOnAnnotation:function(e,t){if(t===false){return"auto"}else if(e&&e["com.sap.vocabularies.HTML5.v1.CssDefaults"]&&e["com.sap.vocabularies.HTML5.v1.CssDefaults"].width&&e["com.sap.vocabularies.HTML5.v1.CssDefaults"].width.String){return e["com.sap.vocabularies.HTML5.v1.CssDefaults"].width.String}else{return undefined}},getShareButtonVisibility:function(e,t){if(e){return"{= !("+m()+" || ${_templPrivGlobal>/generic/FCL/highestViewLevel} !== "+t+" || ${ui>/createMode}) }"}else{return"{= !("+m()+" || ${ui>/createMode})}"}},getShareOptionVisibility:function(e){if(e){return"{= !("+m()+" || ${_templPrivGlobal>/generic/FCL/highestViewLevel})}"}else{return"{= !("+m()+")}"}},tabItemHasPresentationVariant:function(e,t){var a=e[t];return!!(a&&(a.PresentationVariant||a.Visualizations||a.SortOrder))},getPresentationVariant:function(e,t){if(e.Visualizations||e.SortOrder){return e}else if(e.PresentationVariant&&(e.PresentationVariant.Path||e.PresentationVariant.AnnotationPath)){var a=e.PresentationVariant.Path||e.PresentationVariant.AnnotationPath;return t[a.replace("@","")]}else if(e.PresentationVariant){return E.getPresentationVariant(e.PresentationVariant)}},getPresentationVariantVisualisation:function(e,t){var a=e[t];var r=E.getPresentationVariant(a,e);if(r.Visualizations){return r.Visualizations[0].AnnotationPath.split("#")[1]}},getPresentationVariantSortOrder:function(e,t){var a=e[t];var r=E.getPresentationVariant(a,e);if(r.SortOrder){return E.getSortOrder(r.SortOrder)}},getSmartTableId:function(e){var t=E.getSuffixFromIconTabFilterKey(e);var a="listReport";if(t){a=a.concat(t)}return a},getAnalyticalTableId:function(e){var t=E.getSuffixFromIconTabFilterKey(e);var a="analyticalTable";if(t){a=a.concat(t)}return a},getGridTableId:function(e){var t=E.getSuffixFromIconTabFilterKey(e);var a="GridTable";if(t){a=a.concat(t)}return a},getTreeTableId:function(e){var t=E.getSuffixFromIconTabFilterKey(e);var a="TreeTable";if(t){a=a.concat(t)}return a},getRowActionsId:function(e){var t=E.getSuffixFromIconTabFilterKey(e);var a="rowActions";if(t){a=a.concat(t)}return a},getResponsiveTableId:function(e){var t=E.getSuffixFromIconTabFilterKey(e);var a="responsiveTable";if(t){a=a.concat(t)}return a},getAddEntryId:function(e){var t=E.getSuffixFromIconTabFilterKey(e);var a="addEntry";if(t){a=a.concat(t)}return a},getDeleteEntryId:function(e){var t=E.getSuffixFromIconTabFilterKey(e);var a="deleteEntry";if(t){a=a.concat(t)}return a},getShowDetailsId:function(e){var t=E.getSuffixFromIconTabFilterKey(e);var a="showDetails";if(t){a=a.concat(t)}return a},getDraftObjectMarkerId:function(e){var t=E.getSuffixFromIconTabFilterKey(e);var a="DraftObjectMarker";if(t){a=a.concat(t)}return a},getBreakoutActionButtonId:function(e,t){if(e.id){var a=E.getSuffixFromIconTabFilterKey(t);var r=e.id;if(a){r=r.concat(a)}return r}},getIconTabFilterKey:function(e){if(e){if(e.key){return e.key}else{return E.replaceSpecialCharsInId(e.annotationPath)}}},getSuffixFromIconTabFilterKey:function(e){var t=E.getIconTabFilterKey(e);if(t){return"-".concat(t)}else{return""}},getVisibilityForRowActions:function(e,t){if(t.settings.editFlow==="direct"){var a=E.getUpdateRestrictions(e);if(typeof a==="boolean"){return a}else{return"{= ${"+a+"}}"}}else{return true}},getIconTabFilterText:function(e,t,a){var r,i,n,o,l,s,u,c;if(a){var f=a.AnnotationPath;var p=f&&f.substring(0,f.indexOf("/"));r=e.getInterface(0).getModel();i=r.getData();n=i.metaModel;u=n.getODataEntityType(i.entityType);c=n.getODataAssociationEnd(u,p);s=n.getODataEntityType(c.type)}else{r=e.getModel();i=r.getData();n=i.metaModel;if(!!t.entitySet){o=n.getODataEntitySet(t.entitySet);l=o.entityType}else{l=i.entityType}s=n.getODataEntityType(l)}var g=s[t.annotationPath];if(g&&g.Text){return g.Text.String}},getAltTextForImage:function(e){if(e["com.sap.vocabularies.Common.v1.Text"]){return e["com.sap.vocabularies.Common.v1.Text"].String}},getActionButtonVisibility:function(e,t){var a=t["Action"]&&t["Action"].String;a=a&&a.split("/")[1];if(a){var r=e.getModel().getODataFunctionImport(a)}return!!r},isGroupFacetTitleRequired:function(e,t){if(e.annotations.Facet.annotation.Facets.length===1){return e.annotations.Facet.annotation.Label.String!==t.String}return true},buildAnnotatedActionButtonEnablementExpression:function(e,t,a,r,i,n,o){var l,s,u,c;u=t&&t.Action&&t.Action.String;if(u){s=E.getStableIdPartForDatafieldActionButton(t,a,n,o);if(t.RecordType==="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation"){if(t.RequiresContext&&t.RequiresContext.Bool==="true"){return"{= !!${_templPriv>/generic/controlProperties/"+s+"/enabled}}"}}else if(t.RecordType==="com.sap.vocabularies.UI.v1.DataFieldForAction"){c=e.getInterface(0).getModel();l=c.getODataFunctionImport(u);if(!l){v.error("The function import "+u+" is not defined in the metadata. Buttons that call this function import will not behave as expected.");return false}else if(l["sap:action-for"]&&l["sap:action-for"].trim()){return"{= !!${_templPriv>/generic/controlProperties/"+s+"/enabled}}"}}return true}},buildActionButtonsCustomData:function(e,t,a,r,i,n){var o,l,s;var u=[];e=e.getInterface(0);l=e.getModel();if(t){for(var c=0;c<t.length;c++){o=t[c];s=null;if(o.RecordType==="com.sap.vocabularies.UI.v1.DataFieldForAnnotation"&&o.Target.AnnotationPath.indexOf("com.sap.vocabularies.UI.v1.FieldGroup")>=0){var f=l.getContext(e.getPath()+"/"+c+"/Target");var p=sap.ui.model.odata.AnnotationHelper.resolvePath(f);var g=l.getObject(p);if(g.Data&&g.Data.length>0){for(var v=0;v<g.Data.length;v++){s=E.generateAnnotatedActionCustomData(g.Data[v],a,i,n);if(s){u.push(s)}}}}else{s=E.generateAnnotatedActionCustomData(o,a,i,n);if(s){u.push(s)}}}}return btoa(JSON.stringify(u))},generateAnnotatedActionCustomData:function(e,t,a,r){var i;if((e.RecordType==="com.sap.vocabularies.UI.v1.DataFieldForAction"||e.RecordType==="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation")&&!(e.Inline&&e.Inline.Bool===true||e.Determining&&e.Determining.Bool===true)&&(e.Action&&(e.Action.String||e.Action.Path))){i=E.getStableIdPartForDatafieldActionButton(e,t,a,r);return{ID:i,RecordType:e.RecordType,Action:e.Action&&(e.Action.String||e.Action.Path)}}},getLabelForDFwithIBN:function(e,t,a,r){var i,n,o,l,s,u;if(t.Label){return t.Label.String}else{i=e.getInterface(0).getModel();if(i&&a){if(r&&r.Target&&r.Target.AnnotationPath){n=E.getTargetEntitySet(i,a,r.Target.AnnotationPath);o=i.getODataEntityType(n.entityType)}else{o=i.getODataEntityType(a.entityType)}if(t.Value&&t.Value.Path||t.IconUrl&&t.IconUrl.Path){u=t.Value&&t.Value.Path?t.Value.Path:t.IconUrl.Path;l=i.getODataProperty(o,u);s=(l["com.sap.vocabularies.Common.v1.Label"]||"").String||"";return s}}}},getLinkTextForDFwithIBN:function(e,t,a,r){var i,n,o,l;var s=e.getInterface(0).getModel();if(s&&a){if(r&&r.Target&&r.Target.AnnotationPath){n=E.getTargetEntitySet(s,a,r.Target.AnnotationPath);i=s.getODataEntityType(n.entityType)}else{i=s.getODataEntityType(a.entityType)}if(t.Value&&t.Value.Path){o=s.getODataProperty(i,t.Value.Path)||{};l=(o["com.sap.vocabularies.Common.v1.Text"]||t.Value).Path||"";return"{"+l+"}"}}},getTargetEntitySet:function(e,t,a){var r,i,n,o;r=a.split("/");if(r.length>1){i=r[0]}if(i){n=e.getODataEntityType(t.entityType);o=e.getODataAssociationSetEnd(n,i);if(o&&o.entitySet){return e.getODataEntitySet(o.entitySet)}}return t},getApplicablePathForChartToolbarActions:function(e,t,a){var r=e.getInterface(0).getModel();var i=r.getODataEntityType(a);var n=t&&t.Actions||[];var o,l,s,u=[],c=[],f;for(var p=0;p<n.length;p++){if(n[p].RecordType==="com.sap.vocabularies.UI.v1.DataFieldForAction"&&(!n[p].Inline||n[p].Inline.Bool!=="true")&&(!n[p].Determining||n[p].Determining.Bool!=="true")){o=n[p].Action&&n[p].Action.String;l=r.getODataFunctionImport(o);if(l){u.push(l)}}}for(var p=0;p<u.length;p++){l=u[p];if(l&&l["sap:action-for"]&&l["sap:action-for"]!==""&&l["sap:action-for"]!==" "&&l["sap:applicable-path"]&&l["sap:applicable-path"]!==""&&l["sap:applicable-path"]!==" "){f=l["sap:applicable-path"];s=r.getODataProperty(i,f);if(s&&s["sap:aggregation-role"]==="dimension"){c.push(f)}else{v.error("AnnotationHelper.js - method getApplicablePathForChartToolbarActions: the applicable-path "+f+" is either pointing to an entity type property which doesn't exist or does not have 'sap:aggregation-role' set to to 'dimension'.")}}}if(c.length>0){return c.join()}},formatSmartField:function(t,a){var r={Path:a.path};return e.simplePath(t.getModel()?t:t.getInterface(0),r)},buildBreadCrumbExpression:function(e,t){var a=t.entityTypeDefinition&&t.entityTypeDefinition["com.sap.vocabularies.UI.v1.HeaderInfo"];var r=a&&a.Title&&a.Title.Value;var i=r&&sap.ui.model.odata.AnnotationHelper.format(e,r);var n=a&&a.TypeName;if(r&&r.Path&&n&&n.String){var o=n.String.replace(/'/g,"\\'");var l="{= $"+i+" || '"+o+"' }";return l}return i||n&&n.String||t.headerTitle},buildRatingIndicatorSubtitleExpression:function(e){if(e){return"{parts: [{path: '"+e.Path+"'}], formatter: 'sap.suite.ui.generic.template.js.AnnotationHelper.formatRatingIndicatorSubTitle'}"}},formatRatingIndicatorSubTitle:function(e){if(e){var t=this.getModel("i18n").getResourceBundle();if(this.getCustomData().length>0){return t.getText("RATING_INDICATOR_SUBTITLE",[e,this.data("Subtitle")])}else{var a=e>1?t.getText("RATING_INDICATOR_SUBTITLE_LABEL_PLURAL"):t.getText("RATING_INDICATOR_SUBTITLE_LABEL");return t.getText("RATING_INDICATOR_SUBTITLE",[e,a])}}},buildRatingIndicatorFooterExpression:function(e,t){if(t){return"{parts: [{path: '"+e.Path+"'}, {path: '"+t.Path+"'}], formatter: 'sap.suite.ui.generic.template.js.AnnotationHelper.formatRatingIndicatorFooterText'}"}return"{parts: [{path: '"+e.Path+"'}], formatter: 'sap.suite.ui.generic.template.js.AnnotationHelper.formatRatingIndicatorFooterText'}"},formatRatingIndicatorFooterText:function(e,t){if(e){var a=this.getModel("i18n").getResourceBundle();if(t){return a.getText("RATING_INDICATOR_FOOTER",[e,t])}else if(this.getCustomData().length>0){return a.getText("RATING_INDICATOR_FOOTER",[e,this.data("Footer")])}else{var r=sap.m.RatingIndicator.getMetadata().getPropertyDefaults().maxValue;return a.getText("RATING_INDICATOR_FOOTER",[e,r])}}},buildRatingIndicatorAggregateCountExpression:function(e){return"{parts: [{path: '"+e.Path+"'}], formatter: 'sap.suite.ui.generic.template.js.AnnotationHelper.formatRatingIndicatorAggregateCount'}"},formatRatingIndicatorAggregateCount:function(e){var t=this.getModel("i18n").getResourceBundle();var a;if(e){a=t.getText("RATING_INDICATOR_AGGREGATE_COUNT",[e])}else if(this.getCustomData().length>0){a=t.getText("RATING_INDICATOR_AGGREGATE_COUNT",[this.data("AggregateCount")])}else{a=""}return a},getIdForMoreBlockContent:function(e){if(e["com.sap.vocabularies.UI.v1.PartOfPreview"]&&e["com.sap.vocabularies.UI.v1.PartOfPreview"].Bool==="false"){return"::MoreContent"}},checkMoreBlockContent:function(e){return E.checkFacetContent(e,false)},checkBlockContent:function(e){return E.checkFacetContent(e,true)},checkFacetContent:function(e,t){var a;var r=e.getInterface(0);var i=e.getModel().getProperty("",e);var n=e.getPath().split("/Facets");var o=r.getModel().getContext(n[0]);if(r.getModel().getProperty("",o).RecordType==="com.sap.vocabularies.UI.v1.ReferenceFacet"){return o.getPath()}else{if(!i){return}for(var l=0;l<i.length;l++){if(!t){if(i[l]["com.sap.vocabularies.UI.v1.PartOfPreview"]&&i[l]["com.sap.vocabularies.UI.v1.PartOfPreview"].Bool==="false"){a=r.getPath()+"/"+l;break}}else{if(i[l].RecordType!=="com.sap.vocabularies.UI.v1.ReferenceFacet"||(!i[l]["com.sap.vocabularies.UI.v1.PartOfPreview"]||i[l]["com.sap.vocabularies.UI.v1.PartOfPreview"].Bool==="true")){a=r.getPath()+"/"+l;break}}}}return a},isInlineMode:function(e,t,a){var r=t&&t[E.getStableIdPartFromFacet(e)];return!!(r&&r.createMode&&r.createMode===a)},isCreateButtonVisibleWithInlineCreationRows:function(e,t,a){return!(E.isInlineMode(e,t,"creationRows")&&a==="ResponsiveTable")},usesPreliminaryContext:function(e,t){var a=t[E.getStableIdPartFromFacet(e)];return!!(a&&a.preliminaryContext)},isInlineCreateSorting:function(e,t){var a=t&&t[E.getStableIdPartFromFacet(e)];return!!(a&&a.disableDefaultInlineCreateSort)},isImageUrl:function(e){var t=e["com.sap.vocabularies.UI.v1.IsImageURL"]||e["com.sap.vocabularies.UI.v1.IsImageUrl"];if(t&&t.Bool&&t.Bool==="false"){return false}else if(t){return true}return false},isPropertySemanticKey:function(e,t,a){var e=e.getInterface(0);var r=e.getModel();var i=r.getODataEntityType(t.entityType);if(i){var n=i["com.sap.vocabularies.Common.v1.SemanticKey"];if(n&&n.length>0){for(var o=0;o<n.length;o++){if(n[o].PropertyPath===a.Path){return true}}}}return false},_addFullPathToImageUrlIfNeeded:function(e,t){if(!e){return""}if(e.substring(0,1)==="/"||e.substring(0,11)==="sap-icon://"||e.substring(0,7)==="http://"||e.substring(0,8)==="https://"){return e}else{return sap.ui.require.toUrl(t.replace(/\./g,"/"))+"/"+e}},isDescriptionInHeaderInfo:function(e){if(e&&e.Description&&e.Description.Value){return true}return false},formatImageUrl:function(e,t,a,r){if(t&&(t.Path||t.Apply)&&r){E.formatWithExpandSimple(e,t)}if(t&&t.Path){return"{parts: [{path: '"+t.Path+"'}, {path: '_templPrivGlobal>/generic/appComponentName'}], formatter: 'sap.suite.ui.generic.template.js.AnnotationHelper.formatImageUrlRuntime'}"}else if(t&&t.String){return E._addFullPathToImageUrlIfNeeded(t.String,a)}else if(t&&t.Apply){t.Apply.Parameters[0].Value=E._addFullPathToImageUrlIfNeeded(t.Apply.Parameters[0].Value,a);return sap.ui.model.odata.AnnotationHelper.format(e,t)}else{return""}},hasImageUrl:function(e){if(e&&(e.Path||e.Apply||e.String)){return"sapSmartTemplatesObjectPageDynamicPageHeader sapSmartTemplatesObjectPageDynamicPageHeaderImageDiv"}else{return"sapSmartTemplatesObjectPageDynamicPageHeader"}},getAvatarInitials:function(e){return e.Path&&"{"+e.Path+"}"||e.String||""},hasImageUrlForHeaderTitle:function(e){if(e&&(e.Path||e.Apply||e.String)){return"sapSmartTemplatesObjectPageDynamicPageHeaderTitle sapSmartTemplatesObjectPageDynamicPageHeaderTitleWithImage sapSmartTemplatesObjectPageDynamicPageHeaderImageDiv"}else{return"sapSmartTemplatesObjectPageDynamicPageHeaderTitle sapSmartTemplatesObjectPageDynamicPageHeaderTitleWithoutImage"}},formatImageOrTypeUrl:function(e,t,a,r,i){var n=null;if(t){n=t}else{n=a}return E.formatImageUrl(e,n,r,i)},getPathWithExpandFromHeader:function(e,t,a,r,i){var n=[],o;if(r||i){var e=e.getInterface(0);var l=e.getModel();var s=l.getODataEntityType(t.entityType);var u=null;if(r){u=r}else{u=i}if(u&&u.Path&&s){var c=E._getNavigationPrefix(l,s,u.Path);if(c){n.push(c)}}}if(n.length>0){if(n.length>1){n=n.filter(function(e,t,a){return t==a.indexOf(e)})}o="{ path : '"+a+"', parameters : { expand : '"+n.join(",")+"'} }"}else{o="{ path : '"+a+"' }"}if(o==="{}"){o=""}return o},disableSemanticObjectLinksOnPopups:function(e,t){var a="";if(e&&e.ignoredFields&&t&&t.Value&&t.Value.Path){if(e.ignoredFields[t.Value.Path]){a=t.Value.Path}}return a},formatImageUrlRuntime:function(e,t){return E._addFullPathToImageUrlIfNeeded(e,t)},formatHeaderImage:function(e,t,a){if(t.ImageUrl){return E.formatImageUrl(e,t.ImageUrl,a,true)}else if(t.TypeImageUrl){return E.formatImageUrl(e,t.TypeImageUrl,a,true)}else{return""}},getPersistencyKeyForSmartTable:function(e){return"listReportFloorplanTable"},getPersistencyKeyForDynamicPageTitle:function(e){return"listReportDynamicPageTitle"},getCreateNavigationIntent:function(e,t,a){return b(e,t,a,"create")},getDisplayNavigationIntent:function(e,t,a){return b(e,t,a,"display")},extensionPointFragmentExists:function(e,t){var a=E.getStableIdPartFromFacet(e);if(a===t){return true}else{return false}},setAriaText:function(e,t,a){if(a.Path){return"{parts: [{path: '"+t+"'}, {path: '"+a.Path+"'}], formatter: 'sap.suite.ui.generic.template.js.AnnotationHelper.formatMessage'}"}a=sap.ui.model.odata.AnnotationHelper.format(e,a);return"{parts: [{path: '"+t+"'}, {value: '"+a+"'}], formatter: 'sap.suite.ui.generic.template.js.AnnotationHelper.formatMessage'}"},formatWithExpandSimple:function(e,t,a){if(!t){return""}var r=[],i,n;var o=e&&e.getModel&&e.getModel();if(!o){e=e.getInterface(0);o=e.getModel()}if(a){n=o.getODataEntityType(a.entityType)}else{var l=/^(\/dataServices\/schema\/\d+\/entityType\/\d+)(?:\/|$)/.exec(e.getPath());if(l&&l.length&&l[0]){var s=o.getProperty(l[0]);var u=o.getODataEntityContainer().namespace;n=o.getODataEntityType(u+"."+s.name)}}if(n){if(t&&t.Path){i=E._getNavigationPrefix(o,n,t.Path);if(i){r.push(i)}}else if(t&&t.Apply&&t.Apply.Name==="odata.concat"){t.Apply.Parameters.forEach(function(e){if(e.Type==="Path"){i=E._getNavigationPrefix(o,n,e.Value);if(i){if(r.indexOf(i)===-1){r.push(i)}}}})}if(r.length>0){var c=e.getSetting("preprocessorsData");if(c){var f=c.rootContextExpand||[];for(var p=0;p<r.length;p++){if(f.indexOf(r[p])===-1){f.push(r[p])}}c.rootContextExpand=f}}}return sap.ui.model.odata.AnnotationHelper.format(e,t)},formatWithExpandSimplePath:function(e,t,a,r){E.getNavigationPathWithExpand(e,t,a);e=e.getInterface(0);if(!!(r&&r.NumberOfFractionalDigits&&r.NumberOfFractionalDigits.Int)){var i={};i.path=t.Path;i.type="sap.ui.model.odata.type.Decimal";i.constraints={scale:r.NumberOfFractionalDigits.Int};return JSON.stringify(i)}E.formatWithExpandSimple(e,t,a);return sap.ui.model.odata.AnnotationHelper.simplePath(e,t)},formatWithExpand:function(e,t,a){E.getNavigationPathWithExpand(e,t,a);e=e.getInterface(0);E.formatWithExpandSimple(e,t,a);return sap.ui.model.odata.AnnotationHelper.format(e,t)},_getNavigationPrefix:function(e,t,a){var r="";var i=a.split("/");if(i.length>1){for(var n=0;n<i.length-1;n++){var o=e.getODataAssociationEnd(t,i[n]);if(o){t=e.getODataEntityType(o.type);if(r){r=r+"/"}r=r+i[n]}else{return r}}}return r},getCurrentPathWithExpand:function(e,t,a,r){e=e.getInterface(0);var i=[],n;var o=e.getModel();var l=o.getODataEntitySet(a.name||"");var s=sap.ui.model.odata.AnnotationHelper.resolvePath(o.getContext(e.getPath()));var u=o.getODataEntityType(a.entityType);i=E.getFacetExpand(s,o,u,l);if(i.length>0){n="{ path : '"+r+"', parameters : { expand : '"+i.join(",")+"'} }"}else{n="{ path : '"+r+"' }"}if(n==="{}"){n=""}return n},getCurrentPathWithExpandForContact:function(e,t,a,r){var i=[],n;e=e.getInterface(0);var o=e.getModel();var l=sap.ui.model.odata.AnnotationHelper.resolvePath(o.getContext(e.getPath()));var s=o.getODataEntityType(a.entityType);i=E.getFacetExpandForContact(l,o,s);if(i.length>0){n="{ path : '"+r+"', parameters : { expand : '"+i.join(",")+"'} }"}else{n="{ path : '"+r+"' }"}if(n==="{}"){n=""}return n},getFacetExpandForContact:function(e,t,a){var r=[],i;var n=function(e){if(e){var i=E._getNavigationPrefix(t,a,e);if(i){if(r.indexOf(i)===-1){r.push(i)}}}};if(e&&e.indexOf("com.sap.vocabularies.Communication.v1.Contact")>-1){i=t.getObject(e)||{};for(var o in i){var l;var s=i[o];if(s&&s.Path){l=s.Path;n(l)}else if(Object.prototype.toString.call(s)==="[object Array]"){for(var u in s){var c=s[u];if(c&&c.uri&&c.uri.Path){l=c.uri.Path}if(c&&c.address&&c.address.Path){l=c.address.Path}n(l)}}}}return r},getNavigationPathWithExpand:function(e,t,a,r){e=e.getInterface(0);var i=e.getModel();var n=i.getODataEntitySet(a.name||"");var o=sap.ui.model.odata.AnnotationHelper.resolvePath(i.getContext(e.getPath()));var l=sap.ui.model.odata.AnnotationHelper.getNavigationPath(e,t);var s=l.replace("{","").replace("}","");var u=i.getODataEntityType(n.entityType);if(s){var c=s.split("/");for(var f=0;f<c.length;f++){var p=E.getNavigationPropertyTargetEntityInfo(i,u,c[f]);n=p.entitySet;u=p.entityType}}else{r=false}var g=false;var v=E.getFacetExpand(o,i,u,n);var d=e.getSetting("preprocessorsData")||{};var m=d.rootContextExpand||[];if(v.length>0){if(s){g=true}else{for(var y=0;y<v.length;y++){if(m.indexOf(v[y])===-1){m.push(v[y])}}d.rootContextExpand=m}}r=r&&(m.indexOf(s)===-1||v.some(function(e){return m.indexOf(s+"/"+e)===-1}));if(g||r){l="{ path : '"+s+"', parameters : { ";if(g){l=l+"expand : '"+v.join(",")+"'";if(r){l=l+", "}}if(r){l=l+"usePreliminaryContext: true, batchGroupId: 'facets'"}l=l+"} }"}if(l==="{}"){l=""}return l},getNavigationPropertyTargetEntityInfo:function(e,t,a){var r={};var i=e.getODataAssociationSetEnd(t,a);if(i&&i.entitySet){r.entitySet=e.getODataEntitySet(i.entitySet);r.entityType=e.getODataEntityType(r.entitySet.entityType)}return r},getFormGroupBindingString:function(e,t,a){var r=E.getNavigationPathWithExpand(e,t,a,true);return r},getFacetExpand:function(e,a,r,i){var n=[],o=[],l,s=[];if(e){s=a.getObject(e)||[]}s=s.Data||s;var u=function(e,l){var s=E._getNavigationPrefix(a,r,e);if(s){if(o.indexOf(s)===-1){o.push(s)}}if(l){try{n=t.getSupportedAnnotationPaths(a,i,e,true)||[]}catch(e){n=[]}for(var u=0;u<n.length;u++){if(o.indexOf(n[u])===-1){o.push(n[u])}}}};var c=function(e){if(e.Type==="LabeledElement"){u(e.Value.Path)}else if(e.Type==="Path"){u(e.Value)}};if(Array.isArray(s)){for(var f=0;f<s.length;f++){l=s[f];if(l.Value&&l.Value.Path){u(l.Value.Path,true)}if(l.Value&&l.Value.Apply&&l.Value.Apply.Name==="odata.concat"){l.Value.Apply.Parameters.forEach(c)}if(l.Action&&l.Action.Path){u(l.Action.Path)}if(l.Target){if(l.Target.Path){u(l.Target.Path)}if(l.Target.AnnotationPath){u(l.Target.AnnotationPath)}}if(l.SemanticObject&&l.SemanticObject.Path){u(l.SemanticObject.Path)}if(l.Url&&l.Url.Path){u(l.Url.Path)}if(l.Url&&l.Url.Apply&&l.Url.Apply.Parameters){l.Url.Apply.Parameters.forEach(c)}if(l.UrlContentType&&l.UrlContentType.Path){u(l.UrlContentType.Path)}}}else{if(s.name){u(s.name,true)}if(s.Value&&s.Value.Path){u(s.Value.Path,true)}if(s.Title&&s.Title.Path){u(s.Title.Path,true)}if(s.Criticality&&s.Criticality.Path){u(s.Criticality.Path,true)}}return o},isSelf:function(e){if(e===undefined||e&&e.indexOf("@")===0&&e.indexOf("/")===-1){return true}return false},number:function(e){if(!e){return NaN}else if(e.Decimal){return+e.Decimal}else if(e.Path){return"{"+e.Path+"}"}else{return NaN}},formatColor:function(){function e(e){if(!e){return NaN}else if(e.Decimal){return e.Decimal}else if(e.EnumMember){return"'"+e.EnumMember+"'"}else if(e.Path){return"${"+e.Path+"}"}else{return NaN}}function t(t){var a=t.Criticality;return"{= "+e(a)+" === 'UI.CriticalityType/Negative' ? 'Error' : "+e(a)+"=== 'UI.CriticalityType/Critical' ? 'Critical' : 'Good'}"}function a(t){var a=e(t.Value);var r=t.CriticalityCalculation;return"{= ("+a+" < "+e(r.DeviationRangeLowValue)+" || "+a+" > "+e(r.DeviationRangeHighValue)+") ? 'Error' : ("+a+" < "+e(r.ToleranceRangeLowValue)+" || "+a+" > "+e(r.ToleranceRangeHighValue)+") ? 'Critical' : 'Good'}"}return function(e){if(e.Criticality){return t(e)}else if(e.CriticalityCalculation){return a(e)}}}(),_determineColumnIndex:function(e){var t=e.getPath();var a=Number(t.slice(t.lastIndexOf("/")+1));var r=t.slice(0,t.lastIndexOf("/"));var i=e.getModel().getObject(r);var n=0;for(var o=0;o<a;o++){if((i[o].RecordType==="com.sap.vocabularies.UI.v1.DataFieldForAction"||i[o].RecordType==="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation")&&(!i[o].Inline||i[o].Inline.Bool==="false")){continue}else{n++}}return n},suppressP13NDuplicateColumns:function(e,t){var a="";var r={};var i=",";var n=e.getModel();for(var o=0;o<t.length;o++){if(t[o].RecordType==="com.sap.vocabularies.UI.v1.DataField"){if(t[o].Value&&t[o].Value.Path){var l=t[o].Value.Path;r[l]=true}}}for(var o=0;o<t.length;o++){if(t[o].RecordType==="com.sap.vocabularies.UI.v1.DataFieldWithIntentBasedNavigation"||t[o].RecordType==="com.sap.vocabularies.UI.v1.DataFieldWithNavigationPath"){if(t[o].Value&&t[o].Value.Path){var l=t[o].Value.Path;if(!r[l]){a=a+i+l}}}else if(t[o].RecordType==="com.sap.vocabularies.UI.v1.DataFieldForAnnotation"){var s=n.getContext(e.getPath()+"/"+o+"/Target");var u=sap.ui.model.odata.AnnotationHelper.resolvePath(s);var c=n.getObject(u);if(u.indexOf("com.sap.vocabularies.Communication.v1.Contact")>=0){if(c&&c.fn&&c.fn.Path){var l=c.fn.Path;if(!r[l]){a=a+i+l}}}else if(u.indexOf("com.sap.vocabularies.UI.v1.DataPoint")>=0){if(c&&c.Value&&c.Value.Path){var l=c.Value.Path;if(!r[l]){a=a+i+l}}}else if(u.indexOf("com.sap.vocabularies.UI.v1.Chart")>=0){if(t[o].Target&&t[o].Target.AnnotationPath){var l=t[o].Target.AnnotationPath.split("com.sap.vocabularies.UI.v1.Chart#")[1];if(!r[l]){a=a+i+l}}}}}if(a.length>0){a=a.substring(1)}return a},createP13NColumnForAction:function(e,t){var a=E._determineColumnIndex(e);var r=E.createP13NColumnKey(t);if(t&&t.Value&&t.Value.Path){var i='\\{"columnKey":"'+r+'", "leadingProperty":"'+t.Value.Path+'", "columnIndex":"'+a;var n=y(e,t.Value.Path);var o=n.getFilterRestriction();var l=n.getSortRestriction();if(!l){i+='", "sortProperty":"'+t.Value.Path}if(!o){i+='", "filterProperty":"'+t.Value.Path}}else{var i='\\{"columnKey":"'+r+'", "columnIndex":"'+a}if(t.RecordType==="com.sap.vocabularies.UI.v1.DataFieldWithIntentBasedNavigation"||t.RecordType==="com.sap.vocabularies.UI.v1.DataFieldWithNavigationPath"){if(t.EdmType==="Edm.String"){i+='", "type":"string'}i+='", "autoColumnWidth":\\{"min":2,"max":19\\}, "actionButton":"true" \\}'}else{i+='", "actionButton":"true" \\}'}return i},createP13NColumnForContactPopUp:function(e,t,a,r,i){var n="";var o="";var l=e.getInterface(0).getModel();if(l){var s=l.getODataEntityType(t.entityType);if(s){o=E._getNavigationPrefix(l,s,i)}}var u=E.createP13NColumnKey(a);n+='\\{"columnKey":"'+u;if(r&&r.fn&&r.fn.Path){if(o){var c=l.getODataAssociationSetEnd(s,o);if(c&&c.entitySet){t=l.getODataEntitySet(c.entitySet)}var f=y(t,r.fn.Path);var p=f.getFilterRestriction();var g=f.getSortRestriction();n+='", "leadingProperty":"'+o+"/"+r.fn.Path+'", "additionalProperty":"'+o;if(!g){n+='", "sortProperty":"'+o+"/"+r.fn.Path}if(!p){n+='", "filterProperty":"'+o+"/"+r.fn.Path}if(r.fn.EdmType==="Edm.String"){n+='", "type":"'+"string"}}else{var f=y(t,r.fn.Path);var p=f.getFilterRestriction();var g=f.getSortRestriction();n+='", "leadingProperty":"'+r.fn.Path+'", "filterProperty":"'+r.fn.Path+'", "additionalProperty":"'+r.fn.Path;if(!g){n+='", "sortProperty":"'+r.fn.Path}if(!p){n+='", "filterProperty":"'+r.fn.Path}}}n+='", "navigationProperty":"'+o;var v=e.getInterface(1);var d=E._determineColumnIndex(v);if(d){n+='", "columnIndex":"'+d}n+='", "autoColumnWidth":\\{"min":2,"max":19,"visibleField":"'+o+"/"+r.fn.Path+'"\\}\\}';return n},createP13NColumnForIndicator:function(e,t,a,r,i,n){var o="";var l="";var s=[];var u=e.getInterface(0).getModel();if(u){var c=u.getODataEntityType(t.entityType);if(c){l=E._getNavigationPrefix(u,c,n)}}var f=E.createP13NColumnKey(a);o='\\{"columnKey":"'+f;if(l){l=l+"/"}if(r.Value&&r.Value.Path){o+='", "leadingProperty":"'+l+r.Value.Path;s.push(l+r.Value.Path)}if(r.TargetValue&&r.TargetValue.Path){s.push(l+r.TargetValue.Path)}if(r.Criticality&&r.Criticality.Path){s.push(l+r.Criticality.Path)}if(s.length>0){var p="";s.forEach(function(e){if(p){p=p+","}p=p+e});o+='", "additionalProperty":"'+p}var g=e.getInterface(1);var v=E._determineColumnIndex(g);if(v){o+='", "columnIndex":"'+v}if(r&&r.Value&&r.Value.Path){var d=y(t,r.Value.Path);var m=d.getFilterRestriction();var h=d.getSortRestriction();if(!h){o+='", "sortProperty":"'+r.Value.Path}if(!m){o+='", "filterProperty":"'+r.Value.Path}}o+='" \\}';return o},createP13NColumnForChart:function(e,t,a,r,i){var n="",o=[],l="";var s=e.getInterface(0).getModel();if(s){var u=s.getODataEntityType(t.entityType);if(u){l=E._getNavigationPrefix(s,u,i)}}var c=E.createP13NColumnKey(a);if(l){n='\\{"columnKey":"'+c+'", "leadingProperty":"'+l;l=l+"/"}else{n='\\{"columnKey":"'+c}if(Array.isArray(r.Dimensions)){r.Dimensions.forEach(function(e){o.push(l+e.PropertyPath)})}if(Array.isArray(r.Measures)){r.Measures.forEach(function(e){o.push(l+e.PropertyPath)})}if(o.length>0){n+='", "additionalProperty":"'+o.join()}var f=e.getInterface(1);var p=E._determineColumnIndex(f);if(p){n+='", "columnIndex":"'+p}n+='" \\}';return n},createP13NColumnKey:function(e,t){var a="";var r="template";var i="::";if(e.RecordType==="com.sap.vocabularies.UI.v1.DataField"){a=e.Value.Path}else if(e.RecordType==="com.sap.vocabularies.UI.v1.DataFieldWithIntentBasedNavigation"){a=r+i+"DataFieldWithIntentBasedNavigation"+i+e.SemanticObject.String+i+e.Action.String+i+e.Value.Path}else if(e.RecordType==="com.sap.vocabularies.UI.v1.DataFieldWithNavigationPath"){a=r+i+"DataFieldWithNavigationPath"+i+e.Value.Path}else if(e.RecordType==="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation"){a=r+i+"DataFieldForIntentBasedNavigation"+i+e.SemanticObject.String+i+e.Action.String}else if(e.RecordType==="com.sap.vocabularies.UI.v1.DataFieldForAction"){a=r+i+"DataFieldForAction"+i+e.Action.String}else if(e.RecordType==="com.sap.vocabularies.UI.v1.DataFieldForAnnotation"){if(e.Target.AnnotationPath.indexOf("@com.sap.vocabularies.Communication.v1.Contact")>=0||e.Target.AnnotationPath.indexOf("@com.sap.vocabularies.UI.v1.DataPoint")>=0||e.Target.AnnotationPath.indexOf("@com.sap.vocabularies.UI.v1.FieldGroup")>=0||e.Target.AnnotationPath.indexOf("@com.sap.vocabularies.UI.v1.Chart")>=0){a=r+i+"DataFieldForAnnotation"+i+e.Target.AnnotationPath;a=a.replace("@","")}}return a},createP13NFileUploader:function(e,t){var a=e.getModel(0).getODataEntityType(t.entityType);var r="";var i=a&&a["Org.OData.Core.V1.ContentDisposition"];var n=i&&i.Filename&&i.Filename.Path;if(n){r='\\{"columnKey":"'+n+'", "leadingProperty":"'+n;r+='", "autoColumnWidth":\\{"min":2,"max":19\\}\\}'}return r},createP13N:function(e,t,a,r,i,n){var o="",l=[],s="";if(r.RecordType==="com.sap.vocabularies.UI.v1.DataField"||r.RecordType==="com.sap.vocabularies.UI.v1.DataFieldForAnnotation"||r.RecordType==="com.sap.vocabularies.UI.v1.DataFieldWithUrl"){if(r.Value.Path){var u=E.createP13NColumnKey(r,a);o='\\{"columnKey":"'+u+'", "leadingProperty":"'+r.Value.Path;var c=e.getInterface(0).getModel();if(c){var f=c.getODataEntityType(t.entityType);if(f){if(a["com.sap.vocabularies.Common.v1.Text"]&&a["com.sap.vocabularies.Common.v1.Text"].Path){var p=E.getTextArrangement(f,r);if(p){o+='", "description":"'+a["com.sap.vocabularies.Common.v1.Text"].Path+'", "displayBehaviour":"'+p}}s=E._getNavigationPrefix(c,f,r.Value.Path);if(s){s=s+"/"}}}}else if(r.Value.Apply&&r.Value.Apply.Name==="odata.concat"){r.Value.Apply.Parameters.forEach(function(e){if(e.Type==="Path"){if(!o){o='\\{"columnKey":"'+e.Value+'", "leadingProperty":"'+e.Value}else{l.push(e.Value)}}})}if(a.type==="Edm.DateTime"&&a["sap:display-format"]==="Date"){o+='", "type":"date'}else if(a.type==="Edm.String"){o+='", "type":"string'}if(r.Criticality&&r.Criticality.Path){l.push(r.Criticality.Path)}if(a["com.sap.vocabularies.Common.v1.Text"]&&a["com.sap.vocabularies.Common.v1.Text"].Path){l.push(s+a["com.sap.vocabularies.Common.v1.Text"].Path)}if(a["Org.OData.Measures.V1.ISOCurrency"]&&a["Org.OData.Measures.V1.ISOCurrency"].Path){l.push(s+a["Org.OData.Measures.V1.ISOCurrency"].Path)}if(a["Org.OData.Measures.V1.Unit"]&&a["Org.OData.Measures.V1.Unit"].Path){l.push(s+a["Org.OData.Measures.V1.Unit"].Path)}if(a["com.sap.vocabularies.Common.v1.FieldControl"]&&a["com.sap.vocabularies.Common.v1.FieldControl"].Path){l.push(s+a["com.sap.vocabularies.Common.v1.FieldControl"].Path)}if(r["RecordType"]==="com.sap.vocabularies.UI.v1.DataFieldWithUrl"&&r.Url&&r.Url.Apply&&r.Url.Apply.Parameters){r.Url.Apply.Parameters.forEach(function(e){if(e.Type==="LabeledElement"){l.push(e.Value.Path)}})}if(r["RecordType"]==="com.sap.vocabularies.UI.v1.DataFieldWithUrl"&&r.Url&&r.Url.Path){l.push(r.Url.Path)}if(l.length>0){var g="";l.forEach(function(e){if(g){g=g+","}g=g+e});o+='", "additionalProperty":"'+g}var v=y(t,a.name);var d=v.getFilterRestriction();var m=v.getSortRestriction();var h=E.checkMultiplicityForDataFieldAssociationInTable(e,t,r);if(!m){if(h){o+='", "sortProperty":"'+""}else if(s){o+='", "sortProperty":"'+s+a.name}else{o+='", "sortProperty":"'+a.name}}if(!d){if(h){o+='", "filterProperty":"'+""}else{o+='", "filterProperty":"'+a.name}}var P=e.getInterface(2);var b=E._determineColumnIndex(P);if(b>=0){o+='", "columnIndex":"'+b}o+='", "autoColumnWidth":\\{"min":2,"max":19\\}\\}'}return o},getSortProperty:function(e,t,a,r,i,n){var o=true;return A(e,t,a,r,i,o,n)},getFilterProperty:function(e,t,a,r,i,n){var o=false;return A(e,t,a,r,i,o,n)},getSortOrder:function(e){var t="";for(var a=0;a<e.length;a++){if(!t){t=e[a].Property.PropertyPath}else{t=t+", "+e[a].Property.PropertyPath}if(e[a].Descending){t=t+" "+e[a].Descending.Bool}}return t},replaceSpecialCharsInId:function(e){if(e.indexOf(" ")>=0){v.error("Annotation Helper: Spaces are not allowed in ID parts. Please check the annotations, probably something is wrong there.")}return e.replace(/@/g,"").replace(/\//g,"::").replace(/#/g,"::")},getStableIdPartFromDataField:function(e){var t="",a="",r;if(e.RecordType&&e.RecordType==="com.sap.vocabularies.UI.v1.DataFieldForAction"){return E.replaceSpecialCharsInId(e.Action.String)}else if(e.RecordType&&(e.RecordType==="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation"||e.RecordType==="com.sap.vocabularies.UI.v1.DataFieldWithIntentBasedNavigation")){if(e.SemanticObject.String){a=E.replaceSpecialCharsInId(e.SemanticObject.String)}else if(e.SemanticObject.Path){a=E.replaceSpecialCharsInId(e.SemanticObject.Path)}if(e.Action&&e.Action.String){a=a+"::"+E.replaceSpecialCharsInId(e.Action.String)}else if(e.Action&&e.Action.Path){a=a+"::"+E.replaceSpecialCharsInId(e.Action.Path)}return a}else if(e.RecordType&&e.RecordType==="com.sap.vocabularies.UI.v1.DataFieldForAnnotation"){return E.replaceSpecialCharsInId(e.Target.AnnotationPath)}else if(e.IconUrl&&(e.IconUrl.Path||e.IconUrl.String)){if(e.IconUrl.Path){a=E.replaceSpecialCharsInId(e.IconUrl.Path)}else if(e.IconUrl.String){r=e.IconUrl.String.replace("://","-");a=E.replaceSpecialCharsInId(r)}return a}else if(e.Value&&e.Value.Path){return E.replaceSpecialCharsInId(e.Value.Path)}else if(e.Value&&e.Value.Apply&&e.Value.Apply.Name==="odata.concat"){for(var i=0;i<e.Value.Apply.Parameters.length;i++){if(e.Value.Apply.Parameters[i].Type==="Path"){if(t){t=t+"::"}t=t+E.replaceSpecialCharsInId(e.Value.Apply.Parameters[i].Value)}}return t}else{v.error("Annotation Helper: Unable to create a stable ID. Please check the annotations.")}},getStableIdPartFromDataPoint:function(e){var t="";if(e.Value&&e.Value.Path){return E.replaceSpecialCharsInId(e.Value.Path)}else if(e.Value&&e.Value.Apply&&e.Value.Apply.Name==="odata.concat"){for(var a=0;a<e.Value.Apply.Parameters.length;a++){if(e.Value.Apply.Parameters[a].Type==="Path"){if(t){t=t+"::"}t=t+E.replaceSpecialCharsInId(e.Value.Apply.Parameters[a].Value)}}return t}else{v.error("Annotation Helper: Unable to create stable ID derived from annotations.")}},getStableIdPartFromFacet:function(e){return o.getStableId({type:"ObjectPage",subType:"Facet",bIsHeaderFacet:typeof this.getContext==="function"&&this.getContext()&&this.getContext().getPath()&&this.getContext().getPath().indexOf("com.sap.vocabularies.UI.v1.HeaderFacets")>=0,sRecordType:e.RecordType,sAnnotationPath:e.Target&&e.Target.AnnotationPath,sAnnotationId:e.ID&&e.ID.String})||d(e)},getVisibilityForExtensionPointReplaceHeader:function(e,t){var a="ReplaceHeaderExtensionFacet|"+e;var r=t[a];if(r&&r["bVisibleOnEdit"]===false){return false}return true},extensionPointReplaceHeaderExists:function(e,t){if(t){var a="ReplaceHeaderExtensionFacet|"+e;return t[a]}return false},getVisibilityForExtensionPointNoImage:function(e,t){var a="NoImageExtensionFacet|"+e;var r=t[a];if(r&&r["bVisibleOnEdit"]===false){return false}return true},extensionPointNoImageExists:function(e,t){if(t){var a="NoImageExtensionFacet|"+e;return t[a]}return false},getVisibilityForExtensionPointAfterImage:function(e,t){var a="AfterImageExtensionFacet|"+e;var r=t[a];if(r&&r["bVisibleOnEdit"]===false){return false}return true},extensionPointAfterImageExists:function(e,t){if(t){var a="AfterImageExtensionFacet|"+e;return t[a]}return false},getVisibilityForExtensionPointBeforeSimpleHeaderFacet:function(e,t,a,r){var i;var n=E.getStableIdPartFromFacet(t);if(t.Target.AnnotationPath.indexOf("DataPoint")>0){i=E.getStableIdPartFromDataPoint(r)}else{i=E.getStableIdPartFromDataField(r)}var o=n+"::"+i;var l="BeforeSimpleHeaderFacet|"+e+"|headerEditable::"+o;var s=a[l];if(s&&s["bVisibleOnEdit"]===false){return false}return true},extensionPointBeforeSimpleHeaderFacetExists:function(e,t,a,r){if(a){var i;var n=E.getStableIdPartFromFacet(t);if(t.Target.AnnotationPath.indexOf("DataPoint")>0){i=E.getStableIdPartFromDataPoint(r)}else{i=E.getStableIdPartFromDataField(r)}var o=n+"::"+i;var l="BeforeSimpleHeaderFacet|"+e+"|headerEditable::"+o;return a[l]}return false},getVisibilityForExtensionPointReplaceSimpleHeaderFacet:function(e,t,a,r){var i;var n=E.getStableIdPartFromFacet(t);if(t.Target.AnnotationPath.indexOf("DataPoint")>0){i=E.getStableIdPartFromDataPoint(r)}else{i=E.getStableIdPartFromDataField(r)}var o=n+"::"+i;var l="ReplaceSimpleHeaderFacet|"+e+"|headerEditable::"+o;var s=a[l];if(s&&s["bVisibleOnEdit"]===false){return false}return true},extensionPointReplaceSimpleHeaderFacetExists:function(e,t,a,r){if(a){var i;var n=E.getStableIdPartFromFacet(t);if(t.Target.AnnotationPath.indexOf("DataPoint")>0){i=E.getStableIdPartFromDataPoint(r)}else{i=E.getStableIdPartFromDataField(r)}var o=n+"::"+i;var l="ReplaceSimpleHeaderFacet|"+e+"|headerEditable::"+o;return a[l]}return false},getVisibilityForExtensionPointAfterSimpleHeaderFacet:function(e,t,a,r){var i;var n=E.getStableIdPartFromFacet(t);if(t.Target.AnnotationPath.indexOf("DataPoint")>0){i=E.getStableIdPartFromDataPoint(r)}else{i=E.getStableIdPartFromDataField(r)}var o=n+"::"+i;var l="AfterSimpleHeaderFacet|"+e+"|headerEditable::"+o;var s=a[l];if(s&&s["bVisibleOnEdit"]===false){return false}return true},extensionPointAfterSimpleHeaderFacetExists:function(e,t,a,r){if(a){var i;var n=E.getStableIdPartFromFacet(t);if(t.Target.AnnotationPath.indexOf("DataPoint")>0){i=E.getStableIdPartFromDataPoint(r)}else{i=E.getStableIdPartFromDataField(r)}var o=n+"::"+i;var l="AfterSimpleHeaderFacet|"+e+"|headerEditable::"+o;return a[l]}return false},getVisibilityForExtensionPointBeforeHeaderFacet:function(e,t,a){var r="BeforeHeaderFacet|"+e+"|headerEditable::"+E.getStableIdPartFromFacet(t);var i=a[r];if(i&&i["bVisibleOnEdit"]===false){return false}return true},extensionPointBeforeHeaderFacetExists:function(e,t,a){if(a){var r="BeforeHeaderFacet|"+e+"|headerEditable::"+E.getStableIdPartFromFacet(t);return a[r]}return false},getVisibilityForExtensionPointReplaceHeaderFacet:function(e,t,a){var r="ReplaceHeaderFacet|"+e+"|headerEditable::"+E.getStableIdPartFromFacet(t);var i=a[r];if(i&&i["bVisibleOnEdit"]===false){return false}return true},extensionPointReplaceHeaderFacetExists:function(e,t,a){if(a){var r="ReplaceHeaderFacet|"+e+"|headerEditable::"+E.getStableIdPartFromFacet(t);return a[r]}return false},getVisibilityForExtensionPointAfterHeaderFacet:function(e,t,a){var r="AfterHeaderFacet|"+e+"|headerEditable::"+E.getStableIdPartFromFacet(t);var i=a[r];if(i&&i["bVisibleOnEdit"]===false){return false}return true},extensionPointAfterHeaderFacetExists:function(e,t,a){if(a){var r="AfterHeaderFacet|"+e+"|headerEditable::"+E.getStableIdPartFromFacet(t);return a[r]}return false},extensionPointBeforeHeaderDataPointExists:function(e,t,a){if(a){var r="BeforeHeaderDataPoint|"+e+"|"+E.getStableIdPartFromDataPoint(t);return a[r]}return false},extensionPointReplaceHeaderDataPointExists:function(e,t,a){if(a){var r="ReplaceHeaderDataPoint|"+e+"|"+E.getStableIdPartFromDataPoint(t);return a[r]}return false},extensionPointAfterHeaderDataPointExists:function(e,t,a){if(a){var r="AfterHeaderDataPoint|"+e+"|"+E.getStableIdPartFromDataPoint(t);return a[r]}return false},getObjectPageExtensions:function(e){var t=e.getObject();for(var a in t){if(a.split("|").length===4&&!(t[a]["sap.ui.generic.app"]&&t[a]["sap.ui.generic.app"]["key"])){i(t[a],{"sap.ui.generic.app":{key:a.split("|")[3]}})}}e.getModel().setProperty("/manifestViewExtensions",t);return"/manifestViewExtensions"},extensionPointBeforeSubSectionExists:function(e,t,a){if(a){var r="BeforeSubSection|"+e+"|"+t;return a[r]}return false},extensionPointAfterSubSectionExists:function(e,t,a){if(a){var r="AfterSubSection|"+e+"|"+t;return a[r]}return false},extensionPointReplaceSubSectionExists:function(e,t,a){if(a){var r="ReplaceSubSection|"+e+"|"+t;return a[r]}return false},getExtensionPointFacetTitle:function(e,t){var a=t[e];if(a&&a["sap.ui.generic.app"]&&a["sap.ui.generic.app"].title){return a["sap.ui.generic.app"].title}},getExtensionPointAfterFacetTitle:function(e,t,a){var r="AfterFacet|"+e+"|"+E.getStableIdPartFromFacet(t);var i=a[r];if(i&&i["sap.ui.generic.app"]&&i["sap.ui.generic.app"].title){return i["sap.ui.generic.app"].title}},getExtensionPointBeforeSubSectionTitle:function(e,t,a){var r="BeforeSubSection|"+e+"|"+t;var i=a[r];if(i&&i["sap.ui.generic.app"]&&i["sap.ui.generic.app"].title){return i["sap.ui.generic.app"].title}},getExtensionPointAfterSubSectionTitle:function(e,t,a){var r="AfterSubSection|"+e+"|"+t;var i=a[r];if(i&&i["sap.ui.generic.app"]&&i["sap.ui.generic.app"].title){return i["sap.ui.generic.app"].title}},getExtensionPointReplaceSubSectionTitle:function(e,t,a){var r="ReplaceSubSection|"+e+"|"+t;var i=a[r];if(i&&i["sap.ui.generic.app"]&&i["sap.ui.generic.app"].title){return i["sap.ui.generic.app"].title}},getColumnListItemType:function(e,t,a,r,i,n){var o=!r.level;var l=o&&t.some(function(e){return e.navigationProperty});var s=i||o;return I(e,t,a,n,s,false,l,o)},getRowActionCountForDetailPage:function(e,t,a,r,i){return T(e,t,a,r,i)},getRowActionCountForListReport:function(e,t,a,r){return T(e,t,a,"",true)},hasSubObjectPage:function(e,t){return h(e,t)},getUpdateRestrictions:function(e){var t=e["Org.OData.Capabilities.V1.UpdateRestrictions"];if(!t){return true}if(t.Updatable.Bool==="false"){return false}else{if(t["Updatable"].Path){return t["Updatable"].Path}}return true},isRelatedEntityCreatable:function(e,t,a,r,i,n,o,l){var s=false;var u=e.getInterface(0).getModel();var c=t["Org.OData.Capabilities.V1.InsertRestrictions"];var f=u.getODataEntityType(t.entityType);var p;var g;var d;var m;if(n){d=E.isInlineMode(i,n,"inline");m=E.isInlineMode(i,n,"creationRows")}if(E.hasSubObjectPage(a,r)||d||m||!!l){if(o){s="{= ${ui>/editable}}"}else{s="{= !${ui>/editable}}"}p=E.handleNavigationRestrictions(u,t,a,"Insertable");if(p&&p["Insertable"]){if(p["Insertable"].Path){g=p["Insertable"].Path;s=o?"{= ${ui>/editable} ? ${"+g+"} : false}":"{= !${ui>/editable} ? ${"+g+"} : false}"}}else if(c&&c.NonInsertableNavigationProperties&&c.NonInsertableNavigationProperties.length>0){for(var y=0;y<c.NonInsertableNavigationProperties.length;y++){var h=c.NonInsertableNavigationProperties[y];var P=E._getNonInsertableNavigationPropertyPath(h);if(P){var b=u.getODataAssociationSetEnd(f,P);if(b&&b.entitySet===a.name){if(h.If&&h.If.length===2){var I=h.If[0];g=I.Not?I.Not.Path:I.Path;if(F(u,t.entityType,g)){E._actionControlExpand(e,g,f.name);if(o){if(I.Not){s="{= ${ui>/editable} ? ${"+g+"} : false}"}else{s="{= ${ui>/editable} ? !${"+g+"} : false}"}}else{if(I.Not){s="{= !${ui>/editable} ? ${"+g+"} : false}"}else{s="{= !${ui>/editable} ? !${"+g+"} : false}"}}}else{s=false;v.warning("Creatable-Path is not valid. Creation for "+a.name+" is disabled")}}else{s=false}break}}}}}return s},_getNonInsertableNavigationPropertyPath:function(e){var t;if(e.NavigationPropertyPath){t=e.NavigationPropertyPath}else if(e.If){t=e.If[1].NavigationPropertyPath}return t},areBooleanRestrictionsValidAndPossible:function(e,t,a,r,i,n){var o;var l=e.getInterface(0).getModel();var s=a.entityType;var u,c,f;if(i){o=l.getODataEntitySet(i);f=o.entityType}var p=E.handleNavigationRestrictions(l,o,a,r);if(p){u=p[r];c=f}else{u=t&&t[r];c=s}var g=!u||(u.Bool?!u.Path:!!u.Path&&F(l,c,u.Path));if(!g){v.error("Service Broken: Restrictions annotations for entity type "+s+" for section '"+r+"' are invalid.")}return g&&(!!n||!u||u.Bool!=="false")},handleNavigationRestrictions:function(e,t,a,r){if(!t){return false}var i={Insertable:"InsertRestrictions",Deletable:"DeleteRestrictions",Updatable:"UpdateRestrictions"};var n,o;var l=t["Org.OData.Capabilities.V1.NavigationRestrictions"];if(l&&l.RestrictedProperties){var s=l.RestrictedProperties;for(n in s){o=s[n];var u=e.getODataEntityType(t.entityType);var c=o.NavigationProperty.NavigationPropertyPath;var f=e.getODataAssociationSetEnd(u,c);if(f&&f.entitySet===a.name&&o[i[r]]){return o[i[r]]}}}return false},_isPropertyPathBoolean:function(e,t,a){return F(e,t,a)},_actionControlExpand:function(e,t,a){var r=[],i;e=e.getInterface(0);var n=e.getModel();var o=n.getODataEntityType(a);if(t){i=E._getNavigationPrefix(n,o,t);if(i){r.push(i)}}if(r.length>0){var l=e.getSetting("preprocessorsData");if(l){var s=l.rootContextExpand||[];for(var u=0;u<r.length;u++){if(s.indexOf(r[u])===-1){s.push(r[u])}}l.rootContextExpand=s}}},_mapTextArrangement4smartControl:function(e){var t="descriptionAndId";switch(e){case"com.sap.vocabularies.UI.v1.TextArrangementType/TextLast":t="idAndDescription";break;case"com.sap.vocabularies.UI.v1.TextArrangementType/TextSeparate":t="idOnly";break;case"com.sap.vocabularies.UI.v1.TextArrangementType/TextOnly":t="descriptionOnly";break;default:break}return t},getTextArrangementForSmartControl:function(e,t,a,r){e=e.getInterface(0);var i;var n=e.getModel();if(a.name==undefined){i=n.getODataEntityType(r.entityType)}else{i=n.getODataEntityType(a.entityType)}var o="descriptionAndId";if(n.getODataProperty(i,t.Value.Path)){var l=n.getODataProperty(i,t.Value.Path)["com.sap.vocabularies.Common.v1.Text"];if(l&&l["com.sap.vocabularies.UI.v1.TextArrangement"]&&l["com.sap.vocabularies.UI.v1.TextArrangement"].EnumMember){o=E._mapTextArrangement4smartControl(l["com.sap.vocabularies.UI.v1.TextArrangement"].EnumMember);return o}}if(i["com.sap.vocabularies.UI.v1.TextArrangement"]&&i["com.sap.vocabularies.UI.v1.TextArrangement"].EnumMember){o=E._mapTextArrangement4smartControl(i["com.sap.vocabularies.UI.v1.TextArrangement"].EnumMember);return o}return o},formatSubSectionHeader:function(e,t){return e!=t?true:false},getTitle:function(e,t,a){var r;var i=E.getTextArrangementObject(e,t,a);if(i){r=E.getTitleTextArrangementBindingPath(i.textArrangement,i.propertyPath,i.textPath)}return r},getDescription:function(e,t,a){var r;var i=E.getTextArrangementObject(e,t,a);if(i){r=E.getDescriptionTextArrangementBindingPath(i.textArrangement,i.propertyPath,i.textPath)}return r},getTextArrangementObject:function(e,t,a){var r,i,n;if(t){i=t.name;var o=t["com.sap.vocabularies.Common.v1.Text"];if(o){n=o.Path}r=E.getTextArrangement(e,t);return{textArrangement:r,propertyPath:i,textPath:n}}},getTextArrangement:function(e,t){var a;if(t["com.sap.vocabularies.UI.v1.TextArrangement"]&&t["com.sap.vocabularies.UI.v1.TextArrangement"].EnumMember){a=E._mapTextArrangement4smartControl(t["com.sap.vocabularies.UI.v1.TextArrangement"].EnumMember)}if(!a){var r=t["com.sap.vocabularies.Common.v1.Text"];if(r&&r["com.sap.vocabularies.UI.v1.TextArrangement"]&&r["com.sap.vocabularies.UI.v1.TextArrangement"].EnumMember){a=E._mapTextArrangement4smartControl(r["com.sap.vocabularies.UI.v1.TextArrangement"].EnumMember)}}if(!a){if(e&&e["com.sap.vocabularies.UI.v1.TextArrangement"]&&e["com.sap.vocabularies.UI.v1.TextArrangement"].EnumMember){a=E._mapTextArrangement4smartControl(e["com.sap.vocabularies.UI.v1.TextArrangement"].EnumMember)}}if(!a){a="descriptionAndId"}return a},getTitleTextArrangementBindingPath:function(e,t,a){var r="{"+t+"}";var i="{"+a+"}";if(!a){return r}if(e==="descriptionAndId"){return i}else if(e==="descriptionOnly"){return i}else if(e==="idAndDescription"){return r}else if(e==="idOnly"){return r}},getDescriptionTextArrangementBindingPath:function(e,t,a){var r="{"+t+"}";var i="{"+a+"}";if(!a){return""}if(e==="descriptionAndId"){return r}else if(e==="descriptionOnly"){return""}else if(e==="idAndDescription"){return i}else if(e==="idOnly"){return""}},doesFieldGroupContainOnlyOneMultiLineDataField:function(e,t){if(e.Data.length!==1){return false}if(t["com.sap.vocabularies.UI.v1.MultiLineText"]===undefined||e.Data[0].RecordType!=="com.sap.vocabularies.UI.v1.DataField"){return false}return true},testFormatter:function(e){return"formatted:"+e},getFacetID:function(e,t){return e+"|"+E.getStableIdPartFromFacet(t)},getStableIdPartForDatafieldActionButton:function(e,t,a,r){var i="";var n="";var o="";if(t){o=E.getStableIdPartFromFacet(t)}if(e){n=E.getStableIdPartFromDataField(e)}i=(o!==""?o+"::":"")+"action::"+n;var l=E.getSuffixFromIconTabFilterKey(a);if(l){i=i.concat(l)}if(r){i=i+"::chart"}return i},_hasCustomDeterminingActionsInListReport:function(e,t){if(t&&t[e]){var a=t[e];if(a.Actions){for(var r in a.Actions){if(a.Actions[r].determining){return true}}}}return false},hasDeterminingActionsRespectingApplicablePath:function(e,t,a){var r="";e=e.getInterface(0);if(a){for(var i=0;i<a.length;i++){if(a[i].determining){if(a[i].applicablePath){if(r.length>0){r+=" || "}r+="${path: '"+a[i].applicablePath+"'}"}else{return true}}}}if(t){for(var n=0;n<t.length;n++){if(t[n].RecordType==="com.sap.vocabularies.UI.v1.DataFieldForAction"&&t[n].Determining&&t[n].Determining.Bool==="true"){var o=e.getModel().getODataFunctionImport(t[n].Action.String,true);var l=e.getModel().getObject(o);if(l["sap:applicable-path"]){if(r.length>0){r+=" || "}r+="${path: '"+l["sap:applicable-path"]+"'}"}else{return"true"}}}}if(r.length>0){return"{= "+r+" || ${ui>/editable}}"}else{return"{ui>/editable}"}},hasDeterminingActions:function(e,t,a){if(t&&a&&a["sap.suite.ui.generic.template.ListReport.view.ListReport"]&&E._hasCustomDeterminingActionsInListReport(t,a["sap.suite.ui.generic.template.ListReport.view.ListReport"]["sap.ui.generic.app"])){return"true"}else if(t&&a&&a["sap.suite.ui.generic.template.AnalyticalListPage.view.AnalyticalListPage"]&&E._hasCustomDeterminingActionsInListReport(t,a["sap.suite.ui.generic.template.AnalyticalListPage.view.AnalyticalListPage"]["sap.ui.generic.app"])){return"true"}for(var r=0;r<e.length;r++){if((e[r].RecordType==="com.sap.vocabularies.UI.v1.DataFieldForAction"||e[r].RecordType==="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation")&&e[r].Determining&&e[r].Determining.Bool==="true"){return"true"}}return"false"},actionControlDetermining:function(e,t,a){if(a["com.sap.vocabularies.UI.v1.Hidden"]){return E.getBindingForHiddenPath(a)}else if(e.level===0||!t){return true}else{return"{path: '"+t+"'}"}},actionControlInline:function(e){if(!e){return true}else{return"{path: '"+e+"'}"}},buildExpressionForProgressIndicatorPercentValue:function(e,t,a){var i="0";if(t.Value&&t.Value.Path){var n="$"+sap.ui.model.odata.AnnotationHelper.format(e,t.Value);var o,l;if(t.TargetValue){o=sap.ui.model.odata.AnnotationHelper.format(e,t.TargetValue);o=t.TargetValue.Path?"$"+o:o}if(a){a=a["Org.OData.Measures.V1.Unit"]||a["Org.OData.Measures.V1.ISOCurrency"];if(a){l=sap.ui.model.odata.AnnotationHelper.simplePath(e,a);l=l&&a.Path?"$"+l:"'"+l+"'"}}var s="({0} > 100 ? 100 : {0} < 0 ? 0 : {0} * 1)";var u="(({1}*1 > 0) ? (({0}*1 > {1}*1) ? 100 : (({0}*1 < 0) ? 0 : ({0} / {1} * 100))) : 0)";var c="'{'= ({2} === ''%'') ? "+s+" : "+u+" '}'";i=r(c,[n,o,l])}return i},buildExpressionForProgressIndicatorDisplayValue:function(e,t,a){var r;var i=function(e,t){var a=E.trimCurlyBraces(sap.ui.model.odata.AnnotationHelper.format(e,t));var r="{path: '"+a+"'}";return r};r=i(e,t.Value)+", "+i(e,t.TargetValue)+", "+i(e,a);var n="{ parts: ["+r+"], formatter: 'sap.suite.ui.generic.template.js.AnnotationHelper.formatDisplayValue' }";return n},getProgressIndicatorTooltip:function(e,t){if(t&&t["com.sap.vocabularies.Common.v1.QuickInfo"]&&t["com.sap.vocabularies.Common.v1.QuickInfo"].String){return t["com.sap.vocabularies.Common.v1.QuickInfo"].String}else{return""}},formatDisplayValue:function(e,t,a){var r="";if(e!==null&&e!==undefined){e=e.toString()}if(t!==null&&t!==undefined){t=t.toString()}if(e){var i=this;var n=i.getModel("i18n").getResourceBundle();var o=i.getCustomData();var l=sap.ui.getCore().getConfiguration().getFormatSettings().getFormatLocale();e=sap.ui.core.format.NumberFormat.getInstance(l).format(e);t=t||o.filter(function(e){if(e.getKey()==="Target"){return e}});t=typeof t==="object"?t[0]&&t[0].getValue():t;a=a||o.filter(function(e){if(e.getKey()==="UoM"){return e}});a=typeof a==="object"?a[0]&&a[0].getValue():a;if(a){if(a==="%"){r=n.getText("PROGRESS_INDICATOR_DISPLAY_VALUE_UOM_IS_PERCENT",[e])}else{if(t){t=sap.ui.core.format.NumberFormat.getInstance(l).format(t);r=n.getText("PROGRESS_INDICATOR_DISPLAY_VALUE_UOM_IS_NOT_PERCENT",[e,t,a])}else{r=n.getText("PROGRESS_INDICATOR_DISPLAY_VALUE_UOM_IS_NOT_PERCENT_NO_TARGET_VALUE",[e,a])}}}else{if(t){t=sap.ui.core.format.NumberFormat.getInstance(l).format(t);r=n.getText("PROGRESS_INDICATOR_DISPLAY_VALUE_NO_UOM",[e,t])}else{r=e}}}else{v.warning("Value property is mandatory, the default (empty string) will be returned")}return r},buildExpressionForProgressIndicatorCriticality:function(e,t){var a=sap.ui.core.ValueState.None;var i;var n=t.Criticality;if(n){i="'{'= ({0} === ''com.sap.vocabularies.UI.v1.CriticalityType/Negative'') || ({0} === ''1'') || ({0} === 1) ? ''"+sap.ui.core.ValueState.Error+"'' : "+"({0} === ''com.sap.vocabularies.UI.v1.CriticalityType/Critical'') || ({0} === ''2'') || ({0} === 2) ? ''"+sap.ui.core.ValueState.Warning+"'' : "+"({0} === ''com.sap.vocabularies.UI.v1.CriticalityType/Positive'') || ({0} === ''3'') || ({0} === 3) ? ''"+sap.ui.core.ValueState.Success+"'' : "+"''"+sap.ui.core.ValueState.None+"'' '}'";if(n.Path){var o="$"+sap.ui.model.odata.AnnotationHelper.simplePath(e,n);a=r(i,o)}else if(n.EnumMember){var l="'"+n.EnumMember+"'";a=r(i,l)}else{v.warning("Case not supported, returning the default sap.ui.core.ValueState.None")}}else{v.warning("Case not supported, returning the default sap.ui.core.ValueState.None")}return a},buildExpressionForButtonCriticality:function(e){var t=u.ButtonType.Default;var a;var i=e.Criticality;if(i){a="'{'= ({0} === ''com.sap.vocabularies.UI.v1.CriticalityType/Negative'') || ({0} === ''1'') || ({0} === 1) ? ''"+u.ButtonType.Reject+"'' : "+"({0} === ''com.sap.vocabularies.UI.v1.CriticalityType/Positive'') || ({0} === ''3'') || ({0} === 3) ? ''"+u.ButtonType.Accept+"'' : "+"''"+u.ButtonType.Default+"'' '}'";if(i.Path){var n="${"+i.Path+"}";t=r(a,n)}else if(i.EnumMember){var o="'"+i.EnumMember+"'";t=r(a,o)}else{v.warning("Case not supported, returning the default sap.m.ButtonType.Default")}}else{v.warning("Case not supported, returning the default sap.m.ButtonType.Default")}return t},buildEmphasizedButtonExpression:function(e){if(!e){return u.ButtonType.Emphasized}var t;var a;e.forEach(function(e){var r=e.Criticality;var i=e["com.sap.vocabularies.UI.v1.Hidden"];if(e.RecordType==="com.sap.vocabularies.UI.v1.DataFieldForAction"&&!a&&r){switch(r.EnumMember){case"com.sap.vocabularies.UI.v1.CriticalityType/Negative":case"com.sap.vocabularies.UI.v1.CriticalityType/Positive":case"1":case 1:case"3":case 3:if(!i){t=u.ButtonType.Default;a=true}t=t||u.ButtonType.Default;break;default:t=u.ButtonType.Emphasized}if(r.Path){t="{= ((${"+r.Path+"} === 'com.sap.vocabularies.UI.v1.CriticalityType/Negative') || (${"+r.Path+"} === '1') || (${"+r.Path+"} === 1) "+"|| (${"+r.Path+"} === 'com.sap.vocabularies.UI.v1.CriticalityType/Positive') || (${"+r.Path+"} === '3') || (${"+r.Path+"} === 3)) ? "+"'Default'"+" : "+"'Emphasized'"+" }"}}});return t||u.ButtonType.Emphasized},trimCurlyBraces:function(e){return e?e.replace("{","").replace("}",""):undefined},getEntitySetName:function(e,t){var a="";try{a=e.name||t.name}catch(e){v.warning("At least one of the input parameters is undefined. Returning default value for entity set name.")}return a},getBreakoutActionEnabledKey:function(e,t){var a=E.getBreakoutActionButtonId(e,t);var r="{_templPriv>/generic/listCommons/breakoutActionsEnabled/"+a+"/enabled}";return r},getControlVisibleTerm:function(e){return"${_templPrivView>/#"+e+"/visible}"},getControlEnabledTerm:function(e){return"${_templPrivView>/#"+e+"/enabled}"},getActionCommandVisibility:function(e){return!e||"{= "+E.getControlVisibleTerm(e)+" && "+E.getControlEnabledTerm(e)+"}"},buildVisibilityExprOfDataFieldForIntentBasedNaviButton:function(e){if(e["com.sap.vocabularies.UI.v1.Hidden"]){return E.getBindingForHiddenPath(e)}else if(!!e.RequiresContext&&e.RequiresContext.Bool=="false"&&(!e.Inline||e.Inline.Bool==="false")){var t=e.SemanticObject.String;var a=e.Action.String;return"{= !!${_templPriv>/generic/supportedIntents/"+t+"/"+a+"/visible}}"}else{return true}},searchForFirstSemKey_Title_Description:function(e){var t,a,r,i,n,o,l,s,u,c,f,p,g,d,m,y,h,P;if(!e){return}t=e.getPath();if(t.indexOf("com.sap.vocabularies.UI.v1.LineItem")<0){return}r=t&&t.lastIndexOf("/");i=t.substring(0,r);n=t.substring(r+1);o=e.getModel();f=o&&o.getObject(i);if(f){p=f["com.sap.vocabularies.Common.v1.SemanticKey"]&&f["com.sap.vocabularies.Common.v1.SemanticKey"][0]&&f["com.sap.vocabularies.Common.v1.SemanticKey"][0].PropertyPath;g=f[n];d=f["com.sap.vocabularies.UI.v1.HeaderInfo"];m="";y="";if(d){m=d&&d["Title"]&&d["Title"].Value&&d["Title"].Value.Path;y=d&&d["Description"]&&d["Description"].Value&&d["Description"].Value.Path}h=g&&g.length;a=t+"/";for(P=0;P<h;P++){if(g[P].RecordType==="com.sap.vocabularies.UI.v1.DataField"&&g[P].Value.Path===p){if(E.isPropertyHidden(g[P])){continue}a=a+P+"/Value/Path";return a}if(g[P].RecordType==="com.sap.vocabularies.UI.v1.DataField"&&g[P].Value.Path===m){if(E.isPropertyHidden(g[P])){continue}l=true;c=P}if(g[P].RecordType==="com.sap.vocabularies.UI.v1.DataField"&&g[P].Value.Path===y){if(E.isPropertyHidden(g[P])){continue}s=true;u=P}}if(l){a=a+c+"/Value/Path";return a}else if(s){a=a+u+"/Value/Path";return a}}else{v.warning("No entity type provided")}},isPropertyHidden:function(e){var t=false;if(e["com.sap.vocabularies.UI.v1.Hidden"]||e["com.sap.vocabularies.Common.v1.FieldControl"]&&e["com.sap.vocabularies.Common.v1.FieldControl"].EnumMember&&e["com.sap.vocabularies.Common.v1.FieldControl"].EnumMember==="com.sap.vocabularies.Common.v1.FieldControlType/Hidden"){t=true}return t},getColumnHeaderText:function(e,t){var a;if(t.Label){return t.Label.String}else{a=e["sap:label"]||(e["com.sap.vocabularies.Common.v1.Label"]||"").String||"";return a}},getColumnToolTip:function(e,t){var a;if(t.Label){return t.Label.String}else{a=e["sap:quickinfo"]||(e["com.sap.vocabularies.Common.v1.QuickInfo"]||"").String||e["sap:label"]||(e["com.sap.vocabularies.Common.v1.Label"]||"").String||"";return a}},getTextForDataField:function(e){var t=e["com.sap.vocabularies.Common.v1.Text"]&&e["com.sap.vocabularies.Common.v1.Text"].Path;return t},getColumnCellFirstText:function(e,t,a,r){var i,n;n=E.getTextArrangement(a,e);switch(n){case"idAndDescription":i=t.Value.Path;if(!i){i=E.getTextForDataField(e)}break;case"idOnly":i=t.Value.Path;if(!i){i=E.getTextForDataField(e)}break;case"descriptionAndId":case"descriptionOnly":default:i=E.getTextForDataField(e);if(!i){i=t.Value.Path}break}if(i){if(r){return true}else{if(e.type==="Edm.DateTimeOffset"||e.type==="Edm.DateTime"||e.type==="Edm.Time"){var o=E.formatDateTimeForCustomColumn(e.type,i);return o}else{return"{"+i+"}"}}}},getColumnCellSecondText:function(e,t,a,r){var i;i=E.getTitlePath(e,t,a);if(i){if(r){return"{= ${path: '"+i+"'} ? true : false}"}else{if(e.type==="Edm.DateTimeOffset"||e.type==="Edm.DateTime"||e.type==="Edm.Time"){var n=E.formatDateTimeForCustomColumn(e.type,i);return n}else{return"{"+i+"}"}}}else{return r?false:undefined}},getTitlePath:function(e,t,a){var r,i;i=E.getTextArrangement(a,e);switch(i){case"idOnly":case"descriptionOnly":break;case"idAndDescription":if(!t.Value.Path){break}r=E.getTextForDataField(e);break;case"descriptionAndId":default:if(!E.getTextForDataField(e)){break}r=t.Value.Path;break}return r},getHeaderVisibility:function(e,t,a){var r,i;r=E.getTitlePath(e,t,a);if(!r){if(e.type==="Edm.DateTimeOffset"||e.type==="Edm.DateTime"||e.type==="Edm.Time"){r=E.getColumnCellFirstText(e,t,a);return"{= "+r+" ? false : true}"}else{r=E.getColumnCellFirstText(e,t,a).replace("{","").replace("}","")}}else{i=E.getTextArrangement(a,e);if(!i||i==="descriptionAndId"){r=E.getColumnCellFirstText(e,t,a).replace("{","").replace("}","")}if(i==="idAndDescription"){r=E.getTitlePath(e,t,a)}}if(r){return"{= ${path: '"+r+"'} ? false : true}"}return false},formatDateTimeForCustomColumn:function(e,t){if(e==="Edm.DateTimeOffset"){return"{ path: '"+t+"', type: 'sap.ui.model.odata.type.DateTimeOffset', formatOptions: { style: 'medium'}, constraints: {displayFormat: 'Date'}}"}else if(e==="Edm.DateTime"){return"{ path: '"+t+"', type: 'sap.ui.model.odata.type.DateTime', formatOptions: { style: 'medium'}, constraints: {displayFormat: 'Date'}}"}else{return"{ path: '"+t+"', type: 'sap.ui.model.odata.type.Time', formatOptions: { style: 'medium'}}"}},getAdditionalSemanticObjects:function(e){var t;var a=[];for(t in e){if(t.indexOf("com.sap.vocabularies.Common.v1.SemanticObject#")!=-1){a.push(e[t].String)}}if(a.length>0){return a}},getColumnCellFirstTextVisibility:function(e,t,a){var r=true;var i=!!E.getColumnCellFirstText(e,t,a,r);return i},getColumnCellSecondTextVisibility:function(e,t,a){var r=true;var i=E.getColumnCellSecondText(e,t,a,r);return i},isSmartLink:function(e){var t;for(t in e){if(t.indexOf("com.sap.vocabularies.Common.v1.SemanticObject")>=0){return true}}return false},setRowHighlight:function(e,t,a,r){var i=t.entitySet===a?t.isDraft:(t.isDraft||t.level===0)&&r(a);var n=t.level>0&&(i||!t.isDraft);var o=i?"{path: 'IsActiveEntity'}, {path: 'HasActiveEntity'}":"{value: true}, {value: true}";var l=n?"{path: 'ui>/editable'}, {path: '_templPrivMessage>/'}":"{value: false}, {value: ''}";var s=e["com.sap.vocabularies.UI.v1.LineItem@com.sap.vocabularies.UI.v1.Criticality"];var u=s&&s.Path?", {path: '"+s.Path+"'}":"";return"{parts: ["+o+", "+l+u+", {path: ''}], formatter: 'sap.suite.ui.generic.template.js.AnnotationHelper.setInfoHighlight'}"},setInfoHighlight:function(e,t,a){var r=this.getBindingContext();if(!r){return"None"}var i="None";var n=sap.ui.core.MessageType;if(a){var o=r.getMessages();for(var l=0;l<o.length;l++){var s=o[l];var u=s.getType();if(u===n.Error){return"Error"}if(u===n.Warning){i="Warning"}else if(u===n.Information&&i!==n.Warning){i="Information"}}}if(e===false&&t===false){return i==="None"?"Information":i}var c=D(this,r);return c==="Error"||c==="Warning"||i==="None"?c:i},getDataFieldLabel:function(e,t,a){var r;if(a.Label){return sap.ui.model.odata.AnnotationHelper.format(e,a.Label)}else{r=t["sap:label"]||(t["com.sap.vocabularies.Common.v1.Label"]||"").String||"";if(r===""){var i=t.extensions?t.extensions.find(function(e){return e.name==="label"}):null;if(i!==undefined&&i!==null){if(i.length!==undefined&&i.length>0){r=i[0].value}else{r=i.value}}else{r=""}}return r}},getDataFieldValue:function(t,a,r){if(a&&!a.Path&&!a.Apply&&!a.String){return""}var i=e.format(t.getModel()?t:t.getInterface(0),a);if(r){i=i.replace("{","{ mode:'"+r+"', ")}return i},getDataFieldValueSimplePath:function(t,a,r){if(a&&!a.Path&&!a.Apply&&!a.String){return""}var i=e.simplePath(t.getModel()?t:t.getInterface(0),a);if(r){i=i.replace("{","{ mode:'"+r+"', ")}return i},setNoDataTextForSmartTable:function(e,t){t="::"+e+"--"+t;return"{parts: [{value: '"+t+"'}], formatter: '._templateFormatters.setNoDataTextForSmartTable'}"},getRelevantDataForAnnotationRecord:function(e,t,a){var r,i;while(t.indexOf("/")>-1){r=t.split("/")[0];t=t.split("/").slice(1).join("/");i=e.getODataAssociationEnd(a,r);a=e.getODataEntityType(i&&i.type)}return{entityType:a,association:i,dataFieldValuePath:t}},getTextArrangementForSCFields:function(e,t,a,r){var i=e.getInterface(0).getModel();var n=i.getODataEntityType(a.entityType);var o=t.Value.Path;n=E.getRelevantDataForAnnotationRecord(i,t.Value.Path,n).entityType;var l=n.property||[];var s,u;for(var c=0;c<l.length;c++){if(o===l[c].name){s=l[c]["sap:text"];break}}for(var f=0;f<r.length;f++){if(r[f].RecordType==="com.sap.vocabularies.UI.v1.DataField"&&r[f].Value.Path===s){return"idOnly"}}u=E.getTextArrangementForSmartControl(e,t,{},a);return u},checkMultiplicityForDataFieldAssociation:function(e,t,a){if(a.Value&&a.Value.Path){var r=a.Value.Path;var i=e.getModel(0);var n=i.getODataEntityType(t.entityType);var o;if(!(r.indexOf("/")>-1)){return true}while(r.indexOf("/")>-1){var l=r.split("/")[0];r=r.split("/").slice(1).join("/");n=i.getODataEntityType(o&&o.type)||n;o=i.getODataAssociationEnd(n,l)}if(o&&o.multiplicity==="*"){return false}}return true},checkMultiplicityForDataFieldAssociationInTable:function(e,t,a){if(a.Value&&a.Value.Path){var r=a.Value.Path;var i=e&&e.getModel&&e.getModel(0);var n=i&&i.getODataEntityType&&i.getODataEntityType(t.entityType);var o;if(!(r.indexOf("/")>-1)||!n){return false}while(r.indexOf("/")>-1){var l=r.split("/")[0];r=r.split("/").slice(1).join("/");n=i.getODataEntityType(o&&o.type)||n;o=i.getODataAssociationEnd(n,l)}if(o&&o.multiplicity==="*"){return true}}return false},checkIfDataFieldIsNotForStream:function(e){if(e.Value&&e.Value.Path){var t=e.Value.Path;if(t.endsWith("$value")){return false}return true}},hasQuickViewFacet:function(e,t){return t[e.entityType].sForceLinkRendering},buildHeaderInfoCustomData:function(e,t){var a="";var r="";var i=false;var n=false;if(t&&t.Title&&t.Title.Value){a=t.Title.Value.Path?t.Title.Value.Path:t.Title.Value.String||"";i=t.Title.Value.Path?true:false;n=false;if(t&&t.Description&&t.Description.Value){r=t.Description.Value.Path?t.Description.Value.Path:t.Description.Value.String||"";n=t.Description.Value.Path?true:false}}return'{"headerTitle":"'+a+'","isHeaderTitlePath":'+i+',"headerSubTitle":"'+r+'","isHeaderSubTitlePath":'+n+"}"},getPresentationVariantQualifier:function(e,t){var a=e[t];if(a.Visualizations||a.SortOrder){return t.split("#")[1]||""}else if(a.PresentationVariant&&(a.PresentationVariant.Path||a.PresentationVariant.AnnotationPath)){var r=a.PresentationVariant.Path||a.PresentationVariant.AnnotationPath;return r.split("#")[1]||""}else if(a.PresentationVariant){return""}},getPresentationVariantInitialExpansionLevel:function(e,t){var a=e[t];var r=E.getPresentationVariant(a,e);if(r.InitialExpansionLevel){return r.InitialExpansionLevel.Int}},getIconSemanticColor:function(e,t){var a="";if(t.EnumMember){a=t.EnumMember.split("/")[1]}else if(t.Value){var r=sap.ui.core.IconColor;switch(t.Value){case"0":a=r.Neutral;break;case"1":a=r.Negative;break;case"2":a=r.Critical;break;case"3":a=r.Positive;break;default:a=""}}else if(t.String){a=t.String}else if(t.Path){a="{= $"+sap.ui.model.odata.AnnotationHelper.simplePath(e,t)+"}"}return a},getConnectedFieldsTemplateParts:function(e){var t=e.String.trim().match(/{[A-Za-z0-9]*\w}/g);return t},getConnectedFieldsDelimiter:function(e){var t=E.getConnectedFieldsTemplateParts(e);var a=e.String.trim();var r=a.substring(t[0].length,a.indexOf(t[1]));return r},rearrangeConnectedFields:function(e){var t=e.getObject();var a=E.getConnectedFieldsTemplateParts(t.Template);var r={Data:{}};for(var i=0;i<a.length;i++){a[i]=a[i].replace("{","").replace("}","");r["Data"][a[i]]=t["Data"][a[i]]}t["Data"]=r["Data"];return" "},getEntityType:function(e){var t,a,r,i,n,o,l,s;t=e.getModel();a=t.getData();r=e.getObject();i=r&&r.entitySet;n=a.metaModel;if(!!i){o=n.getODataEntitySet(i);l=o&&o.entityType}else{l=a.entityType}s=n.createBindingContext(n.getODataEntityType(l,true));return s},getEntitySet:function(e){var t,a,r,i,n,o;t=e.getModel();a=t.getData();r=e.getObject();i=r&&r.entitySet;n=a.metaModel;if(!i){i=a.entitySet}o=n.createBindingContext(n.getODataEntitySet(i,true));return o},getTableAnnotationPath:function(e){var t,a,r,i,n,o,t;a=e.getModel();var l=a.getData();var s=l.metaModel;r=a.getObject(e.sPath);i=a.getData("workingContext")["workingContext"];o=i.tableChartTabs;for(n in o){if(o[n].key===r.key){t=o[n].lineItemPath;var u=s.createBindingContext(t);return u}}},getChartAnnotationPath:function(e){var t,a,r,i,n,o,t,l,s;a=e.getModel();var u=a.getProperty("/metaModel");r=a.getObject(e.sPath);n=a.getData("workingContext")["workingContext"].tableChartTabs;for(i in n){o=n[i].variantAnnotationPath;if(o===r.annotationPath){t=n[i].chartAbsolutePath;l=t+"/Actions";s=u.createBindingContext(l);return s}}},checkIfChartQualifier:function(e,t){return!!E.getChartQualifier(e,t)},getChartQualifier:function(e,t){var a,r,i;for(r in e.tableChartTabs){i=e.tableChartTabs[r].key;if(i===t.key){a=e.tableChartTabs[r].controlQualifier;break}}return a},getChartPresentationVariantQualifier:function(e,t){var a,r,i;for(r in e.tableChartTabs){i=e.tableChartTabs[r].key;if(i===t.key){a=e.tableChartTabs[r].variantQualifier;break}}return a},getFormattedAddress:function(e,t){var a="";if(t[0].street){a+=sap.ui.model.odata.AnnotationHelper.format(e,t[0].street)+", "}if(t[0].code){a+=sap.ui.model.odata.AnnotationHelper.format(e,t[0].code)+", "}if(t[0].locality){a+=sap.ui.model.odata.AnnotationHelper.format(e,t[0].locality)+", "}if(t[0].region){a+=sap.ui.model.odata.AnnotationHelper.format(e,t[0].region)+", "}if(t[0].country){a+=sap.ui.model.odata.AnnotationHelper.format(e,t[0].country)+", "}return a.slice(0,a.length-2)},checkIfChartNavigationIsEnabled:function(e,t,a,r){var i=e.showItemNavigationOnChart;if(!i){return false}a=!!e.entitySet?e.entitySet:a;for(var n=0;n<t.length;n++){if(t[n].entitySet===a&&t[n].navigation&&t[n].navigation["display"]){return true}}if(t&&t[0]&&t[0].entitySet===a&&(!t[0].navigation||t[0].navigation&&!t[0].navigation["display"])){return true}return false},checkIfDiffEntitySetsMode:function(e){var t;var a=e&&e.variants;for(t in a){if(a[t].entitySet){return true}}},getSaveAndNextButtonVisibility:function(e){var t=e["sap.ui.generic.app"].pages[0].component.settings&&e["sap.ui.generic.app"].pages[0].component.settings.editFlow;if(t==="direct"){return"{ui>/editable}"}else{return false}},checkCopyActionValidity:function(e){var t=(e||[]).filter(function(e){return e.RecordType==="com.sap.vocabularies.UI.v1.DataFieldForAction"&&(e["com.sap.vocabularies.UI.v1.IsCopyAction"]&&e["com.sap.vocabularies.UI.v1.IsCopyAction"].Bool)});if(t.length>1){v.error("Multiple actions are annotated with isCopyAction. There can be only one standard copy action.")}return t.length===1},buildSmartTableCustomizeConfig:function(e,t,a){var r=null;var i=e.getInterface(0).getModel();var n=E.handleNavigationRestrictions(i,t,a,"Insertable");if(n&&n["Insertable"]){var o=Object.create(null);var l=Object.create(null);var s=n["Insertable"];if(s.Bool){l["*"]=s.Bool==="true"}else if(s.Path){l["*"]=true}o["ignoreInsertRestrictions"]=l;r=JSON.stringify(o)}return r},getAnnotatedActionPress:function(e,t,a,r,i){var n="";switch(t.RecordType){case"com.sap.vocabularies.UI.v1.DataFieldForAction":var o=t.Action.String.split("/")[1];var l=e.annotatedActions&&e.annotatedActions[o];if(l){n="cmd:"+l.command}else if(r){n="._templateEventHandlers.onDeterminingDataFieldForAction"}else{n=i||"._templateEventHandlers.onCallActionFromToolBar"}break;case"com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation":var s=a["sap.app"].crossNavigation&&a["sap.app"].crossNavigation.outbounds;var u=Object.keys(s||{}).find(function(e){return s[e].semanticObject===t.SemanticObject.String&&s[e].action===t.Action.String});var c=e.outbounds&&e.outbounds[u];if(c){n="cmd:"+c.command}else{n=r?"._templateEventHandlers.onDeterminingDataFieldForIntentBasedNavigation":"._templateEventHandlers.onDataFieldForIntentBasedNavigation"}break;default:break}return n},getSideEffectSourcePropertyType:function(e,t,a,r){if(!t){return""}return g.getFieldSourcePropertiesType(e,a,r)},getPersistencyKey:function(e,t){switch(t){case"Retain":return e;case"Remove":return"";case"New":return e+"::Personalization";default:break}}};E.getBlockForEditableHeaderFacet.requiresIContext=true;E.setAriaText.requiresIContext=true;E.getLinkTextForDFwithIBN.requiresIContext=true;E.getLabelForDFwithIBN.requiresIContext=true;E.isPropertySemanticKey.requiresIContext=true;E.suppressP13NDuplicateColumns.requiresIContext=true;E.formatWithExpand.requiresIContext=true;E.formatWithExpandSimple.requiresIContext=true;E.getNavigationPathWithExpand.requiresIContext=true;E.getFormGroupBindingString.requiresIContext=true;E.getCurrentPathWithExpand.requiresIContext=true;E.getCurrentPathWithExpandForContact.requiresIContext=true;E.getTextArrangementForSmartControl.requiresIContext=true;E.createP13N.requiresIContext=true;E.createP13NColumnForConnectedFields.requiresIContext=true;E.createP13NColumnForIndicator.requiresIContext=true;E.createP13NColumnForAction.requiresIContext=true;E.createP13NColumnForContactPopUp.requiresIContext=true;E.createP13NColumnForChart.requiresIContext=true;E.getSortProperty.requiresIContext=true;E.getFilterProperty.requiresIContext=true;E.hasDeterminingActionsRespectingApplicablePath.requiresIContext=true;E.buildExpressionForProgressIndicatorPercentValue.requiresIContext=true;E.buildExpressionForProgressIndicatorDisplayValue.requiresIContext=true;E.getProgressIndicatorTooltip.requiresIContext=true;E.buildExpressionForProgressIndicatorCriticality.requiresIContext=true;E.areBooleanRestrictionsValidAndPossible.requiresIContext=true;E.isRelatedEntityCreatable.requiresIContext=true;E.buildBreadCrumbExpression.requiresIContext=true;E.getApplicablePathForChartToolbarActions.requiresIContext=true;E.buildAnnotatedActionButtonEnablementExpression.requiresIContext=true;E.getIconTabFilterText.requiresIContext=true;E.formatImageUrl.requiresIContext=true;E.getPathWithExpandFromHeader.requiresIContext=true;E.formatImageOrTypeUrl.requiresIContext=true;E.formatHeaderImage.requiresIContext=true;E.getDataFieldLabel.requiresIContext=true;E.getDataFieldValue.requiresIContext=true;E.getDataFieldValueSimplePath.requiresIContext=true;E.getActionButtonVisibility.requiresIContext=true;E.checkMultiplicityForDataFieldAssociation.requiresIContext=true;E.checkMultiplicityForDataFieldAssociationInTable.requiresIContext=true;E.getTextArrangementForSCFields.requiresIContext=true;E.buildActionButtonsCustomData.requiresIContext=true;E.buildHeaderInfoCustomData.requiresIContext=true;E.formatWithExpandSimplePath.requiresIContext=true;E.formatSmartField.requiresIContext=true;E.getIconSemanticColor.requiresIContext=true;E.getValueListReadOnly.requiresIContext=true;E.getImportanceForTableColumnsWithSemanticKeyTitleAndDescription.requiresIContext=true;E.getDefaultWidthForTableColumn.requiresIContext=true;E.getPropertyNameForText.requiresIContext=true;E.getColumnWidthForConnectedFields.requiresIContext=true;E.getFormattedAddress.requiresIContext=true;E.createP13NFileUploader.requiresIContext=true;E.buildSmartTableCustomizeConfig.requiresIContext=true;return E},true);
//# sourceMappingURL=AnnotationHelper.js.map