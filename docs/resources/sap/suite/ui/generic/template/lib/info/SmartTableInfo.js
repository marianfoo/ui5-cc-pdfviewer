sap.ui.define(["sap/base/util/isEmptyObject","sap/suite/ui/generic/template/js/StableIdHelper","sap/suite/ui/generic/template/js/AnnotationHelper","sap/suite/ui/generic/template/lib/info/CommonInfo"],function(e,t,n,a){"use strict";function r(r,i,o,s){var l;var g;var u;var c;var d={staticHiddenColumns:[],columnKeyToHiddenPath:undefined};var p=new a(["smartTable","smartControl","searchField","smartTableWithColumnHide"],m);function f(){p.pushCategory("smartTable",true);p.pushCategory("smartControl",true);c=o.oCommonUtils.getControlStateWrapperById(v(),"SmartTable");c.attachStateChanged(function(){o.initialStateAppliedPromise.then(o.oComponentUtils.stateChanged)})}function m(e){g=e;var t=i.getOwnerComponent().getModel().getMetaModel();var n=t.getODataEntitySet(g.getEntitySet());var a=t.getODataEntityType(n.entityType);var r=a["com.sap.vocabularies.UI.v1.LineItem"];var o=g.getCustomData();for(var s=0;s<o.length;s++){if(o[s].getKey()==="lineItemQualifier"){r=a["com.sap.vocabularies.UI.v1.LineItem#"+o[s].getValue()];break}}C(t,a,r||[]);c.setControl(g)}function C(t,n,a){var r=[];var i=Object.create(null);for(var o=0;o<a.length;o++){var l=a[o];h(r,i,t,n,l)}if(!e(i)||r.length){d.staticHiddenColumns=r;d.columnKeyToHiddenPath=i;s.pushCategory(v(),"smartTableWithColumnHide")}}function h(e,t,a,r,s){var l=/[A-Za-z].*[A-Za-z]/;var u=n.createP13NColumnKey(s);var c=n.getBindingForHiddenPath(s);if(c==="{= !${} }"){e.push(u)}if(typeof c==="string"){var d=c.match(l)&&c.match(l)[0];if(d&&d.indexOf("/")>0&&r.navigationProperty){var p=i.getOwnerComponent().getEntitySet();var f=d.split("/",1)[0];if(o.oCommonUtils.checkInverseNavigation(p,g.getTableBindingPath(),g.getEntitySet(),f)){t[u]=d.split("/").slice(1).join("/")}}}else if(!c){e.push(u)}}function v(){if(!l){var e=t.getStableId({type:"ObjectPageTable",subType:"SmartTable",sFacet:r.additionalData.facetId});l=i.getView().createId(e)}return l}function b(){p.getControlAsync().then(function(){var e=g.getDataStateIndicator();var t=e.isFiltering();if(t){e.refresh()}})}function y(){if(!u&&S()){u=i.getView().createId(r.tableSettings.searchSettings.id)}return u}function S(){return r.tableSettings.searchSettings&&r.tableSettings.searchSettings.enabled}function I(){p.getControlAsync().then(function(){g.rebindTable();var e=o.oServices.oPresentationControlHandlerFactory.getPresentationControlHandler(g);e.refresh()})}f();return{restrictedObject:{setControl:p.setControl,getControlAsync:p.getControlAsync,getId:v,getSearchFieldId:y,isSearchSupported:S,onSaveWithError:b,rebindTable:I,getControlStateWrapper:function(){return c},getHiddenColumnInfo:function(){return d}},getCategories:p.getCategories,pushCategory:function(e){return p.pushCategory(e)},getSupportedCategories:p.getSupportedCategories,getPendingExecutions:p.getPendingExecutions,pushPendingExecutions:p.pushPendingExecutions}}return r});
//# sourceMappingURL=SmartTableInfo.js.map