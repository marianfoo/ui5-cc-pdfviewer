sap.ui.define(["sap/ui/base/Object","sap/base/util/extend","sap/suite/ui/generic/template/genericUtilities/controlHelper","sap/suite/ui/generic/template/genericUtilities/FeLogger"],function(e,t,o,n){"use strict";var r="lib.FocusHelper";var i=new n(r);var s=i.getLogger();function c(e){function t(){var t=e.oNavigationControllerProxy&&e.oNavigationControllerProxy.getCurrentIdentity();var n={activeComponents:e.oNavigationControllerProxy?e.oNavigationControllerProxy.getActiveComponents():[],currentKeys:t&&t.keys};n.currentFocus=n.activeComponents.length>0&&o.getControlWithFocus();if(n.currentFocus){var r=n.currentFocus.getId();for(var i=n.activeComponents.length-1;i>=0;i--){var s=n.activeComponents[i];var c=e.componentRegistry[s];var a=c.oController.getView();if(o.isElementVisibleOnView(r,a)){n.currentFocusComponent=s;c.lastFocus=n.currentFocus;break}}}return n}function n(t,o){var n=e.oNavigationControllerProxy.getActiveComponents();var r=n[n.length-1];var i=e.componentRegistry[r];if(i.methods.setFocus){i.methods.setFocus(t,o)}}var r={getBeforeData:t,fallback:n};e.mBusyTopics.focus=r;function i(e){if(r.oneTimer){s.warning("Existing focus oneTimer replaced")}else{s.info("Set focus oneTimer")}r.oneTimer=e}return{setNextFocus:i}}return e.extend("sap.suite.ui.generic.template.lib.FocusHelper",{constructor:function(e){t(this,c(e))}})});
//# sourceMappingURL=FocusHelper.js.map