/*!
 * 
		SAP UI development toolkit for HTML5 (SAPUI5)
		(c) Copyright 2009-2015 SAP SE. All rights reserved
	
 */
sap.ui.define(["sap/ui/thirdparty/jquery","sap/m/Image","sap/ui/core/Control","sap/m/Text","sap/ui/core/library","./PictureZoomInRenderer"],function(jQuery,t,e,i,o,n){"use strict";var s=e.extend("sap.suite.ui.commons.PictureZoomIn",{metadata:{deprecated:true,library:"sap.suite.ui.commons",properties:{description:{type:"string",group:"Misc",defaultValue:null},imageSrc:{type:"sap.ui.core.URI",group:"Misc",defaultValue:null}},aggregations:{busyIndicator:{type:"sap.ui.core.Control",multiple:false}}}});s.prototype.init=function(){var e=this;jQuery(window).resize(function(t){e._calculateImg()});jQuery(document).on("keyup",function(t){if(t.keyCode===27){e.exit();jQuery(document.getElementById(e.getId())).remove()}});if(typeof jQuery(document).tap==="function"){jQuery(document).tap(function(){e.exit();jQuery(document.getElementById(e.getId())).remove()})}this._oImage=new t(this.getId()+"-image",{}).addStyleClass("sapSuiteUiCommonsPictureZoomInImg");this._oDescription=new i(this.getId()+"-description",{textAlign:o.TextAlign.Center});this._oDescription.addStyleClass("sapSuiteUiCommonsPictureZoomInDesc")};s.prototype.onBeforeRendering=function(){this._oImage.setSrc(this.getImageSrc());this._oDescription.setText(this.getDescription())};s.prototype._calculateImg=function(){var t=this.getId()+"-image"?window.document.getElementById(this.getId()+"-image"):null;var e=jQuery(document.getElementById(this.getId()+"-description"));if(!t){return}var i=jQuery(document.getElementById(this.getId()));if(t.naturalWidth<i.width()&&t.naturalHeight<i.height()-e.outerHeight(true)){t.style.width=t.naturalWidth+"px";t.style.height=t.naturalHeight+"px"}else if(t.naturalHeight/(i.height()-e.outerHeight(true))>t.naturalWidth/i.width()){t.style.height=""+(98-e.outerHeight(true)*100/i.height())+"%";t.style.width="auto"}else{t.style.width="96%";t.style.height="auto"}var o=jQuery(document.getElementById(this.getId()+"-image"));var n=i.width();var s=o.width();var r=o.height();if(n>=s){o.css("left",(n-s)/2+"px")}var a=(i.height()-r-e.outerHeight(true))/2;o.css("top",a+"px");e.css("top",a+"px")};s.prototype.onAfterRendering=function(){var t=this;var e=jQuery(document.getElementById(this.getId()+"-image"));var i=jQuery(document.getElementById(this.getId()+"-busy"));e.hide();if(i.length){i.show()}else{this.setBusy(true)}e.onload=function(){if(i.length){i.hide()}else{t.setBusy(false)}e.show();t._calculateImg()}};s.prototype.exit=function(){if(this._oImage){this._oImage.destroy()}if(this._oDescription){this._oDescription.destroy()}};return s});
//# sourceMappingURL=PictureZoomIn.js.map