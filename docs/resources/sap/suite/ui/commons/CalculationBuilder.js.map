{"version":3,"file":"CalculationBuilder.js","names":["sap","ui","define","jQuery","library","Control","CalculationBuilderItem","CalculationBuilderExpression","CalculationBuilderInput","CalculationBuilderFunction","OverflowToolbar","OverflowToolbarToggleButton","OverflowToolbarButton","ToolbarSpacer","Title","MessageBox","Log","uid","coreLibrary","mLibrary","FullScreenUtil","ButtonType","TitleLevel","Icons","Object","freeze","SHOW_EXPRESSION","EXPAND_VARIABLE","FULL_SCREEN","EXIT_FULL_SCREEN","oResourceBundle","getCore","getLibraryResourceBundle","OperatorType","CalculationBuilderOperatorType","LogicalOperatorType","CalculationBuilderLogicalOperatorType","ComparisonOperatorType","CalculationBuilderComparisonOperatorType","ItemType","CalculationBuilderItemType","FunctionType","CalculationBuilderFunctionType","LayoutTypes","CalculationBuilderLayoutType","ValidationMode","CalculationBuilderValidationMode","oNbspReg","RegExp","String","fromCharCode","FunctionsMap","abs","key","title","allowed","round","template","roundup","rounddown","sqrt","case","description","ndiv0","nodim","sumct","sumgt","sumrt","CalculationBuilder","extend","metadata","properties","expression","type","group","defaultValue","showToolbar","wrapItemsInExpression","layoutType","showInputToolbar","readOnly","allowComparisonOperators","allowLogicalOperators","allowSuggestions","allowStringConstants","allowStringLiterals","validationMode","LiveChange","disabledDefaultTokens","defaultAggregation","aggregations","items","multiple","singularName","bindable","forwarding","idSuffix","aggregation","forwardBinding","variables","functions","operators","groups","events","validateFunction","parameters","definition","customFunction","result","change","afterValidation","renderer","apiVersion","render","oRm","oCalculationBuilder","sWrapItemsClass","getWrapItemsInExpression","bIsLayoutTextualOnly","getLayoutType","TextualOnly","bDisplayInput","_bShowInput","bIsExpressionVisible","_isExpressionVisible","bIsInputVisible","_isInputVisible","bIsReadOnly","getReadOnly","openStart","class","openEnd","getShowToolbar","renderControl","getToolbar","_oExpressionBuilder","_bReadOnly","close","_oInput","VisualTextualReadOnly","Default","prototype","init","this","_mDisabledTokens","_oFullScreenContainer","_bIsFullScreen","getId","_expressionChanged","fireChange","bind","addDependent","oEvent","sText","getParameter","aItems","_stringToItems","iPosition","_smartRender","_setExpression","_convertEmptyHashes","getValidationMode","FocusOut","_validateInput","_recreateText","text","position","errors","_aErrors","_enableOrDisableExpandAllButton","sPlainText","_validateSyntax","_itemsToString","getItems","fireAfterValidation","_displayError","length","_printErrors","clone","sIdSuffix","oClone","apply","undefined","cloneChildren","cloneBindings","onBeforeRendering","_resetItems","_createToolbar","_createVariablesMap","_aVariables","getVariables","_bExpressionSet","_setItems","_sExpressionDirectValue","_bRendered","onAfterRendering","exit","_oFullScreenUtil","cleanUpFullScreen","_oToolbar","getInputToolbar","_oInputToolbar","validateParts","mParameters","from","to","appendError","oError","push","getErrors","validate","updateErrorsDisplay","aErrors","allowFunction","sFunction","bAllow","oFunction","toLowerCase","updateOrCreateItem","sKey","_updateOrCreateItem","getAllowStringConstants","warning","getAllowStringLiterals","setAllowStringConstants","bAllowStringConstants","setAllowStringLiterals","forEach","oItem","_reset","_findInArray","sProperty","some","sValue","_findInItems","getKey","_createErrorText","bOnlyNonIndexErrors","sTitle","iErrorCount","TOP_ERROR_COUNT","i","index","isNumeric","_getFunctionMap","_getFunctionDefinition","grep","getFunctions","_getFunctionDescription","sExpression","getText","sDescription","_getFunctionTemplateItems","sType","CustomFunction","Function","_convertToTemplate","_getFunctionAllowParametersCount","aTemplate","join","match","map","_isOperator","bAllowLogicalOperator","_isTokenAllowed","keys","getAllowLogicalOperators","getAllowComparisonOperators","_isFunction","_isCustomOperator","getOperators","_isStringLiteral","_getType","Empty","Operator","CustomOperator","Variable","Literal","isNaN","Error","_oShowInputButton","setVisible","_oToolbarTitle","setText","getTitle","titleStyle","H4","visible","content","addStyleClass","Transparent","icon","tooltip","pressed","press","$","find","toggle","addContent","_getExpandAllVariablesButton","oToggleButton","getSource","_toggleFullScreen","setAggregation","setProperty","focus","_oExpandAllVariablesButton","show","Icon","WARNING","actions","Action","OK","CANCEL","onClose","sAction","_expandAllVariables","$button","setEnabled","_isVariable","isExpandable","setExpression","_setupAriaLabel","getExpression","createInputText","replace","_oFullScreenButton","toggleFullScreen","_getGroupMap","_mGroups","VisualOnly","_createFunctionObject","_getLabel","getDescription","functionObject","_getAllFunctions","aFunctions","sort","o1","o2","setDisabledDefaultTokens","aValues","split","sParsedValue"],"sources":["CalculationBuilder-dbg.js"],"mappings":"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"}