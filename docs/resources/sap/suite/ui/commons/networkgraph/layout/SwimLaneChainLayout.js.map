{"version":3,"file":"SwimLaneChainLayout.js","names":["sap","ui","define","library","LayoutAlgorithm","Geometry","LayoutTask","Orientation","networkgraph","LayoutRenderType","GROUP_HEADER_SIZE","LANE_VERT_MARGIN","LANE_HORI_MARGIN","SPACE_BETWEEN_LANES","SPACE_BETWEEN_ROWS","COLLAPSED_LANE_WIDTH","LINE_FRAGMENT_FASCICLE_IDEAL_GAP","LINE_FRAGMENT_FASCICLE_MAX_SIZE","SwimLaneChainLayout","extend","metadata","properties","prototype","getLayoutRenderType","SwimLanes","layout","fnResolve","fnReject","oLayoutTask","oGraph","this","getParent","sError","_validateGraphDefinition","bVertLane","getOrientation","LeftRight","RightLeft","_calcLanesProperties","_findRoots","_initGrid","_traceAndStackNodes","_calcRowsProperties","_calcNodesCoordinates","getLines","forEach","oLine","_traceSingleLine","_calcLineCentroid","_aNipples","bind","_indexAllLineFragments","_cutLinesAtBoxNodeBorders","_removeLineOverlays","aHorizontalFragments","aVerticalFragments","_calcLanesWidthsAndPositions","_collapseShiftNodesAndLines","_alignCoordinatesWithView","_beautify","_findAllNipples","_cullLineFragmentsInCollapsedGroups","_bIsRtl","_verticalMirror","BottomTop","_horizontalMirror","aUnlanedNodes","getNodes","oNode","getGroup","push","getKey","length","join","_hasHierarchicalGroups","aLanes","getGroups","oGroup","setY","setX","sort","_iGroupIndex","indexOf","fNodeSize","aLaneWidths","aLaneOffsets","_iWidth","_iHeight","iLane","aLaneGroups","getMinWidth","fOffset","Object","keys","aRoots","aParents","aGrid","_bChainTraced","oRoot","_traceNodeChainDepthFirst","aChildren","oChild","iMaxRow","aSlope","aRowHeights","aRowOffsets","iRow","iIndex","iHeight","fGridHeight","iY","iCount","getBends","xSum","getSource","getX","getTarget","ySum","getY","oBend","_oCentroid","x","y","_indexLineFragments","aPoints","_getLinePointsList","p1","p2","i","line","index","cc","c1","c2","invert","aFragmentCollection","bHorizontally","oFrag","aFascicle","iSpaceOut","fGap","fSpaceOutOffset","j","_doFragmentsIntersect","f1","f2","_shiftLineFragment","fNewPosition","getCoordinates","oFrag1","oFrag2","fCollapseShift","sKey","mGroups","_fExpandedWidth","_fExpandedPosition","getCollapsed","fShift","fLaneShrink","getCenterPosition","oCoordinate","oFrom","oTo","oFromCenter","oToCenter","getFromNode","getToNode","setSource","setTarget","clearBends","iFromBendWidth","iToBendWidth","iFromBendHeight","iToBendHeight","Math","abs","addBend","bEmptySpace","iMin","min","iMax","max","xVertical","yHorizontal","oPrevPoint","oBendPoint","_shiftGraph","oBBox","_getGraphBoundingBox","aFragments","iStopSign","oGroup1","oGroup2","oFromGroup","oToGroup","bG1NippleSource","bG2NippleSource","fEdgeX","fEdgeY","oNipplePoint","sOrientation","oFragment","sGroupKey","_oGroup","undefined","TopBottom","orientation","oFirst","oSecond","fnIsPointInsideGroup","oCoord","fnCullLineFromOneSide","bReverse","fnGetFirstIndex","_isInCollapsedGroup","removeAggregation"],"sources":["SwimLaneChainLayout-dbg.js"],"mappings":"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"}