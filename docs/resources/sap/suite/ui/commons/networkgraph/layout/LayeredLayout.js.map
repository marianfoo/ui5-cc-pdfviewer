{"version":3,"file":"LayeredLayout.js","names":["sap","ui","define","library","LayoutAlgorithm","Geometry","KlayWrapper","LayoutTask","Measurement","Orientation","networkgraph","NodePlacement","LayoutRenderType","GROUP_TITLE_LIFT","GROUP_BOX_MARGIN","GROUP_POST_SHRINKAGE","NODE_PORT_WHITESPACE","NODE_KEY_PREFIX","GROUP_KEY_PREFIX","KEY_PREFIX_LENGTH","mNodePlacementMap","mMap","BrandesKoepf","LinearSegments","Simple","Object","freeze","LayeredLayout","extend","metadata","properties","nodeSpacing","type","defaultValue","lineSpacingFactor","nodePlacement","mergeEdges","prototype","getLayoutRenderType","LayeredWithGroups","layout","fnResolve","fnReject","oLayoutTask","oGraph","this","getParent","_hasHierarchicalGroups","oKGraph","children","edges","mLineMap","start","getId","getGroups","forEach","_addGroupToKlay","getNodes","_addNodeToKlay","getLines","_addLineToKlay","graph","options","_getOptions","success","isTerminated","_copyStuffWithoutPrefixes","oKItem","_extractNodeFromKlay","oKLine","_extractLineFromKlay","_dealWithOrientation","_makeExpandedGroupsBoxesAroundNodes","_shrinkGroupsDownward","_stretchLinesToCircleNodeAxes","_alignCoordinatesWithView","end","bind","error","_buildNodeForKlay","oNode","mProp","bIsCircle","_isCircle","getCoreNodeSize","_isCustom","iOuterSize","_getCircleSize","getOrientation","TopBottom","BottomTop","iBottomPortSpace","_iHeight","additionalPortSpace","iSidePortSpace","_iWidth","id","getKey","width","height","oGroup","_isIgnored","fBorder","_getBorderSize","oKGroup","push","getCollapsed","aNodes","_oGroup","oLine","sSource","sTarget","getFromNode","getFrom","getToNode","getTo","length","source","target","sOri","sDir","LeftRight","RightLeft","direction","spacing","getNodeSpacing","nodePlace","getNodePlacement","edgeSpacingFactor","getLineSpacingFactor","getMergeEdges","oItem","substring","getNodeByKey","originalId","undefined","mGroups","oKNode","setX","Math","round","x","setY","y","setSource","sourcePoint","setTarget","targetPoint","clearBends","bendPoints","oKBend","addBend","_shift","getX","getY","_bIsRtl","_verticalMirror","_horizontalMirror","aPoints","oBox","_getNodesPoints","getBoundingBox","enlargeBox","p1","p2","fNodeShift","oKChild","originalSource","originalTarget"],"sources":["LayeredLayout-dbg.js"],"mappings":"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"}