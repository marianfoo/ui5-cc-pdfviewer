/*!
 * 
		SAP UI development toolkit for HTML5 (SAPUI5)
		(c) Copyright 2009-2015 SAP SE. All rights reserved
	
 */
sap.ui.define(["sap/ui/thirdparty/jquery","./library","sap/ui/core/Control","sap/ui/core/IconPool","sap/ui/Device","sap/m/Label","sap/ui/core/ResizeHandler","sap/ui/events/KeyCodes","./FacetOverviewRenderer"],function(jQuery,e,t,i,s,r,o,a,n){"use strict";var h=t.extend("sap.suite.ui.commons.FacetOverview",{metadata:{deprecated:true,library:"sap.suite.ui.commons",properties:{title:{type:"string",group:"Misc",defaultValue:null},quantity:{type:"int",group:"Misc",defaultValue:-1},width:{type:"sap.ui.core.CSSSize",group:"Misc",defaultValue:"auto"},height:{type:"sap.ui.core.CSSSize",group:"Misc",defaultValue:"10rem",deprecated:true},rowSpan:{type:"int",group:"Misc",defaultValue:1,deprecated:true},heightType:{type:"sap.suite.ui.commons.FacetOverviewHeight",group:"Misc",defaultValue:"None"}},aggregations:{content:{type:"sap.ui.core.Control",multiple:false}},events:{press:{parameters:{id:{type:"string"}}},heightChange:{}}}});h.prototype.init=function(){this._rb=sap.ui.getCore().getLibraryResourceBundle("sap.suite.ui.commons");if(s.system.desktop){this._oHoverIcon=i.createControlByURI({id:this.getId()+"-hover-icon-img",src:"sap-icon://slim-arrow-right"})}else{s.orientation.attachHandler(function(e){this._updateTitleMaxWidth(e)},this)}this._oNoDataLabel=new r(this.getId()+"-no-content",{text:this._rb.getText("FACETOVERVIEW_NO_ITEMS_TEXT")})};h.prototype.exit=function(){if(this._oHoverIcon){this._oHoverIcon.destroy()}o.deregister(this._sTitleResizeHandlerId);s.orientation.detachHandler(function(){this._updateTitleMaxWidth()},this);this._oNoDataLabel.destroy()};h.prototype._updateTitleMaxWidth=function(e){this._handleTitleResize()};h.prototype._handleTitleResize=function(){var e=jQuery(document.getElementById(this.getId()+"-title")).width();if(this._iTitleWidth!=e){var t=e-jQuery(document.getElementById(this.getId()+"-qty")).outerWidth()-15;jQuery(document.getElementById(this.getId()+"-title-text")).css("max-width",t+"px");this._iTitleWidth=e}};h.prototype.onAfterRendering=function(){if(s.system.desktop){if(this._sTitleResizeHandlerId){o.deregister(this._sTitleResizeHandlerId)}var e=this.getId()+"-title"?window.document.getElementById(this.getId()+"-title"):null;this._sTitleResizeHandlerId=o.register(e,jQuery.proxy(this._handleTitleResize,this))}this._handleTitleResize();if(s.system.desktop){this.$()[0].addEventListener("focusin",function(e){this.$().find("[data-tabindex]").attr("tabindex",function(){return this.getAttribute("data-tabindex")})}.bind(this),true);this.onsapfocusleave()}};h.prototype.onclick=function(e){if(e.srcControl.getMetadata().getName()!="sap.m.Link"){this.firePress({id:this.getId()})}};h.prototype.onkeydown=function(e){if(e.which==a.ENTER){this.onclick(e)}};h.prototype.onsapfocusleave=function(e){if(s.system.desktop){this.$().find("[data-tabindex]").removeAttr("data-tabindex");this.$().find("[tabindex]").attr("data-tabindex",function(){return this.getAttribute("tabindex")}).attr("tabindex","-1")}};h.prototype.onsaptouchstart=function(e){if(this.hasListeners("press")){if(e.srcControl.getMetadata().getName()!="sap.m.Link"){this.addStyleClass("sapSuiteFovSelected")}}};h.prototype.onsaptouchend=function(e){if(this.hasListeners("press")){this.removeStyleClass("sapSuiteFovSelected")}};h.prototype.ontouchmove=function(e){if(this.hasListeners("press")){this.removeStyleClass("sapSuiteFovSelected")}};h.prototype.ontouchstart=function(e){if(this.hasListeners("press")){if(e.srcControl.getMetadata().getName()!="sap.m.Link"){this.addStyleClass("sapSuiteFovSelected")}}};h.prototype.ontouchend=function(e){if(this.hasListeners("press")){this.removeStyleClass("sapSuiteFovSelected")}};h.prototype.ontouchmove=function(e){if(this.hasStyleClass("sapSuiteFovSelected")){this.removeStyleClass("sapSuiteFovSelected")}};h.prototype.getHeight=function(){switch(this.getHeightType()){case e.FacetOverviewHeight.XS:return"4rem";case e.FacetOverviewHeight.S:return"6rem";case e.FacetOverviewHeight.M:return"10rem";case e.FacetOverviewHeight.L:return"14rem";case e.FacetOverviewHeight.XL:return"21rem";case e.FacetOverviewHeight.XXL:return"32rem";case e.FacetOverviewHeight.Auto:return"auto";case e.FacetOverviewHeight.None:default:return this.getProperty("height")}};h.prototype.setHeight=function(e){this.setProperty("height",e);this.fireHeightChange();return this};h.prototype.setHeightType=function(e){this.setProperty("heightType",e);this.fireHeightChange();return this};return h});
//# sourceMappingURL=FacetOverview.js.map