/*!
 * 
		SAP UI development toolkit for HTML5 (SAPUI5)
		(c) Copyright 2009-2015 SAP SE. All rights reserved
	
 */
sap.ui.define(["sap/ui/thirdparty/jquery","sap/m/Text","./library","sap/ui/core/Control","sap/ui/core/IconPool","sap/ui/Device","sap/ui/core/Icon","sap/base/Log","./ProcessFlowNodeRenderer"],function(jQuery,e,s,o,t,a,l,r,i){"use strict";var d=o.extend("sap.suite.ui.commons.ProcessFlowNode",{metadata:{library:"sap.suite.ui.commons",properties:{title:{type:"string",group:"Misc",defaultValue:null},isTitleClickable:{type:"boolean",group:"Behavior",defaultValue:false,deprecated:true},laneId:{type:"string",group:"Misc",defaultValue:null},nodeId:{type:"string",group:"Misc",defaultValue:null},state:{type:"sap.suite.ui.commons.ProcessFlowNodeState",group:"Appearance",defaultValue:"Neutral"},type:{type:"sap.suite.ui.commons.ProcessFlowNodeType",group:"Appearance",defaultValue:"Single"},children:{type:"any[]",group:"Misc",defaultValue:null},titleAbbreviation:{type:"string",group:"Data",defaultValue:null},stateText:{type:"string",group:"Data",defaultValue:null},texts:{type:"string[]",group:"Misc",defaultValue:null},highlighted:{type:"boolean",group:"Appearance",defaultValue:false},focused:{type:"boolean",group:"Appearance",defaultValue:false},tag:{type:"object",group:"Misc",defaultValue:null},selected:{type:"boolean",group:"Appearance",defaultValue:false}},aggregations:{zoomLevelOneContent:{type:"sap.ui.core.Control",multiple:false,group:"Misc"},zoomLevelTwoContent:{type:"sap.ui.core.Control",multiple:false,group:"Misc"},zoomLevelThreeContent:{type:"sap.ui.core.Control",multiple:false,group:"Misc"},zoomLevelFourContent:{type:"sap.ui.core.Control",multiple:false,group:"Misc"},ariaProperties:{type:"sap.suite.ui.commons.AriaProperties",multiple:false,group:"Misc"}},associations:{parents:{type:"sap.suite.ui.commons.ProcessFlowNode",multiple:true,singularName:"parent"}},events:{titlePress:{deprecated:true,parameters:{oEvent:{type:"object"}}},press:{parameters:{oEvent:{type:"object"}}}}}});d.prototype._zoomLevel=s.ProcessFlowZoomLevel.Two;d.prototype._tag=null;d.prototype._displayState=s.ProcessFlowDisplayState.Regular;d.prototype._oResBundle=null;d.prototype._mergedLaneId=null;d.prototype._foldedCorner=false;d.prototype._foldedCornerControl=null;d.prototype._parent=null;d.prototype._headerControl=null;d.prototype._stateTextControl=null;d.prototype._iconControl=null;d.prototype._text1Control=null;d.prototype._text2Control=null;d.prototype._navigationFocus=false;d.prototype._sMouseEvents=" mousedown mouseup mouseenter mouseleave ";d.prototype._sMouseTouchEvents=a.support.touch?"saptouchstart saptouchcancel touchstart touchend":"";d.prototype._grabCursorClass="sapSuiteUiGrabCursorPF";d.prototype._grabbingCursorClass="sapSuiteUiGrabbingCursorPF";d.prototype._nodeHoverClass="sapSuiteUiCommonsProcessFlowNodeHover";d.prototype._nodeActiveClass="sapSuiteUiCommonsProcessFlowNodeActive";d.prototype._nodePlannedClass="sapSuiteUiCommonsProcessFlowNodeStatePlanned";d.prototype._nodePlannedClassIdentifier="."+d.prototype._nodePlannedClass;d.prototype._nodeFCHoverClass="sapSuiteUiCommonsProcessFlowFoldedCornerNodeHover";d.prototype._nodeFCActiveClass="sapSuiteUiCommonsProcessFlowFoldedCornerNodeActive";d.prototype._nodeFCIconHoverClass="sapSuiteUiCommonsProcessFlowFoldedCornerNodeIconHover";d.prototype._nodeAggregatedClass="sapSuiteUiCommonsProcessFlowNodeAggregated";d.prototype._nodeAggregatedHoveredClass="sapSuiteUiCommonsProcessFlowNodeAggregatedHovered";d.prototype._nodeAggregatedDimmedClass="sapSuiteUiCommonsProcessFlowNodeAggregatedDimmed";d.prototype._nodeAggregatedFocusedClass="sapSuiteUiCommonsProcessFlowNodeAggregatedFocused";d.prototype._nodeAggregatedPressedClass="sapSuiteUiCommonsProcessFlowNodeAggregatedPressed";d.prototype._nodeAggregatedDimmedPressedClass="sapSuiteUiCommonsProcessFlowNodeAggregatedDimmedPressed";d.prototype._nodeAggregatedDimmedHoveredClass="sapSuiteUiCommonsProcessFlowNodeAggregatedDimmedHovered";d.prototype._nodeAggregatedClassZoomLevel4="sapSuiteUiCommonsProcessFlowNodeAggregatedZoomLevel4";d.prototype._nodeAggregatedHoveredClassZoomLevel4="sapSuiteUiCommonsProcessFlowNodeAggregatedHoveredZoomLevel4";d.prototype._nodeAggregatedPressedClassZoomLevel4="sapSuiteUiCommonsProcessFlowNodeAggregatedPressedZoomLevel4";d.prototype._nodeAggregatedDimmedClassZoomLevel4="sapSuiteUiCommonsProcessFlowNodeAggregatedDimmedZoomLevel4";d.prototype._nodeAggregatedFocusedClassZoomLevel4="sapSuiteUiCommonsProcessFlowNodeAggregatedFocusedZoomLevel4";d.prototype._nodeAggregatedDimmedPressedClassZoomLevel4="sapSuiteUiCommonsProcessFlowNodeAggregatedDimmedPressedZoomLevel4";d.prototype._nodeAggregatedDimmedHoveredClassZoomLevel4="sapSuiteUiCommonsProcessFlowNodeAggregatedDimmedHoveredZoomLevel4";d.prototype.init=function(){t.addIcon("context-menu","businessSuite","PFBusinessSuiteInAppSymbols","e02b",true);if(!this._oResBundle){this._oResBundle=sap.ui.getCore().getLibraryResourceBundle("sap.suite.ui.commons")}};d.prototype.exit=function(){if(this._foldedCornerControl){this._foldedCornerControl.destroy();this._foldedCornerControl=null}if(this._headerControl){this._headerControl.destroy();this._headerControl=null}if(this._stateTextControl){this._stateTextControl.destroy();this._stateTextControl=null}if(this._iconControl){this._iconControl.destroy();this._iconControl=null}if(this._text1Control){this._text1Control.destroy();this._text1Control=null}if(this._text2Control){this._text2Control.destroy();this._text2Control=null}this.$().off(this._sMouseEvents,this._handleEvents);if(a.support.touch){this.$().off(this._sMouseTouchEvents,this._handleEvents)}};d.prototype.onBeforeRendering=function(){this.$().off(this._sMouseEvents,this._handleEvents);if(a.support.touch){this.$().off(this._sMouseTouchEvents,this._handleEvents)}};d.prototype.onAfterRendering=function(){this._sMouseEvents=this._sMouseEvents.concat(" ",this._sMouseTouchEvents);this.$().bind(this._sMouseEvents,jQuery.proxy(this._handleEvents,this))};d.prototype._handleClick=function(e){if(this._parent&&this._parent._bHighlightedMode&&this._getDisplayState()===s.ProcessFlowDisplayState.Dimmed||this._getDisplayState()===s.ProcessFlowDisplayState.DimmedFocused){r.info("Event ignored, node in dimmed state.")}else if(this._parent){this.getParent()._changeNavigationFocus(this.getParent()._getLastNavigationFocusElement(),this);if(e.target.id.indexOf("title")>=0&&this.getIsTitleClickable()){this._parent.fireNodeTitlePress(this)}else{this._parent.fireNodePress(this)}}if(e&&!e.isPropagationStopped()){e.stopPropagation()}if(e&&!e.isImmediatePropagationStopped()){e.stopImmediatePropagation()}};d.prototype.onclick=function(e){if(e&&!e.isDefaultPrevented()){e.preventDefault()}this._handleClick(e)};d.prototype._handleEvents=function(e){var o=this.$().find("*");var t=this.$().attr("id");var l=this._getFoldedCorner();var r=this.getParent();var i=o.not(".sapUiIconTitle");if(e&&!e.isDefaultPrevented()){e.preventDefault()}if(this._parent&&this._parent._bHighlightedMode&&this._getDimmed()){return}if(this.getType()===s.ProcessFlowNodeType.Aggregated){this._adjustClassesForAggregation(e)}var d=sap.ui.require("sap/suite/ui/commons/ProcessFlow");if(!d){return}function n(e){return e.replace(/([:.\[\],=@])/g,"\\$1")}switch(e.type){case d._mouseEvents.mouseDown:case"keydown":this.$().removeClass(this._nodeHoverClass).addClass(this._nodeActiveClass);o.removeClass(this._nodeHoverClass);i.addClass(this._nodeActiveClass);if(l){jQuery(document.getElementById(t)).removeClass(this._nodeFCHoverClass+" "+this._nodeActiveClass).addClass(this._nodeFCActiveClass);jQuery("div[id^="+n(t)+"][id$=-corner-container]").removeClass(this._nodeFCIconHoverClass+" "+this._nodeActiveClass).addClass(this._nodeFCActiveClass);jQuery("span[id^="+n(t)+"][id$=-corner-icon]").removeClass(this._nodeFCIconHoverClass+" "+this._nodeActiveClass).addClass(this._nodeFCActiveClass)}break;case d._mouseEvents.mouseUp:if(r.$().hasClass(this._grabbingCursorClass)){r.$().removeClass(this._grabbingCursorClass)}this.$().removeClass(this._nodeActiveClass).addClass(this._nodeHoverClass);o.removeClass(this._nodeActiveClass).addClass(this._nodeHoverClass);if(l){jQuery(document.getElementById(t)).removeClass(this._nodeHoverClass+" "+this._nodeFCActiveClass).addClass(this._nodeFCHoverClass);jQuery("div[id^="+n(t)+"][id$=-corner-container]").removeClass(this._nodeHoverClass+" "+this._nodeFCActiveClass).addClass(this._nodeFCIconHoverClass);jQuery("span[id^="+n(t)+"][id$=-corner-icon]").removeClass(this._nodeHoverClass+" "+this._nodeFCActiveClass).addClass(this._nodeFCIconHoverClass)}break;case d._mouseEvents.mouseEnter:if(!r.$().hasClass(this._grabbingCursorClass)){this.$().addClass(this._nodeHoverClass);i.addClass(this._nodeHoverClass);this.$().find(this._nodePlannedClassIdentifier).find("*").addClass(this._nodePlannedClass);if(l){jQuery(document.getElementById(t)).removeClass(this._nodeHoverClass).addClass(this._nodeFCHoverClass);jQuery("div[id^="+n(t)+"][id$=-corner-container]").removeClass(this._nodeHoverClass).addClass(this._nodeFCIconHoverClass);jQuery("span[id^="+n(t)+"][id$=-corner-icon]").removeClass(this._nodeHoverClass).addClass(this._nodeFCIconHoverClass)}}break;case d._mouseEvents.mouseLeave:case"keyup":this.$().removeClass(this._nodeActiveClass+" "+this._nodeHoverClass);o.removeClass(this._nodeActiveClass+" "+this._nodeHoverClass);if(l){jQuery(document.getElementById(t)).removeClass(this._nodeFCActiveClass+" "+this._nodeFCHoverClass);jQuery("div[id^="+n(t)+"][id$=-corner-container]").removeClass(this._nodeFCActiveClass+" "+this._nodeFCIconHoverClass);jQuery("span[id^="+n(t)+"][id$=-corner-icon]").removeClass(this._nodeFCActiveClass+" "+this._nodeFCIconHoverClass)}if(!r.$().hasClass(this._grabbingCursorClass)){r.$().addClass(this._grabCursorClass)}break;case d._mouseEvents.touchStart:if(a.support.touch){this.$().addClass(this._nodeActiveClass);i.addClass(this._nodeActiveClass);if(l){jQuery(document.getElementById(t)).removeClass(this._nodeActiveClass).addClass(this._nodeFCActiveClass);jQuery("div[id^="+n(t)+"][id$=-corner-container]").removeClass(this._nodeActiveClass).addClass(this._nodeFCActiveClass);jQuery("span[id^="+n(t)+"][id$=-corner-icon]").removeClass(this._nodeActiveClass).addClass(this._nodeFCActiveClass)}}break;case d._mouseEvents.sapTouchStart:this.$().removeClass(this._nodeHoverClass).addClass(this._nodeActiveClass);o.removeClass(this._nodeHoverClass);i.addClass(this._nodeActiveClass);if(l){jQuery(document.getElementById(t)).removeClass(this._nodeFCHoverClass+" "+this._nodeActiveClass).addClass(this._nodeFCActiveClass);jQuery("div[id^="+n(t)+"][id$=-corner-container]").removeClass(this._nodeFCIconHoverClass+" "+this._nodeActiveClass).addClass(this._nodeFCActiveClass);jQuery("span[id^="+n(t)+"][id$=-corner-icon]").removeClass(this._nodeFCIconHoverClass+" "+this._nodeActiveClass).addClass(this._nodeFCActiveClass)}break;case d._mouseEvents.touchEnd:if(a.support.touch){this.$().removeClass(this._nodeActiveClass+" "+this._nodeHoverClass);o.removeClass(this._nodeActiveClass+" "+this._nodeHoverClass);if(l){jQuery(document.getElementById(t)).removeClass(this._nodeFCActiveClass+" "+this._nodeFCHoverClass);jQuery("div[id^="+n(t)+"][id$=-corner-container]").removeClass(this._nodeFCActiveClass+" "+this._nodeFCIconHoverClass);jQuery("span[id^="+n(t)+"][id$=-corner-icon]").removeClass(this._nodeFCActiveClass+" "+this._nodeFCIconHoverClass)}}this._handleClick(e);break;case d._mouseEvents.sapTouchCancel:this.$().removeClass(this._nodeActiveClass).addClass(this._nodeHoverClass);o.removeClass(this._nodeActiveClass).addClass(this._nodeHoverClass);if(l){jQuery(document.getElementById(t)).removeClass(this._nodeFCActiveClass+" "+this._nodeHoverClass).addClass(this._nodeFCHoverClass);jQuery("div[id^="+n(t)+"][id$=-corner-container]").removeClass(this._nodeFCActiveClass+" "+this._nodeHoverClass).addClass(this._nodeFCIconHoverClass);jQuery("span[id^="+n(t)+"][id$=-corner-icon]").removeClass(this._nodeFCActiveClass+" "+this._nodeHoverClass).addClass(this._nodeFCIconHoverClass)}break;default:break}};d.prototype._setMergedLaneId=function(e){this._mergedLaneId=e};d.prototype._setParentFlow=function(e){this._parent=e};d.prototype._getFoldedCornerControl=function(){if(this._foldedCornerControl){this._foldedCornerControl.destroy()}this._foldedCornerControl=new l({id:this.getId()+"-corner-icon",src:t.getIconURI("context-menu","businessSuite"),visible:true});if(this._parent&&!this._parent._bHighlightedMode||!this._getDimmed()){this._foldedCornerControl.addStyleClass("sapUiIconPointer")}switch(this._getZoomLevel()){case s.ProcessFlowZoomLevel.One:this._foldedCornerControl.addStyleClass("sapSuiteUiCommonsProcessFlowNode1ZoomLevel1");break;case s.ProcessFlowZoomLevel.Two:this._foldedCornerControl.addStyleClass("sapSuiteUiCommonsProcessFlowNode1ZoomLevel2");break;case s.ProcessFlowZoomLevel.Three:this._foldedCornerControl.addStyleClass("sapSuiteUiCommonsProcessFlowNode1ZoomLevel3");break;case s.ProcessFlowZoomLevel.Four:this._foldedCornerControl.addStyleClass("sapSuiteUiCommonsProcessFlowNode1ZoomLevel4");break;default:break}this._foldedCornerControl.addStyleClass("sapSuiteUiCommonsProcessFlowNode1");return this._foldedCornerControl};d.prototype._getHeaderControl=function(){if(this._headerControl){this._headerControl.destroy()}var o=0;var t="";var a=true;var l=this.getTitle();switch(this._getZoomLevel()){case s.ProcessFlowZoomLevel.One:o=3;break;case s.ProcessFlowZoomLevel.Two:o=3;break;case s.ProcessFlowZoomLevel.Three:o=2;l=this.getTitleAbbreviation();break;case s.ProcessFlowZoomLevel.Four:l="";o=0;t="0px";a=false;break;default:break}this._headerControl=new e({id:this.getId()+"-nodeid-anchor-title",text:l,visible:a,wrapping:true,wrappingType:sap.m.WrappingType.Hyphenated,width:t,maxLines:o});if(this.getIsTitleClickable()){this._headerControl.addStyleClass("sapSuiteUiCommonsProcessFlowNode3TitleClickable")}switch(this._getZoomLevel()){case s.ProcessFlowZoomLevel.One:this._headerControl.addStyleClass("sapSuiteUiCommonsProcessFlowNode3TitleZoomLevel1");break;case s.ProcessFlowZoomLevel.Two:this._headerControl.addStyleClass("sapSuiteUiCommonsProcessFlowNode3TitleZoomLevel2");break;case s.ProcessFlowZoomLevel.Three:this._headerControl.addStyleClass("sapSuiteUiCommonsProcessFlowNode3TitleZoomLevel3");break;case s.ProcessFlowZoomLevel.Four:this._headerControl.addStyleClass("sapSuiteUiCommonsProcessFlowNode3TitleZoomLevel4");break;default:break}this._headerControl.addStyleClass("sapSuiteUiCommonsProcessFlowNode3Title");return this._headerControl};d.prototype._getIconControl=function(){if(this._iconControl){this._iconControl.destroy()}var e=null;var o=true;switch(this.getState()){case s.ProcessFlowNodeState.Positive:e="sap-icon://message-success";break;case s.ProcessFlowNodeState.Negative:case s.ProcessFlowNodeState.PlannedNegative:e="sap-icon://message-error";break;case s.ProcessFlowNodeState.Planned:e=null;break;case s.ProcessFlowNodeState.Neutral:e="sap-icon://process";break;case s.ProcessFlowNodeState.Critical:e="sap-icon://message-warning";break;default:break}this._iconControl=new l({id:this.getId()+"-icon",src:e,visible:o});if(this._parent&&!this._parent._bHighlightedMode||!this._getDimmed()){this._iconControl.addStyleClass("sapUiIconPointer")}var t=sap.ui.getCore().getConfiguration().getRTL();if(t){this._iconControl.addStyleClass("sapUiIconSuppressMirrorInRTL")}switch(this._getZoomLevel()){case s.ProcessFlowZoomLevel.One:case s.ProcessFlowZoomLevel.Two:var a="sapSuiteUiCommonsProcessFlowNode3StateIconLeft";if(t){a="sapSuiteUiCommonsProcessFlowNode3StateIconRight"}this._iconControl.addStyleClass(a);break;case s.ProcessFlowZoomLevel.Three:case s.ProcessFlowZoomLevel.Four:this._iconControl.addStyleClass("sapSuiteUiCommonsProcessFlowNode3StateIconCenter");break;default:break}switch(this._getZoomLevel()){case s.ProcessFlowZoomLevel.One:this._iconControl.addStyleClass("sapSuiteUiCommonsProcessFlowNode3StateIconZoomLevel1");break;case s.ProcessFlowZoomLevel.Two:this._iconControl.addStyleClass("sapSuiteUiCommonsProcessFlowNode3StateIconZoomLevel2");break;case s.ProcessFlowZoomLevel.Three:this._iconControl.addStyleClass("sapSuiteUiCommonsProcessFlowNode3StateIconZoomLevel3");break;case s.ProcessFlowZoomLevel.Four:this._iconControl.addStyleClass("sapSuiteUiCommonsProcessFlowNode3StateIconZoomLevel4");break;default:break}this._iconControl.addStyleClass("sapSuiteUiCommonsProcessFlowNode3StateIcon");return this._iconControl};d.prototype._getStateTextControl=function(){if(this._stateTextControl){this._stateTextControl.destroy()}var o=2;var t="";var a=true;var l=this.getState();var r=l===s.ProcessFlowNodeState.Planned?"":this.getStateText();if(l===s.ProcessFlowNodeState.PlannedNegative&&r.length===0){r="Planned Negative"}switch(this._getZoomLevel()){case s.ProcessFlowZoomLevel.One:case s.ProcessFlowZoomLevel.Two:case s.ProcessFlowZoomLevel.Three:o=2;break;case s.ProcessFlowZoomLevel.Four:r="";o=0;t="0px";a=false;break;default:break}this._stateTextControl=new e({id:this.getId()+"-stateText",text:r,visible:a,wrapping:true,wrappingType:sap.m.WrappingType.Hyphenated,width:t,maxLines:o});switch(l){case s.ProcessFlowNodeState.Positive:this._stateTextControl.addStyleClass("sapSuiteUiCommonsProcessFlowNode3StatePositive");break;case s.ProcessFlowNodeState.Negative:this._stateTextControl.addStyleClass("sapSuiteUiCommonsProcessFlowNodeStateNegative");break;case s.ProcessFlowNodeState.Planned:this._stateTextControl.addStyleClass("sapSuiteUiCommonsProcessFlowNode3StatePlanned");break;case s.ProcessFlowNodeState.Neutral:this._stateTextControl.addStyleClass("sapSuiteUiCommonsProcessFlowNode3StateNeutral");break;case s.ProcessFlowNodeState.PlannedNegative:this._stateTextControl.addStyleClass("sapSuiteUiCommonsProcessFlowNode3StatePlanned");break;case s.ProcessFlowNodeState.Critical:this._stateTextControl.addStyleClass("sapSuiteUiCommonsProcessFlowNode3StateCritical");break;default:break}switch(this._getZoomLevel()){case s.ProcessFlowZoomLevel.One:this._stateTextControl.addStyleClass("sapSuiteUiCommonsProcessFlowNode3StateTextZoomLevel1");break;case s.ProcessFlowZoomLevel.Two:this._stateTextControl.addStyleClass("sapSuiteUiCommonsProcessFlowNode3StateTextZoomLevel2");break;case s.ProcessFlowZoomLevel.Three:this._stateTextControl.addStyleClass("sapSuiteUiCommonsProcessFlowNode3StateTextZoomLevel3");break;case s.ProcessFlowZoomLevel.Four:this._stateTextControl.addStyleClass("sapSuiteUiCommonsProcessFlowNode3StateTextZoomLevel4");break;default:break}this._stateTextControl.addStyleClass("sapSuiteUiCommonsProcessFlowNode3StateText");return this._stateTextControl};d.prototype._getZoomLevel=function(){return this._zoomLevel};d.prototype._setZoomLevel=function(e){this._zoomLevel=e};d.prototype._setNavigationFocus=function(e){this._navigationFocus=e};d.prototype._getNavigationFocus=function(){return this._navigationFocus};d.prototype._setFoldedCorner=function(e){this._foldedCorner=e};d.prototype._getFoldedCorner=function(){return this._foldedCorner};d.prototype._setTag=function(e){this._tag=e};d.prototype._getTag=function(){return this._tag};d.prototype._setDimmedState=function(){var e=this.getFocused();var o=this.getHighlighted();var t=this.getSelected();if(o||t){throw new Error("Cannot set highlighed or selected node to dimmed state"+this.getNodeId())}this._displayState=s.ProcessFlowDisplayState.Dimmed;if(e){this._displayState=s.ProcessFlowDisplayState.DimmedFocused}};d.prototype._setRegularState=function(){this._displayState=s.ProcessFlowDisplayState.Regular};d.prototype._getLane=function(){var e=this.getParent();var s=null;if(e){s=e._getLane(this.getLaneId())}return s};d.prototype._getDimmed=function(){return this._displayState===s.ProcessFlowDisplayState.Dimmed||this._displayState===s.ProcessFlowDisplayState.DimmedFocused};d.prototype._getAriaText=function(){var e=this.getParents().length;var o=this._getCurrentZoomLevelContent();var t=0;if(this._hasChildren()){t=this.getChildren().length}var a="";var l=this._getLane();if(l){a=l.getText();if(!a){a=this._oResBundle.getText("PF_VALUE_UNDEFINED")}}var r="";var i=this.getTexts();if(i){for(var d in i){if(i[d]){var n=i[d].concat(", ");r=r.concat(n)}}r=r.slice(0,-1)}var C=this.getTitle();if(!C&&!o){C=this._oResBundle.getText("PF_VALUE_UNDEFINED")}var c=this.getState();if(!c){c=this._oResBundle.getText("PF_VALUE_UNDEFINED")}var m=this.getStateText();if(this.getState()===s.ProcessFlowNodeState.Planned){m=""}var p="";if(this.getType()===s.ProcessFlowNodeType.Aggregated){p=this._oResBundle.getText("PF_ARIA_TYPE")}return this._oResBundle.getText("PF_ARIA_NODE",[C,c,m,a,r,e,t,p])};d.prototype._getDisplayState=function(){var e=this.getFocused();var o=this.getHighlighted();var t=this.getSelected();if(this._displayState===s.ProcessFlowDisplayState.Dimmed||this._displayState===s.ProcessFlowDisplayState.DimmedFocused){return this._displayState}if(t){if(o){if(e){this._displayState=s.ProcessFlowDisplayState.SelectedHighlightedFocused}else{this._displayState=s.ProcessFlowDisplayState.SelectedHighlighted}}else if(e){this._displayState=s.ProcessFlowDisplayState.SelectedFocused}else{this._displayState=s.ProcessFlowDisplayState.Selected}}else if(e&&o){this._displayState=s.ProcessFlowDisplayState.HighlightedFocused}else if(e){this._displayState=s.ProcessFlowDisplayState.RegularFocused}else if(o){this._displayState=s.ProcessFlowDisplayState.Highlighted}else if(this._displayState===s.ProcessFlowDisplayState.HighlightedFocused||this._displayState===s.ProcessFlowDisplayState.RegularFocused||this._displayState===s.ProcessFlowDisplayState.Highlighted||this._displayState===s.ProcessFlowDisplayState.Selected){this._setRegularState()}return this._displayState};d.prototype._createTextControlInternal=function(o,t,a){if(a){a.destroy()}var l=2;var r="";var i=true;var d=t;switch(this._getZoomLevel()){case s.ProcessFlowZoomLevel.One:case s.ProcessFlowZoomLevel.Two:l=2;break;case s.ProcessFlowZoomLevel.Three:l=0;r="0px";i=false;break;case s.ProcessFlowZoomLevel.Four:d="";l=0;r="0px";i=false;break;default:break}if(this.getState){a=new e({id:this.getId()+o,text:d,visible:i,wrapping:true,wrappingType:sap.m.WrappingType.Hyphenated,width:r,maxLines:l})}return a};d.prototype._createText1Control=function(){var e=this.getTexts();if(e&&e.length>0){e=e[0]}this._text1Control=this._createTextControlInternal("-text1-control",e,this._text1Control);switch(this._getZoomLevel()){case s.ProcessFlowZoomLevel.One:this._text1Control.addStyleClass("sapSuiteUiCommonsProcessFlowNode3TextWithGapZoomLevel1");this._text1Control.addStyleClass("sapSuiteUiCommonsProcessFlowNode3TextZoomLevel1");break;case s.ProcessFlowZoomLevel.Two:this._text1Control.addStyleClass("sapSuiteUiCommonsProcessFlowNode3TextWithGapZoomLevel2");this._text1Control.addStyleClass("sapSuiteUiCommonsProcessFlowNode3TextZoomLevel2");break;case s.ProcessFlowZoomLevel.Three:this._text1Control.addStyleClass("sapSuiteUiCommonsProcessFlowNode3TextZoomLevel3");break;case s.ProcessFlowZoomLevel.Four:this._text1Control.addStyleClass("sapSuiteUiCommonsProcessFlowNode3TextZoomLevel4");break;default:break}this._text1Control.addStyleClass("sapSuiteUiCommonsProcessFlowNode3Text");return this._text1Control};d.prototype._createText2Control=function(){var e=this.getTexts();if(e&&e.length>1){e=e[1]}else{e=""}this._text2Control=this._createTextControlInternal("-text2-control",e,this._text2Control);switch(this._getZoomLevel()){case s.ProcessFlowZoomLevel.One:this._text2Control.addStyleClass("sapSuiteUiCommonsProcessFlowNode3TextZoomLevel1");break;case s.ProcessFlowZoomLevel.Two:this._text2Control.addStyleClass("sapSuiteUiCommonsProcessFlowNode3TextZoomLevel2");break;case s.ProcessFlowZoomLevel.Three:this._text2Control.addStyleClass("sapSuiteUiCommonsProcessFlowNode3TextZoomLevel3");break;case s.ProcessFlowZoomLevel.Four:this._text2Control.addStyleClass("sapSuiteUiCommonsProcessFlowNode3TextZoomLevel4");break;default:break}this._text2Control.addStyleClass("sapSuiteUiCommonsProcessFlowNode3Text");return this._text2Control};d.prototype._adjustClassesForAggregation=function(e){var o=[s.ProcessFlowDisplayState.RegularFocused,s.ProcessFlowDisplayState.HighlightedFocused,s.ProcessFlowDisplayState.DimmedFocused];var t=[s.ProcessFlowDisplayState.DimmedFocused,s.ProcessFlowDisplayState.Dimmed];var a=sap.ui.require("sap/suite/ui/commons/ProcessFlow");if(!a){return}switch(e.type){case a._mouseEvents.mouseDown:case a._mouseEvents.touchStart:case a._mouseEvents.sapTouchStart:l(this);break;case a._mouseEvents.mouseUp:r(this);break;case a._mouseEvents.sapTouchCancel:case a._mouseEvents.touchEnd:r(this);d(this);break;case a._mouseEvents.mouseEnter:i(this);break;case a._mouseEvents.mouseLeave:r(this);d(this);break;default:break}function l(e){if(e._getZoomLevel()===s.ProcessFlowZoomLevel.Four){if(t&&Array.prototype.indexOf.call(t,e._getDisplayState())>=0){e.$().removeClass(e._nodeAggregatedDimmedHoveredClassZoomLevel4).addClass(e._nodeAggregatedDimmedPressedClassZoomLevel4)}else{e.$().removeClass(e._nodeAggregatedClassZoomLevel4).removeClass(e._nodeAggregatedHoveredClassZoomLevel4).addClass(e._nodeAggregatedPressedClassZoomLevel4)}}else if(t&&Array.prototype.indexOf.call(t,e._getDisplayState())>=0){e.$().removeClass(e._nodeAggregatedDimmedHoveredClass).addClass(e._nodeAggregatedDimmedPressedClass)}else{e.$().removeClass(e._nodeAggregatedClass).removeClass(e._nodeAggregatedHoveredClass).addClass(e._nodeAggregatedPressedClass)}}function r(e){if(o&&Array.prototype.indexOf.call(o,e._getDisplayState())>=0&&(e.$().hasClass(e._nodeAggregatedPressedClass)||e.$().hasClass(e._nodeAggregatedPressedClassZoomLevel4))){if(e._getZoomLevel()===s.ProcessFlowZoomLevel.Four){e.$().removeClass(e._nodeAggregatedPressedClassZoomLevel4).addClass(e._nodeAggregatedFocusedClassZoomLevel4)}else{e.$().removeClass(e._nodeAggregatedPressedClass).addClass(e._nodeAggregatedFocusedClass)}}else if(e.$().hasClass(e._nodeAggregatedDimmedPressedClass)||e.$().hasClass(e._nodeAggregatedDimmedPressedClassZoomLevel4)){if(e._getZoomLevel()===s.ProcessFlowZoomLevel.Four){e.$().removeClass(e._nodeAggregatedDimmedPressedClassZoomLevel4).addClass(e._nodeAggregatedDimmedHoveredClassZoomLevel4)}else{e.$().removeClass(e._nodeAggregatedDimmedPressedClass).addClass(e._nodeAggregatedDimmedHoveredClass)}}else if(e.$().hasClass(e._nodeAggregatedPressedClass)||e.$().hasClass(e._nodeAggregatedPressedClassZoomLevel4)){if(e._getZoomLevel()===s.ProcessFlowZoomLevel.Four){e.$().removeClass(e._nodeAggregatedPressedClassZoomLevel4).addClass(e._nodeAggregatedClassZoomLevel4)}else{e.$().removeClass(e._nodeAggregatedPressedClass).addClass(e._nodeAggregatedClass)}}}function i(e){if(t&&Array.prototype.indexOf.call(t,e._getDisplayState())>=0){if(e._getZoomLevel()===s.ProcessFlowZoomLevel.Four){e.$().removeClass(e._nodeAggregatedDimmedClassZoomLevel4).addClass(e._nodeAggregatedDimmedHoveredClassZoomLevel4)}else{e.$().removeClass(e._nodeAggregatedDimmedClass).addClass(e._nodeAggregatedDimmedHoveredClass)}}else if(e._getZoomLevel()===s.ProcessFlowZoomLevel.Four){e.$().addClass(e._nodeAggregatedHoveredClassZoomLevel4)}else{e.$().addClass(e._nodeAggregatedHoveredClass)}}function d(e){if(t&&Array.prototype.indexOf.call(t,e._getDisplayState())>=0){if(e._getZoomLevel()===s.ProcessFlowZoomLevel.Four){e.$().removeClass(e._nodeAggregatedDimmedHoveredClassZoomLevel4).addClass(e._nodeAggregatedDimmedClassZoomLevel4)}else{e.$().removeClass(e._nodeAggregatedDimmedHoveredClass).addClass(e._nodeAggregatedDimmedClass)}}else if(e._getZoomLevel()===s.ProcessFlowZoomLevel.Four){e.$().removeClass(e._nodeAggregatedHoveredClassZoomLevel4)}else{e.$().removeClass(e._nodeAggregatedHoveredClass)}}};d.prototype._hasChildren=function(){var e=this.getChildren();return e&&e.length>0};d.prototype._hasChildrenWithNodeId=function(e){var s=this.getChildren();if(s&&s.length>0){for(var o=0;o<s.length;o++){if(typeof s[o]==="object"&&s[o].nodeId===e||s[o]===e){return true}}}return false};d.prototype.getLaneId=function(){if(this._mergedLaneId){return this._mergedLaneId}else{return this.getProperty("laneId")}};d.prototype._getCurrentZoomLevelContent=function(){var e=this.getParent();if(!e||e.getMetadata().getName()!=="sap.suite.ui.commons.ProcessFlow"){return null}return this["getZoomLevel"+e.getZoomLevel()+"Content"]()};return d});
//# sourceMappingURL=ProcessFlowNode.js.map